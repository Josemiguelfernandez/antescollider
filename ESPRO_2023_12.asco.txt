@insert "inserts/extra_functions4_compiled.asco.txt"
@insert "inserts/AntesCollider_lib2.asco.txt"
@insert "inserts/pm_obj_comp.asco.txt"
@insert "inserts/Trajectory_Score_Lib.asco.txt"
@insert "inserts/vbap.asco.txt"

antescofo::bypass_temporeset on
antescofo::suivi 0 // pas de suivi!!
tempo off
antescofo::tempo 52
//////// Processus

@proc_def ::pitch_seq_in($track, $in, $durs, $pitch, $dev, $tempo, $track_bus, $amp = 0)
{
	@local $durtab, $fact_dur := 1, $pitch_seq_amp := 0

	$durtab := @choose($durs)

	loop $durtab @label pitch_seq @tempo $tempo ;$tempo1 ;@tempo 20 
	{
		$tracks($track).group_add([[AudioInput, input, $in, amp, $amp], [TMFxPitch2, pitch, @choose($pitch)+@rand($dev)], [OutEnv1_HOA7, env, @choose($envs(server1).domain()), dur, $durtab*$fact_dur, coords, [@rand_range(0.5, 2), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus]])		
		$durtab := @choose($durs)
	}
}

whenever ($notify_5 == $notify_5)
{
	$Servers("server5").notify(1)
}
// bpm 52

// Input instruments


$fl := 94 // 30 // RME DANTE Loopback
$htb := 95 // 31 // RME DANTE Loopback
$cl := 96 // 32// RME DANTE Loopback
$bsn := 97 // 33 // RME DANTE Loopback
$cor1 := 98 // 34 // RME DANTE Loopback
$cor2 := 99 // 35 // RME DANTE Loopback
$trp := 100 // 36 // RME DANTE Loopback
$trb := 101 // 37 // RME DANTE Loopback
$vln := 102 // 38 // RME DANTE Loopback
$alto := 103 // 39 // RME DANTE Loopback
$vlc := 104 // 40 // RME DANTE Loopback
$cb := 105 // 41 // RME DANTE Loopback

//// Instruments coordinates position dae (distance, azimut, elevation)

/*$fl_dae := [3.0, -72, 0.0]
$htb_dae := [3.0, 108, 0.0]
$cl_dae := [3.85, -162, 0.0]
$bsn_dae := [3.85, 18, 0.0]
$cor1_dae := [3.0, -108, 0.0]
$cor2_dae := [3, 72, 0.0]
$trp_dae := [3.85, -48, 0.0]
$trb_dae := [3.85, 132, 0.0]
$vln_dae := [3.85, 162, 0.0]
$alto_dae := [3.85, -18, 0.0]
$vlc_dae := [3.85, -132, 0.0]
$cb_dae := [3.85, 48, 0.0]*/

// ESPRO
$fl_dae := [8.4, -68.018723, 0.]
$htb_dae := [8.32, 110.710327, 0.]
$cl_dae := [12.43239, -164.263885, 0.]
$bsn_dae := [12.474607, 16.48769, 0.]
$cor1_dae := [8.341475, -110.112831, 0.]
$cor2_dae := [8.441128, 67.086487, 0.]
$trp_dae := [11.138939, -43.896286, 0.]
$trb_dae := [11.234077, 135.962952, 0.]
$vln_dae := [12.550407, 163.026169, 0.]
$alto_dae := [12.514193, -17.367786, 0.]
$vlc_dae := [11.161707, -136.021713, 0.]
$cb_dae := [11.31238, 43.245438, 0.]

//// Instruments cartesian coordinates position

$fl_cart := @poltocar3D_tab($fl_dae)
$htb_cart := @poltocar3D_tab($htb_dae)
$cl_cart := @poltocar3D_tab($cl_dae)
$bsn_cart := @poltocar3D_tab($bsn_dae)
$cor1_cart := @poltocar3D_tab($cor1_dae)
$cor2_cart := @poltocar3D_tab($cor2_dae)
$trp_cart := @poltocar3D_tab($trp_dae)
$trb_cart := @poltocar3D_tab($trb_dae)
$vln_cart := @poltocar3D_tab($vln_dae)
$alto_cart := @poltocar3D_tab($alto_dae)
$vlc_cart := @poltocar3D_tab($vlc_dae)
$cb_cart := @poltocar3D_tab($cb_dae)

$fl_dae_e1 := [3.0, -72, 1.0]
$htb_dae_e1 := [3.0, 108, 1.0]
$cl_dae_e1 := [3.85, -162, 1.0]
$bsn_dae_e1 := [3.85, 18, 1.0]
$cor1_dae_e1 := [3.0, -108, 1.0]
$cor2_dae_e1 := [3, 72, 1.0]
$trp_dae_e1 := [3.85, -48, 1.0]
$trb_dae_e1 := [3.85, 132, 1.0]
$vln_dae_e1 := [3.85, 162, 1.0]
$alto_dae_e1 := [3.85, -18, 1.0]
$vlc_dae_e1 := [3.85, -132, 1.0]
$cb_dae_e1 := [3.85, 48, 1.0]


NOTE 60 1 SC_multiserver_INIT

// representation des serveurs dans Antesocofo

$audio_card := "Digiface Dante (23938075)" // Casa
// $audio_card2 := "ADI-2 Pro (52010165)"
// $audio_card := "Digiface Dante (23964694)" // Vigie
// $audio_card := "Digiface Dante (23970887)" // Studio1
// $audio_card := "Digiface Dante (23979314)" // Studio2
// $audio_card := "Fireface 802 (23688654)" // Studio6
// $audio_card := "Digiface Dante (23913224)" //Ircam Prod
// $audio_card := "Digiface Dante (24039920)" // ESPRO

obj::sc_server("server1", 57110, device = $audio_card, inputs = 110, outputs = 110, block_size = 64, hardware_buffer_size = 64) // RT instr  
obj::sc_server("server2", 57111, device = $audio_card, inputs = 110, outputs = 110, block_size = 64, hardware_buffer_size = 64) // RT plugins  
obj::sc_server("server3", 57112, device = $audio_card, inputs = 110, outputs = 110, block_size = 64, hardware_buffer_size = 64) // Synth  
obj::sc_server("server4", 57113, device = $audio_card, inputs = 110, outputs = 110, block_size = 64, hardware_buffer_size = 64) // Synth  
obj::sc_server("server5", 57114, device = $audio_card, inputs = 110, outputs = 110, block_size = 64, hardware_buffer_size = 64) // Ana  
// obj::sc_server("server6", 57115, device = $audio_card, inputs = 45, outputs = 24) // Ana , block_size = 128) 


NOTE 60 1 create_load_envs_buff

::envs_nim_map2buffer("server1", $envs_map) // convert $envs_map to buffers
::envs_nim_map2buffer("server2", $envs_map) // convert $envs_map to buffers
::envs_nim_map2buffer("server3", $envs_map) // convert $envs_map to buffers
::envs_nim_map2buffer("server4", $envs_map) // convert $envs_map to buffers
// ::envs_nim_map2buffer("server5", $envs_map) // convert $envs_map to buffers
// ::envs_nim_map2buffer("server6", $envs_map) // convert $envs_map to buffers

// NOTE 60 1 load_samples

// ::load_samples_folder() // load folder content into $SF_folder MAP

// ::load_samples("server1") // load all samples from the "/Users/fernandez/Library/Application\ Support/SuperCollider/sounds/" folder

// ::load_samples("server2") // TEST solo server 2 y 3

// ::load_samples("server3") // solo server 2 y 3
// ::load_samples("server4")
// ::load_samples("server5")
// ::load_samples("server6")

NOTE 60 1 create_gran_buff

::gran_alloc_buffer("server1", 50, 1) // server, number, dur_in_sec
::gran_alloc_buffer("server2", 50, 1)
// ::gran_alloc_buffer("server3", 50, 1)
// ::gran_alloc_buffer("server4", 50, 1)
// ::gran_alloc_buffer("server5", 50, 1)
// ::gran_alloc_buffer("server6", 50, 1)

NOTE 60 1 create_fft_buff

::gran_alloc_buffer_fft("server1", 30, 2048) // server, number, num_frames
::gran_alloc_buffer_fft("server2", 30, 2048)
// ::gran_alloc_buffer_fft("server3", 30, 2048)
// ::gran_alloc_buffer_fft("server4", 30, 2048)
// ::gran_alloc_buffer_fft("server5", 30, 2048)
// ::gran_alloc_buffer_fft("server6", 30, 2048)

NOTE 60 1 obj_rec_buff

$rec_buf0_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf1_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf2_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf3_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf4_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf5_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf6_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf7_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf8_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf9_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf10_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf11_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf12_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf13_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf14_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf15_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf16_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf17_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf18_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf19_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf20_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf21_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf22_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf23_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf24_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf25_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf26_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf27_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf28_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf29_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf30_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf31_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf32_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf33_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf34_05 := obj::rec_buf("server1", duree = 0.5)
$rec_buf35_05 := obj::rec_buf("server1", duree = 0.5)

$rec_buf0_1 := obj::rec_buf("server1", duree = 1)
$rec_buf1_1 := obj::rec_buf("server1", duree = 1)
$rec_buf2_1 := obj::rec_buf("server1", duree = 1)
$rec_buf3_1 := obj::rec_buf("server1", duree = 1)
$rec_buf4_1 := obj::rec_buf("server1", duree = 1)
$rec_buf5_1 := obj::rec_buf("server1", duree = 1)
$rec_buf6_1 := obj::rec_buf("server1", duree = 1)
$rec_buf6_1_1 := obj::rec_buf("server1", duree = 1)
$rec_buf7_1 := obj::rec_buf("server1", duree = 1)
$rec_buf8_1 := obj::rec_buf("server1", duree = 1)
$rec_buf9_1 := obj::rec_buf("server1", duree = 1)
$rec_buf10_1 := obj::rec_buf("server1", duree = 1)
$rec_buf11_1 := obj::rec_buf("server1", duree = 1)
$rec_buf12_1 := obj::rec_buf("server1", duree = 1)
$rec_buf13_1 := obj::rec_buf("server1", duree = 1)
$rec_buf14_1 := obj::rec_buf("server1", duree = 1)
$rec_buf15_1 := obj::rec_buf("server1", duree = 1)
$rec_buf16_1 := obj::rec_buf("server1", duree = 1)
$rec_buf17_1 := obj::rec_buf("server1", duree = 1)
$rec_buf18_1 := obj::rec_buf("server1", duree = 1)
$rec_buf19_1 := obj::rec_buf("server1", duree = 1)
$rec_buf20_1 := obj::rec_buf("server1", duree = 1)
$rec_buf21_1 := obj::rec_buf("server1", duree = 1)
$rec_buf22_1 := obj::rec_buf("server1", duree = 1)
$rec_buf23_1 := obj::rec_buf("server1", duree = 1)
$rec_buf24_1 := obj::rec_buf("server1", duree = 1)
$rec_buf25_1 := obj::rec_buf("server1", duree = 1)
$rec_buf26_1 := obj::rec_buf("server1", duree = 1)
$rec_buf27_1 := obj::rec_buf("server1", duree = 1)
$rec_buf28_1 := obj::rec_buf("server1", duree = 1)
$rec_buf29_1 := obj::rec_buf("server1", duree = 1)
$rec_buf30_1 := obj::rec_buf("server1", duree = 1)
$rec_buf31_1 := obj::rec_buf("server1", duree = 1)
$rec_buf32_1 := obj::rec_buf("server1", duree = 1)
$rec_buf33_1 := obj::rec_buf("server1", duree = 1)
$rec_buf34_1 := obj::rec_buf("server1", duree = 1)
$rec_buf35_1 := obj::rec_buf("server1", duree = 1)
$rec_buf36_1 := obj::rec_buf("server1", duree = 1)
$rec_buf37_1 := obj::rec_buf("server1", duree = 1)
$rec_buf38_1 := obj::rec_buf("server1", duree = 1)
$rec_buf39_1 := obj::rec_buf("server1", duree = 1)
$rec_buf40_1 := obj::rec_buf("server1", duree = 1)

$rec_buf1_2 := obj::rec_buf("server1", duree = 2)
$rec_buf2_2 := obj::rec_buf("server1", duree = 2)
$rec_buf3_2 := obj::rec_buf("server1", duree = 2)
$rec_buf4_2 := obj::rec_buf("server1", duree = 2)
$rec_buf5_2 := obj::rec_buf("server1", duree = 2)
$rec_buf6_2 := obj::rec_buf("server1", duree = 2)
$rec_buf7_2 := obj::rec_buf("server1", duree = 2)
$rec_buf8_2 := obj::rec_buf("server1", duree = 2)
$rec_buf9_2 := obj::rec_buf("server1", duree = 2)
$rec_buf10_2 := obj::rec_buf("server1", duree = 2)
$rec_buf11_2 := obj::rec_buf("server1", duree = 2)
$rec_buf12_2 := obj::rec_buf("server1", duree = 2)
$rec_buf13_2 := obj::rec_buf("server1", duree = 2)
$rec_buf14_2 := obj::rec_buf("server1", duree = 2)
$rec_buf15_2_1 := obj::rec_buf("server1", duree = 1)

$rec_buf16_2 := obj::rec_buf("server1", duree = 2)
$rec_buf17_2 := obj::rec_buf("server1", duree = 2)
$rec_buf18_2 := obj::rec_buf("server1", duree = 2)
$rec_buf19_2 := obj::rec_buf("server1", duree = 2)
$rec_buf20_2 := obj::rec_buf("server1", duree = 2)


$rec_buf1_3 := obj::rec_buf("server1", duree = 3)
$rec_buf2_3 := obj::rec_buf("server1", duree = 3)
$rec_buf3_3 := obj::rec_buf("server1", duree = 3)
$rec_buf4_3 := obj::rec_buf("server1", duree = 3)
$rec_buf5_3 := obj::rec_buf("server1", duree = 3)
$rec_buf6_3 := obj::rec_buf("server1", duree = 3)
$rec_buf7_3 := obj::rec_buf("server1", duree = 3)
$rec_buf8_3 := obj::rec_buf("server1", duree = 3)
$rec_buf9_3 := obj::rec_buf("server1", duree = 3)
$rec_buf10_3 := obj::rec_buf("server1", duree = 3)

$rec_buf_mes17_4 := obj::rec_buf("server1", duree = 2)
$rec_buf_mes17 := obj::rec_buf("server1", duree = 2)
$rec_buf_mes_21_3 := obj::rec_buf("server1", duree = 2)
$rec_buf_mes_21_3_2 := obj::rec_buf("server1", duree = 2)
$rec_buf_mes22 := obj::rec_buf("server1", duree = 2)
$rec_buf_mes23 := obj::rec_buf("server1", duree = 2)
$rec_buf_mes23_3 := obj::rec_buf("server1", duree = 2)
$rec_buf_mes24 := obj::rec_buf("server1", duree = 2)

$rec_buf_mes_24_2 := obj::rec_buf("server1", duree = 3)

$rec_buf_mes_30_4 := obj::rec_buf("server1", duree = 0.7)
$rec_buf_mes_34_2 := obj::rec_buf("server1", duree = 1)
$rec_buf_mes_34_3 := obj::rec_buf("server1", duree = 1)
$rec_buf_mes_34_4_2 := obj::rec_buf("server1", duree = 1)
$rec_buf_mes_38 := obj::rec_buf("server1", duree = 1)
$rec_buf_mes_38_2 := obj::rec_buf("server1", duree = 1)
$rec_buf_mes_38_3 := obj::rec_buf("server1", duree = 1)
$rec_buf_mes_38_4 := obj::rec_buf("server1", duree = 1)
$rec_buf_mes_38_4_2 := obj::rec_buf("server1", duree = 1)
$rec_buf_mes_42_1 := obj::rec_buf("server1", duree = 1)
$rec_buf_mes_42_2 := obj::rec_buf("server1", duree = 1)
$rec_buf_mes_42_2_1 := obj::rec_buf("server1", duree = 1)
$rec_buf_mes_42_2_2 := obj::rec_buf("server1", duree = 1)
$rec_buf_mes_42_3_1 := obj::rec_buf("server1", duree = 1)
$rec_buf_mes_42_3_2 := obj::rec_buf("server1", duree = 1)
$rec_buf_mes_42_4 := obj::rec_buf("server1", duree = 1)
$rec_buf_mes_42_4_2 := obj::rec_buf("server1", duree = 1)
$rec_buf_mes_43 := obj::rec_buf("server1", duree = 1)
$rec_buf_mes_43_0_2 := obj::rec_buf("server1", duree = 1)
$rec_buf_mes_43_0_3 := obj::rec_buf("server1", duree = 0.5)
$rec_buf_mes_43_2 := obj::rec_buf("server1", duree = 1)
$rec_buf_mes_45_4 := obj::rec_buf("server1", duree = 1)
$rec_buf_mes_46 := obj::rec_buf("server1", duree = 1)
$rec_buf_mes_46_2 := obj::rec_buf("server1", duree = 1)
$rec_buf_mes_46_2_1 := obj::rec_buf("server1", duree = 1)

// NOTE 60 1 load_samples

// ::load_samples_folder() // load folder content into $SF_folder MAP

// ::load_samples("server1") // load all samples from the "/Users/fernandez/Library/Application\ Support/SuperCollider/sounds/" folder
// ::load_samples("server2")
// ::load_samples("server3")
// ::load_samples("server4")
// ::load_samples("server5")
// ::load_samples("server6")

// ::load_samples2("server1")
// obj::crea_track_HOA("track_hoa1", "group_hoa1", amp = 0, doppler = 0)

// $tracks("track_hoa1").mod_add(["play_buf2", "buf", 20, "amp", 0])

// $tracks("track_hoa1").free(1)

 // $Servers("server1").dumpOSC(1)

// NOTE 60 1 load_pvoc

// $pvoc_anal_mes17 := obj::VBPVoc_load_anal("server3", "mes17_cres-prima-mes19.aif", 2048)
// print ($pvoc_anal_mes17.VBPVoc_buf())
// 0.3 $pvoc_anal_mes23 := obj::VBPVoc_load_anal("server3", "mes23-prima-mes28.aif", 2048)
// print ($pvoc_anal_mes23.dur())
// 0.3 $pvoc_anal_mes46 := obj::VBPVoc_load_anal("server3", "mes46-cres.aif", 2048)
// print ($pvoc_anal_mes46.VBPVoc_buf())
// 0.3 $pvoc_anal_mes52 := obj::VBPVoc_load_anal("server3", "mes52-cresc.aif", 2048)
// print ($pvoc_anal_mes52.VBPVoc_buf())
// 0.3 $pvoc_anal_mes66 := obj::VBPVoc_load_anal("server3", "mes66-cresc.aif", 2048)
// print ($pvoc_anal_mes66.VBPVoc_buf())
// 0.3 $pvoc_anal_mes73 := obj::VBPVoc_load_anal("server3", "mes73-b3-cresc.aif", 2048)
// print ($pvoc_anal_mes73.VBPVoc_buf())
// 0.3 $pvoc_anal_mes80 := obj::VBPVoc_load_anal("server3", "mes80-prima-mes83.aif", 2048)
// print ($pvoc_anal_mes80.VBPVoc_buf())
// 0.3 $pvoc_anal_mes91 := obj::VBPVoc_load_anal("server3", "mes91-cresc.aif", 2048)
// print ($pvoc_anal_mes91.VBPVoc_buf())
// 0.3 $pvoc_anal_mes290 := obj::VBPVoc_load_anal("server3", "mes290-cresc.aif", 2048)
// print ($pvoc_anal_mes290.VBPVoc_buf())
// 0.3 $pvoc_anal_me298 := obj::VBPVoc_load_anal("server3", "mes298-b4-cresc.aif", 2048)
// print ($pvoc_anal_me298.VBPVoc_buf())
// 0.3 $pvoc_anal_mes404 := obj::VBPVoc_load_anal("server4", "Rami_Gong.aif", 2048)
// print ($pvoc_anal_mes404.VBPVoc_buf())
// 0.3 $pvoc_anal_mes94 := obj::VBPVoc_load_anal("server4", "tamtam_scrub.aif", 2048)
// print ($pvoc_anal_mes94.VBPVoc_buf())

NOTE 60 1 obj_rec_pvoc

$rec_buf_pvoc_0_05 := obj::rec_buf_pvoc("server1", 0.5)
$rec_buf_pvoc_1_05 := obj::rec_buf_pvoc("server1", 0.5)
$rec_buf_pvoc_2_05 := obj::rec_buf_pvoc("server1", 0.5)
$rec_buf_pvoc_3_05 := obj::rec_buf_pvoc("server1", 0.5)
$rec_buf_pvoc_4_05 := obj::rec_buf_pvoc("server1", 0.5)
$rec_buf_pvoc_5_05 := obj::rec_buf_pvoc("server1", 0.5)
$rec_buf_pvoc_6_05 := obj::rec_buf_pvoc("server1", 0.5)
$rec_buf_pvoc_7_05 := obj::rec_buf_pvoc("server1", 0.5)
$rec_buf_pvoc_8_05 := obj::rec_buf_pvoc("server1", 0.5)
$rec_buf_pvoc_9_05 := obj::rec_buf_pvoc("server1", 0.5)
$rec_buf_pvoc_10_05 := obj::rec_buf_pvoc("server1", 0.5)

$rec_buf_pvoc7 := obj::rec_buf_pvoc("server1", 10) // pvoc buffer "server", duration (absolute, can be relatif)
$rec_buf_pvoc9 := obj::rec_buf_pvoc("server1", 10) // pvoc buffer "server", duration (absolute, can be relatif)
$rec_buf_pvoc_mes39 := obj::rec_buf_pvoc("server1", 3) // pvoc buffer "server", duration relatif

$rec_buf_pvoc_vln_mes184 := obj::rec_buf_pvoc("server1", 2) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_alto_mes185 := obj::rec_buf_pvoc("server1", 2) // pvoc buffer "server", duration relatif


$rec_buf_pvoc_vln1_mes190 := obj::rec_buf_pvoc("server1", 10) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_vln2_mes190 := obj::rec_buf_pvoc("server1", 10) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_alto_mes190 := obj::rec_buf_pvoc("server1", 10) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_vlc_mes190 := obj::rec_buf_pvoc("server1", 10) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_cb_mes190 := obj::rec_buf_pvoc("server1", 3) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_cb_mes30_2 := obj::rec_buf_pvoc("server1", 3) // pvoc buffer "server", duration relatif

$rec_buf_pvoc_vln1_mes195 := obj::rec_buf_pvoc("server1", 10) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_vln2_mes195 := obj::rec_buf_pvoc("server1", 10) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_alto_mes195 := obj::rec_buf_pvoc("server1", 10) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_vlc_mes195 := obj::rec_buf_pvoc("server1", 10) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_cb_mes195 := obj::rec_buf_pvoc("server1", 10) // pvoc buffer "server", duration relatif



$rec_buf_pvoc_alto_mes342 := obj::rec_buf_pvoc("server1", 8) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_vlc_mes342 := obj::rec_buf_pvoc("server1", 8) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_cb_mes342 := obj::rec_buf_pvoc("server1", 5) // pvoc buffer "server", duration relatif

$rec_buf_pvoc_vln1_mes345 := obj::rec_buf_pvoc("server1", 5) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_vln2_mes345 := obj::rec_buf_pvoc("server1", 5) // pvoc buffer "server", duration relatif
 
$rec_buf_pvoc_alto_mes375 := obj::rec_buf_pvoc("server1", 8) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_cb_mes375 := obj::rec_buf_pvoc("server1", 8) // pvoc buffer "server", duration relatif

$rec_buf_pvoc_vln1_mes395 := obj::rec_buf_pvoc("server1", 5) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_vln2_mes395 := obj::rec_buf_pvoc("server1", 5) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_alto_mes395 := obj::rec_buf_pvoc("server1", 5) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_vlc_mes395 := obj::rec_buf_pvoc("server1", 5) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_cb_mes395 := obj::rec_buf_pvoc("server1", 5) // pvoc buffer "server", duration relatif
 
$rec_buf_pvoc_vln1_mes400 := obj::rec_buf_pvoc("server1", 5) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_vln2_mes400 := obj::rec_buf_pvoc("server1", 5) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_alto_mes400 := obj::rec_buf_pvoc("server1", 5) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_vlc_mes400 := obj::rec_buf_pvoc("server1", 5) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_cb_mes400 := obj::rec_buf_pvoc("server1", 5) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_trb := obj::rec_buf_pvoc("server1", 12) // pvoc buffer "server", duration relatif

$rec_buf_pvoc_fl_mes222 := obj::rec_buf_pvoc("server1", 10) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_htb_mes222 := obj::rec_buf_pvoc("server1", 10) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_cl_mes222 := obj::rec_buf_pvoc("server1", 10) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_bsn_mes222 := obj::rec_buf_pvoc("server1", 10) // pvoc buffer "server", duration relatif
$rec_buf_pvoc_perc1_mes228 := obj::rec_buf_pvoc("server1", 10) // pvoc buffer "server", duration relatif

$rec_buf_pvoc_mes_15_2 := obj::rec_buf_pvoc("server1", 1)

$onset_cl := obj::onset_detect("server5", $cl, thresh = 0.1, antirebond = 0.3, id = $cl, amp = 0) // del in ms

$onset_vln := obj::onset_detect("server5", $vln, thresh = 0.1, antirebond = 0.3, id = $vln, amp = 0) // del in ms
$onset_alto := obj::onset_detect("server5", $alto, thresh = 0.1, antirebond = 0.3, id = $alto, amp = 0) // del in ms
$onset_vlc := obj::onset_detect("server5", $vlc, thresh = 0.1, antirebond = 0.3, id = $vlc, amp = 0) // del in ms
$onset_cb := obj::onset_detect("server5", $cb, thresh = 0.01, antirebond = 0.3, id = $cb, amp = 0) // del in ms
// $onset_cb.thresh(0.01)

// @obj_def ampgate_detect($server_name, $inst, $onset_algo = "Fluid_AmpGate", $params = [rampUp, 5, rampDown, 25, onThreshold, -12, offThreshold, -12, lookAhead, 480], $antirebond = 1, $id = 0, $amp = 0) // del in ms
$ampgate_fl := obj::ampgate_detect("server5", $fl, params = [rampUp, 5, rampDown, 25, onThreshold, -30, offThreshold, -12, lookAhead, 480], antirebond = 0.3, id = $fl, amp = 0) // del in ms
$ampgate_htb := obj::ampgate_detect("server5", $htb, params = [rampUp, 5, rampDown, 25, onThreshold, -30, offThreshold, -12, lookAhead, 480], antirebond = 0.3, id = $htb, amp = 0) // del in ms
$ampgate_cl := obj::ampgate_detect("server5", $cl, params = [rampUp, 5, rampDown, 25, onThreshold, -30, offThreshold, -12, lookAhead, 480], antirebond = 0.3, id = $cl, amp = 0) // del in ms
$ampgate_bsn := obj::ampgate_detect("server5", $bsn, params = [rampUp, 5, rampDown, 25, onThreshold, -30, offThreshold, -12, lookAhead, 480], antirebond = 0.3, id = $bsn, amp = 0) // del in ms

$ampgate_cor1 := obj::ampgate_detect("server5", $cor1, params = [rampUp, 5, rampDown, 25, onThreshold, -30, offThreshold, -12, lookAhead, 480], antirebond = 0.3, id = $cor1, amp = 0) // del in ms
$ampgate_cor2 := obj::ampgate_detect("server5", $cor2, params = [rampUp, 5, rampDown, 25, onThreshold, -30, offThreshold, -12, lookAhead, 480], antirebond = 0.3, id = $cor2, amp = 0) // del in ms
$ampgate_trp := obj::ampgate_detect("server5", $trp, params = [rampUp, 5, rampDown, 25, onThreshold, -30, offThreshold, -12, lookAhead, 480], antirebond = 0.3, id = $trp, amp = 0) // del in ms
$ampgate_trb := obj::ampgate_detect("server5", $trb, params = [rampUp, 5, rampDown, 25, onThreshold, -30, offThreshold, -12, lookAhead, 480], antirebond = 0.3, id = $trb, amp = 0) // del in ms

$ampgate_vln := obj::ampgate_detect("server5", $vln, params = [rampUp, 5, rampDown, 25, onThreshold, -30, offThreshold, -12, lookAhead, 480], antirebond = 0.3, id = $vln, amp = 0) // del in ms
$ampgate_alto := obj::ampgate_detect("server5", $alto, params = [rampUp, 5, rampDown, 25, onThreshold, -30, offThreshold, -12, lookAhead, 480], antirebond = 0.3, id = $alto, amp = 0) // del in ms
$ampgate_vlc := obj::ampgate_detect("server5", $vlc, params = [rampUp, 5, rampDown, 25, onThreshold, -30, offThreshold, -12, lookAhead, 480], antirebond = 0.3, id = $vlc, amp = 0) // del in ms
$ampgate_cb := obj::ampgate_detect("server5", $cb, params = [rampUp, 5, rampDown, 25, onThreshold, -30, offThreshold, -12, lookAhead, 480], antirebond = 0.3, id = $cb, amp = 0) // del in ms


// @obj_def fluid_loudness($server_name, $inst, $onset_algo = "Fluid_Loudness", $kWeighting := 1, $truePeak := 1, $windowSize := 1024, $hopSize := 512, $trig_rate := 30, $id = 0, $amp = 0) // del in ms
/*$loudness_alto := obj::fluid_loudness("server5", $alto, id = $alto, amp = 0) // del in ms
$pitch_alto := obj::fluid_pitch("server5", $alto, id = $alto, amp = 0)
$spectralshape_alto := obj::fluid_spectralshape("server5", $alto, id = $alto, amp = 0)
$chroma_alto := obj::fluid_chroma("server5", $alto, id = $alto, amp = 0)
$melbands_alto := obj::fluid_melbands("server5", $alto, id = $alto, amp = 0)*/


//// SpecDel buffers

$size := 256
$fftSize := $size * 2
$maxdel := 1


0.01 $del_buf := obj::alloc_buffer("server1", "del_buf", $size)
0.01 $fb_buf := obj::alloc_buffer("server1", "fb_buf", $size)

// bpm 52

NOTE 60 1 waveshaping_buffs

// create a waveshaping buffer
$tab_sin := [ @sin(@scale($x, 0, 1025, (-1*$pi/2), ($pi/2), 1)) | $x in (1025) ] // create tab	
$tab_sin_2 := []
forall $x in $tab_sin
{
	@local $x_new
	$x_new := (@cos(@scale($x, -1, 1, 0, $pi*50, 1)*0.08) / 4) + 0.3
	$tab_sin_2.push_back($x*$x_new)
}
$tab_sin_2 := @normalize($tab_sin_2, -1, 1) // normalize signal between -1 and 1

// print (""+$tab_sin_2)
// send result to sc server buffer
::asWavetableNoWrapTab("server3", "wt_shaper1", $tab_sin_2) // "wt_shaper1" name in dictionary to store the buffer ID

NOTE 60 1 vezer_xml2nims
// load vezer curves
::load_vezer2nim_param()
whenever ($refresh_vezer2nim == $refresh_vezer2nim) // refresh samples from Max to servers
{
	::refresh_vezer2nim()
}
// print (""+$vezer_curves("fluid_sines_cl"))

NOTE 60 1 load_samples

::load_samples("server2") // for tests
::load_samples("server3")
::load_samples("server4")

whenever ($refresh_samp == $refresh_samp) // refresh samples from Max to servers
{
	::refresh_samples("server2")
	::refresh_samples("server3")
	::refresh_samples("server4")
}


// print (""+$SF_path("firesflies-bueno3-mi3.aif"))

// print (""+$SF_map("server2")("ballets_1-out002.aif").is_undef())


NOTE 60 1 mix_groups_HOA

//// Send HOA stream order 7 - 64 channels through physical output audio card

// obj::mix_group_HOA("group_hoa1", "server1", "no_decoder", 7) // RT decoder adt library
// obj::mix_group_HOA("group_hoa2", "server2", "no_decoder", 7) // RT samples
// obj::mix_group_HOA("group_hoa3", "server3", "no_decoder", 7) // Synth decoder adt library
// obj::mix_group_HOA("group_hoa4", "server4", "no_decoder", 7) // Synth decoder adt library



//// Octophonique

// obj::mix_group_HOA("group_hoa1", "server1", "octo", 4)
// obj::mix_group_HOA("group_hoa2", "server2", "octo", 4)
// obj::mix_group_HOA("group_hoa3", "server3", "octo", 4)
// obj::mix_group_HOA("group_hoa4", "server4", "octo", 4)
// obj::mix_group_HOA("group_hoa5", "server5", "octo", 4)
// obj::mix_group_HOA("group_hoa6", "server6", "octo", 4)

//// Studio1 IRCAM

// obj::mix_group_HOA("group_hoa1", "server1", "studio1", 7) // RT decoder adt library
// obj::mix_group_HOA("group_hoa2", "server2", "studio1", 7) // RT samples
// obj::mix_group_HOA("group_hoa3", "server3", "studio1", 7) // Synth decoder adt library
// obj::mix_group_HOA("group_hoa4", "server4", "studio1", 7) // Synth decoder adt library


// obj::mix_group_HOA("group_hoa5", "server5", "studio1", 7) // decoder adt library
// obj::mix_group_HOA("group_hoa6", "server6", "studio1", 7) // decoder adt library

//// ESPRO IRCAM

// obj::mix_group_HOA("group_hoa1", "server1", "Espro", 7) // RT decoder adt library
// obj::mix_group_HOA("group_hoa2", "server2", "Espro", 7) // RT samples
// obj::mix_group_HOA("group_hoa3", "server3", "Espro", 7) // Synth decoder adt library
// obj::mix_group_HOA("group_hoa4", "server4", "Espro", 7) // Synth decoder adt library


// obj::mix_group_HOA("group_hoa5", "server5", "Espro", 7) // decoder adt library
// obj::mix_group_HOA("group_hoa6", "server6", "Espro", 7) // decoder adt library


//// Vigie

// obj::mix_group_HOA("group_hoa1", "server1", "vigie", 7)
// obj::mix_group_HOA("group_hoa2", "server2", "vigie", 7)
// obj::mix_group_HOA("group_hoa3", "server3", "vigie", 7)


//// VST decoders

obj::mix_group_HOA("group_hoa1", "server1", "iem_binaural", 7)
obj::mix_group_HOA("group_hoa2", "server2", "iem_binaural", 7)
obj::mix_group_HOA("group_hoa3", "server3", "iem_binaural", 7)
obj::mix_group_HOA("group_hoa4", "server4", "iem_binaural", 7)

// obj::mix_group_HOA("group_hoa5", "server5", "iem_binaural", 7)
// obj::mix_group_HOA("group_hoa6", "server6", "iem_binaural", 7)

/// Hexa 6 channels
// obj::mix_group_HOA("group_hoa1", "server1", "hexa", 7)
// obj::mix_group_HOA("group_hoa2", "server2", "hexa", 7)
// obj::mix_group_HOA("group_hoa3", "server3", "hexa", 7)
// obj::mix_group_HOA("group_hoa4", "server4", "hexa", 7)


// Studio 1

// obj::mix_group_HOA("group_hoa1", "server1", "studio1", 7, "ambitools") // decoder ambitools library
// obj::mix_group_HOA("group_hoa2", "server2", "studio1", 7, "ambitools") // decoder ambitools library
// obj::mix_group_HOA("group_hoa3", "server3", "studio1", 7, "ambitools") // decoder ambitools library
// obj::mix_group_HOA("group_hoa4", "server4", "studio1", 7, "ambitools") // decoder ambitools library

// Studio 2 correction position x, y, z

// obj::mix_group_HOA("group_hoa1", "server1", "studio2", 7) // decoder ambitools library
// obj::mix_group_HOA("group_hoa2", "server2", "studio2", 7) // decoder ambitools library
// obj::mix_group_HOA("group_hoa3", "server3", "studio2", 7) // decoder ambitools library
// obj::mix_group_HOA("group_hoa4", "server4", "studio2", 7) // decoder ambitools library

// a7monitor + Hedd
// obj::mix_group_HOA("group_hoa1", "server1", "a7monitor", 7)
// obj::mix_group_HOA("group_hoa2", "server2", "a7monitor", 7)
// obj::mix_group_HOA("group_hoa3", "server3", "a7monitor", 7)
//// obj::mix_group_HOA("group_hoa4", "server4", "a7monitor", 7)
//// obj::mix_group_HOA("group_hoa5", "server5", "a7monitor", 7)
//// obj::mix_group_HOA("group_hoa6", "server6", "a7monitor", 7)

// $Servers("server1").dumpOSC(0)
// // $groups("group_hoa1").vst_decoder_gui(1)
// // $groups("group_hoa3").vst_decoder_gui(1)
// $groups("group_hoa1").free()
// $groups("group_hoa2").free()
// $groups("group_hoa3").free()
// $groups("group_hoa4").free()
//@obj_def mix_group($group_name, $server_name, $num_channels = 8, $out_offset = 0, $pan = false, $destination = <undef>, $pan_init = -1)
// obj::mix_group("group_mono_rec1", "server1", 1) // rec real time buffers

// $groups("group_hoa1").vst_decoder_gui(1)

// Sound File player
// server2
obj::crea_track_HOA("play_sample_8ch", "group_hoa3", fade_in = 0.001, amp = 0, in_channels = 8)
$tracks("play_sample_8ch").dae([1., 22.5, 0, 1, -22.5, 0, 1, -67.5, 0, 0.1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0])

// OSC_lemur

whenever sf_amp ($fx_amp == $fx_amp)
{
	// print $fx_amp
	$groups("group_hoa1").amp($fx_amp)
}

whenever sf_amp ($sf_amp == $sf_amp)
{
	// print $sf_amp
	$groups("group_hoa2").amp($sf_amp)
	// $groups("group_hoa3").amp($sf_amp)
}


whenever sf_amp ($synth_amp == $synth_amp)
{
	// print $synth_amp
	$groups("group_hoa3").amp($sf_amp)
	// $groups("group_hoa4").amp($synth_amp)
}

$add_level := -30

			// obj::granos_addict("mes_78_4_1", "group_hoa1", [0.5, 8, 4], [-75, -3, -10, -75], [0.5, 1], [2, 90, 0], [1, 90, 90], dir = 1, envbuf0 = "pointe", envbuf1 = "inv", prob = 0.9, tmp = 120, chg_tmp = [60, 120, 200, 60], chg_ifac = [0, 0.25, 0.5, 1], chg_grain_dur = [0.03, 0.05, 0.05, 0.03])

@obj_def granos_addict($nota_name, $mix_group, $dur = [0.5, 8, 4], $amps = [-75, -3, -10, -75], $pitch_gliss = [0.5, 1], $coords_start = [2, 90, 0], $coords_end = [1, 90, 90], $dir = 1, $envbuf0 = "pointe", $envbuf1 = "inv", $trig_rate = [1, 20, 30, 1], $chg_ifac = [0, 0.25, 0.5, 1], $chg_grain_dur = [0.03, 0.05, 0.05, 0.03], $preset = "synth6_2")
{
	@local $len, $synth_server
    @init 
    {

		$len := $dur.sum()
		$synth_server := $SC_Groups($mix_group)("server_name")

		obj::crea_track_HOA($nota_name, $mix_group, fade_in = 1, amp = -120, in_channels = 1, [["TAddic_5_8", "preset", $preset, "lag", 0], ["TGranInterp", "trigRate", 1, "dur", 0.0020000000949949, "durDev", 0.0, "ifac", 0.0, "ampDev", 0.0, "envbuf0", ($envs($synth_server)($envbuf0)), "envbuf1", ($envs($synth_server)($envbuf1))]])

		print granos_addict_synth_server $synth_server
		// $tracks($nota_name).set("TGranInterp", ["dur", 0.0050000000949949, "durDev", 0.0, "ifac", 0.0, "ampDev", 0.0])
		// $tracks($nota_name).set("TGranInterp", ["envbuf0", ($envs("server1")("rond")), "envbuf1", ($envs("server1")("perc"))])

		$tracks($nota_name).bpf_param("TGranInterp", "trigRate", [$trig_rate[0], $dur[0], "circ", $trig_rate[1], $dur[1], $trig_rate[2]  , $dur[2], $trig_rate[3]])

		$tracks($nota_name).bpf_param("TAddic_5_8", "transp", [$pitch_gliss[0], $len, "quart_out", $pitch_gliss[1]])
		$tracks($nota_name).bpf_param("TGranInterp", "dur", [$chg_grain_dur[0], $dur[0], "circ", $chg_grain_dur[1], $dur[1], $chg_grain_dur[2]  , $dur[2], $chg_grain_dur[3]]) 
		$tracks($nota_name).bpf_param("TGranInterp", "ifac", [$chg_ifac[0], $dur[0], "circ", $chg_ifac[1], $dur[1], $chg_ifac[2]  , $dur[2], $chg_ifac[3]]) 
		$tracks($nota_name).amp(				  [$amps[0],    $dur[0], "circ", $amps[1]    , $dur[1], $amps[2]      , $dur[2], $amps[3]])
		// $tracks($nota_name).change_proc_tempo([$chg_tmp[0], $dur[0], "circ", $chg_tmp[1], $dur[1], $chg_tmp[2]  , $dur[2], $chg_tmp[3]])
		// $tracks($nota_name).source_cart_traj_bpf(0.5, [-1, 5, "circ", 0, 12, 1], [0.5, 5, "circ", 1, 12, 2])
		// $tracks($nota_name).source_cart_traj_bpf([$x_in, $dur_a, "circ", 0, $dur[2], $x_out], [$y_in, $dur_a, "circ", 0, $dur[2], $y_out], [$z_in, $dur_a, "circ", 0, $dur[2], $z_out])

		$tracks($nota_name).traj_circ_interp2($coords_start, $coords_end, $len, $dir) 	
		($len+0.01) $tracks($nota_name).free(0.1)
	}
}




NOTE 60 1 mes_3

print mes_3

// $of_gui := ::gui_oF_trajs() // send to OpenFramaworks visual

$rec_buf1_2.rec($fl)

0.1 obj::crea_track_HOA("warp1_play_fl_mes_3", "group_hoa1", fade_in = 1.5, amp = 0, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf1_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
$tracks("warp1_play_fl_mes_3").rand_lfo_dyn("Warp1Play", "pos", 0.01, "linear", 30, $rec_buf1_2)
$tracks("warp1_play_fl_mes_3").traj_circ_interp2($fl_dae, $htb_dae, 10, 1) 

NOTE 60 1 mes_6

print mes_6

1 $tracks("warp1_play_fl_mes_3").free(1)


NOTE 60 1 mes_7_4

print mes_7_4

$rec_buf2_2.rec($htb)

0.1 obj::crea_track_HOA("warp1_play_htb_mes_7", "group_hoa1", fade_in = 1, amp = 3, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf2_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
$tracks("warp1_play_htb_mes_7").rand_lfo_dyn("Warp1Play", "pos", 0.01, "linear", 90, $rec_buf2_2)
$tracks("warp1_play_htb_mes_7").traj_circ_interp2($htb_dae, $bsn_dae, 8, -1) 
$tracks("warp1_play_htb_mes_7").amp(3)

NOTE 60 1 mes_8

print mes_8

$tracks("warp1_play_htb_mes_7").free(1.5)

NOTE 60 1 mes_9

print mes_9

$rec_buf3_2.rec($bsn)

0.1 obj::crea_track_HOA("warp1_play_bsn_mes_9", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf3_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
$tracks("warp1_play_bsn_mes_9").rand_lfo_dyn("Warp1Play", "pos", 0.0, "linear", 60, $rec_buf3_2)
$tracks("warp1_play_bsn_mes_9").traj_circ_interp2($bsn_dae, $cl_dae, 8.2, 1) 


NOTE 60 1 mes_11

print mes_11

$tracks("warp1_play_bsn_mes_9").free(1.5)

NOTE 60 1 mes_12

print mes_12

$rec_buf4_2.rec($cl)

0.1 obj::crea_track_HOA("warp1_play_cl_mes_12_1", "group_hoa1", fade_in = 0.5, amp = 4, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf4_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
$tracks("warp1_play_cl_mes_12_1").rand_lfo_dyn("Warp1Play", "pos", 0.01, "linear", 40, $rec_buf4_2)
$tracks("warp1_play_cl_mes_12_1").traj_circ_interp2($cl_dae, $cor2_dae, 7.2, -1)

obj::crea_track_HOA("warp1_play_cl_mes_12_2", "group_hoa1", fade_in = 0.5, amp = 4, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf4_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
$tracks("warp1_play_cl_mes_12_2").rand_lfo_dyn("Warp1Play", "pos", 0.01, "linear", 40, $rec_buf4_2)
$tracks("warp1_play_cl_mes_12_2").traj_circ_interp2($cl_dae, $trb_dae, 10.2, 1)

NOTE 60 1 mes_14

print mes_14

$tracks("warp1_play_cl_mes_12_1").free(0.5)

0.1 $rec_buf5_2.rec($cor2)

0.1 obj::crea_track_HOA("warp1_play_cl_mes_14", "group_hoa1", fade_in = 0.5, amp = 4, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf5_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
$tracks("warp1_play_cl_mes_14").rand_lfo_dyn("Warp1Play", "pos", 0.01, "linear", 50, $rec_buf5_2)
$tracks("warp1_play_cl_mes_14").traj_linear_interp([3, 72, 10], [3.85, -48, 10], 10.2) 

NOTE 60 1 mes_15

print mes_15

// $rec_buf_pvoc10 := obj::rec_buf_pvoc("server1", 1) // pvoc buffer "server", duration (absolute, can be relatif)

0.1 $rec_buf6_2.rec($cor2)

0.1 obj::crea_track_HOA("warp1_play_cl_mes_15", "group_hoa1", fade_in = 0.5, amp = 4, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf6_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
// $tracks("warp1_play_cl_mes_15").rand_lfo_dyn("Warp1Play", "pos", 0.01, "linear", 60, $rec_buf6_2)
$tracks("warp1_play_cl_mes_15").rand_lfo("Warp1Play", "pos", 0.01, 1, 0.9, "linear", 60)
$tracks("warp1_play_cl_mes_15").traj_circ_interp($cor2_dae, $trp_dae, 14.2) 
// $tracks("warp1_play_cl_mes_15").free(0.5)


NOTE 60 1 mes_15_2

print mes_15_2

$tracks("warp1_play_cl_mes_12_2").free(2)
// 0.1 $rec_buf7_2.rec($trb) // trombone
0.1 $rec_buf7_2.rec($trp) // trompete
0.1 obj::crea_track_HOA("warp1_play_cl_mes_15_2", "group_hoa1", fade_in = 0.5, amp = -6, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf7_2.id(), envbuf, $envs("server1")("rond")], ["TJPverb_mono", t60, 0.1]]) // track without encoder 
// $tracks("warp1_play_cl_mes_15_2").rand_lfo_dyn("Warp1Play", "pos", 0.01, "linear", 100, $rec_buf7_2)
// $tracks("warp1_play_cl_mes_15_2").lfo_abort("Warp1Play", "pos")
// $tracks("warp1_play_cl_mes_15_2").traj_circ_interp($trb_dae, $trp_dae, 10.2) 
$tracks("warp1_play_cl_mes_15_2").amp(-6)
// $tracks("warp1_play_cl_mes_15_2").mod_remove(TJPverb_mono)
$tracks("warp1_play_cl_mes_15_2").tri_lfo("Warp1Play", "pos", 0, 1, 4, "linear", "linear")
$tracks("warp1_play_cl_mes_15_2").traj_circ_interp($trp_dae, $trb_dae, 10.2) 

obj::crea_track_HOA("warp1_play_cl_mes_15_2_2", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf7_2.id(), envbuf, $envs("server1")("m")], ["TJPverb_mono", t60, 0.1]]) // track without encoder 
$tracks("warp1_play_cl_mes_15_2_2").tri_lfo("Warp1Play", "pos", 0, 1, 4, "linear", "linear")
$tracks("warp1_play_cl_mes_15_2_2").traj_circ_interp($trb_dae, $cor1_dae, 6.2) 

// // $tracks("warp1_play_cl_mes_15_2").free(0.5)

0.1 $rec_buf_pvoc_mes_15_2.rec($trb)

print (""+$rec_buf_pvoc_mes_15_2.id())
// obj::crea_track_HOA("pvoc_play", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, in_channels = 1, [["TPlayPvocBuf", "buf", $rec_buf_pvoc_mes_15_2.id()]]) 
// obj::crea_track_HOA("pvoc_play", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, in_channels = 1, [["TPlayPvocBufEnv", "buf", $rec_buf_pvoc_mes_15_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_pvoc_mes_15_2.abs_dur()]]) 
// $tracks("pvoc_play").set("TPlayPvocBufEnv", ["rate", 10])
// $tracks("pvoc_play").set("TPlayPvocBufEnv", ["envbuf", $envs("server1")("perc")])
// $tracks("pvoc_play").line_param("TPlayPvocBufEnv", "rate", 1, 20, 5)
// $tracks("pvoc_play").rand_lfo("TPlayPvocBufEnv", "rate", -2, 2, 1, "linear", 200)
// $tracks("pvoc_play").lfo_abort("TPlayPvocBufEnv", "rate")
// $tracks("pvoc_play").free()
// $tracks("pvoc_play").set("TPlayPvocBuf", ["rate", 15])
// $tracks("pvoc_play").line_param("TPlayPvocBuf", "rate", 1, 10, 5)
// $tracks("pvoc_play").rand_lfo("TPlayPvocBuf", "rate", -2, 2, 1, "linear", 60)
// $tracks("pvoc_play").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 80, "linear")
// $tracks("pvoc_play").lfo_abort("TPlayPvocBuf", "rate")
// $tracks("pvoc_play").free()

0.02 obj::crea_track_HOA("pvoc_scrub_trb_mes_15_2", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_mes_15_2.id()]]) 
$tracks("pvoc_scrub_trb_mes_15_2").rand_lfo_dyn("TScrubPvocBuf", "pos", 0, "linear", 30, $rec_buf_pvoc_mes_15_2)
// $tracks("pvoc_scrub_trb_mes_15_2").lfo_abort("TScrubPvocBuf", "pos")
// $tracks("pvoc_scrub_trb_mes_15_2").bpf_param("TScrubPvocBuf", "pos", [0, 1, 1])
// $tracks("pvoc_scrub_trb_mes_15_2").free()

 
NOTE 60 1 mes_17_4

print mes_17_4
$tracks("warp1_play_cl_mes_14").free(0.5) // off cor2
$tracks("warp1_play_cl_mes_15_2_2").free(1.5) // off trb

group
{
	0.2 $rec_buf8_2.rec($cor1)

	0.1 obj::crea_track_HOA("warp1_play_cl_mes_16_4", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf8_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
	$tracks("warp1_play_cl_mes_16_4").rand_lfo_dyn("Warp1Play", "pos", 0.01, "linear", 60, $rec_buf8_2)
	// $tracks("warp1_play_cl_mes_16_4").rand_lfo("Warp1Play", "pos", 0.01, 1, 0.9, "linear", 60)
	// $tracks("warp1_play_cl_mes_16_4").traj_circ_interp($cor1_dae, $htb_dae, 8.2)
	$tracks("warp1_play_cl_mes_16_4").traj_linear_interp($cor1_dae_e1, $htb_dae_e1, 11.2) 

	$tracks("warp1_play_cl_mes_16_4").amp(0)

	4 $rec_buf_mes17_4.rec($cor1)
	// $rec_buf_mes17_4.rec($trb)
	// 0.1 $Servers("server3").g_dumpTree(0, 1)

	print (""+$rec_buf_mes17_4.id())
	0.1 obj::crea_track_HOA("play_env_trig_mes17_4", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes17_4.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes17_4.abs_dur()]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes17_4").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes17_4").set("TPlayBufEnvTrigF", ["impulse_rate", 1])
	$tracks("play_env_trig_mes17_4").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("rond")])
	// $tracks("play_env_trig_mes17_4").line_param("TPlayBufEnvTrigF", "rate", 1, 100, 15, "exp")
	$tracks("play_env_trig_mes17_4").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 7.2, 10, "circ"])
	$tracks("play_env_trig_mes17_4").amp([0, 2, 6, 6.2, "quad", 10, 5, -120], free = 0.1, action = ["clearbuf", $rec_buf_mes17_4]) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	// $tracks("play_env_trig_mes17_4").rand_lfo("TPlayBufEnvTrigF", "rate", -2, 2, 1, "linear", 200)
	// $tracks("play_env_trig_mes17_4").lfo_abort("TPlayBufEnvTrigF", "rate")
	// $tracks("play_env_trig_mes17_4").amp(25)
	// $tracks("play_env_trig_mes17_4").free()
	// $tracks("play_env_trig_mes17_4").mod_remove(Norm)
	$tracks("play_env_trig_mes17_4").traj_circ_interp($cor1_dae, $fl_dae, 9.2) 

	// print ($rec_buf_mes17_4.getn())
}


NOTE 60 1 mes_19

print mes_19

$tracks("warp1_play_cl_mes_15").free(1) // off cor2
$tracks("warp1_play_cl_mes_15_2").free(1) // off trb
$tracks("pvoc_scrub_trb_mes_15_2").free(1)



NOTE 60 1 mes_20

print mes_20

$Servers("server5").notify(1)
$rec_buf_mes17.rec($trp)
// $rec_buf_mes17.rec($trb)
// 0.1 $Servers("server1").g_dumpTree(0, 1)

print (""+$rec_buf_mes17.id())
0.1 obj::crea_track_HOA("play_env_trig_mes17", "group_hoa1", fade_in = 0.5, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes17.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes17.abs_dur()]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trig_mes17").set("TPlayBufEnvTrigF", ["rate", 1])
// $tracks("play_env_trig_mes17").set("TPlayBufEnvTrigF", ["impulse_rate", 1])
$tracks("play_env_trig_mes17").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("rond")])
// $tracks("play_env_trig_mes17").line_param("TPlayBufEnvTrigF", "rate", 1, 100, 15, "exp")
$tracks("play_env_trig_mes17").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 7.2, 20, "circ"])
$tracks("play_env_trig_mes17").amp([6, 2, 15, 6.2, "quad", 35]) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
// $tracks("play_env_trig_mes17").rand_lfo("TPlayBufEnvTrigF", "rate", -2, 2, 1, "linear", 200)
// $tracks("play_env_trig_mes17").lfo_abort("TPlayBufEnvTrigF", "rate")
// $tracks("play_env_trig_mes17").amp(25)
// $tracks("play_env_trig_mes17").free()
// $tracks("play_env_trig_mes17").mod_remove(Norm)
$tracks("play_env_trig_mes17").traj_circ_interp($trp_dae, $fl_dae, 9.2) 

NOTE 60 1 mes_20_3

print mes_20_3

group
{
	2 $tracks("play_env_trig_mes17").free(2)
	2 $rec_buf_mes17.clear()
}


NOTE 60 1 mes_20_4

print mes_20_4

// $tracks("warp1_play_cl_mes_16_4").free(2)

NOTE 60 1 mes_21_3

print mes_21_3


// $tracks("play_env_trig_mes17_4").free(3)

$rec_buf_mes_21_3.rec($bsn)
$rec_buf_mes_21_3_2.rec($htb)

print (""+$rec_buf_mes_21_3.id())
obj::crea_track_HOA("play_env_trig_mes21_3", "group_hoa1", fade_in = 0.5, amp = 10, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_21_3.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_21_3.abs_dur()]])  //, [Norm, lev, 0.03]
$tracks("play_env_trig_mes21_3").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("rond")])
$tracks("play_env_trig_mes21_3").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 7.2, 25, "circ"])
$tracks("play_env_trig_mes21_3").amp([10, 2, 20, 6.2, "quad", 40]) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
$tracks("play_env_trig_mes21_3").traj_circ_interp($bsn_dae, $cor2_dae, 7.2) 

print (""+$rec_buf_mes_21_3_2.id())
obj::crea_track_HOA("play_env_trig_mes21_3_2", "group_hoa1", fade_in = 0.5, amp = 15, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_21_3_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_21_3_2.abs_dur()]])  //, [Norm, lev, 0.03]
$tracks("play_env_trig_mes21_3_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("rond")])
$tracks("play_env_trig_mes21_3_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 8.2, 35, "circ"])
$tracks("play_env_trig_mes21_3_2").amp([15, 2, 30, 7.2, "quad", 45]) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
$tracks("play_env_trig_mes21_3_2").traj_circ_interp($htb_dae, $fl_dae, 9.2) 

// $tracks("play_env_trig_mes21_3_2").amp(45)

NOTE 60 1 mes_22

print mes_22

// $tracks("warp1_play_cl_mes_12_1").free(0.5)

$tracks("warp1_play_cl_mes_16_4").free(2)

$rec_buf9_2.rec($trb)

0.1 obj::crea_track_HOA("warp1_play_cl_mes_22", "group_hoa1", fade_in = 0.5, amp = 4, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf9_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 3]]) // track without encoder 
// 0.1 obj::crea_track_HOA("warp1_play_cl_mes_22", "group_hoa1", fade_in = 0.5, amp = 4, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf9_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 3], ["TGranInterpExt","dur", 0.0020000000949949, "durDev", 0.0, "ifac", 0.0, "ampDev", 0.0, "envbuf0", ($envs("server1")("pointe")), "envbuf1", ($envs("server1")("inv"))]]) // track without encoder 
$tracks("warp1_play_cl_mes_22").rand_lfo_dyn("Warp1Play", "pos", 0.01, "linear", 50, $rec_buf9_2)
$tracks("warp1_play_cl_mes_22").traj_circ_interp($trb_dae, $fl_dae, 8.2) 
// $tracks("warp1_play_cl_mes_22").lfo_abort("Warp1Play", "pos")
// 		// obj::crea_track_HOA("synth_gran2_1", "group_hoa3", fade_in = 1, amp = -120, doppler = 0, [["Warbulence_mod_dev_mono", "preset", "nota_2"], ["TGranInterpExt","dur", 0.0020000000949949, "durDev", 0.0, "ifac", 0.0, "ampDev", 0.0, "envbuf0", ($envs("server2")("pointe")), "envbuf1", ($envs("server2")("inv"))]])

// 		// print $nota_name
// 		$tracks("warp1_play_cl_mes_22").set("TGranInterpExt", ["dur", 0.0050000000949949, "durDev", 0.0, "ifac", 0.0, "ampDev", 0.0])
// 		$tracks("warp1_play_cl_mes_22").set("TGranInterpExt", ["envbuf0", ($envs("server1")("perc")), "envbuf1", ($envs("server1")("perc"))])

// 		$tracks("warp1_play_cl_mes_22").ryth_prob(["TGranInterpExt", "t_trig", 1], 1, 1, 60)
// 		$dur_a := 2
// 		$dur_s := 10
// 		$tracks("warp1_play_cl_mes_22").bpf_param("TGranInterpExt", "dur", [0.5, $dur_a, "circ", 0.1, $dur_s, 0.3]) 
// 		$tracks("warp1_play_cl_mes_22").bpf_param("TGranInterpExt", "ifac", [$interp_init, $dur_a, "circ", $interp_s, $dur_s, $interp_r]) 
// 		// $tracks("warp1_play_cl_mes_22").set("Warbulence_mod_dev_mono", ["exp_line", 10])
// 		$tracks("warp1_play_cl_mes_22").bpf_param("Warbulence_mod_dev_mono", "exp_line", [$init_mod, $start_mod, $init_mod, $len-$start_mod, "linear", $end_mod]) 
// 		$tracks("warp1_play_cl_mes_22").amp([$amp_start, $dur_a, "circ", $amp_s, $dur_s, $amp_d, $rel, $amp_end], add = $add_level)
// 		$tracks("warp1_play_cl_mes_22").change_proc_tempo([60, $dur_a, "circ", 100, $dur_s, 1000, 2, 500])
// 		// $tracks("warp1_play_cl_mes_22").source_cart_traj_bpf(0.5, [-1, 5, "circ", 0, 12, 1], [0.5, 5, "circ", 1, 12, 2])
// 		$tracks("warp1_play_cl_mes_22").source_cart_traj_bpf([$x_in, $dur_a, "circ", 0, $rel, $x_out], [$y_in, $dur_a, "circ", 0, $rel, $y_out], [$z_in, $dur_a, "circ", 0, $rel, $z_out])

// $tracks("warp1_play_cl_mes_22").free(0.1)

$rec_buf_mes22.rec($trb)
// 0.1 $Servers("server1").g_dumpTree(0, 1)

// print (""+$rec_buf_mes22.id())
1 obj::crea_track_HOA("play_env_trig_mes22", "group_hoa1", fade_in = 0.5, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes22.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes22.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trig_mes22").set("TPlayBufEnvTrigF", ["rate", 1])
// $tracks("play_env_trig_mes22").set("TPlayBufEnvTrigF", ["impulse_rate", 1])
$tracks("play_env_trig_mes22").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("rond")])
// $tracks("play_env_trig_mes22").line_param("TPlayBufEnvTrigF", "rate", 1, 100, 15, "exp")
$tracks("play_env_trig_mes22").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 7.2, 30, "circ"])
$tracks("play_env_trig_mes22").amp([-3, 2, 0, 6.2, "quad", 6, 4, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
$tracks("play_env_trig_mes22").traj_circ_interp($trb_dae, $fl_dae, 9.2) 


NOTE 60 1 mes_23

print mes_23

// $tracks("play_env_trig_mes21_3").free(2)

// group stop_mes20
// {
	
	
	
// }

// $Servers("server5").notify(1)



0.2 $rec_buf_mes23.rec($cor2)
// 0.1 $Servers("server1").g_dumpTree(0, 1)

// print (""+$rec_buf_mes23.id())
0.5 obj::crea_track_HOA("play_env_trig_mes23", "group_hoa1", fade_in = 0.5, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes23.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes23.abs_dur()]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trig_mes23").set("TPlayBufEnvTrigF", ["rate", 1])
// $tracks("play_env_trig_mes23").set("TPlayBufEnvTrigF", ["impulse_rate", 1])
$tracks("play_env_trig_mes23").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("rond")])
// $tracks("play_env_trig_mes23").line_param("TPlayBufEnvTrigF", "rate", 1, 100, 15, "exp")
$tracks("play_env_trig_mes23").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 7.2, 20, "circ"])
$tracks("play_env_trig_mes23").amp([6, 2, 15, 6.2, "quad", 35, 3, 35, 10, -60], free = 0.2, action = ["clearbuf", $rec_buf_mes23]) 
// $tracks("play_env_trig_mes23").rand_lfo("TPlayBufEnvTrigF", "rate", -2, 2, 1, "linear", 200)
// $tracks("play_env_trig_mes23").lfo_abort("TPlayBufEnvTrigF", "rate")
// $tracks("play_env_trig_mes23").amp(25)
// $tracks("play_env_trig_mes23").free()
// $tracks("play_env_trig_mes23").mod_remove(Norm)
$tracks("play_env_trig_mes23").traj_circ_interp($cor2_dae, $fl_dae, 9.2) 



NOTE 60 1 mes_23_3

print mes_23_3

$tracks("play_env_trig_mes21_3").free(5)
$tracks("play_env_trig_mes21_3_2").free(5)
$tracks("warp1_play_cl_mes_22").free(10)

0.1 $rec_buf6_2.rec($cor2)

0.1 obj::crea_track_HOA("warp1_play_cor_mes_23_3", "group_hoa1", fade_in = 0.5, amp = 4, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf6_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
// $tracks("warp1_play_cor_mes_23_3").rand_lfo_dyn("Warp1Play", "pos", 0.01, "linear", 60, $rec_buf6_2)
$tracks("warp1_play_cor_mes_23_3").rand_lfo("Warp1Play", "pos", 0.01, 1, 0.9, "linear", 60)
$tracks("warp1_play_cor_mes_23_3").traj_circ_interp($cor2_dae, $trp_dae, 14.2) 

/// sacado
/*$rec_buf_mes23_3.rec($cor2)
// 0.1 $Servers("server1").g_dumpTree(0, 1)

// print (""+$rec_buf_mes23_3.id())
obj::crea_track_HOA("play_env_trig_mes23_3_2", "group_hoa1", fade_in = 0.5, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes23_3.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes23_3.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trig_mes23_3_2").set("TPlayBufEnvTrigF", ["rate", 1])
// $tracks("play_env_trig_mes23_3_2").set("TPlayBufEnvTrigF", ["impulse_rate", 1])
$tracks("play_env_trig_mes23_3_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
// $tracks("play_env_trig_mes23_3_2").line_param("TPlayBufEnvTrigF", "rate", 1, 100, 15, "exp")
// $tracks("play_env_trig_mes23_3_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 7.2, 30, 4, 10])
$tracks("play_env_trig_mes23_3_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 2, 10, 3, "circ", 21, 3, 25, "circ", 4, 10])
$tracks("play_env_trig_mes23_3_2").amp([-3, 2, 0, 6.2, "quad", 3, 5, 3, 5, -60], free = 0.2, action = ["clearbuf", $rec_buf_mes23_3]) 
$tracks("play_env_trig_mes23_3_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 9, "circ", 1000])
$tracks("play_env_trig_mes23_3_2").traj_circ_interp($cor2_dae, $fl_dae, 9.2) 
*/

// bpm 52

NOTE 60 1 mes_24

print mes_24

// obj::crea_track_HOA("play_env_trig_mes24", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TSine", freq, 20]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trig_mes24").bpf_param("TSine", freq, [20, 16, 1000])
// $tpm := 0
// loop temp 1 
// {
// 	$tracks("play_sample_8ch").play_sample8("Clave00.aif", -6)

// 	print tempo $tpm
// 	$tpm += 1
// }

$add_beats := 8

// $rec_buf_mes24.rec($fl)
$rec_buf_mes24.rec($bsn)

0.2 obj::crea_track_HOA("play_env_trig_mes24", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes24.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes24.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]

$tracks("play_env_trig_mes24").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("carre3")])
// // $tracks("play_env_trig_mes24").line_param("TPlayBufEnvTrigF", "rate", 1, 100, 15, "exp")
$tracks("play_env_trig_mes24").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 2, 10, 2.5, "circ", 21, 4, 30, "circ"])
$tracks("play_env_trig_mes24").amp([0, 2, 0, 6.2, "quad", 10, 1, 10, 2, 5, 2, -10, 5, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes24]) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
$tracks("play_env_trig_mes24").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 10.2, "circ", 1000])

group 
{
	$tracks("play_env_trig_mes24").traj_circ_interp($bsn_dae, $vln_dae, 10.2) 
	10.2 $tracks("play_env_trig_mes24").traj_circ_interp($vln_dae, $bsn_dae, 7.2) 
}


NOTE 60 1 mes_26_4_n

print mes_26_4_n

// $rec_buf19_1.rec($htb)
$rec_buf19_1.rec($trp)

0.2 obj::crea_track_HOA("play_env_trig_26_4_n", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf19_1.id(), envbuf, $envs("server1")("perc"), env_dur, $rec_buf19_1.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]

$tracks("play_env_trig_26_4_n").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
// // $tracks("play_env_trig_26_4_n").line_param("TPlayBufEnvTrigF", "rate", 1, 100, 15, "exp")
$tracks("play_env_trig_26_4_n").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 2, 10, 2.5, "circ", 20, 3, 31, 5, 25])
$tracks("play_env_trig_26_4_n").amp([0, 2, 0, 4.2, "quad", 5, 1, 5, 2, 0, 2, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf19_1]) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
$tracks("play_env_trig_26_4_n").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 10.2, "circ", 1000])

group 
{
	$tracks("play_env_trig_26_4_n").traj_circ_interp($trp_dae, $cor1_dae, 8.2) 
	8.2 $tracks("play_env_trig_26_4_n").traj_circ_interp($cor1_dae, $trp_dae, 7.2) 
}

NOTE 60 1 mes_27_4_n

print mes_27_4_n

// $rec_buf20_1.rec($trb)
$rec_buf20_1.rec($fl)

0.2 obj::crea_track_HOA("play_env_trig_27_4_n", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf20_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf20_1.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]

$tracks("play_env_trig_27_4_n").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("carre3")])
// // $tracks("play_env_trig_27_4_n").line_param("TPlayBufEnvTrigF", "rate", 1, 100, 15, "exp")
$tracks("play_env_trig_27_4_n").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 2, 10, 2.5, "circ", 20, 3, "circ", 33, 3, 20])
$tracks("play_env_trig_27_4_n").amp([0, 2, 0, 4.2, "quad", 6, 1, 6, 1, 5, 1, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf20_1]) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
$tracks("play_env_trig_27_4_n").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 7.2, "circ", 1000])

group 
{
	$tracks("play_env_trig_27_4_n").traj_circ_interp($fl_dae, $htb_dae, 8.2) 
	8.2 $tracks("play_env_trig_27_4_n").traj_circ_interp($htb_dae, $fl_dae, 7.2) 
}


NOTE 60 1 mes_28_2_n

print mes_28_2_n

$rec_buf21_1.rec($cor1)

0.2 obj::crea_track_HOA("play_env_trig_28_2_n", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf21_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf21_1.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]

$tracks("play_env_trig_28_2_n").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("carre3")])
// // $tracks("play_env_trig_28_2_n").line_param("TPlayBufEnvTrigF", "rate", 1, 100, 15, "exp")
$tracks("play_env_trig_28_2_n").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 2, 10, 2, "circ", 27, 3, "circ", 35, 2, 23])
$tracks("play_env_trig_28_2_n").amp([0, 2, 0, 4.2, "quad", 6, 2, 6, 7, 5, 5, -10, 5, -60], free = 0.1, action = ["clearbuf", $rec_buf21_1]) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
$tracks("play_env_trig_28_2_n").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 6.2, "circ", 1000])

group 
{
	$tracks("play_env_trig_28_2_n").traj_circ_interp($cor1_dae, $fl_dae, 8.2) 
	8.2 $tracks("play_env_trig_28_2_n").traj_circ_interp($fl_dae, $cor1_dae, 7.2) 
}

NOTE 60 1 mes_28_3_n // ver si necesario

print mes_28_3_n

$rec_buf22_1.rec($trb)

0.1 obj::crea_track_HOA("warp1_play_trb_28_3_n", "group_hoa1", fade_in = 0.5, amp = 3, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf22_1.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 3]]) // track without encoder 
// 0.1 obj::crea_track_HOA("warp1_play_trb_28_3_n", "group_hoa1", fade_in = 0.5, amp = 4, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf22_1.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 3], ["TGranInterpExt","dur", 0.0020000000949949, "durDev", 0.0, "ifac", 0.0, "ampDev", 0.0, "envbuf0", ($envs("server1")("pointe")), "envbuf1", ($envs("server1")("inv"))]]) // track without encoder 
$tracks("warp1_play_trb_28_3_n").rand_lfo_dyn("Warp1Play", "pos", 0.01, "linear", 50, $rec_buf22_1)
$tracks("warp1_play_trb_28_3_n").traj_circ_interp($trb_dae, $fl_dae, 8.2) 


NOTE 60 1 mes_29_3_n

print mes_29_3_n


$rec_buf10_2.rec($cl)

/*obj::crea_track_HOA("warp1_play_cl_mes_25_3", "group_hoa1", fade_in = 1, amp = 4, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf10_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
// $tracks("warp1_play_cl_mes_25_3").rand_lfo_dyn("Warp1Play", "pos", 0.01, "linear", 60, $rec_buf10_2)
$tracks("warp1_play_cl_mes_25_3").rand_lfo("Warp1Play", "pos", 0.01, 1, 0.9, "linear", 60)
$tracks("warp1_play_cl_mes_25_3").traj_circ_interp($cl_dae, $trb_dae, 19.2) */


	// $rec_buf_mes_38_2.rec($cor2)
	$amp_mes_25_3 := 0

	obj::crea_track_HOA("play_env_trig_mes_25_3", "group_hoa1", fade_in = 1, amp = $amp_mes_25_3, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf10_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf10_2.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes_25_3").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes_25_3").set("TPlayBufEnvTrigF", ["impulse_rate", 250])
	$tracks("play_env_trig_mes_25_3").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	// $tracks("play_env_trig_mes_25_3").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 15, "circ", 250])
	$tracks("play_env_trig_mes_25_3").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 6, "circ", 70])
	// $tracks("play_env_trig_mes_25_3").amp([$amp_mes_25_3, 1, $amp_mes_25_3, 9, "quad", $amp_mes_25_3+3, 3+$add_beats, $amp_mes_25_3+3, 3, -10, 7, -60], free = 0.1, action = ["clearbuf", $rec_buf10_2])
	$tracks("play_env_trig_mes_25_3").amp([$amp_mes_25_3, 1, $amp_mes_25_3, 3, "quad", $amp_mes_25_3+3, 2, $amp_mes_25_3+3, 2, -10, 7, -60], free = 0.1, action = ["clearbuf", $rec_buf10_2])
		$tracks("play_env_trig_mes_25_3").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes_25_3").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 4, "circ", 1000])
	// $tracks("play_env_trig_mes_25_3").amp(6)
group 
{
	$tracks("play_env_trig_mes_25_3").traj_circ_interp($cl_dae, $alto_dae, 10)
	10 $tracks("play_env_trig_mes_25_3").traj_circ_interp($alto_dae, $cl_dae, 5)
}

1  $rec_buf23_1.rec($htb)

0.2 obj::crea_track_HOA("play_env_trig_29_3_n", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf23_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf23_1.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]

$tracks("play_env_trig_29_3_n").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("carre3")])
// // $tracks("play_env_trig_29_3_n").line_param("TPlayBufEnvTrigF", "rate", 1, 100, 15, "exp")
$tracks("play_env_trig_29_3_n").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 4, 10, 3, "circ", 37, 7, 40, 4, 32])
$tracks("play_env_trig_29_3_n").amp([0, 2, 0, 6.2, "quad", 6, 1, 6, 2, 0, 1, -10, 5, -60], free = 0.1, action = ["clearbuf", $rec_buf23_1]) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
$tracks("play_env_trig_29_3_n").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 8.2, "circ", 1000])

group 
{
	$tracks("play_env_trig_29_3_n").traj_circ_interp($htb_dae, $fl_dae, 8.2) 
	8.2 $tracks("play_env_trig_29_3_n").traj_circ_interp($fl_dae, $vln_dae, 7.2) 
}

NOTE 60 1 mes_30_1_n

print mes_30_1_n

$rec_buf0_1.rec($fl)

0.2 obj::crea_track_HOA("play_env_trig_30_1_n", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf0_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf0_1.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]

$tracks("play_env_trig_30_1_n").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("carre3")])
// // $tracks("play_env_trig_30_1_n").line_param("TPlayBufEnvTrigF", "rate", 1, 100, 15, "exp")
$tracks("play_env_trig_30_1_n").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 4, 10, 5, "circ", 37, 7, "circ", 50, 37])
$tracks("play_env_trig_30_1_n").amp([0, 2, 0, 4.2, "quad", 6, 2, 6, 2, 0, 2, -10, 5, -60], free = 0.1, action = ["clearbuf", $rec_buf0_1]) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
$tracks("play_env_trig_30_1_n").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 6.2, "circ", 1000])

group 
{
	$tracks("play_env_trig_30_1_n").traj_circ_interp($fl_dae, $htb_dae, 8.2) 
	8.2 $tracks("play_env_trig_30_1_n").traj_circ_interp($htb_dae, $vln_dae, 7.2) 
}

NOTE 60 1 mes_31_n

print mes_31_n

$tracks("warp1_play_trb_28_3_n").free(6)

group 
{
	$rec_buf27_1.rec($bsn)

	0.1 obj::crea_track_HOA("warp1_play_trb_31_n", "group_hoa1", fade_in = 0.5, amp = 3, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf27_1.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 3]]) // track without encoder 
	// 0.1 obj::crea_track_HOA("warp1_play_trb_31_n", "group_hoa1", fade_in = 0.5, amp = 4, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf22_1.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 3], ["TGranInterpExt","dur", 0.0020000000949949, "durDev", 0.0, "ifac", 0.0, "ampDev", 0.0, "envbuf0", ($envs("server1")("pointe")), "envbuf1", ($envs("server1")("inv"))]]) // track without encoder 
	$tracks("warp1_play_trb_31_n").rand_lfo_dyn("Warp1Play", "pos", 0.01, "linear", 50, $rec_buf22_1)
	$tracks("warp1_play_trb_31_n").traj_circ_interp($bsn_dae, $fl_dae, 8.2) 
}

group 
{
$rec_buf1_1.rec($bsn)

0.2 obj::crea_track_HOA("play_env_trig_31_n", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf1_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf1_1.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]

$tracks("play_env_trig_31_n").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("carre3")])
// // $tracks("play_env_trig_31_n").line_param("TPlayBufEnvTrigF", "rate", 1, 100, 15, "exp")
$tracks("play_env_trig_31_n").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 4, 10, 5, "circ", 21, 7, "circ", 30])
$tracks("play_env_trig_31_n").amp([0, 2, 0, 4.2, "quad", 6, 2, 6, 2, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf1_1]) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
$tracks("play_env_trig_31_n").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 6.2, "circ", 1000])


	$tracks("play_env_trig_31_n").traj_circ_interp($bsn_dae, $vln_dae, 10.2) 
	10.2 $tracks("play_env_trig_31_n").traj_circ_interp($vln_dae, $bsn_dae, 7.2) 
}


NOTE 60 1 mes_32_n

print mes_32_n


$tracks("warp1_play_cor_mes_23_3").free(3)
// $tracks("play_env_trig_mes23").free(3)

$rec_buf11_2.rec($cor1)
// 0.1 $Servers("server1").g_dumpTree(0, 1)

// print (""+$rec_buf11_2.id())
// 0.5 obj::crea_track_HOA("play_env_trig_mes24", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf11_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf11_2.abs_dur()], [Norm, lev, 0.03]])  //, [Norm, lev, 0.03]
0.2 obj::crea_track_HOA("play_env_trig_mes26_2", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf11_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf11_2.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trig_mes26_2").set("TPlayBufEnvTrigF", ["rate", 1])
// $tracks("play_env_trig_mes26_2").set("TPlayBufEnvTrigF", ["impulse_rate", 175])
$tracks("play_env_trig_mes26_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("carre3")])
// $tracks("play_env_trig_mes26_2").line_param("TPlayBufEnvTrigF", "rate", 1, 100, 15, "exp")
$tracks("play_env_trig_mes26_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 4, 5, 4, "circ", 175, 5, 170])
$tracks("play_env_trig_mes26_2").amp([0, 2, 0, 7, "quad", 8, 2+$add_beats, 5, 1, -10, 2, -60]) //, free = 0.1, action = ["clearbuf", $rec_buf11_2])

$tracks("play_env_trig_mes26_2").set(CompressorD, [thresh, 0.06])
$tracks("play_env_trig_mes26_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 9, "circ", 1000])

group
{
	$tracks("play_env_trig_mes26_2").traj_circ_interp($cor1_dae, $alto_dae, 3) 
	3 $tracks("play_env_trig_mes26_2").traj_circ_interp($alto_dae, $cor1_dae, 5)

}

// 1 	obj::crea_track_HOA("add+synth_mes_25_3", "group_hoa1", fade_in = 5, amp = 0, doppler = 0, in_channels = 8, [[TAddic_11_8, transp, 1.0, amp, -32.287166595459, d, 1.7999999523163, shift, 0.0, distor, 0.0, lfnoise_amp, 0.0010000000474975, lag, 1.0, width, 2.0, lag_spat, 0.20000000298023, freqs, [ 155.55999755859, 159.80000305176, 228.30000305176, 272.86999511719, 987.77001953125, 1009.3099975586, 1071.1400146484, 2060.0300292969, 2320.1499023438, 3729.3100585938, 3961.9099121094 ], amps, [ 0.99000000953674, 0.47999998927116, 1.4199999570847, 0.8299999833107, 1.960000038147, 1.960000038147, 2.0, 0.81999999284744, 0.68000000715256, 0.37999999523163, 0.66000002622604 ],  pos, [ 0.12996399402618, 0.30929899215698, 0.4181370139122, 0.53308200836182, 0.6851310133934, 0.82978397607803, 1.0146600008011, 1.2761650085449, 1.4498109817505, 1.6701459884644, 1.8492139577866] ]])  //, [Norm, lev, 0.03]
 
// crea_track8 track75 0 0 0 TAddic_11_8 transp 1.0 amp -32.287166595459 d 1.7999999523163 shift 0.0 distor 0.0 lfnoise_amp 0.0010000000474975 lag 1.0 width 2.0 lag_spat 0.20000000298023 freqs ([ 155.55999755859, 159.80000305176, 228.30000305176, 272.86999511719, 987.77001953125, 1009.3099975586, 1071.1400146484, 2060.0300292969, 2320.1499023438, 3729.3100585938, 3961.9099121094 ]) amps ([ 0.99000000953674, 0.47999998927116, 1.4199999570847, 0.8299999833107, 1.960000038147, 1.960000038147, 2.0, 0.81999999284744, 0.68000000715256, 0.37999999523163, 0.66000002622604 ]) pos ([ 0.12996399402618, 0.30929899215698, 0.4181370139122, 0.53308200836182, 0.6851310133934, 0.82978397607803, 1.0146600008011, 1.2761650085449, 1.4498109817505, 1.6701459884644, 1.8492139577866 ])
// $tracks("add+synth_mes_25_3").free()
// bpm 52
// 1 	obj::crea_track_HOA("synth_mes_25_3_1", "group_hoa1", fade_in = 5, amp = 0, doppler = 0, in_channels = 1, [[Bform_mono, freq, 226.61645507812, formfreq, 3766.6623535156, fbwfreq, 548, amp, -6]])  //, [Norm, lev, 0.03]

// Bform_mono freq 226.61645507812 formfreq 3766.6623535156 fbwfreq 548 amp -5.8

// 1 	obj::crea_track_HOA("synth_mes_25_3_1", "group_hoa1", fade_in = 5, amp = 0, doppler = 0, in_channels = 1, [[Bform_mono, freq, 226.61645507812, formfreq, 3766.6623535156, fbwfreq, 548, amp, -6]])  //, [Norm, lev, 0.03]





// $tracks("synth_mes_25_3_1").free(3)
// $tracks("synth_mes_25_3_2").free(3)


// NOTE 60 1 mes26_0_2

// print mes26_0_2




NOTE 60 1 mes26_0_4

print mes26_0_4

// $tracks("warp1_play_trb_28_3_n").free(6)
// $tracks("play_env_trig_mes23_3_2").free(1)

$rec_buf12_2.rec($trb)
// 0.1 $Servers("server1").g_dumpTree(0, 1)

// print (""+$rec_buf11_2.id())
// 0.5 obj::crea_track_HOA("play_env_trig_mes24", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf11_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf11_2.abs_dur()], [Norm, lev, 0.03]])  //, [Norm, lev, 0.03]
0.2 obj::crea_track_HOA("play_env_trig_mes26_0_4", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf12_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf12_2.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trig_mes26_0_4").set("TPlayBufEnvTrigF", ["rate", 1])
// $tracks("play_env_trig_mes26_0_4").set("TPlayBufEnvTrigF", ["impulse_rate", 205])
$tracks("play_env_trig_mes26_0_4").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("carre3")])
// $tracks("play_env_trig_mes26_0_4").line_param("TPlayBufEnvTrigF", "rate", 1, 100, 15, "exp")
$tracks("play_env_trig_mes26_0_4").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 4, 5, 4+7, "circ", 205, 5, 200])
$tracks("play_env_trig_mes26_0_4").amp([0, 2, 0, 7, "quad", 8, 2+$add_beats, 5, 1, -10, 2, -60], action = ["clearbuf", $rec_buf12_2])
// $tracks("play_env_trig_mes26_0_4").rand_lfo("TPlayBufEnvTrigF", "rate", -2, 2, 1, "linear", 200)
// $tracks("play_env_trig_mes26_0_4").lfo_abort("TPlayBufEnvTrigF", "rate")
// $tracks("play_env_trig_mes26_0_4").amp(6)
// $tracks("play_env_trig_mes26_0_4").free()
// $tracks("play_env_trig_mes26_0_4").mod_add(Norm)

$tracks("play_env_trig_mes26_0_4").set(CompressorD, [thresh, 0.06])
$tracks("play_env_trig_mes26_0_4").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 9, "circ", 1000])

group
{
	$tracks("play_env_trig_mes26_0_4").traj_circ_interp($trp_dae, $vln_dae, 6) 
	6 $tracks("play_env_trig_mes26_0_4").traj_circ_interp($vln_dae, $fl_dae, 4) 
}


1 $rec_buf13_2.rec($bsn)

0.1 obj::crea_track_HOA("play_env_trig_mes26_0_4_2", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf13_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf13_2.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trig_mes26_0_4_2").set("TPlayBufEnvTrigF", ["rate", 1])
$tracks("play_env_trig_mes26_0_4_2").set("TPlayBufEnvTrigF", ["impulse_rate", 160])
$tracks("play_env_trig_mes26_0_4_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("carre3")])
// $tracks("play_env_trig_mes26_0_4_2").line_param("TPlayBufEnvTrigF", "rate", 1, 100, 15, "exp")
$tracks("play_env_trig_mes26_0_4_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 4, 5, 4+7, "circ", 160, 5, 160])
$tracks("play_env_trig_mes26_0_4_2").amp([0, 2, 0, 7, "quad", 8, 2+$add_beats, 5, 1, -10, 2, -60]) //, free = 0.1, action = ["clearbuf", $rec_buf13_2])
$tracks("play_env_trig_mes26_0_4_2").set(CompressorD, [thresh, 0.035])
$tracks("play_env_trig_mes26_0_4_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 9, "circ", 1000])

group
{
	$tracks("play_env_trig_mes26_0_4_2").traj_circ_interp($bsn_dae, $alto_dae, 9.2) 
	9.2 $tracks("play_env_trig_mes26_0_4_2").traj_circ_interp($alto_dae, $cor1_dae, 5) 

}
// $tracks("play_env_trig_mes26_0_4_2").amp(8)

NOTE 60 1 mes_33_4_nnn

print mes_33_4_nnn

obj::crea_track_HOA("synth_sustract_mes_30_4_1", "group_hoa3", fade_in = 5, amp = -120, doppler = 0, in_channels = 8, [[TSustract, transp, 1.5909999608994, amp, 0, lag, 1.0, width, 2.0, lag_spat, 0.20000000298023, freqs, [ 111.84999847412, 141.88000488281, 196.0, 228.30000305176, 369.98999023438, 523.25, 622.25, 698.46002197266, 698.46002197266, 739.98999023438, 783.98999023438, 783.98999023438, 1136.75, 1479.9799804688, 1661.2199707031, 2349.3200683594, 3520.0, 3951.0700683594, 4434.919921875, 4735.509765625 ], amps, [ 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.5900000333786, 1.6399999856949, 1.6399999856949, 0.0, 1.8099999427795, 0.0, 1.6799999475479, 0.76999998092651, 0.74000000953674, 1.7200000286102, 1.0900000333786, 0.31999999284744 ], rings, [ 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.074000000953674, 0.06700000166893, 0.064999997615814, 0.064999997615814, 0.064999997615814, 0.064999997615814, 0.064999997615814, 0.063000001013279, 0.063000001013279, 0.068000003695488, 0.068000003695488, 0.068000003695488 ], pos, [ 0.0, 0.10000000149012, 0.20000000298023, 0.30000001192093, 0.40000000596046, 0.5, 0.60000002384186, 0.69999998807907, 0.80000001192093, 0.89999997615814, 1.0, 1.1000000238419, 1.2000000476837, 1.2999999523163, 1.3999999761581, 1.5, 1.6000000238419, 1.7000000476837, 1.7999999523163, 1.8999999761581 ]]])
$tracks("synth_sustract_mes_30_4_1").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 10) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
$tracks("synth_sustract_mes_30_4_1").amp([-120, 3, -40, 7, -45])

obj::crea_track_HOA("synth_sustract_mes_30_4_2", "group_hoa3", fade_in = 5, amp = -120, doppler = 0, in_channels = 8, [[TSustract, transp, 1.5909999608994, amp, 0, lag, 1.0, width, 2.0, lag_spat, 0.20000000298023, freqs, [ 82.410003662109, 116.54000091553, 174.61000061035, 233.08000183105, 246.94000244141, 369.98999023438, 415.29998779297, 466.16000366211, 698.46002197266, 1108.7299804688, 1567.9799804688, 1941.1199951172, 3951.0700683594, 3961.9099121094, 4735.509765625, 5587.6499023438, 5919.91015625, 5919.91015625, 5919.91015625, 6374.8701171875 ], amps, [ 0.0, 0.0, 0.0, 0.96428573131561, 0.63095235824585, 0.96428573131561, 0.63095235824585, 0.97619044780731, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0 ], rings, [ 0.28571429848671, 0.28571429848671, 0.27380952239037, 0.26190477609634, 0.26190477609634, 0.25446426868439, 0.23809523880482, 0.22619047760963, 0.29761904478073, 0.26607137918472, 0.26190477609634, 0.26190477609634, 0.26190477609634, 0.26190477609634, 0.26190477609634, 0.25, 0.25, 0.27380952239037, 0.27380952239037, 0.27380952239037 ], pos, [ 0.0, 0.049952498369977, 0.099954999240078, 0.14995750383566, 0.19996000098028, 0.24996249812491, 0.29996501017144, 0.34996749241416, 0.39997000446069, 0.44997248670341, 0.49997499874994, 0.54997751079647, 0.599980022843, 0.64998247528191, 0.69998498732844, 0.74998749937497, 0.7999900114215, 0.84999252346803, 0.89999497590694, 0.94999748795347 ]]])
$tracks("synth_sustract_mes_30_4_2").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 10) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
$tracks("synth_sustract_mes_30_4_2").amp([-120, 3, -60, 7, -45])


$rec_buf28_1.rec($cor1)
// 0.1 $Servers("server1").g_dumpTree(0, 1)

0.1 obj::crea_track_HOA("play_env_trig_mes33_4_nnn", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf28_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf28_1.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
$tracks("play_env_trig_mes33_4_nnn").set("TPlayBufEnvTrigF", ["impulse_rate", 204])
$tracks("play_env_trig_mes33_4_nnn").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("carre3")])
$tracks("play_env_trig_mes33_4_nnn").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 3, 5, 8, "circ", 204, 5, 204])
$tracks("play_env_trig_mes33_4_nnn").amp([0, 2, 0, 7, "quad", 8, 5+$add_beats, 5, 1, -10, 2, -60], action = ["clearbuf", $rec_buf28_1])
$tracks("play_env_trig_mes33_4_nnn").set(CompressorD, [thresh, 0.035])
$tracks("play_env_trig_mes33_4_nnn").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 8, "circ", 1000])

group
{
	$tracks("play_env_trig_mes33_4_nnn").traj_circ_interp($cor1_dae, $bsn_dae, 5) 
	5 $tracks("play_env_trig_mes33_4_nnn").traj_circ_interp($bsn_dae, $fl_dae, 4) 
}

// $tracks("play_env_trig_mes33_4_nnn").amp(-20)

NOTE 60 1 mes27_0_1

print mes27_0_1


$tracks("warp1_play_trb_31_n").free(3)

/// HACER
/*$rec_buf14_2.rec($cor2)
// 0.1 $Servers("server1").g_dumpTree(0, 1)

// print (""+$rec_buf11_2.id())
// 0.5 obj::crea_track_HOA("play_env_trig_mes24", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf11_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf11_2.abs_dur()], [Norm, lev, 0.03]])  //, [Norm, lev, 0.03]
0.2 obj::crea_track_HOA("play_env_trig_mes27_0_1", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf14_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf14_2.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trig_mes27_0_1").set("TPlayBufEnvTrigF", ["rate", 1])
$tracks("play_env_trig_mes27_0_1").set("TPlayBufEnvTrigF", ["impulse_rate", 107])
$tracks("play_env_trig_mes27_0_1").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("carre3")])
// $tracks("play_env_trig_mes27_0_1").line_param("TPlayBufEnvTrigF", "rate", 1, 100, 15, "exp")
$tracks("play_env_trig_mes27_0_1").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 4, 5, 3, "circ", 107, 5, 107])
// $tracks("play_env_trig_mes27_0_1").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 5, 150])
$tracks("play_env_trig_mes27_0_1").amp([0, 2, 0, 7, "quad", 8, 2+$add_beats, 5, 1, -10, 2, -60]) //, free = 0.1, action = ["clearbuf", $rec_buf14_2])
$tracks("play_env_trig_mes27_0_1").set(CompressorD, [thresh, 0.035])
$tracks("play_env_trig_mes27_0_1").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 8, "circ", 1000])

group
{
	$tracks("play_env_trig_mes27_0_1").traj_circ_interp($cor2_dae, $alto_dae, 8) 
	1.5 $tracks("play_env_trig_mes27_0_1").traj_circ_interp($alto_dae, $trp_dae, 4) 
}*/



// $tracks("play_env_trig_mes27_0_1").amp(8)

NOTE 60 1 mes27_0_2

print mes27_0_2

$rec_buf15_2_1.rec($htb)
// 0.1 $Servers("server1").g_dumpTree(0, 1)

0.1 obj::crea_track_HOA("play_env_trig_mes27_0_2", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf15_2_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf15_2_1.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
$tracks("play_env_trig_mes27_0_2").set("TPlayBufEnvTrigF", ["impulse_rate", 112])
$tracks("play_env_trig_mes27_0_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("carre3")])
$tracks("play_env_trig_mes27_0_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 4, 5, 3, "circ", 112, 5, 112])
$tracks("play_env_trig_mes27_0_2").amp([0, 2, 0, 7, "quad", 8, 2+$add_beats, 5, 1, -10, 2, -60]) //, free = 0.1, action = ["clearbuf", $rec_buf15_2_1])
$tracks("play_env_trig_mes27_0_2").set(CompressorD, [thresh, 0.035])
$tracks("play_env_trig_mes27_0_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 8, "circ", 1000])

group
{
	$tracks("play_env_trig_mes27_0_2").traj_circ_interp($htb_dae, $vln_dae, 5) 
	5 $tracks("play_env_trig_mes27_0_2").traj_circ_interp($vln_dae, $htb_dae, 4) 
}

// $tracks("play_env_trig_mes27_0_2").amp(8)

obj::crea_track_HOA("play_env_trigBufRd_mes27_0_2", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf15_2_1.id(), envbuf, $envs("server1")("perc"), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trigBufRd_mes27_0_2").set("TBufRdEnvTrig", ["impulse_rate", 40])
$tracks("play_env_trigBufRd_mes27_0_2").set("TBufRdEnvTrig", [envbuf, $envs("server1")("perc")])
$tracks("play_env_trigBufRd_mes27_0_2").bpf_param("TBufRdEnvTrig", "rate", [1, 9, "circ", 2])
$tracks("play_env_trigBufRd_mes27_0_2").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 9, "circ", 50])
$tracks("play_env_trigBufRd_mes27_0_2").amp([-10, 2, 8, 5, "quad", 10, 2, 7, 1, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf15_2_1])
$tracks("play_env_trigBufRd_mes27_0_2").traj_circ_interp($htb_dae, $bsn_dae, 5) 
// $tracks("play_env_trigBufRd_mes27_0_2").free()

NOTE 60 1 mes_33_4_n

print mes_33_4_n

$rec_buf24_1.rec($trp)
// 0.1 $Servers("server1").g_dumpTree(0, 1)

0.1 obj::crea_track_HOA("play_env_trig_mes33_4_n", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf24_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf24_1.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
$tracks("play_env_trig_mes33_4_n").set("TPlayBufEnvTrigF", ["impulse_rate", 217])
$tracks("play_env_trig_mes33_4_n").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("carre3")])
$tracks("play_env_trig_mes33_4_n").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 4, 5, 3, "circ", 217, 5, 217])
$tracks("play_env_trig_mes33_4_n").amp([0, 2, 0, 7, "quad", 8, 2+$add_beats, 5, 1, -10, 2, -60], action = ["clearbuf", $rec_buf24_1])
$tracks("play_env_trig_mes33_4_n").set(CompressorD, [thresh, 0.035])
$tracks("play_env_trig_mes33_4_n").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 8, "circ", 1000])

group
{
	$tracks("play_env_trig_mes33_4_n").traj_circ_interp($trb_dae, $bsn_dae, 5) 
	5 $tracks("play_env_trig_mes33_4_n").traj_circ_interp($bsn_dae, $fl_dae, 4) 
}

obj::crea_track_HOA("play_env_trigBufRd_mes33_4_n", "group_hoa1", fade_in = 1, amp = -60, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf15_2_1.id(), envbuf, $envs("server1")("perc"), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trigBufRd_mes33_4_n").set("TBufRdEnvTrig", ["impulse_rate", 40])
$tracks("play_env_trigBufRd_mes33_4_n").set("TBufRdEnvTrig", [envbuf, $envs("server1")("perc")])
$tracks("play_env_trigBufRd_mes33_4_n").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 10, 60, "circ"])
$tracks("play_env_trigBufRd_mes33_4_n").bpf_param("TBufRdEnvTrig", "rate", [1, 10, "circ", 2.5])
$tracks("play_env_trigBufRd_mes33_4_n").amp([-10, 2, 8, 5, "quad", 10, 2, 7, 1, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf15_2_1])
$tracks("play_env_trigBufRd_mes33_4_n").traj_circ_interp($trp_dae, $cl_dae, 9) 
// $tracks("play_env_trigBufRd_mes33_4_n").free()


0.7 $rec_buf25_1.rec($cl)
// 0.1 $Servers("server1").g_dumpTree(0, 1)

0.1 obj::crea_track_HOA("play_env_trig_mes33_4_n2", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf25_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf25_1.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
$tracks("play_env_trig_mes33_4_n2").set("TPlayBufEnvTrigF", ["impulse_rate", 264])
$tracks("play_env_trig_mes33_4_n2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("carre3")])
$tracks("play_env_trig_mes33_4_n2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 4, 5, 3, "circ", 264, 5, 264])
$tracks("play_env_trig_mes33_4_n2").amp([0, 2, 0, 7, "quad", 8, 2+$add_beats, 5, 1, -10, 2, -60]) //, free = 0.1, action = ["clearbuf", $rec_buf25_1])
$tracks("play_env_trig_mes33_4_n2").set(CompressorD, [thresh, 0.035])
$tracks("play_env_trig_mes33_4_n2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 8, "circ", 1000])

group
{
	$tracks("play_env_trig_mes33_4_n2").traj_circ_interp($cl_dae, $trp_dae, 5) 
	5 $tracks("play_env_trig_mes33_4_n2").traj_circ_interp($trp_dae, $cor2_dae, 4) 
}

obj::crea_track_HOA("play_env_trigBufRd_mes33_4_n2", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf25_1.id(), envbuf, $envs("server1")("perc"), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trigBufRd_mes33_4_n2").set("TBufRdEnvTrig", ["impulse_rate", 40])
$tracks("play_env_trigBufRd_mes33_4_n2").set("TBufRdEnvTrig", [envbuf, $envs("server1")("perc")])
$tracks("play_env_trigBufRd_mes33_4_n2").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 8, "circ", 70])
$tracks("play_env_trigBufRd_mes33_4_n2").bpf_param("TBufRdEnvTrig", "rate", [1, 10, 3.5])
$tracks("play_env_trigBufRd_mes33_4_n2").amp([-10, 2, 8, 5, "quad", 10, 2, 7, 1, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf25_1])
$tracks("play_env_trigBufRd_mes33_4_n2").traj_circ_interp($cl_dae, $bsn_dae, 8) 

// $tracks("play_env_trig_mes33_4_n2").amp(8)

NOTE 60 1 mes_34_nn

print mes_34_nn

 $rec_buf26_1.rec($fl)
// 0.1 $Servers("server1").g_dumpTree(0, 1)

0.1 obj::crea_track_HOA("play_env_trig_mes34_nn", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf26_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf26_1.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
$tracks("play_env_trig_mes34_nn").set("TPlayBufEnvTrigF", ["impulse_rate", 264])
$tracks("play_env_trig_mes34_nn").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("carre3")])
$tracks("play_env_trig_mes34_nn").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 4, 5, 3, "circ", 233, 5, 233])
$tracks("play_env_trig_mes34_nn").amp([0, 2, 0, 7, "quad", 8, 2+$add_beats, 5, 1, -10, 2, -60]) //, free = 0.1, action = ["clearbuf", $rec_buf26_1])
$tracks("play_env_trig_mes34_nn").set(CompressorD, [thresh, 0.035])
$tracks("play_env_trig_mes34_nn").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 8, "circ", 1000])

group
{
	$tracks("play_env_trig_mes34_nn").traj_circ_interp($fl_dae, $trp_dae, 5) 
	5 $tracks("play_env_trig_mes34_nn").traj_circ_interp($fl_dae, $cor2_dae, 4) 
}

obj::crea_track_HOA("play_env_trigBufRd_mesmes34_nn", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf26_1.id(), envbuf, $envs("server1")("perc"), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trigBufRd_mesmes34_nn").set("TBufRdEnvTrig", ["impulse_rate", 40])
$tracks("play_env_trigBufRd_mesmes34_nn").set("TBufRdEnvTrig", [envbuf, $envs("server1")("perc")])
$tracks("play_env_trigBufRd_mesmes34_nn").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 8, "circ", 70])
$tracks("play_env_trigBufRd_mesmes34_nn").bpf_param("TBufRdEnvTrig", "rate", [1, 10, "linear", 3.5])
$tracks("play_env_trigBufRd_mesmes34_nn").amp([-10, 2, 8, 3, "quad", 10, 2, 6, 1, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf26_1])
$tracks("play_env_trigBufRd_mesmes34_nn").traj_circ_interp($fl_dae, $vln_dae, 8) 

NOTE 60 1 mes_26_2

print mes_26_2


/*$rec_buf11_2.rec($trp)
// 0.1 $Servers("server1").g_dumpTree(0, 1)

// print (""+$rec_buf11_2.id())
// 0.5 obj::crea_track_HOA("play_env_trig_mes24", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf11_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf11_2.abs_dur()], [Norm, lev, 0.03]])  //, [Norm, lev, 0.03]
0.2 obj::crea_track_HOA("play_env_trig_mes26_2", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf11_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf11_2.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trig_mes26_2").set("TPlayBufEnvTrigF", ["rate", 1])
// $tracks("play_env_trig_mes26_2").set("TPlayBufEnvTrigF", ["impulse_rate", 175])
$tracks("play_env_trig_mes26_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("carre3")])
// $tracks("play_env_trig_mes26_2").line_param("TPlayBufEnvTrigF", "rate", 1, 100, 15, "exp")
$tracks("play_env_trig_mes26_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 4, 5, 4, "circ", 175, 5, 170])
$tracks("play_env_trig_mes26_2").amp([0, 2, 0, 7, "quad", 8, 2, 5, 1, -10, 2, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
// $tracks("play_env_trig_mes26_2").rand_lfo("TPlayBufEnvTrigF", "rate", -2, 2, 1, "linear", 200)
// $tracks("play_env_trig_mes26_2").lfo_abort("TPlayBufEnvTrigF", "rate")
// $tracks("play_env_trig_mes26_2").amp(6)
// $tracks("play_env_trig_mes26_2").free()
// $tracks("play_env_trig_mes26_2").mod_add(Norm)
$tracks("play_env_trig_mes26_2").traj_circ_interp($trp_dae, $alto_dae, 9.2) 

$tracks("play_env_trig_mes26_2").set(CompressorD, [thresh, 0.02])
$tracks("play_env_trig_mes26_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 9, "circ", 1000])*/

// 3 $tracks("warp1_play_cl_mes_25_3").free(10)
1 	obj::crea_track_HOA("synth_mes_25_3_1", "group_hoa3", fade_in = 7, amp = -15, doppler = 0, in_channels = 1, [[Bform_mono, freq, 126.68891906738, formfreq, 3765.9609375, bwfreq, 548.0, amp, -17], [TGranIn_mono, envbuf, $envs("server3")("rond"), trigRate, 8.8000001907349, trigRateDev, 0.0, dur, 0.03999999910593]] )
	$tracks("synth_mes_25_3_1").bpf_param(TGranIn_mono, trigRate, [8.8, 7, "circ", 15])
	$tracks("synth_mes_25_3_1").amp([-30, 4, -15])
	group
	{
		// $tracks("synth_mes_25_3_1").traj_circ_interp($cl_dae, $alto_dae, 10)
		$tracks("synth_mes_25_3_1").dae_rand_lfo([0.8, 2, 1, -180, 180, -45, 0, 90, 0])
	}

// $tracks("synth_mes_25_3_1").free()

1.5 obj::crea_track_HOA("synth_mes_25_3_2", "group_hoa3", fade_in = 7, amp = -12, doppler = 0, in_channels = 1, [[Bform_mono, freq, 226.61645507812, formfreq, 3766.6623535156, bwfreq, 200.0, amp, -17], [TGranIn_mono, envbuf, $envs("server3")("rond"), trigRate, 6.5999999046326, trigRateDev, 0.0, dur, 0.035000000149012]] )
	$tracks("synth_mes_25_3_2").bpf_param(TGranIn_mono, trigRate, [6.5999999, 5, "circ", 18])
	$tracks("synth_mes_25_3_2").amp([-30, 3, -12])
	// $tracks("synth_mes_25_3_2").traj_circ_interp($trp_dae, $alto_dae, 4)
	group
	{
		// $tracks("synth_mes_25_3_2").traj_circ_interp($trp_dae, $alto_dae, 10)
		$tracks("synth_mes_25_3_2").dae_rand_lfo([0.8, 2, 1, -180, 180, 45, 0, 90, 0])
	}

// $tracks("synth_mes_25_3_2").free()

NOTE 60 1 mes_37_2N

print mes_37_2N

$mes_37_2N_amp := 3

obj::crea_track_HOA("synth_vowel_mes_37_2N_1", "group_hoa3", fade_in = 0.1, amp = -120, doppler = 0, in_channels = 1, [[Vowel_dyn_u_soprano]])
$tracks("synth_vowel_mes_37_2N_1").bpf_param("Vowel_dyn_u_soprano", "imp_freq", [11.1774, 2.39246, "quart_in", 172.092, 6.1648, "linear", 39.3654])
$tracks("synth_vowel_mes_37_2N_1").bpf_param("Vowel_dyn_u_soprano", "freqscale", [19.3932, 8.55727, "linear", 19.9683])
$tracks("synth_vowel_mes_37_2N_1").amp([-60.0, 0.4572, "linear", 14.12543+$mes_37_2N_amp, 2.63075, "exp_in", 14.12543+$mes_37_2N_amp, 7, 14.12543+$mes_37_2N_amp, 5, -36.6445, 3.33083, "linear", -59.2381, 1.1385, "linear", -120.0], free = 0.1)
$tracks("synth_vowel_mes_37_2N_1").traj_circ_interp($alto_dae, $vlc_dae, 9.2) 

0.5 obj::crea_track_HOA("synth_vowel_mes_37_2N_2", "group_hoa3", fade_in = 0.1, amp = -120, doppler = 0, in_channels = 1, [[Vowel_dyn_i_counterTenor]])
$tracks("synth_vowel_mes_37_2N_2").bpf_param("Vowel_dyn_i_counterTenor", "imp_freq", [77, 4, "quart_in", 30, 6.1648, "linear", 10])
$tracks("synth_vowel_mes_37_2N_2").bpf_param("Vowel_dyn_i_counterTenor", "freqscale", [21.3932, 8.55727, "linear", 19])
$tracks("synth_vowel_mes_37_2N_2").amp([-60.0, 0.1, "linear", 25.12543+$mes_37_2N_amp, 2.63075, "exp_in", 25.12543+$mes_37_2N_amp, 7, "linear", 35.12543+$mes_37_2N_amp, 5, -120], free = 0.1)

group 
{
	$tracks("synth_vowel_mes_37_2N_2").traj_circ_interp($cl_dae, $cor2, 7) 
	// 2 $tracks("synth_vowel_mes_37_2N_2").traj_circ_interp($cor2, $fl, 2) 
}

NOTE 60 1 mes_28_3

print mes_28_3

$tracks("synth_sustract_mes_30_4_1").free(10)
$tracks("synth_sustract_mes_30_4_2").free(10)

// $tracks("warp1_play_cl_mes_25_3").free(4) // enlev
// $tracks("play_env_trig_mes_25_3").free(4)

/// BUG TEMPO ANTESCOFO
// $tracks("play_env_trig_mes24").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [100, 5, 15])
// $tracks("play_env_trig_mes24").amp([-10, 5, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]

// $tracks("play_env_trig_mes26_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [175, 5, 20])
// $tracks("play_env_trig_mes26_2").amp([8, 2, 5, 1, -10, 2, -60], free = 0.1)
	
	group 
	{
		$rec_buf29_1.rec($cl)

		// 0.1 obj::crea_track_HOA("warp1_play_cl_mes_28_3", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf29_1.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
		0.1 obj::crea_track_HOA("warp1_play_cl_mes_28_3", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf29_1.id(), envbuf, $envs("server1")("pointe")], [Multi5BandPass, xFade, 0], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], ["TJPverb_mono", t60, 3]]) // track without encoder 
		$tracks("warp1_play_cl_mes_28_3").rand_lfo_dyn("Warp1Play", "pos", 0.0, "linear", 60, $rec_buf29_1)
		$tracks("warp1_play_cl_mes_28_3").traj_circ_interp($cl_dae, $cor2_dae, 8.2) 
	    $tracks("warp1_play_cl_mes_28_3").line_param(Multi5BandPass, xFade, 0, 1, 2) 


		2 group
		{
			// cambiar interpol
		$tracks("warp1_play_cl_mes_28_3").interpol_formant(Multi5BandPass, "bassU", "tenorI", 5) 

		// $tracks("warp1_play_cl_mes_28_3").interpol_2tab_param(Multi5BandPass, freqs, [$formants("bassU")[0], $formants("tenorI")[0]], 5) 
		// $tracks("warp1_play_cl_mes_28_3").interpol_2tab_param(Multi5BandPass, amps, [$formants("bassU")[1], $formants("tenorI")[1]], 5) 
		// $tracks("warp1_play_cl_mes_28_3").interpol_2tab_param(Multi5BandPass, q, [$formants("bassU")[2], $formants("tenorI")[2]], 5) 

		5 	$tracks("warp1_play_cl_mes_28_3").interpol_formant(Multi5BandPass, "tenorI", "sopranoU", 10) 

		// $tracks("warp1_play_cl_mes_28_3").interpol_2tab_param(Multi5BandPass, freqs, [$formants("tenorI")[0], $formants("sopranoU")[0]], 10) 
		// $tracks("warp1_play_cl_mes_28_3").interpol_2tab_param(Multi5BandPass, amps, [$formants("tenorI")[1], $formants("sopranoU")[1]], 10) 
		// $tracks("warp1_play_cl_mes_28_3").interpol_2tab_param(Multi5BandPass, q, [$formants("tenorI")[2], $formants("sopranoU")[2]], 10) 
		}
	}


group mes_28_3
{
	$rec_buf3_2.rec($vln)
	$rec_buf4_2.rec($alto)
	

	// 0.5 obj::crea_track_HOA("warp1_play_vln_mes_28_3", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf3_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
	0.5 obj::crea_track_HOA("warp1_play_vln_mes_28_3", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf3_2.id(), envbuf, $envs("server1")("pointe")], [Multi5BandPass, xFade, 0], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], ["TJPverb_mono", t60, 3]]) // track without encoder 

	$tracks("warp1_play_vln_mes_28_3").rand_lfo_dyn("Warp1Play", "pos", 0.0, "linear", 60, $rec_buf3_2)
	$tracks("warp1_play_vln_mes_28_3").traj_circ_interp($vln_dae, $cb_dae, 8.2) 
    $tracks("warp1_play_vln_mes_28_3").line_param(Multi5BandPass, xFade, 0, 1, 3) 

	group
	{
	3 $tracks("warp1_play_vln_mes_28_3").interpol_formant(Multi5BandPass, "bassA", "tenorE", 5) 
	// $tracks("warp1_play_vln_mes_28_3").interpol_2tab_param(Multi5BandPass, freqs, [$formants("bassA")[0], $formants("tenorE")[0]], 5) 
	// $tracks("warp1_play_vln_mes_28_3").interpol_2tab_param(Multi5BandPass, amps, [$formants("bassA")[1], $formants("tenorE")[1]], 5) 
	// $tracks("warp1_play_vln_mes_28_3").interpol_2tab_param(Multi5BandPass, q, [$formants("bassA")[2], $formants("tenorE")[2]], 5) 

	5 	$tracks("warp1_play_vln_mes_28_3").interpol_formant(Multi5BandPass, "tenorE", "altoE", 10) 
	// $tracks("warp1_play_vln_mes_28_3").interpol_2tab_param(Multi5BandPass, freqs, [$formants("tenorE")[0], $formants("altoE")[0]], 10) 
	// $tracks("warp1_play_vln_mes_28_3").interpol_2tab_param(Multi5BandPass, amps, [$formants("tenorE")[1], $formants("altoE")[1]], 10) 
	// $tracks("warp1_play_vln_mes_28_3").interpol_2tab_param(Multi5BandPass, q, [$formants("tenorE")[2], $formants("altoE")[2]], 10) 
	}

	// obj::crea_track_HOA("warp1_play_alto_mes_28_3", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf4_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
	obj::crea_track_HOA("warp1_play_alto_mes_28_3", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf4_2.id(), envbuf, $envs("server1")("pointe")], [Multi5BandPass, xFade, 0], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], ["TJPverb_mono", t60, 3]]) // track without encoder 

	$tracks("warp1_play_alto_mes_28_3").rand_lfo_dyn("Warp1Play", "pos", 0.0, "linear", 60, $rec_buf4_2)
	$tracks("warp1_play_alto_mes_28_3").traj_circ_interp($alto_dae, $vlc_dae, 8.2) 
	$tracks("warp1_play_alto_mes_28_3").line_param(Multi5BandPass, xFade, 0, 1, 3)

	group
	{
	// $tracks("warp1_play_alto_mes_28_3").interpol_2tab_param(Multi5BandPass, freqs, [$formants("bassI")[0], $formants("altoO")[0]], 5) 
	// $tracks("warp1_play_alto_mes_28_3").interpol_2tab_param(Multi5BandPass, amps, [$formants("bassI")[1], $formants("altoO")[1]], 5) 
	// $tracks("warp1_play_alto_mes_28_3").interpol_2tab_param(Multi5BandPass, q, [$formants("bassI")[2], $formants("altoO")[2]], 5) 
		3 $tracks("warp1_play_alto_mes_28_3").interpol_formant(Multi5BandPass, "bassI", "altoO", 5) 

	// 5 $tracks("warp1_play_alto_mes_28_3").interpol_2tab_param(Multi5BandPass, freqs, [$formants("altoO")[0], $formants("counterTenorA")[0]], 10) 
	// $tracks("warp1_play_alto_mes_28_3").interpol_2tab_param(Multi5BandPass, amps, [$formants("altoO")[1], $formants("counterTenorA")[1]], 10) 
	// $tracks("warp1_play_alto_mes_28_3").interpol_2tab_param(Multi5BandPass, q, [$formants("altoO")[2], $formants("counterTenorA")[2]], 10) 
		5 $tracks("warp1_play_alto_mes_28_3").interpol_formant(Multi5BandPass, "altoO", "counterTenorA", 5) 

	}	
}



0.5 $tracks("play_env_trig_mes26_2").free(0.2)
$tracks("play_env_trig_mes26_0_4").free(0.2)
// $tracks("play_env_trig_mes27_0_1").free(0.2)
$tracks("play_env_trig_mes27_0_2").free(0.2)
$tracks("play_env_trig_mes26_0_4_2").free(0.2)
$tracks("play_env_trig_mes33_4_n").free(0.2)
$tracks("play_env_trig_mes33_4_n2").free(0.2)
$tracks("play_env_trig_mes33_4_nnn").free(0.2)
$tracks("play_env_trig_mes34_nn").free(0.2)

// 5.1 $tracks("play_env_trig_mes24").free(2)
// $tracks("play_env_trig_mes26_2").free(2)

NOTE 60 1 mes_33_1 //new event

print mes_33_1


group
{
	$rec_buf9_2.rec($trb)

	obj::crea_track_HOA("warp1_play_trb_mes_33_1", "group_hoa1", fade_in = 0.5, amp = -3, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf9_2.id(), envbuf, $envs("server1")("pointe")], [Multi5BandPass, xFade, 0], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], ["TJPverb_mono", t60, 3]]) // track without encoder 

	// obj::crea_track_HOA("warp1_play_trb_mes_33_1", "group_hoa1", fade_in = 0.5, amp = 4, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf9_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 3]]) // track without encoder 
	// 0.1 obj::crea_track_HOA("warp1_play_trb_mes_33_1", "group_hoa1", fade_in = 0.5, amp = 4, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf9_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 3], ["TGranInterpExt","dur", 0.0020000000949949, "durDev", 0.0, "ifac", 0.0, "ampDev", 0.0, "envbuf0", ($envs("server1")("pointe")), "envbuf1", ($envs("server1")("inv"))]]) // track without encoder 
	$tracks("warp1_play_trb_mes_33_1").rand_lfo_dyn("Warp1Play", "pos", 0.01, "linear", 50, $rec_buf9_2)
	// $tracks("warp1_play_trb_mes_33_1").traj_circ_interp($trb_dae, $fl_dae, 8.2) 
	$tracks("warp1_play_trb_mes_33_1").dae_rand_lfo([0.8, 3, $trb_dae[0], -180, 180, $trb_dae[1], 0, 90, 0], 20)
	$tracks("warp1_play_trb_mes_33_1").amp(-3)

	$tracks("warp1_play_trb_mes_33_1").line_param(Multi5BandPass, xFade, 0, 1, 5)
	$tracks("warp1_play_trb_mes_33_1").interpol_formant_multi(Multi5BandPass, ["altoO", "counterTenorO", "tenorO", "bassO", "tenorA", "bassA"], 1, 3) // formant list, min_time, max_time

}


1 $rec_buf19_2.rec($cor1)

// 0.1 obj::crea_track_HOA("warp1_play_cor_mes_33_1", "group_hoa1", fade_in = 0.5, amp = 4, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf19_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 3]]) // track without encoder 
0.1 obj::crea_track_HOA("warp1_play_cor_mes_33_1", "group_hoa1", fade_in = 0.5, amp = -3, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf19_2.id(), envbuf, $envs("server1")("pointe")], [Multi5BandPass, xFade, 0], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], ["TJPverb_mono", t60, 3]]) // track without encoder 

// 0.1 obj::crea_track_HOA("warp1_play_cor_mes_33_1", "group_hoa1", fade_in = 0.5, amp = 4, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf19_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 3], ["TGranInterpExt","dur", 0.0020000000949949, "durDev", 0.0, "ifac", 0.0, "ampDev", 0.0, "envbuf0", ($envs("server1")("pointe")), "envbuf1", ($envs("server1")("inv"))]]) // track without encoder 
$tracks("warp1_play_cor_mes_33_1").rand_lfo_dyn("Warp1Play", "pos", 0.01, "linear", 50, $rec_buf19_2)
// $tracks("warp1_play_cor_mes_33_1").traj_circ_interp($cor1_dae, $fl_dae, 8.2) 
$tracks("warp1_play_cor_mes_33_1").dae_rand_lfo([0.8, 3, $cor1_dae[0], -180, 180, $cor1_dae[1], 0, 90, 0], 20)
$tracks("warp1_play_cor_mes_33_1").line_param(Multi5BandPass, xFade, 0, 1, 5)

// 	
$tracks("warp1_play_cor_mes_33_1").interpol_formant_multi(Multi5BandPass, ["altoO", "counterTenorO", "tenorO", "bassO", "tenorA", "bassA"], 1, 3) // formant list, min_time, max_time
// $tracks("warp1_play_cor_mes_33_1").interpol_formant_multi_abort(Multi5BandPass)
// $tracks("warp1_play_cor_mes_33_1").free(5)

NOTE 60 1 mes_29_2

print mes_29_2


$rec_buf6_2.rec($cor2)

obj::crea_track_HOA("warp1_play_cor_mes_29_2", "group_hoa1", fade_in = 0.5, amp = -3, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf6_2.id(), envbuf, $envs("server1")("pointe")], [Multi5BandPass, xFade, 0], ["TJPverb_mono", t60, 2]]) // track without encoder 
// $tracks("warp1_play_cor_mes_29_2").rand_lfo_dyn("Warp1Play", "pos", 0.01, "linear", 60, $rec_buf6_2)
$tracks("warp1_play_cor_mes_29_2").rand_lfo("Warp1Play", "pos", 0.01, 1, 0.9, "linear", 60)
// $tracks("warp1_play_cor_mes_29_2").traj_circ_interp($cor1_dae, $bsn_dae, 3.2) 
$tracks("warp1_play_cor_mes_29_2").dae_rand_lfo([0.8, 3, $cor1_dae[0], -180, 180, $cor1_dae[1], 0, 90, 0], 20)
$tracks("warp1_play_cor_mes_29_2").line_param(Multi5BandPass, xFade, 0, 1, 5)
$tracks("warp1_play_cor_mes_29_2").interpol_formant_multi(Multi5BandPass, ["altoO", "counterTenorO", "tenorO", "bassO", "tenorA", "bassA"], 1, 3) // formant list, min_time, max_time

// $tracks("warp1_play_cor_mes_29_2").free()
/*1 	$rec_buf0_1.rec($trb)
	$amp_mes_29_2 := 6
	$dur_29_2 := 4
	$dur_gliss_29_2 := 10

	obj::crea_track_HOA("play_env_trig_mes29_2", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf0_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf0_1.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes29_2").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes29_2").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes29_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes29_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_gliss_29_2, "sine", 310, $dur_29_2 , 310, 5, 290])
	$tracks("play_env_trig_mes29_2").amp([$amp_mes_29_2, 1, $amp_mes_29_2, $dur_gliss_29_2-1, "quad", $amp_mes_29_2+3, $dur_29_2 , $amp_mes_29_2+3, 4, -10, 4, -60], free = 0.1, action = ["clearbuf", $rec_buf0_1])
	$tracks("play_env_trig_mes29_2").traj_circ_interp($cor2_dae, $bsn_dae, $dur_gliss_29_2) 
	$tracks("play_env_trig_mes29_2").set(CompressorD, [thresh, 0.07])
	$tracks("play_env_trig_mes29_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_gliss_29_2, "sine", 2000])
*/

1 obj::crea_track_HOA("play_env_trig_mes29_2", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf6_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf6_2.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]

$tracks("play_env_trig_mes29_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("carre3")])
// // $tracks("play_env_trig_mes29_2").line_param("TPlayBufEnvTrigF", "rate", 1, 100, 15, "exp")
$tracks("play_env_trig_mes29_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 4, 10, 5, "circ", 25, 7, "circ", 50, 31])
$tracks("play_env_trig_mes29_2").amp([0, 2, 0, 4.2, "quad", 6, 2, 6, 2, 0, 2, -10, 5, -60], free = 0.1, action = ["clearbuf", $rec_buf6_2]) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
$tracks("play_env_trig_mes29_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 6.2, "circ", 1000])

group 
{
	$tracks("play_env_trig_mes29_2").traj_circ_interp($cor2_dae, $htb_dae, 8.2) 
	8.2 $tracks("play_env_trig_mes29_2").traj_circ_interp($htb_dae, $vln_dae, 7.2) 
}


$tracks("synth_mes_25_3_1").free(6)
$tracks("synth_mes_25_3_2").free(6)

NOTE 60 1 mes_30

print mes_30

// $tracks("pvoc_play_cb_mes_24_2").free(5)

$rec_buf12_2.rec($htb)

obj::crea_track_HOA("play_env_trig_mes30", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf12_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf12_2.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trig_mes30").set("TPlayBufEnvTrigF", ["rate", 1])
// $tracks("play_env_trig_mes30").set("TPlayBufEnvTrigF", ["impulse_rate", 175])
$tracks("play_env_trig_mes30").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("carre3")])
$tracks("play_env_trig_mes30").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 4, 5, 4, "circ", 175, 5, 20])
$tracks("play_env_trig_mes30").amp([0, 2, 0, 6, "quad", 8, 5, 5, 5, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf12_2])

$tracks("play_env_trig_mes30").traj_circ_interp($htb_dae, $alto_dae, 9.2) 
$tracks("play_env_trig_mes30").set(CompressorD, [thresh, 0.02])
$tracks("play_env_trig_mes30").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 9, "circ", 1000])

obj::crea_track_HOA("play_env_trigBufRd_htb_mes30", "group_hoa1", fade_in = 1, amp = -60, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf12_2.id(), envbuf, $envs("server1")("inv"), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trigBufRd_htb_mes30").set("TBufRdEnvTrig", ["impulse_rate", 40])
$tracks("play_env_trigBufRd_htb_mes30").set("TBufRdEnvTrig", [envbuf, $envs("server1")("inv")])
$tracks("play_env_trigBufRd_htb_mes30").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 6, "circ_in_out", 60, 5, "circ_out", 10])
$tracks("play_env_trigBufRd_htb_mes30").bpf_param("TBufRdEnvTrig", "rate", [1, 6, "circ", 1.5, 5, "circ_out", 1])
$tracks("play_env_trigBufRd_htb_mes30").amp([-10, 2, 8, 4, "quad", 10, 2, 0, 3, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf12_2])
group
{
	$tracks("play_env_trigBufRd_htb_mes30").traj_circ_interp($htb_dae, $alto_dae, 5) 
	5 $tracks("play_env_trigBufRd_htb_mes30").traj_circ_interp($alto_dae, $vlc_dae, 5) 
}


1 $rec_buf0_1.rec($fl)

0.2 obj::crea_track_HOA("play_env_trig_30_1", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf0_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf0_1.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]

$tracks("play_env_trig_30_1").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("carre3")])
// // $tracks("play_env_trig_30_1").line_param("TPlayBufEnvTrigF", "rate", 1, 100, 15, "exp")
$tracks("play_env_trig_30_1").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 4, 10, 5, "circ", 37, 7, "circ", 40])
$tracks("play_env_trig_30_1").amp([0, 2, 0, 4.2, "quad", 6, 2, 6, 2, 0, 2, -10, 5, -60], free = 0.1, action = ["clearbuf", $rec_buf0_1]) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
$tracks("play_env_trig_30_1").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 6.2, "circ", 1000])

group 
{
	$tracks("play_env_trig_30_1").traj_circ_interp($fl_dae, $htb_dae, 8.2) 
	8.2 $tracks("play_env_trig_30_1").traj_circ_interp($htb_dae, $vln_dae, 7.2) 
}

// $rec_buf_pvoc_cb_mes30_2.rec($cb) // record from audio input (if bus = true record from bus)

// // Start play buffers: probar TplayBins para cambiar el timbre
// 0.2 obj::crea_track_HOA("pvoc_play_cb_mes_24_2", "group_hoa1", fade_in = 4, amp = 0, doppler = 0, in_channels = 1, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_cb_mes30_2.id()]]) 
// $tracks("pvoc_play_cb_mes_24_2").rand_lfo("TScrubPvocBuf", "pos", 0., 0.8, 0., "linear", 20, 0.1)
// // $tracks("pvoc_play_cb_mes_24_2").lfo_abort("TScrubPvocBuf", "pos")
// // $tracks("pvoc_play_cb_mes_24_2").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 10, "linear")
// // $tracks("pvoc_play_cb_mes_24_2").lfo_abort("TScrubPvocBuf", "pos")
// $tracks("pvoc_play_cb_mes_24_2").traj_circ_interp($cb_dae, $trp_dae, 6.2) 
// $tracks("pvoc_play_cb_mes_24_2").amp(5)

NOTE 60 1 mes_41_4_n

print mes_41_4_n

group 
{
	$rec_buf1_1.rec($bsn)

	0.2 obj::crea_track_HOA("play_env_trig_41_4_n", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf1_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf1_1.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]

	$tracks("play_env_trig_41_4_n").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("carre3")])
	// // $tracks("play_env_trig_41_4_n").line_param("TPlayBufEnvTrigF", "rate", 1, 100, 15, "exp")
	$tracks("play_env_trig_41_4_n").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 4, 10, 5, "circ", 21, 7, "circ", 30])
	$tracks("play_env_trig_41_4_n").amp([0, 2, 0, 4.2, "quad", 6, 2, 6, 2, -10, 2, -60], free = 0.1) //, action = ["clearbuf", $rec_buf1_1]) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	$tracks("play_env_trig_41_4_n").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 6.2, "circ", 1000])

	$tracks("play_env_trig_41_4_n").dae_rand_lfo([0.8, 3, $bsn_dae[0], -180, 180, $bsn_dae[1], 0, 90, $bsn_dae[2]], 10)

	// $tracks("play_env_trig_41_4_n").traj_circ_interp($bsn_dae, $vln_dae, 10.2) 
	// 10.2 $tracks("play_env_trig_41_4_n").traj_circ_interp($vln_dae, $bsn_dae, 7.2) 
}

obj::crea_track_HOA("play_env_trigBufRd_htb_mes41_4_n", "group_hoa1", fade_in = 1, amp = -60, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf1_1.id(), envbuf, $envs("server1")("inv"), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trigBufRd_htb_mes41_4_n").set("TBufRdEnvTrig", ["impulse_rate", 40])
$tracks("play_env_trigBufRd_htb_mes41_4_n").set("TBufRdEnvTrig", [envbuf, $envs("server1")("inv")])
$tracks("play_env_trigBufRd_htb_mes41_4_n").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 6, "circ_in_out", 60, 5, "circ_out", 10])
$tracks("play_env_trigBufRd_htb_mes41_4_n").bpf_param("TBufRdEnvTrig", "rate", [1, 6, "circ", 1.5, 5, "circ_out", 1])
$tracks("play_env_trigBufRd_htb_mes41_4_n").amp([-10, 2, 8, 4, "quad", 10, 2, 0, 3, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf1_1])
group
{
	$tracks("play_env_trigBufRd_htb_mes41_4_n").traj_circ_interp($bsn_dae, $vln_dae, 5) 
	5 $tracks("play_env_trigBufRd_htb_mes41_4_n").traj_circ_interp($vln_dae, $cor1_dae, 5) 
}


NOTE 60 1 mes_42_3_n

print mes_42_3_n

$rec_buf10_2.rec($cl)

	$amp_mes_42_3_n := 0

	obj::crea_track_HOA("play_env_trig_mes_25_3", "group_hoa1", fade_in = 1, amp = $amp_mes_42_3_n, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf10_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf10_2.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes_25_3").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes_25_3").set("TPlayBufEnvTrigF", ["impulse_rate", 250])
	$tracks("play_env_trig_mes_25_3").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	// $tracks("play_env_trig_mes_25_3").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 15, "circ", 250])
	$tracks("play_env_trig_mes_25_3").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 6, "circ", 70])
	// $tracks("play_env_trig_mes_25_3").amp([$amp_mes_42_3_n, 1, $amp_mes_42_3_n, 9, "quad", $amp_mes_42_3_n+3, 3+$add_beats, $amp_mes_42_3_n+3, 3, -10, 7, -60], free = 0.1, action = ["clearbuf", $rec_buf10_2])
	$tracks("play_env_trig_mes_25_3").amp([$amp_mes_42_3_n, 1, $amp_mes_42_3_n, 3, "quad", $amp_mes_42_3_n+3, 2, $amp_mes_42_3_n+3, 2, -10, 7, -60], free = 0.1) //, action = ["clearbuf", $rec_buf10_2])
		$tracks("play_env_trig_mes_25_3").set(CompressorD, [thresh, 0.2])
	$tracks("play_env_trig_mes_25_3").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 4, "circ", 1000])
	// $tracks("play_env_trig_mes_25_3").amp(6)

	// $tracks("play_env_trig_41_4_n").dae_rand_lfo([0.8, 2, $cl_dae[0], -180, 180, $cl_dae[1], 0, 90, $cl_dae[2]], 10)

group 
{
	$tracks("play_env_trig_mes_25_3").traj_circ_interp($cl_dae, $alto_dae, 7)
	7 $tracks("play_env_trig_mes_25_3").traj_circ_interp($alto_dae, $cl_dae, 7)
}

group
{
	obj::crea_track_HOA("play_env_trigBufRd_htb_mes42_3_n", "group_hoa1", fade_in = 1, amp = -60, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf10_2.id(), envbuf, $envs("server1")("inv"), freqHPF, 20], [CompressorD, thresh, 0.04, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trigBufRd_htb_mes42_3_n").set("TBufRdEnvTrig", ["impulse_rate", 40])
	$tracks("play_env_trigBufRd_htb_mes42_3_n").set("TBufRdEnvTrig", [envbuf, $envs("server1")("inv")])
	$tracks("play_env_trigBufRd_htb_mes42_3_n").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 6, "circ_in_out", 60, 5, "circ_out", 10])
	$tracks("play_env_trigBufRd_htb_mes42_3_n").bpf_param("TBufRdEnvTrig", "rate", [1, 6, "circ", 1.5, 5, "circ_out", 1])
	$tracks("play_env_trigBufRd_htb_mes42_3_n").amp([-10, 2, 8, 4, "quad", 10, 2, 0, 3, -10, 2, -60], free = 0.1) //, action = ["clearbuf", $rec_buf10_2])

	$tracks("play_env_trigBufRd_htb_mes42_3_n").traj_circ_interp($cl_dae, $trp_dae, 5) 
	5 $tracks("play_env_trigBufRd_htb_mes42_3_n").traj_circ_interp($trp_dae, $htb_dae, 5) 
}

group
{
	1 $rec_buf16_2.rec($trp)

	obj::crea_track_HOA("play_env_trig_mes30_2_1", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf16_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf16_2.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.04, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes30_2_1").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes30_2_1").set("TPlayBufEnvTrigF", ["impulse_rate", 175])
	$tracks("play_env_trig_mes30_2_1").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("carre3")])
	$tracks("play_env_trig_mes30_2_1").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 4, 5, 4, "circ", 175, 5, 20])
	$tracks("play_env_trig_mes30_2_1").amp([0, 2, 0, 6, "quad", 8, 5, 5, 5, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf16_2])

	$tracks("play_env_trig_mes30_2_1").traj_circ_interp($trp_dae, $alto_dae, 9.2) 
	$tracks("play_env_trig_mes30_2_1").set(CompressorD, [thresh, 0.04])
	$tracks("play_env_trig_mes30_2_1").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 9, "circ", 1000])
}

group
{
	1 	$tracks("warp1_play_vln_mes_28_3").free(8)
	$tracks("warp1_play_alto_mes_28_3").free(8)
	$tracks("warp1_play_cl_mes_28_3").free(8)
}



NOTE 60 1 mes_30_2

print mes_30_2

// $tracks("warp1_play_cl_mes_33_2").free(15) //new event


0.8 $rec_buf17_2.rec($cor2)

obj::crea_track_HOA("play_env_trig_mes30_2_2", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf17_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf17_2.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.04, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trig_mes30_2_2").set("TPlayBufEnvTrigF", ["rate", 1])
// $tracks("play_env_trig_mes30_2_2").set("TPlayBufEnvTrigF", ["impulse_rate", 175])
$tracks("play_env_trig_mes30_2_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("carre3")])
$tracks("play_env_trig_mes30_2_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 4, 5, 4+4, "circ", 200, 5, 200])
$tracks("play_env_trig_mes30_2_2").amp([-10, 2, -6, 6+4, "quad", 8, 5, 5, 5, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf17_2])

$tracks("play_env_trig_mes30_2_2").traj_circ_interp($cor2_dae, $alto_dae, 9.2) 
$tracks("play_env_trig_mes30_2_2").set(CompressorD, [thresh, 0.13])
$tracks("play_env_trig_mes30_2_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 9, "circ", 1000])

// $tracks("play_env_trig_mes30_2_2").amp(8)

0.5 $rec_buf18_2.rec($bsn)

obj::crea_track_HOA("play_env_trig_mes30_2_3", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf18_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf18_2.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.04, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trig_mes30_2_3").set("TPlayBufEnvTrigF", ["rate", 1])
// $tracks("play_env_trig_mes30_2_3").set("TPlayBufEnvTrigF", ["impulse_rate", 175])
$tracks("play_env_trig_mes30_2_3").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("carre3")])
$tracks("play_env_trig_mes30_2_3").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 4, 5, 4+4, "circ", 175, 5, 170])
$tracks("play_env_trig_mes30_2_3").amp([-6, 2, -3, 6+4, "quad", 8, 5, 5, 5, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf18_2])

$tracks("play_env_trig_mes30_2_3").traj_circ_interp($bsn_dae, $alto_dae, 9.2) 
$tracks("play_env_trig_mes30_2_3").set(CompressorD, [thresh, 0.12])
$tracks("play_env_trig_mes30_2_3").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 9, "circ", 1000])



NOTE 60 1 mes_30_4

print mes_30_4

// crea_track8 track99 0 0 0 TSustract transp 1.5909999608994 amp 2.7895841598511 d 0.0 shift 0.0 distor 0.0 lag 1.0 width 2.0 lag_spat 0.20000000298023 freqs ([ 111.84999847412, 141.88000488281, 196.0, 228.30000305176, 369.98999023438, 523.25, 622.25, 698.46002197266, 698.46002197266, 739.98999023438, 783.98999023438, 783.98999023438, 1136.75, 1479.9799804688, 1661.2199707031, 2349.3200683594, 3520.0, 3951.0700683594, 4434.919921875, 4735.509765625 ]) amps ([ 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.5900000333786, 1.6399999856949, 1.6399999856949, 0.0, 1.8099999427795, 0.0, 1.6799999475479, 0.76999998092651, 0.74000000953674, 1.7200000286102, 1.0900000333786, 0.31999999284744 ]) rings ([ 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.074000000953674, 0.06700000166893, 0.064999997615814, 0.064999997615814, 0.064999997615814, 0.064999997615814, 0.064999997615814, 0.063000001013279, 0.063000001013279, 0.068000003695488, 0.068000003695488, 0.068000003695488 ]) pos ([ 0.0, 0.10000000149012, 0.20000000298023, 0.30000001192093, 0.40000000596046, 0.5, 0.60000002384186, 0.69999998807907, 0.80000001192093, 0.89999997615814, 1.0, 1.1000000238419, 1.2000000476837, 1.2999999523163, 1.3999999761581, 1.5, 1.6000000238419, 1.7000000476837, 1.7999999523163, 1.8999999761581 ])
// crea_track8 track42 0 0 0 TSustract transp 1.5909999608994 amp 2.8767986297607 d 0.0 shift 0.0 distor 0.0 lag 1.0 width 2.0 lag_spat 0.20000000298023 freqs ([ 82.410003662109, 116.54000091553, 174.61000061035, 233.08000183105, 246.94000244141, 369.98999023438, 415.29998779297, 466.16000366211, 698.46002197266, 1108.7299804688, 1567.9799804688, 1941.1199951172, 3951.0700683594, 3961.9099121094, 4735.509765625, 5587.6499023438, 5919.91015625, 5919.91015625, 5919.91015625, 6374.8701171875 ])

// obj::crea_track_HOA("synth_sustract_mes_30_4_1", "group_hoa3", fade_in = 5, amp = -40, doppler = 0, in_channels = 8, [[TSustract, transp, 1.5909999608994, amp, 2.7895841598511, lag, 1.0, width, 2.0, lag_spat, 0.20000000298023, freqs, [ 111.84999847412, 141.88000488281, 196.0, 228.30000305176, 369.98999023438, 523.25, 622.25, 698.46002197266, 698.46002197266, 739.98999023438, 783.98999023438, 783.98999023438, 1136.75, 1479.9799804688, 1661.2199707031, 2349.3200683594, 3520.0, 3951.0700683594, 4434.919921875, 4735.509765625 ], amps, [ 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.5900000333786, 1.6399999856949, 1.6399999856949, 0.0, 1.8099999427795, 0.0, 1.6799999475479, 0.76999998092651, 0.74000000953674, 1.7200000286102, 1.0900000333786, 0.31999999284744 ], rings, [ 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.074000000953674, 0.06700000166893, 0.064999997615814, 0.064999997615814, 0.064999997615814, 0.064999997615814, 0.064999997615814, 0.063000001013279, 0.063000001013279, 0.068000003695488, 0.068000003695488, 0.068000003695488 ], pos, [ 0.0, 0.10000000149012, 0.20000000298023, 0.30000001192093, 0.40000000596046, 0.5, 0.60000002384186, 0.69999998807907, 0.80000001192093, 0.89999997615814, 1.0, 1.1000000238419, 1.2000000476837, 1.2999999523163, 1.3999999761581, 1.5, 1.6000000238419, 1.7000000476837, 1.7999999523163, 1.8999999761581 ]]])
// $tracks("synth_sustract_mes_30_4_1").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 10) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol

// obj::crea_track_HOA("synth_sustract_mes_30_4_2", "group_hoa3", fade_in = 5, amp = -40, doppler = 0, in_channels = 8, [[TSustract, transp, 1.5909999608994, amp, 0, lag, 1.0, width, 2.0, lag_spat, 0.20000000298023, freqs, [ 82.410003662109, 116.54000091553, 174.61000061035, 233.08000183105, 246.94000244141, 369.98999023438, 415.29998779297, 466.16000366211, 698.46002197266, 1108.7299804688, 1567.9799804688, 1941.1199951172, 3951.0700683594, 3961.9099121094, 4735.509765625, 5587.6499023438, 5919.91015625, 5919.91015625, 5919.91015625, 6374.8701171875 ], amps, [ 0.0, 0.0, 0.0, 0.96428573131561, 0.63095235824585, 0.96428573131561, 0.63095235824585, 0.97619044780731, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0 ], rings, [ 0.28571429848671, 0.28571429848671, 0.27380952239037, 0.26190477609634, 0.26190477609634, 0.25446426868439, 0.23809523880482, 0.22619047760963, 0.29761904478073, 0.26607137918472, 0.26190477609634, 0.26190477609634, 0.26190477609634, 0.26190477609634, 0.26190477609634, 0.25, 0.25, 0.27380952239037, 0.27380952239037, 0.27380952239037 ], pos, [ 0.0, 0.049952498369977, 0.099954999240078, 0.14995750383566, 0.19996000098028, 0.24996249812491, 0.29996501017144, 0.34996749241416, 0.39997000446069, 0.44997248670341, 0.49997499874994, 0.54997751079647, 0.599980022843, 0.64998247528191, 0.69998498732844, 0.74998749937497, 0.7999900114215, 0.84999252346803, 0.89999497590694, 0.94999748795347 ]]])
// $tracks("synth_sustract_mes_30_4_2").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 10) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol


// $tracks("synth_sustract_mes_30_4_1").amp(-40)
// $tracks("synth_sustract_mes_30_4_1").free()
// $tracks("synth_sustract_mes_30_4_2").free()

$tracks("warp1_play_cor_mes_33_1").free(4)

$rec_buf_mes_30_4.rec($cor1)

obj::crea_track_HOA("play_env_trig_mes30_4", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_30_4.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_30_4.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trig_mes30_4").set("TPlayBufEnvTrigF", ["rate", 1])
// $tracks("play_env_trig_mes30_4").set("TPlayBufEnvTrigF", ["impulse_rate", 175])
$tracks("play_env_trig_mes30_4").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
$tracks("play_env_trig_mes30_4").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 1, 2, 4, 5, 4+4, "circ", 160, 5, 160])
$tracks("play_env_trig_mes30_4").amp([-6, 2, -3, 7+4, "quad", 8, 5, 5, 1, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_30_4])

$tracks("play_env_trig_mes30_4").traj_circ_interp($cor1_dae, $vln_dae, 9.2) 
$tracks("play_env_trig_mes30_4").set(CompressorD, [thresh, 0.15])
$tracks("play_env_trig_mes30_4").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 9, "circ", 848])


0.2	$rec_buf20_1.rec($trb)
	$amp_mes_30_4_2 := -5
	$dur_30_4_2 := 3
	$amp_end_30_4_2 := 6

	// obj::crea_track_HOA("play_env_trig_mes30_4_2", "group_hoa1", fade_in = 1, amp = $amp_mes_30_4_2, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf20_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf20_1.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	obj::crea_track_HOA("play_env_trig_mes30_4_2", "group_hoa1", fade_in = 1, amp = $amp_mes_30_4_2, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf20_1.id(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes30_4_2").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes30_4_2").set("TPlayBufEnvTrigF", ["impulse_rate",100])
	$tracks("play_env_trig_mes30_4_2").set("TPlayBufEnvTrigF", ["env_dur", 0.5])

	$tracks("play_env_trig_mes30_4_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("rond")])
	$tracks("play_env_trig_mes30_4_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_30_4_2+4, "sine", 226])
	$tracks("play_env_trig_mes30_4_2").amp([-6, $dur_30_4_2, $amp_end_30_4_2, $dur_30_4_2+4, $amp_end_30_4_2, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf20_1])

	// $tracks("play_env_trig_mes30_4_2").amp([$amp_mes_42_3_2, 1, $amp_mes_42_3_2, 4, "quad", $amp_end_42_3_2, $dur_42_3_2, $amp_end_42_3_2, 3, -10, 4, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	// $tracks("play_env_trig_mes30_4_2").amp(-120) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	$tracks("play_env_trig_mes30_4_2").traj_circ_interp($trb_dae, $vlc_dae, $dur_30_4_2*2) 
	$tracks("play_env_trig_mes30_4_2").set(CompressorD, [thresh, 0.2])
	$tracks("play_env_trig_mes30_4_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_30_4_2, "linear", 1000])
	// $tracks("play_env_trig_mes30_4_2").amp(0)
	// $tracks("play_env_trig_mes30_4_2").set("TPlayBufEnvTrigF", ["impulse_rate", 226])
	// $rec_buf20_1.write("test_010101")




// ajustar tiempos
$add_time_mes_30_4 := 4
// cor2
obj::crea_track_HOA("play_env_trigBufRd_mes30_4_1", "group_hoa1", fade_in = 1, amp = -60, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf17_2.id(), envbuf, $envs("server1")("perc"), freqHPF, 20], [CompressorD, thresh, 0.04, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trigBufRd_mes30_4_1").set("TBufRdEnvTrig", ["impulse_rate", 40])
$tracks("play_env_trigBufRd_mes30_4_1").set("TBufRdEnvTrig", [envbuf, $envs("server1")("perc")])
$tracks("play_env_trigBufRd_mes30_4_1").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 6+$add_time_mes_30_4, "circ", 60])
$tracks("play_env_trigBufRd_mes30_4_1").bpf_param("TBufRdEnvTrig", "rate", [1, 10+$add_time_mes_30_4, "circ", 2.5])
$tracks("play_env_trigBufRd_mes30_4_1").amp([-10, 2, 8, 5+$add_time_mes_30_4, "quad", 10, 2, 7, 2, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf17_2])
$tracks("play_env_trigBufRd_mes30_4_1").traj_circ_interp($cor2_dae, $cl_dae, 6) 
// $tracks("play_env_trigBufRd_mes33_4_n").free()

// $bsn
obj::crea_track_HOA("play_env_trigBufRd_mes30_4_2", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf18_2.id(), envbuf, $envs("server1")("perc"), freqHPF, 20], [CompressorD, thresh, 0.04, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trigBufRd_mes30_4_2").set("TBufRdEnvTrig", ["impulse_rate", 40])
$tracks("play_env_trigBufRd_mes30_4_2").set("TBufRdEnvTrig", [envbuf, $envs("server1")("perc")])
$tracks("play_env_trigBufRd_mes30_4_2").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 7+$add_time_mes_30_4, "circ", 70])
$tracks("play_env_trigBufRd_mes30_4_2").bpf_param("TBufRdEnvTrig", "rate", [1, 10+$add_time_mes_30_4, 1.5])
$tracks("play_env_trigBufRd_mes30_4_2").amp([-10, 2, 8, 5+$add_time_mes_30_4, "quad", 10, 2, 7, 2, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf18_2])
$tracks("play_env_trigBufRd_mes30_4_2").traj_circ_interp($bsn_dae, $cl_dae, 7) 

//$cor1
obj::crea_track_HOA("play_env_trigBufRd_mes30_4_3", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf_mes_30_4.id(), envbuf, $envs("server1")("perc"), freqHPF, 20], [CompressorD, thresh, 0.04, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trigBufRd_mes30_4_3").set("TBufRdEnvTrig", ["impulse_rate", 40])
$tracks("play_env_trigBufRd_mes30_4_3").set("TBufRdEnvTrig", [envbuf, $envs("server1")("perc")])
$tracks("play_env_trigBufRd_mes30_4_3").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 8+$add_time_mes_30_4, "circ", 70])
$tracks("play_env_trigBufRd_mes30_4_3").bpf_param("TBufRdEnvTrig", "rate", [1, 10+$add_time_mes_30_4, 2.22])
$tracks("play_env_trigBufRd_mes30_4_3").amp([-10, 2, 8, 3+$add_time_mes_30_4, "quad", 10, 2, 6, 2, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_30_4])
$tracks("play_env_trigBufRd_mes30_4_3").traj_circ_interp($cor1_dae, $vln_dae, 8) 

// $trb
obj::crea_track_HOA("play_env_trigBufRd_mes30_4_4", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf20_1.id(), envbuf, $envs("server1")("perc"), freqHPF, 20], [CompressorD, thresh, 0.04, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trigBufRd_mes30_4_4").set("TBufRdEnvTrig", ["impulse_rate", 40])
$tracks("play_env_trigBufRd_mes30_4_4").set("TBufRdEnvTrig", [envbuf, $envs("server1")("perc")])
$tracks("play_env_trigBufRd_mes30_4_4").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 9+$add_time_mes_30_4, "circ", 70])
$tracks("play_env_trigBufRd_mes30_4_4").bpf_param("TBufRdEnvTrig", "rate", [1, 10+$add_time_mes_30_4, 1.8])
$tracks("play_env_trigBufRd_mes30_4_4").amp([-10, 2, 8, 3+$add_time_mes_30_4, "quad", 10, 2, 6, 2, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf20_1])
$tracks("play_env_trigBufRd_mes30_4_4").traj_circ_interp($trb_dae, $vln_dae, 9) 


// buscar nuevas freqs
obj::crea_track_HOA("synth_sustract_mes_30_4_4", "group_hoa3", fade_in = 0.1, amp = -120, doppler = 0, in_channels = 8, [[TSustract, transp, 1, amp, 0, lag, 1.0, width, 2.0, lag_spat, 0.20000000298023, freqs, [ 99.309997558594, 110.0, 125.98000335693, 179.97999572754, 289.58999633789, 367.33999633789, 698.46002197266, 880.0, 880.0, 880.0, 1567.9799804688, 1723.5, 1975.5300292969, 2093.0, 2773.1799316406, 3951.0700683594, 5587.6499023438, 5919.91015625, 6374.8701171875, 6765.3798828125 ], amps, [ 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.9200000166893, 0.51999998092651, 1.2000000476837, 0.28999999165535, 0.23999999463558, 1.2699999809265, 0.25999999046326, 0.27000001072884, 0.80000001192093, 0.94999998807907 ], rings, [ 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.18999999761581, 0.14000000059605, 0.13099999725819, 0.20600000023842, 0.17000000178814, 0.10700000077486, 0.079999998211861, 0.052000001072884, 0.090999998152256, 0.2039999961853 ], pos, [ 0.0, 0.10000000149012, 0.20000000298023, 0.30000001192093, 0.40000000596046, 0.5, 0.60000002384186, 0.69999998807907, 0.80000001192093, 0.89999997615814, 1.0, 1.1000000238419, 1.2000000476837, 1.2999999523163, 1.3999999761581, 1.5, 1.6000000238419, 1.7000000476837, 1.7999999523163, 1.8999999761581 ]]])
$tracks("synth_sustract_mes_30_4_4").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 10) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
$tracks("synth_sustract_mes_30_4_4").amp([-120, 3, -50, 7, -30])

obj::crea_track_HOA("synth_sustract_mes_30_4_5", "group_hoa3", fade_in = 0.1, amp = -120, doppler = 0, in_channels = 8, [[TSustract, transp, 1, amp, 0, lag, 1.0, width, 2.0, lag_spat, 0.20000000298023, freqs, [ 141.88000488281, 215.11999511719, 293.66000366211, 326.16000366211, 349.23001098633, 665.70001220703, 749.75, 830.60998535156, 896.15002441406, 932.33001708984, 987.77001953125, 1071.1400146484, 1071.1400146484, 1206.3900146484, 1530.2800292969, 2186.2299804688, 2462.2800292969, 4434.919921875, 5587.6499023438, 6765.3798828125 ], amps, [ 0.0, 0.0, 0.0, 0.0, 0.0, 0.25999999046326, 0.87999999523163, 0.77999997138977, 0.41999998688698, 0.94999998807907, 0.55000001192093, 0.62999999523163, 0.64999997615814, 0.76999998092651, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0 ], rings, [ 0.14599999785423, 0.23999999463558, 0.15899999439716, 0.064999997615814, 0.12099999934435, 0.23100000619888, 0.12300000339746, 0.2039999961853, 0.15600000321865, 0.061999998986721, 0.23700000345707, 0.19900000095367, 0.17599999904633, 0.010999999940395, 0.028999999165535, 0.021999999880791, 0.090999998152256, 0.15299999713898, 0.043000001460314, 0.24300000071526 ], pos, [ 0.0, 0.10000000149012, 0.20000000298023, 0.30000001192093, 0.40000000596046, 0.5, 0.60000002384186, 0.69999998807907, 0.80000001192093, 0.89999997615814, 1.0, 1.1000000238419, 1.2000000476837, 1.2999999523163, 1.3999999761581, 1.5, 1.6000000238419, 1.7000000476837, 1.7999999523163, 1.8999999761581 ]]])
$tracks("synth_sustract_mes_30_4_5").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 10) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
$tracks("synth_sustract_mes_30_4_5").amp([-120, 3, -40, 7, -25])

// $tracks("synth_sustract_mes_30_4_4").amp(-30)
// $tracks("synth_sustract_mes_30_4_5").amp(-25)

// $tracks("synth_sustract_mes_30_4_4").free()
// $tracks("synth_sustract_mes_30_4_5").free()

// crea_track8 track27 0 0 0 TSustract transp 1.0 amp -12.0 d 0.0 shift 0.0 distor 0.0 lag 1.0 width 2.0 lag_spat 0.20000000298023 freqs ([ 99.309997558594, 110.0, 125.98000335693, 179.97999572754, 289.58999633789, 367.33999633789, 698.46002197266, 880.0, 880.0, 880.0, 1567.9799804688, 1723.5, 1975.5300292969, 2093.0, 2773.1799316406, 3951.0700683594, 5587.6499023438, 5919.91015625, 6374.8701171875, 6765.3798828125 ]) amps ([ 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.9200000166893, 0.51999998092651, 1.2000000476837, 0.28999999165535, 0.23999999463558, 1.2699999809265, 0.25999999046326, 0.27000001072884, 0.80000001192093, 0.94999998807907 ]) rings ([ 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.18999999761581, 0.14000000059605, 0.13099999725819, 0.20600000023842, 0.17000000178814, 0.10700000077486, 0.079999998211861, 0.052000001072884, 0.090999998152256, 0.2039999961853 ]) pos ([ 0.0, 0.10000000149012, 0.20000000298023, 0.30000001192093, 0.40000000596046, 0.5, 0.60000002384186, 0.69999998807907, 0.80000001192093, 0.89999997615814, 1.0, 1.1000000238419, 1.2000000476837, 1.2999999523163, 1.3999999761581, 1.5, 1.6000000238419, 1.7000000476837, 1.7999999523163, 1.8999999761581 ])
// crea_track8 track6 0 0 0 TSustract transp 1.0 amp -12.0 d 0.0 shift 0.0 distor 0.0 lag 1.0 width 2.0 lag_spat 0.20000000298023 freqs ([ 141.88000488281, 215.11999511719, 293.66000366211, 326.16000366211, 349.23001098633, 665.70001220703, 749.75, 830.60998535156, 896.15002441406, 932.33001708984, 987.77001953125, 1071.1400146484, 1071.1400146484, 1206.3900146484, 1530.2800292969, 2186.2299804688, 2462.2800292969, 4434.919921875, 5587.6499023438, 6765.3798828125 ]) amps ([ 0.0, 0.0, 0.0, 0.0, 0.0, 0.25999999046326, 0.87999999523163, 0.77999997138977, 0.41999998688698, 0.94999998807907, 0.55000001192093, 0.62999999523163, 0.64999997615814, 0.76999998092651, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0 ]) rings ([ 0.14599999785423, 0.23999999463558, 0.15899999439716, 0.064999997615814, 0.12099999934435, 0.23100000619888, 0.12300000339746, 0.2039999961853, 0.15600000321865, 0.061999998986721, 0.23700000345707, 0.19900000095367, 0.17599999904633, 0.010999999940395, 0.028999999165535, 0.021999999880791, 0.090999998152256, 0.15299999713898, 0.043000001460314, 0.24300000071526 ]) pos ([ 0.0, 0.10000000149012, 0.20000000298023, 0.30000001192093, 0.40000000596046, 0.5, 0.60000002384186, 0.69999998807907, 0.80000001192093, 0.89999997615814, 1.0, 1.1000000238419, 1.2000000476837, 1.2999999523163, 1.3999999761581, 1.5, 1.6000000238419, 1.7000000476837, 1.7999999523163, 1.8999999761581 ])

NOTE 60 1 mes_31

print mes_31

// $tracks("synth_vowel_mes_28_3").free(3)
// $tracks("warp1_play_cor_mes_29_2").free(3)



NOTE 60 1 mes_31_3

print mes_31_3

$mes31_3_desc_amp := 8

obj::crea_track_HOA("play_env_trig_mes31_3_htb_desc", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf15_2_1.id(), envbuf, $envs("server1")("rond"), env_dur, $rec_buf15_2_1.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
$tracks("play_env_trig_mes31_3_htb_desc").set("TBufRdEnvTrig", ["impulse_rate", 40])
$tracks("play_env_trig_mes31_3_htb_desc").set("TBufRdEnvTrig", [envbuf, $envs("server1")("rond")])
$tracks("play_env_trig_mes31_3_htb_desc").bpf_param("TBufRdEnvTrig", "impulse_rate", [40, 5, "circ", 5])
$tracks("play_env_trig_mes31_3_htb_desc").amp([-20, 2, 6+$mes31_3_desc_amp, 3, 6+$mes31_3_desc_amp, 5, -60, "quad"], free = 0.1, action = ["clearbuf", $rec_buf15_2_1])
$tracks("play_env_trig_mes31_3_htb_desc").traj_circ_interp($htb_dae, $vln_dae, 5) 

obj::crea_track_HOA("play_env_trig_mes31_3_cor2_desc", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf17_2.id(), envbuf, $envs("server1")("rond"), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
$tracks("play_env_trig_mes31_3_cor2_desc").set("TBufRdEnvTrig", ["impulse_rate", 140])
$tracks("play_env_trig_mes31_3_cor2_desc").set("TBufRdEnvTrig", [envbuf, $envs("server1")("rond")])
$tracks("play_env_trig_mes31_3_cor2_desc").bpf_param("TBufRdEnvTrig", "impulse_rate", [150, 5, "circ", 1])
$tracks("play_env_trig_mes31_3_cor2_desc").amp([-20, 1, 6+$mes31_3_desc_amp, 2, 6+$mes31_3_desc_amp, 6, -60, "quad"], free = 0.1, action = ["clearbuf", $rec_buf17_2])
$tracks("play_env_trig_mes31_3_cor2_desc").traj_circ_interp($cor2_dae, $vlc_dae, 5) 

obj::crea_track_HOA("play_env_trig_mes31_3_bsn_desc", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf13_2.id(), envbuf, $envs("server1")("rond"), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
$tracks("play_env_trig_mes31_3_bsn_desc").set("TBufRdEnvTrig", ["impulse_rate", 140])
$tracks("play_env_trig_mes31_3_bsn_desc").set("TBufRdEnvTrig", [envbuf, $envs("server1")("perc")])
$tracks("play_env_trig_mes31_3_bsn_desc").bpf_param("TBufRdEnvTrig", "impulse_rate", [140, 7, "circ", 5])
$tracks("play_env_trig_mes31_3_bsn_desc").amp([-10, 2, 6+$mes31_3_desc_amp, 3, 6+$mes31_3_desc_amp, 5, -60, "quad"], free = 0.1, action = ["clearbuf", $rec_buf13_2])
$tracks("play_env_trig_mes31_3_bsn_desc").traj_circ_interp($bsn_dae, $trb_dae, 8) 

$max_amp_mes31 := 3

obj::crea_track_HOA("Warbulence_mes31", "group_hoa3", fade_in = 3, amp = -20, doppler = 0, in_channels = 1, [["Warbulence_mod_dev_mono", "preset", "nota_8"]])
$tracks("Warbulence_mes31").set("Warbulence_mod_dev_mono", ["freq", 888])
$tracks("Warbulence_mes31").amp([-10, 2, -10, 2, "quad", $max_amp_mes31, 2, $max_amp_mes31, 1, -10, 2, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
$tracks("Warbulence_mes31").traj_circ_interp($vlc_dae, $alto_dae, 8.2) 

group synth_mes_31_3
{
	// $tracks("Warbulence_mes31").preset("Warbulence_mod_dev_mono", "nota_8")
 	obj::crea_track_HOA("synth_mes_31_3_1", "group_hoa3", fade_in = 5, amp = -12, doppler = 0, in_channels = 1, [[Bform_mono, freq, 227.80126953125, formfreq, 3251.9294433594, bwfreq, 579.55749511719, amp, -15], [TGranIn_mono, envbuf, $envs("server3")("perc_rond"), trigRate, 11.0, dur, 0.086]] )
	// $tracks("synth_mes_31_3_1").bpf_param(TGranIn_mono, trigRate, [6.5999999, 5, "circ", 18])
	$tracks("synth_mes_31_3_1").amp([-30, 7, -12])
	group
	{
		$tracks("synth_mes_31_3_1").traj_circ_interp($vlc_dae, $alto_dae, 4)
		4 $tracks("synth_mes_31_3_1").dae_rand_lfo([0.8, 2, 1, -180, 180, -45, 0, 90, 0])
	}

1.5 obj::crea_track_HOA("synth_mes_31_3_2", "group_hoa3", fade_in = 5, amp = -12, doppler = 0, in_channels = 1, [[Bform_mono, freq, 2108.4826660156, formfreq, 2438.134765625, bwfreq, 926.48266601562, amp, -15], [TGranIn_mono, envbuf, $envs("server3")("perc"), trigRate, 13, trigRateDev, 0.0, dur, 0.1630000025034]] )
	// $tracks("synth_mes_31_3_2").bpf_param(TGranIn_mono, trigRate, [6.5999999, 5, "circ", 18])
	$tracks("synth_mes_31_3_2").amp([-30, 7, -12])
	group
	{
		$tracks("synth_mes_31_3_2").traj_circ_interp($vlc_dae, $alto_dae, 4)
		4 $tracks("synth_mes_31_3_2").dae_rand_lfo([0.8, 2, 1, -180, 180, -90, 0, 90, 0])
	}
}

group
{
	1 $tracks("warp1_play_trb_mes_33_1").free(4)
	$tracks("warp1_play_cor_mes_29_2").free(4)
	4 $rec_buf9_2.clear()
	$rec_buf19_2.clear()
}


NOTE 60 1 mes_32_2

print mes_32_2

// Freeze vln+vcl que va hacia cb-alto + synth

// $tracks("play_env_trig_mes30").free(2)

$rec_buf1_2.rec($vln)

obj::crea_track_HOA("warp1_play_vln_mes_32_2", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf1_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
$tracks("warp1_play_vln_mes_32_2").rand_lfo_dyn("Warp1Play", "pos", 0.0, "linear", 60, $rec_buf1_2)
$tracks("warp1_play_vln_mes_32_2").traj_circ_interp($vln_dae, $cb_dae, 8.2) 


$rec_buf2_2.rec($vlc)

obj::crea_track_HOA("warp1_play_vlc_mes_32_2", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf2_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
$tracks("warp1_play_vlc_mes_32_2").rand_lfo_dyn("Warp1Play", "pos", 0.0, "linear", 60, $rec_buf2_2)
$tracks("warp1_play_vlc_mes_32_2").traj_circ_interp($vlc_dae, $alto_dae, 8.2) 

$rec_buf3_2.rec($cl)

obj::crea_track_HOA("warp1_play_cl_mes_32_2", "group_hoa1", fade_in = 1, amp = -20, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf3_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
$tracks("warp1_play_cl_mes_32_2").rand_lfo_dyn("Warp1Play", "pos", 0.0, "linear", 60, $rec_buf3_2)
$tracks("warp1_play_cl_mes_32_2").traj_circ_interp($cl_dae, $bsn_dae, 8.2) 
// $tracks("warp1_play_cl_mes_32_2").amp(-20)

7 $tracks("synth_mes_31_3_1").free(7)
$tracks("synth_mes_31_3_2").free(7)

NOTE 60 1 mes_49_nn

print mes_49_nn


$rec_buf9_2.rec($trb)

// obj::crea_track_HOA("warp1_play_trb_mes_49_nn", "group_hoa1", fade_in = 0.5, amp = 4, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf9_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 3]]) // track without encoder 
obj::crea_track_HOA("warp1_play_trb_mes_49_nn", "group_hoa1", fade_in = 0.5, amp = -3, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf9_2.id(), envbuf, $envs("server1")("pointe")], [Multi5BandPass, xFade, 0], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], ["TJPverb_mono", t60, 3]]) // track without encoder 
// 0.1 obj::crea_track_HOA("warp1_play_trb_mes_49_nn", "group_hoa1", fade_in = 0.5, amp = 4, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf9_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 3], ["TGranInterpExt","dur", 0.0020000000949949, "durDev", 0.0, "ifac", 0.0, "ampDev", 0.0, "envbuf0", ($envs("server1")("pointe")), "envbuf1", ($envs("server1")("inv"))]]) // track without encoder 
$tracks("warp1_play_trb_mes_49_nn").rand_lfo_dyn("Warp1Play", "pos", 0.01, "linear", 50, $rec_buf9_2)
// $tracks("warp1_play_trb_mes_49_nn").traj_circ_interp($trb_dae, $fl_dae, 8.2)
$tracks("warp1_play_trb_mes_49_nn").dae_rand_lfo([0.8, 3, $trb_dae[0], -180, 180, $trb_dae[1], 0, 90, 0], 20)

$tracks("warp1_play_trb_mes_49_nn").line_param(Multi5BandPass, xFade, 0, 1, 5)
$tracks("warp1_play_trb_mes_49_nn").interpol_formant_multi(Multi5BandPass, ["altoO", "counterTenorO", "tenorO", "bassO", "tenorA", "bassA"], 1, 3) // formant list, min_time, max_time
// $tracks("warp1_play_trb_mes_49_nn").amp(-3)
// group
// {
// 	3 $tracks("warp1_play_trb_mes_49_nn").interpol_formant(Multi5BandPass, "bassO", "tenorO", 5) 
// 	5 $tracks("warp1_play_trb_mes_49_nn").interpol_formant(Multi5BandPass, "tenorO", "altoU", 10) 
// }

// $tracks("warp1_play_trb_mes_49_nn").free()
// print (""+$formants("sopranoA")[0])
1 obj::crea_track_HOA("play_env_trigBufRd_htb_mes49_nn", "group_hoa1", fade_in = 1, amp = -60, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf9_2.id(), envbuf, $envs("server1")("inv"), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trigBufRd_htb_mes49_nn").set("TBufRdEnvTrig", ["impulse_rate", 40])
$tracks("play_env_trigBufRd_htb_mes49_nn").set("TBufRdEnvTrig", [envbuf, $envs("server1")("inv")])
$tracks("play_env_trigBufRd_htb_mes49_nn").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 6, "circ_in_out", 50, 5, "circ_out", 10])
$tracks("play_env_trigBufRd_htb_mes49_nn").bpf_param("TBufRdEnvTrig", "rate", [1, 6, "circ", 1.5, 5, "circ_out", 1])
$tracks("play_env_trigBufRd_htb_mes49_nn").amp([-10, 2, 8, 4, "quad", 10, 2, 0, 3, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf9_2])
group
{
	$tracks("play_env_trigBufRd_htb_mes49_nn").traj_circ_interp($trb_dae, $htb_dae, 5) 
	5 $tracks("play_env_trigBufRd_htb_mes49_nn").traj_circ_interp($htb_dae, $vln_dae, 5) 
}

NOTE 60 1 mes_50_nn

print mes_50_nn

group
{
0.2 $rec_buf_mes_34_2.rec($cor1)

0.77 obj::crea_track_HOA("play_env_trigBufRd_htb_mes50_nn", "group_hoa1", fade_in = 1, amp = -60, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf_mes_34_2.id(), envbuf, $envs("server1")("inv"), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trigBufRd_htb_mes50_nn").set("TBufRdEnvTrig", ["impulse_rate", 40])
$tracks("play_env_trigBufRd_htb_mes50_nn").set("TBufRdEnvTrig", [envbuf, $envs("server1")("inv")])
$tracks("play_env_trigBufRd_htb_mes50_nn").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 6, "circ_in_out", 50, 5, "circ_out", 10])
$tracks("play_env_trigBufRd_htb_mes50_nn").bpf_param("TBufRdEnvTrig", "rate", [1, 6, "circ", 1.5, 5, "circ_out", 1])
$tracks("play_env_trigBufRd_htb_mes50_nn").amp([-10, 2, 8, 4, "quad", 10, 2, 0, 3, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_34_2])

	$tracks("play_env_trigBufRd_htb_mes50_nn").traj_circ_interp($cor1_dae, $bsn_dae, 5) 
	5 $tracks("play_env_trigBufRd_htb_mes50_nn").traj_circ_interp($bsn_dae, $vln_dae, 5) 
}


NOTE 60 1 mes_34_2

print mes_34_2


// TPlayBufEnvTrig souffles_trem
// group mes_34_2 @tempo := 52
// {
	// obj::crea_track_HOA("sine_test", "group_hoa1", fade_in = 1, amp = -8, doppler = 0, in_channels = 1, [["TSine", freq, 20]])  //, [Norm, lev, 0.03]
	// $tracks("sine_test").bpf_param("TSine", freq, [20, 7, 1000])

	// $beat := 60.0/52.

	// $old := $NOW
	// $delta := 0
	// $tpm_inc := 0

	// loop 1
	// {
	//     $delta := $NOW - $old
	//     print tempo_inc $tpm_inc
	//     print $RT_TEMPO $NOW  ($delta  - $beat)
	//     $old := $NOW
	//     $tracks("play_sample_8ch").play_sample8("Clave00.aif", 0)

	// 	$tpm_inc += 1
	// }

$tracks("synth_sustract_mes_30_4_4").free(7)
$tracks("synth_sustract_mes_30_4_5").free(7)

$add_time3 := 4
	// $rec_buf_mes_34_2.rec($cor1)
	$amp_mes_34_2 := 3

	obj::crea_track_HOA("play_env_trig_mes34_2", "group_hoa1", fade_in = 0.1, amp = $amp_mes_34_2, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_34_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_34_2.abs_dur(), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes34_2").set("TPlayBufEnvTrigF", ["rate", 1])
	$tracks("play_env_trig_mes34_2").set("TPlayBufEnvTrigF", ["impulse_rate", 14])
	$tracks("play_env_trig_mes34_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes34_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 8.5+$add_time3 , "circ", 240, 2, 240, 5, 150])
	$tracks("play_env_trig_mes34_2").amp([$amp_mes_34_2, 1, $amp_mes_34_2, 5.5, "quad", $amp_mes_34_2+3, 3+$add_time3 , $amp_mes_34_2+3, 3, -10, 7, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_34_2])

	$tracks("play_env_trig_mes34_2").traj_circ_interp($cor1, $alto_dae, 6.5)
	$tracks("play_env_trig_mes34_2").set(CompressorD, [thresh, 0.2])
	$tracks("play_env_trig_mes34_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 6.5+$add_time3, "circ", 1000])
	// $tracks("play_env_trig_mes34_2").set(CompressorD, [clampTime,  0.0019])
	// $tracks("play_env_trig_mes34_2").set(CompressorD, [relaxTime, 0.0028])
	// $tracks("play_env_trig_mes34_2").set(CompressorD, [clampTime,  0.0015])
	// $tracks("play_env_trig_mes34_2").set(CompressorD, [relaxTime, 0.0029])	
	// $tracks("play_env_trig_mes34_2").amp(0)
// }

NOTE 60 1 mes_34_3

print mes_34_3

// group mes_34_3 @tempo := 52
// {
	$rec_buf_mes_34_3.rec($cor2)
	$amp_mes_34_3 := -2

	obj::crea_track_HOA("play_env_trig_mes34_3", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_34_3.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_34_3.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.1, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes34_3").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes34_3").set("TPlayBufEnvTrigF", ["impulse_rate", 125])
	$tracks("play_env_trig_mes34_3").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes34_3").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 7.5+$add_time3 , "circ", 125, 2, 125, 5, 20])
	$tracks("play_env_trig_mes34_3").amp([0, 2, $amp_mes_34_3, 5, "quad", $amp_mes_34_3+3, 2+$add_time3 , $amp_mes_34_3+3, 2, -10, 8, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_34_3])

	$tracks("play_env_trig_mes34_3").traj_circ_interp($cor2, $cb_dae, 7) 
	$tracks("play_env_trig_mes34_3").set(CompressorD, [thresh, 0.4])
	$tracks("play_env_trig_mes34_3").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 7+$add_time3, "circ", 1000])

	// $tracks("play_env_trig_mes34_3").amp(-120)
// }

$tracks("warp1_play_vln_mes_32_2").free(7)
$tracks("warp1_play_vlc_mes_32_2").free(7)
$tracks("warp1_play_cl_mes_32_2").free(7)

group
{
	obj::crea_track_HOA("play_env_trigBufRd_htb_mes34_3", "group_hoa1", fade_in = 0.1, amp = -60, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf_mes_34_3.id(), envbuf, $envs("server1")("inv"), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trigBufRd_htb_mes34_3").set("TBufRdEnvTrig", ["impulse_rate", 40])
	$tracks("play_env_trigBufRd_htb_mes34_3").set("TBufRdEnvTrig", [envbuf, $envs("server1")("inv")])
	$tracks("play_env_trigBufRd_htb_mes34_3").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 6, "circ_in_out", 39, 5, "circ_out", 45])
	$tracks("play_env_trigBufRd_htb_mes34_3").bpf_param("TBufRdEnvTrig", "rate", [1, 6, "circ", 1.5, 5, "circ_out", 1])
	$tracks("play_env_trigBufRd_htb_mes34_3").amp([0, 2, 2, 4, "quad", 5, 2, 5, 3, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_34_3])

	$tracks("play_env_trigBufRd_htb_mes34_3").traj_circ_interp($cor2_dae, $vln_dae, 5) 
	5 $tracks("play_env_trigBufRd_htb_mes34_3").traj_circ_interp($vln_dae, $trp_dae, 5) 
}



NOTE 60 1 mes_34_4

print mes_34_4


/*group
{
	0.2 $rec_buf_mes_34_4_2.rec($cor2)

	0.7 obj::crea_track_HOA("play_env_trigBufRd_htb_mes34_4", "group_hoa1", fade_in = 1, amp = -60, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf_mes_34_4_2.id(), envbuf, $envs("server1")("inv"), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trigBufRd_htb_mes34_4").set("TBufRdEnvTrig", ["impulse_rate", 40])
	$tracks("play_env_trigBufRd_htb_mes34_4").set("TBufRdEnvTrig", [envbuf, $envs("server1")("inv")])
	$tracks("play_env_trigBufRd_htb_mes34_4").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 6, "circ_in_out", 50, 5, "circ_out", 10])
	$tracks("play_env_trigBufRd_htb_mes34_4").bpf_param("TBufRdEnvTrig", "rate", [1, 6, "circ", 1.5, 5, "circ_out", 1])
	$tracks("play_env_trigBufRd_htb_mes34_4").amp([-10, 2, 8, 4, "quad", 10, 2, 0, 3, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_34_4_2])

	$tracks("play_env_trigBufRd_htb_mes34_4").traj_circ_interp($cor1_dae, $bsn_dae, 5) 
	5 $tracks("play_env_trigBufRd_htb_mes34_4").traj_circ_interp($bsn_dae, $vln_dae, 5) 
}*/

obj::crea_track_HOA("synth_sustract_mes_34_4_1", "group_hoa3", fade_in = 0.1, amp = -120, doppler = 0, in_channels = 8, [[TSustract, transp, 1, amp, 0, lag, 1.0, width, 2.0, lag_spat, 0.20000000298023, freqs, [ 99.309997558594, 110.0, 133.69000244141, 155.55999755859, 220.0, 246.94000244141, 261.63000488281, 326.16000366211, 493.88000488281, 591.07000732422, 795.67999267578, 830.60998535156, 844.41998291016, 987.77001953125, 1046.5, 1280.2900390625, 1479.9799804688, 1624.0200195312, 4462.169921875, 7179.8198242188 ], amps, [ 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.66000002622604, 0.9200000166893, 0.76999998092651, 0.80000001192093, 0.88999998569489, 0.88999998569489, 0.8299999833107, 0.8299999833107, 0.70999997854233 ], rings, [ 0.24099999666214, 0.11100000143051, 0.16500000655651, 0.23299999535084, 0.22100000083447, 0.12300000339746, 0.10999999940395, 0.063000001013279, 0.1140000000596, 0.1879999935627, 0.020999999716878, 0.12800000607967, 0.12800000607967, 0.12800000607967, 0.12800000607967, 0.12800000607967, 0.12800000607967, 0.12800000607967, 0.12800000607967, 0.125 ], pos, [ 0.0, 0.10000000149012, 0.20000000298023, 0.30000001192093, 0.40000000596046, 0.5, 0.60000002384186, 0.69999998807907, 0.80000001192093, 0.89999997615814, 1.0, 1.1000000238419, 1.2000000476837, 1.2999999523163, 1.3999999761581, 1.5, 1.6000000238419, 1.7000000476837, 1.7999999523163, 1.8999999761581 ]], [TGranIn8, envbuf, $envs("server3")("rond"), trigRate, 4.5, trigRateDev, 0.0, dur, 0.03999999910593]])
$tracks("synth_sustract_mes_34_4_1").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 20) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
$tracks("synth_sustract_mes_34_4_1").amp([-120, 3, -50, 7, -30])
$tracks("synth_sustract_mes_34_4_1").set(TGranIn8, [trigRate, 7])
$tracks("synth_sustract_mes_34_4_1").set(TGranIn8, [trigRateDev, 30])
$tracks("synth_sustract_mes_34_4_1").set(TGranIn8, [dur, 0.2])
$tracks("synth_sustract_mes_34_4_1").set(TGranIn8, [pan, 1.5])

obj::crea_track_HOA("synth_sustract_mes_34_4_2", "group_hoa3", fade_in = 0.1, amp = -120, doppler = 0, in_channels = 8, [[TSustract, transp, 1, amp, 0, lag, 1.0, width, 2.0, lag_spat, 0.20000000298023, freqs, [ 130.80999755859, 191.0, 228.30000305176, 293.66000366211, 415.29998779297, 440.0, 524.79998779297, 591.07000732422, 659.26000976562, 698.46002197266, 844.41998291016, 1046.5, 1244.5100097656, 1661.2199707031, 1723.5, 1760.0, 1760.0, 2186.2299804688, 2637.0200195312, 5274.0400390625 ], amps, [ 0.0, 0.0, 0.0, 0.0, 0.87000000476837, 0.25999999046326, 0.87999999523163, 0.77999997138977, 0.41999998688698, 0.76999998092651, 0.76999998092651, 0.76999998092651, 0.86000001430511, 0.55000001192093, 0.56999999284744, 0.0, 0.0, 0.0, 0.0, 0.0 ], rings, [ 0.18299999833107, 0.15999999642372, 0.20200000703335, 0.016000000759959, 0.081000000238419, 0.1089999973774, 0.16200000047684, 0.035999998450279, 0.05799999833107, 0.10700000077486, 0.15600000321865, 0.12800000607967, 0.10499999672174, 0.125, 0.06700000166893, 0.034000001847744, 0.10300000011921, 0.087999999523163, 0.18999999761581, 0.075000002980232 ], pos, [ 0.0, 0.10000000149012, 0.20000000298023, 0.30000001192093, 0.40000000596046, 0.5, 0.60000002384186, 0.69999998807907, 0.80000001192093, 0.89999997615814, 1.0, 1.1000000238419, 1.2000000476837, 1.2999999523163, 1.3999999761581, 1.5, 1.6000000238419, 1.7000000476837, 1.7999999523163, 1.8999999761581 ]], [TGranIn8, envbuf, $envs("server3")("rond"), trigRate, 4.5, trigRateDev, 0.0, dur, 0.03999999910593], ["TJPverb8", t60, 2]])
$tracks("synth_sustract_mes_34_4_2").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 20) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
$tracks("synth_sustract_mes_34_4_2").amp([-120, 3, -40, 7, -22])
$tracks("synth_sustract_mes_34_4_2").set(TGranIn8, [trigRate, 5])
$tracks("synth_sustract_mes_34_4_2").set(TGranIn8, [trigRateDev, 30])
$tracks("synth_sustract_mes_34_4_2").set(TGranIn8, [dur, 0.2])
$tracks("synth_sustract_mes_34_4_2").set(TGranIn8, [pan, 1.5])
$tracks("synth_sustract_mes_34_4_2").set(TGranIn8, [panDev, 0])

// $tracks("synth_sustract_mes_34_4_1").free()
// $tracks("synth_sustract_mes_34_4_2").free()
// $Servers("server3").g_dumpTree(0, 1)

$add_time_mes_34_4 := 0

// cor1
obj::crea_track_HOA("play_env_trigBufRd_mes30_4_1", "group_hoa1", fade_in = 0.1, amp = -60, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf_mes_34_2.id(), envbuf, $envs("server1")("perc"), freqHPF, 20], [CompressorD, thresh, 0.04, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trigBufRd_mes30_4_1").set("TBufRdEnvTrig", ["impulse_rate", 40])
$tracks("play_env_trigBufRd_mes30_4_1").set("TBufRdEnvTrig", [envbuf, $envs("server1")("perc")])
$tracks("play_env_trigBufRd_mes30_4_1").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 6+$add_time_mes_34_4, "circ", 60])
$tracks("play_env_trigBufRd_mes30_4_1").bpf_param("TBufRdEnvTrig", "rate", [1, 6+$add_time_mes_34_4, "circ", 2.5])
$tracks("play_env_trigBufRd_mes30_4_1").amp([-3, 2, 0, $add_time_mes_34_4, "quad", 5, 2, 5, 2, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_34_2])
$tracks("play_env_trigBufRd_mes30_4_1").traj_circ_interp($cor2_dae, $cl_dae, 6) 
// $tracks("play_env_trigBufRd_mes33_4_n").free()

// $cor2
0.5 obj::crea_track_HOA("play_env_trigBufRd_mes30_4_2", "group_hoa1", fade_in = 0.1, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf_mes_34_3.id(), envbuf, $envs("server1")("perc"), freqHPF, 20], [CompressorD, thresh, 0.04, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trigBufRd_mes30_4_2").set("TBufRdEnvTrig", ["impulse_rate", 40])
$tracks("play_env_trigBufRd_mes30_4_2").set("TBufRdEnvTrig", [envbuf, $envs("server1")("perc")])
$tracks("play_env_trigBufRd_mes30_4_2").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 7+$add_time_mes_34_4, "circ", 70])
$tracks("play_env_trigBufRd_mes30_4_2").bpf_param("TBufRdEnvTrig", "rate", [1, 7+$add_time_mes_34_4, 1.5])
$tracks("play_env_trigBufRd_mes30_4_2").amp([-3, 2, 0, $add_time_mes_34_4+0.5, "quad", 5, 2, 5, 2, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_34_3])
$tracks("play_env_trigBufRd_mes30_4_2").traj_circ_interp($bsn_dae, $cl_dae, 7) 

//$trp
1.2 obj::crea_track_HOA("play_env_trigBufRd_mes30_4_3", "group_hoa1", fade_in = 0.1, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf_mes_34_4_2.id(), envbuf, $envs("server1")("perc"), freqHPF, 20], [CompressorD, thresh, 0.04, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trigBufRd_mes30_4_3").set("TBufRdEnvTrig", ["impulse_rate", 40])
$tracks("play_env_trigBufRd_mes30_4_3").set("TBufRdEnvTrig", [envbuf, $envs("server1")("perc")])
$tracks("play_env_trigBufRd_mes30_4_3").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 8+$add_time_mes_34_4, "circ", 70])
$tracks("play_env_trigBufRd_mes30_4_3").bpf_param("TBufRdEnvTrig", "rate", [1, 8+$add_time_mes_34_4, 2.22])
$tracks("play_env_trigBufRd_mes30_4_3").amp([-3, 2, 0, $add_time_mes_34_4+1.2, "quad", 5, 2, 5, 2, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_34_4_2])
$tracks("play_env_trigBufRd_mes30_4_3").traj_circ_interp($cor1_dae, $vln_dae, 8) 



NOTE 60 1 mes_34_4_2

print mes_34_4_2

// $tracks("play_env_trig_mes31").free(2)

// group mes_34_4_2 @tempo := 52
// {
	$rec_buf_mes_34_4_2.rec($trp)
	$amp_mes_34_4_2 := -3

	obj::crea_track_HOA("play_env_trig_mes34_4_2", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_34_4_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_34_4_2.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes34_4_2").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes34_4_2").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes34_4_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes34_4_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 7+$add_time3, "circ", 272, 2, 272, 5, 20])
	$tracks("play_env_trig_mes34_4_2").amp([-20, 1, $amp_mes_34_4_2, 4, "quad", $amp_mes_34_4_2+3, 3+$add_time3, $amp_mes_34_4_2+3, 3, -10, 4, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_34_4_2])

	$tracks("play_env_trig_mes34_4_2").traj_circ_interp($trp_dae, $cl_dae, 5) 
	$tracks("play_env_trig_mes34_4_2").set(CompressorD, [thresh, 0.15])
	$tracks("play_env_trig_mes34_4_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 5+$add_time3, "circ", 1000])

	// $tracks("play_env_trig_mes34_4_2").amp(0)
// }

// $tracks("warp1_play_trb_mes_49_nn").free(6)


NOTE 60 1 mes51_1n

print mes51_1n

$rec_buf30_1.rec($cor1)

	$amp_mes_51_1n := -6

	obj::crea_track_HOA("play_env_trig_mes51_1n", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf30_1.id(), envbuf, $envs("server1")("pointe"), env_dur, $rec_buf30_1.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes51_1n").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes51_1n").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes51_1n").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("pointe")])
	$tracks("play_env_trig_mes51_1n").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 7+$add_time3, "circ", 272, 2, 272, 5, 20])
	$tracks("play_env_trig_mes51_1n").amp([-10, 3, $amp_mes_51_1n, 4, "quad", $amp_mes_51_1n+3, 6, $amp_mes_51_1n+3, 3, -10, 4, -60], free = 0.1, action = ["clearbuf", $rec_buf30_1])

	$tracks("play_env_trig_mes51_1n").traj_circ_interp($cor1_dae, $bsn_dae, 5+$add_time3) 
	$tracks("play_env_trig_mes51_1n").set(CompressorD, [thresh, 0.25])
	$tracks("play_env_trig_mes51_1n").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 5+$add_time3, "circ", 1000])

NOTE 60 1 mes51_2n

print mes51_2n

$rec_buf0_1.rec($trb)

0.1 obj::crea_track_HOA("play_env_trigBufRd_trb_mes51_2n", "group_hoa1", fade_in = 0.1, amp = -60, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf9_2.id(), envbuf, $envs("server1")("inv"), freqHPF, 20], [CompressorD, thresh, 0.08, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trigBufRd_trb_mes51_2n").set("TBufRdEnvTrig", ["impulse_rate", 40])
$tracks("play_env_trigBufRd_trb_mes51_2n").set("TBufRdEnvTrig", [envbuf, $envs("server1")("inv")])
$tracks("play_env_trigBufRd_trb_mes51_2n").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 6, "circ_in_out", 30, 5, "circ_out", 20])
$tracks("play_env_trigBufRd_trb_mes51_2n").bpf_param("TBufRdEnvTrig", "rate", [1, 6, "circ", 0.5, 5, "circ_out", 1])
$tracks("play_env_trigBufRd_trb_mes51_2n").amp([-6, 2, 0, 4, "quad", 3, 2, 3, 3, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf9_2])
group
{
	$tracks("play_env_trigBufRd_trb_mes51_2n").traj_circ_interp($trb_dae, $htb_dae, 5) 
	5 $tracks("play_env_trigBufRd_trb_mes51_2n").traj_circ_interp($htb_dae, $vln_dae, 5) 
}


group
{
	obj::crea_track_HOA("play_env_trigBufRd_cor1_mes51_2n", "group_hoa1", fade_in = 0.1, amp = -60, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf30_1.id(), envbuf, $envs("server1")("inv"), freqHPF, 20], [CompressorD, thresh, 0.08, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trigBufRd_cor1_mes51_2n").set("TBufRdEnvTrig", ["impulse_rate", 40])
$tracks("play_env_trigBufRd_cor1_mes51_2n").set("TBufRdEnvTrig", [envbuf, $envs("server1")("inv")])
$tracks("play_env_trigBufRd_cor1_mes51_2n").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 6, "circ_in_out", 15, 5, "circ_out", 15])
$tracks("play_env_trigBufRd_cor1_mes51_2n").bpf_param("TBufRdEnvTrig", "rate", [1, 6, "circ", 1.5, 5, "circ_out", 1])
$tracks("play_env_trigBufRd_cor1_mes51_2n").amp([-6, 2, 0, 4, "quad", 3, 2, 3, 3, -6, 1, -60], free = 0.1, action = ["clearbuf", $rec_buf30_1])

	$tracks("play_env_trigBufRd_cor1_mes51_2n").traj_circ_interp($cor1_dae, $vln_dae, 5) 
	5 $tracks("play_env_trigBufRd_cor1_mes51_2n").traj_circ_interp($vln_dae, $trp_dae, 5) 
}



1 obj::crea_track_HOA("play_env_trigBufRd_mes51_2n_1", "group_hoa1", fade_in = 0.1, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf0_1.id(), envbuf, $envs("server1")("perc"), freqHPF, 20], [CompressorD, thresh, 0.08, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trigBufRd_mes51_2n_1").set("TBufRdEnvTrig", ["impulse_rate", 40])
$tracks("play_env_trigBufRd_mes51_2n_1").set("TBufRdEnvTrig", [envbuf, $envs("server1")("pointe")])
$tracks("play_env_trigBufRd_mes51_2n_1").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 7, "circ", 63])
$tracks("play_env_trigBufRd_mes51_2n_1").bpf_param("TBufRdEnvTrig", "rate", [1, 7, 1.5])
$tracks("play_env_trigBufRd_mes51_2n_1").amp([-6, 2, 0, 5, "quad", 3, 2, 3, 2, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf0_1])
$tracks("play_env_trigBufRd_mes51_2n_1").traj_circ_interp($bsn_dae, $cl_dae, 7) 

//$trp
obj::crea_track_HOA("play_env_trigBufRd_mes51_2n_2", "group_hoa1", fade_in = 0.1, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf30_1.id(), envbuf, $envs("server1")("perc"), freqHPF, 20], [CompressorD, thresh, 0.03, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trigBufRd_mes51_2n_2").set("TBufRdEnvTrig", ["impulse_rate", 40])
$tracks("play_env_trigBufRd_mes51_2n_2").set("TBufRdEnvTrig", [envbuf, $envs("server1")("pointe")])
$tracks("play_env_trigBufRd_mes51_2n_2").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 8, "circ", 72])
$tracks("play_env_trigBufRd_mes51_2n_2").bpf_param("TBufRdEnvTrig", "rate", [1, 8, 2.22])
$tracks("play_env_trigBufRd_mes51_2n_2").amp([-6, 2, 06, 3, "quad", 3, 2, 3, 2, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf30_1])
$tracks("play_env_trigBufRd_mes51_2n_2").traj_circ_interp($cor1_dae, $vln_dae, 8)

NOTE 60 1 mes_36

print mes_36


$tracks("warp1_play_trb_mes_49_nn").free()

// $tracks("Warbulence_mes31").free(3)

$max_amp_mes36 := 3

obj::crea_track_HOA("Warbulence_mes36", "group_hoa3", fade_in = 3, amp = -20, doppler = 0, in_channels = 1, [["Warbulence_mod_dev_mono", "preset", "nota_8"]])
$tracks("Warbulence_mes36").set("Warbulence_mod_dev_mono", ["freq", 756])
$tracks("Warbulence_mes36").amp([-10, 2, -10, 2, "quad", $max_amp_mes36, 2, $max_amp_mes36, 1, -10, 2, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
$tracks("Warbulence_mes36").traj_circ_interp($vlc_dae, $alto_dae, 8.2) 

obj::crea_track_HOA("synth_mes_36_1", "group_hoa3", fade_in = 5, amp = -30, doppler = 0, in_channels = 1, [[Bform_mono, freq, 1205.0406494141, formfreq, 2437.6806640625, bwfreq, 929.94, amp, -10], [TGranIn_mono, envbuf, $envs("server3")("rond"), trigRate, 2.5, trigRateDev, 0.0, dur, 0.03999999910593]] )
	$tracks("synth_mes_36_1").bpf_param(TGranIn_mono, trigRate, [2.5, 7, "circ", 6.69])
	$tracks("synth_mes_36_1").amp([-30, 8, -15])
	// $tracks("synth_mes_36_1").traj_circ_interp($vlc_dae, $alto_dae, 8)
	
	group
	{
		$tracks("synth_mes_36_1").traj_circ_interp($vlc_dae, $alto_dae, 8)
		$tracks("synth_mes_36_1").set(Bform_mono, [amp, -29])
		8 $tracks("synth_mes_36_1").dae_rand_lfo([0.8, 2, 1, -180, 180, -90, 0, 90, 0])
	}
// crea_track8 track61 0 0 0 Bform_mono freq 1205.0406494141 formfreq 2437.6806640625 bwfreq 929.94000244141 amp -10.54699420929 #-> TGranIn_mono
	group
	{
		obj::crea_track_HOA("synth_mes_36_2", "group_hoa3", fade_in = 5, amp = -30, doppler = 0, in_channels = 1, [[Bform_mono, freq, 2222.7978515625, formfreq, 6187.9477539062, bwfreq, 202.318, amp, -10], [TGranIn_mono, envbuf, $envs("server3")("rond"), trigRate, 6.69, trigRateDev, 0.0, dur, 0.04399999]] )
		$tracks("synth_mes_36_2").bpf_param(TGranIn_mono, trigRate, [6.69, 7, "circ", 10])
		$tracks("synth_mes_36_2").amp([-30, 8, -15])
		$tracks("synth_mes_36_2").dae_rand_lfo([0.8, 2, 1, -180, 180, -90, 0, 90, 0])
		// $tracks("synth_mes_36_2").traj_circ_interp($vlc_dae, $vln_dae, 8)
		// $tracks("synth_mes_36_2").traj_circ_interp($alto_dae, $vln_dae, 8)
		$tracks("synth_mes_36_2").set(Bform_mono, [amp, -25])
	}	
// crea_track8 track23 0 0 0 Bform_mono freq 2222.7978515625 formfreq 6187.9477539062 bwfreq 202.31800842285 amp -10.54699420929 #-> TGranIn_mono trigRate 6.6999998092651 trigRateDev 0.0 dur 0.043999999761581 durDev 0.0 pan 0.0 panDev 0.0 ampDev 0.0 amp 0.0




NOTE 60 1 mes_36_1_1

print mes_36_1_1

group
{
	$mes_36_4_amp := 0

	obj::crea_track_HOA("synth_vowel_mes_36_4_1", "group_hoa3", fade_in = 2, amp = -120, doppler = 0, in_channels = 1, [[Vowel_dyn_u_soprano]])
	$tracks("synth_vowel_mes_36_4_1").bpf_param("Vowel_dyn_u_soprano", "imp_freq", [150, 4, "quart_in", 30, 6.1648, "linear", 10])
	$tracks("synth_vowel_mes_36_4_1").bpf_param("Vowel_dyn_u_soprano", "freqscale", [21.3932, 8.55727, "linear", 15])
	$tracks("synth_vowel_mes_36_4_1").amp([-60.0, 0.1, "linear", 14.12543+$mes_36_4_amp, 2.63075, "exp_in", 14.12543+$mes_36_4_amp, 5, "linear", 18.12543+$mes_36_4_amp, 5, -120], free = 0.1)
	group 
	{
		$tracks("synth_vowel_mes_36_4_1").traj_circ_interp($fl_dae, $vlc_dae, 2) 
		// 2 $tracks("synth_vowel_mes_36_4_1").traj_circ_interp($vlc_dae, $trb_dae, 2) 
	}
	0.33 obj::crea_track_HOA("synth_vowel_mes_36_4_2", "group_hoa3", fade_in = 1, amp = -120, doppler = 0, in_channels = 1, [[Vowel_dyn_u_soprano]])
	$tracks("synth_vowel_mes_36_4_2").bpf_param("Vowel_dyn_u_soprano", "imp_freq", [90, 4, "quart_in", 30, 6.1648, "linear", 10])
	$tracks("synth_vowel_mes_36_4_2").bpf_param("Vowel_dyn_u_soprano", "freqscale", [18.3932, 8.55727, "linear", 10])
	$tracks("synth_vowel_mes_36_4_2").amp([-60.0, 0.1, "linear", 14.12543+$mes_36_4_amp, 2.63075, "exp_in", 14.12543+$mes_36_4_amp, 6, "linear", 20.12543+$mes_36_4_amp, 5, -120], free = 0.1)
	group 
	{
		$tracks("synth_vowel_mes_36_4_2").traj_circ_interp($trb_dae, $cb_dae, 6) 
		// 2 $tracks("synth_vowel_mes_36_4_2").traj_circ_interp($cb_dae, $trp, 2) 
	}
	0.25 obj::crea_track_HOA("synth_vowel_mes_36_4_3", "group_hoa3", fade_in = 1, amp = -120, doppler = 0, in_channels = 1, [[Vowel_dyn_i_counterTenor]])
	$tracks("synth_vowel_mes_36_4_3").bpf_param("Vowel_dyn_i_counterTenor", "imp_freq", [77, 4, "quart_in", 30, 6.1648, "linear", 10])
	$tracks("synth_vowel_mes_36_4_3").bpf_param("Vowel_dyn_i_counterTenor", "freqscale", [16.3932, 8.55727, "linear", 12])
	$tracks("synth_vowel_mes_36_4_3").amp([-60.0, 0.1, "linear", 25.12543+$mes_36_4_amp, 2.63075, "exp_in", 16.12543+$mes_36_4_amp, 7, "linear", 20+$mes_36_4_amp, 5, -120], free = 0.1)
	group 
	{
		$tracks("synth_vowel_mes_36_4_3").traj_circ_interp($cl_dae, $cor2_dae, 7) 
		// 2 $tracks("synth_vowel_mes_36_4_3").traj_circ_interp($cor2, $fl, 2) 
	}	
}


// NEW
obj::crea_track_HOA("synth_mes_36_3_3", "group_hoa3", fade_in = 1, amp = -30, doppler = 0, in_channels = 1, [[Bform_mono, freq, 50, formfreq, 2437.6806640625, bwfreq, 929.94, amp, -10], [TGranIn_mono, envbuf, $envs("server3")("rond"), trigRate, 40, trigRateDev, 0.0, dur, 0.03999999910593]] )
	$tracks("synth_mes_36_3_3").bpf_param(TGranIn_mono, trigRate, [20, 7, "circ", 40])
	$tracks("synth_mes_36_3_3").amp([-30, 8, -22])
	// $tracks("synth_mes_36_3_3").amp(-14)
	// $tracks("synth_mes_36_3_3").traj_circ_interp($vlc_dae, $alto_dae, 8)
	$tracks("synth_mes_36_3_3").set(TGranIn_mono, [trigRate, 40])
	$tracks("synth_mes_36_3_3").set(TGranIn_mono, [envbuf, $envs("server3")("perc_rond")])

	$tracks("synth_mes_36_3_3").set(Bform_mono, [freq, 160])
	group
	{
		// $tracks("synth_mes_36_3_3").traj_circ_interp($cl_dae, $alto_dae, 8)
		// $tracks("synth_mes_36_3_3").set(Bform_mono, [amp, -10])
		$tracks("synth_mes_36_3_3").dae_rand_lfo([0.8, 2, 1, -180, 180, -90, 0, 90, 0], 10)
	}


NOTE 60 1 mes_36_4

print mes_36_4



NOTE 60 1 mes_37_2

print mes_37_2

$rec_buf4_2.rec($bsn)

obj::crea_track_HOA("warp1_play_bsn_mes_37_2", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf4_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
$tracks("warp1_play_bsn_mes_37_2").rand_lfo_dyn("Warp1Play", "pos", 0.0, "linear", 60, $rec_buf4_2)
$tracks("warp1_play_bsn_mes_37_2").traj_circ_interp($vln_dae, $cb_dae, 8.2) 

$rec_buf5_2.rec($vln)

obj::crea_track_HOA("warp1_play_vln_mes_37_2", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf5_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
$tracks("warp1_play_vln_mes_37_2").rand_lfo_dyn("Warp1Play", "pos", 0.0, "linear", 60, $rec_buf5_2)
$tracks("warp1_play_vln_mes_37_2").traj_circ_interp($vlc_dae, $alto_dae, 8.2) 

$rec_buf6_2.rec($cb)

obj::crea_track_HOA("warp1_play_cb_mes_37_2", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf6_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
$tracks("warp1_play_cb_mes_37_2").rand_lfo_dyn("Warp1Play", "pos", 0.0, "linear", 60, $rec_buf6_2)
$tracks("warp1_play_cb_mes_37_2").traj_circ_interp($cl_dae, $bsn_dae, 8.2) 

$max_amp_mes37 := 3
obj::crea_track_HOA("Warbulence_mes37", "group_hoa3", fade_in = 3, amp = -20, doppler = 0, in_channels = 1, [["Warbulence_mod_dev_mono", "preset", "nota_8"]])
$tracks("Warbulence_mes37").set("Warbulence_mod_dev_mono", ["freq", 756])
$tracks("Warbulence_mes37").amp([-10, 2, -10, 2, "quad", $max_amp_mes37, 2, $max_amp_mes37, 1, -10, 2, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
$tracks("Warbulence_mes37").traj_circ_interp($vlc_dae, $alto_dae, 8.2) 


NOTE 60 1 mes_38

print mes_38

	$rec_buf_mes_38.rec($trp)
	$amp_mes_38 := 0

	obj::crea_track_HOA("play_env_trig_mes_38", "group_hoa1", fade_in = 1, amp = $amp_mes_38, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_38.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_38.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes_38").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes_38").set("TPlayBufEnvTrigF", ["impulse_rate", 240])
	$tracks("play_env_trig_mes_38").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes_38").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 6, "sine", 240, 2, 240, 5, 150])
	$tracks("play_env_trig_mes_38").amp([$amp_mes_38, 1, $amp_mes_38, 5.5, "quad", $amp_mes_38+3, 3, $amp_mes_38+3, 3, -10, 7, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_38])

	$tracks("play_env_trig_mes_38").traj_circ_interp($trp_dae, $alto_dae, 6.5)
	$tracks("play_env_trig_mes_38").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes_38").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 6.5, "sine", 2000])
	// $tracks("play_env_trig_mes_38").set(THighPass, ["freq", 2000])

	// $tracks("play_env_trig_mes_38").amp(-120)

$tracks("synth_sustract_mes_34_4_1").free(5)
$tracks("synth_sustract_mes_34_4_2").free(5)


NOTE 60 1 mes_38_2

print mes_38_2

	$rec_buf_mes_38_2.rec($cor2)
	$amp_mes_38_2 := 0

	obj::crea_track_HOA("play_env_trig_mes_38_2", "group_hoa1", fade_in = 1, amp = $amp_mes_38_2, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_38_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_38_2.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes_38_2").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes_38_2").set("TPlayBufEnvTrigF", ["impulse_rate", 240])
	$tracks("play_env_trig_mes_38_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes_38_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 6, "sine", 250, 2, 250, 5, 150])
	$tracks("play_env_trig_mes_38_2").amp([$amp_mes_38_2, 1, $amp_mes_38_2, 5.5, "quad", $amp_mes_38_2+3, 3, $amp_mes_38_2+3, 3, -10, 7, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_38_2])

	$tracks("play_env_trig_mes_38_2").traj_circ_interp($cor2_dae, $alto_dae, 6.5)
	$tracks("play_env_trig_mes_38_2").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes_38_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 6.5, "sine", 2000])
	
	// $tracks("play_env_trig_mes_38_2").free()
	// $tracks("play_env_trig_mes_38_2").amp(0)
	// $tracks("play_env_trig_mes_38_2").set("TPlayBufEnvTrigF", ["impulse_rate", 56])


// $tracks("synth_sustract_mes_34_4_1").free(5)
// $tracks("synth_sustract_mes_34_4_2").free(5)

group
{

0.3 obj::crea_track_HOA("play_env_trigBufRd_cor2_mes38_2", "group_hoa1", fade_in = 1, amp = -60, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf_mes_38_2.id(), envbuf, $envs("server1")("inv"), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trigBufRd_cor2_mes38_2").set("TBufRdEnvTrig", ["impulse_rate", 40])
$tracks("play_env_trigBufRd_cor2_mes38_2").set("TBufRdEnvTrig", [envbuf, $envs("server1")("inv")])
$tracks("play_env_trigBufRd_cor2_mes38_2").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 6, "circ_in_out", 37, 5, "circ_out", 10])
$tracks("play_env_trigBufRd_cor2_mes38_2").bpf_param("TBufRdEnvTrig", "rate", [1, 6, "circ", 1.5, 5, "circ_out", 1])
$tracks("play_env_trigBufRd_cor2_mes38_2").amp([-10, 2, 8, 4, "quad", 10, 2, 0, 3, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_38_2])

	$tracks("play_env_trigBufRd_cor2_mes38_2").traj_circ_interp($cor2_dae, $cor1_dae, 5) 
	5 $tracks("play_env_trigBufRd_cor2_mes38_2").traj_circ_interp($cor1_dae, $cor2_dae, 5) 
}


NOTE 60 1 mes_56_n

print mes_56_n

	$rec_buf1_1.rec($trb)
	$amp_mes_56_n := 0

	obj::crea_track_HOA("play_env_trig_mes_56_n", "group_hoa1", fade_in = 1, amp = $amp_mes_56_n, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf1_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf1_1.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes_56_n").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes_56_n").set("TPlayBufEnvTrigF", ["impulse_rate", 240])
	$tracks("play_env_trig_mes_56_n").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes_56_n").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 6, "sine", 250, 2, 250, 5, 150])
	$tracks("play_env_trig_mes_56_n").amp([$amp_mes_56_n, 1, $amp_mes_56_n, 5.5, "quad", $amp_mes_56_n+3, 3, $amp_mes_56_n+3, 3, -10, 7, -60], free = 0.1, action = ["clearbuf", $rec_buf1_1])

	$tracks("play_env_trig_mes_56_n").traj_circ_interp($cor2_dae, $alto_dae, 6.5)
	$tracks("play_env_trig_mes_56_n").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes_56_n").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 6.5, "sine", 2000])

/////
	obj::crea_track_HOA("warp1_play_trb_mes_56_n", "group_hoa1", fade_in = 0.5, amp = 4, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf1_1.id(), envbuf, $envs("server1")("pointe")], [Multi5BandPass], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], ["TJPverb_mono", t60, 3]]) // track without encoder 

	$tracks("warp1_play_trb_mes_56_n").rand_lfo_dyn("Warp1Play", "pos", 0.01, "linear", 50, $rec_buf1_1)
	$tracks("warp1_play_trb_mes_56_n").traj_circ_interp($trb_dae, $fl_dae, 8.2) 

	group
	{
		$tracks("warp1_play_trb_mes_56_n").interpol_formant(Multi5BandPass, "bassO", "tenorO", 5) 

		// $tracks("warp1_play_trb_mes_56_n").interpol_2tab_param(Multi5BandPass, freqs, [$formants("bassO")[0], $formants("tenorO")[0]], 5) 
		// $tracks("warp1_play_trb_mes_56_n").interpol_2tab_param(Multi5BandPass, amps, [$formants("bassO")[1], $formants("tenorO")[1]], 5) 
		// $tracks("warp1_play_trb_mes_56_n").interpol_2tab_param(Multi5BandPass, q, [$formants("bassO")[2], $formants("tenorO")[2]], 5) 

		5 $tracks("warp1_play_trb_mes_56_n").interpol_formant(Multi5BandPass, "tenorO", "altoU", 10) 
 
		// $tracks("warp1_play_trb_mes_56_n").interpol_2tab_param(Multi5BandPass, freqs, [$formants("tenorO")[0], $formants("altoU")[0]], 10) 
		// $tracks("warp1_play_trb_mes_56_n").interpol_2tab_param(Multi5BandPass, amps, [$formants("tenorO")[1], $formants("altoU")[1]], 10) 
		// $tracks("warp1_play_trb_mes_56_n").interpol_2tab_param(Multi5BandPass, q, [$formants("tenorO")[2], $formants("altoU")[2]], 10) 
	}

group
{

0.3 obj::crea_track_HOA("play_env_trigBufRd_trb_mes_56_n", "group_hoa1", fade_in = 1, amp = -60, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf1_1.id(), envbuf, $envs("server1")("inv"), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// $tracks("play_env_trigBufRd_trb_mes_56_n").set("TBufRdEnvTrig", ["impulse_rate", 40])
$tracks("play_env_trigBufRd_trb_mes_56_n").set("TBufRdEnvTrig", [envbuf, $envs("server1")("inv")])
$tracks("play_env_trigBufRd_trb_mes_56_n").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 6, "circ_in_out", 45, 5, "circ_out", 10])
$tracks("play_env_trigBufRd_trb_mes_56_n").bpf_param("TBufRdEnvTrig", "rate", [1, 6, "circ", 1.5, 5, "circ_out", 1])
$tracks("play_env_trigBufRd_trb_mes_56_n").amp([-10, 2, 8, 4, "quad", 10, 2, 0, 3, -10, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf1_1])

	$tracks("play_env_trigBufRd_trb_mes_56_n").traj_circ_interp($trb_dae, $cor1_dae, 5) 
	5 $tracks("play_env_trigBufRd_trb_mes_56_n").traj_circ_interp($cor1_dae, $cor2_dae, 5) 
}

NOTE 60 1 mes_38_3

print mes_38_3


$tracks("synth_mes_36_1").free(6)
$tracks("synth_mes_36_2").free(6)

	$rec_buf_mes_38_3.rec($fl)
	$amp_mes_38_3 := 0

	obj::crea_track_HOA("play_env_trig_mes_38_3", "group_hoa1", fade_in = 1, amp = $amp_mes_38_3, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_38_3.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_38_3.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes_38_3").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes_38_3").set("TPlayBufEnvTrigF", ["impulse_rate", 240])
	$tracks("play_env_trig_mes_38_3").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes_38_3").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 6, "sine", 260, 2, 260, 5, 150])
	$tracks("play_env_trig_mes_38_3").amp([$amp_mes_38_3, 1, $amp_mes_38_3, 5.5, "quad", $amp_mes_38_3+3, 3, $amp_mes_38_3+3, 3, -10, 7, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_38_3])

	$tracks("play_env_trig_mes_38_3").traj_circ_interp($fl_dae, $alto_dae, 6.5)
	$tracks("play_env_trig_mes_38_3").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes_38_3").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 6.5, "sine", 2000])

	// $tracks("play_env_trig_mes_38_3").amp(-120)

whenever cl_ampgate_mes38 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cl))
{
	print onset cl_onset_mes38
	$rec_buf18_1.rec($cl)
	$amp_mes_38_3 := -5
	$dur_38_3 := 4.5
	$amp_end_38_3 := 6

	obj::crea_track_HOA("play_env_trig_mes38_3", "group_hoa1", fade_in = 1, amp = $amp_mes_38_3, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf18_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf18_1.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes38_3").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes38_3").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes38_3").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes38_3").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_38_3, "sine", 226])
	$tracks("play_env_trig_mes38_3").amp([$amp_mes_38_3, $dur_38_3, $amp_end_38_3, $dur_38_3, $amp_end_38_3, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf18_1])
	// $tracks("play_env_trig_mes38_3").amp([$amp_mes_42_3_2, 1, $amp_mes_42_3_2, 4, "quad", $amp_end_42_3_2, $dur_42_3_2, $amp_end_42_3_2, 3, -10, 4, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	// $tracks("play_env_trig_mes38_3").amp(-120) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	$tracks("play_env_trig_mes38_3").traj_circ_interp($cl_dae, $vlc_dae, $dur_38_3) 
	$tracks("play_env_trig_mes38_3").set(CompressorD, [thresh, 0.3])
	$tracks("play_env_trig_mes38_3").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_38_3, "linear", 1000])
	// $tracks("play_env_trig_mes38_3").amp(0)
	// $tracks("play_env_trig_mes38_3").set("TPlayBufEnvTrigF", ["impulse_rate", 226])
	0.01 abort cl_ampgate_mes38 @norec
}

NOTE 60 1 mes_38_4

print mes_38_4

	$rec_buf_mes_38_4.rec($cor1)
	$amp_mes_38_4 := 0

	obj::crea_track_HOA("play_env_trig_mes_38_4", "group_hoa1", fade_in = 1, amp = $amp_mes_38_4, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_38_4.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_38_4.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes_38_4").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes_38_4").set("TPlayBufEnvTrigF", ["impulse_rate", 240])
	$tracks("play_env_trig_mes_38_4").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes_38_4").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 6, "sine", 200, 2, 200, 5, 150])
	$tracks("play_env_trig_mes_38_4").amp([$amp_mes_38_4, 1, $amp_mes_38_4, 5.5, "quad", $amp_mes_38_4+3, 3, $amp_mes_38_4+3, 3, -10, 7, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_38_4])

	$tracks("play_env_trig_mes_38_4").traj_circ_interp($cor1_dae, $alto_dae, 6.5)
	$tracks("play_env_trig_mes_38_4").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes_38_4").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 6.5, "sine", 2000])

	// $tracks("play_env_trig_mes_38_4").amp(-120)


NOTE 60 1 mes_38_4_2

print mes_38_4_2

	$tracks("synth_mes_36_3_3").free(5)

	$rec_buf_mes_38_4_2.rec($htb)
	// $Servers("server1").g_dumpTree(0, 1)
	$amp_mes_38_4_2 := 0

	obj::crea_track_HOA("play_env_trig_mes_38_4_2", "group_hoa1", fade_in = 1, amp = $amp_mes_38_4_2, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_38_4_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_38_4_2.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes_38_4_2").set("TPlayBufEnvTrigF", ["rate", 1])
	$tracks("play_env_trig_mes_38_4_2").set("TPlayBufEnvTrigF", ["impulse_rate", 1])
	$tracks("play_env_trig_mes_38_4_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("pointe")])
	$tracks("play_env_trig_mes_38_4_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, 6, "sine", 180, 2, 180, 5, 150])
	$tracks("play_env_trig_mes_38_4_2").amp([$amp_mes_38_4_2, 1, $amp_mes_38_4_2, 5.5, "quad", $amp_mes_38_4_2+3, 3, $amp_mes_38_4_2+3, 3, -10, 7, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_38_4_2])

	$tracks("play_env_trig_mes_38_4_2").traj_circ_interp($htb_dae, $alto_dae, 6.5)
	$tracks("play_env_trig_mes_38_4_2").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes_38_4_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, 6.5, "sine", 2000])
	// $tracks("play_env_trig_mes_38_4_2").set("TPlayBufEnvTrigF", ["freqHPF", 20])

	// $tracks("play_env_trig_mes_38_4_2").amp(-6)

	// $rec_buf_mes_38_4_2.write("buf_38_4_2_6")

	// print ($rec_buf_mes_38_4_2.abs_dur())

	// $Servers("server3").dumpOSC(0)
	// $Servers("server1").g_dumpTree(0, 1)

// print @dur2sec(1)

group mes_38_4_2
{
	$rec_buf9_05.rec($alto)
	$amp_mes_38_4_2 := 0
	$dur_38_4_2 := 5
	$amp_end_38_4_2 := 1
	$dur_gliss_38_4_2 := 7

	obj::crea_track_HOA("cortaRand_mes38_4_2", "group_hoa1", fade_in = 0.1, amp = $amp_mes_38_4_2, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf9_05.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	$tracks("cortaRand_mes38_4_2").amp([$amp_mes_38_4_2, 1, $amp_mes_38_4_2, $dur_gliss_38_4_2-1, "quad", $amp_end_38_4_2, $dur_38_4_2, $amp_end_38_4_2, 3, -10, 4, -60], free = 0.1, action = ["clearbuf", $rec_buf9_05])
	// $tracks("cortaRand_mes38_4_2").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_38_4_2) 
	$tracks("cortaRand_mes38_4_2").dae_rand_lfo([0.8, 2, $alto_dae[0], -180, 180, $alto_dae[1], 0, 90, $alto_dae[2]], 10)

	$tracks("cortaRand_mes38_4_2").set(TCortaRandBuf, [trig_time, 3])
	$tracks("cortaRand_mes38_4_2").set(TCortaRandBuf, [loopDur, 0.1])
	// $tracks("cortaRand_mes38_4_2").amp(3)
}


NOTE 60 1 mes_40

print mes_40

// $tracks("warp1_play_cor_mes_34_4").free(2)
// $tracks("play_env_trig_mes34_4").free(2)

$tracks("warp1_play_bsn_mes_37_2").free(10)
$tracks("warp1_play_vln_mes_37_2").free(10)
$tracks("warp1_play_cb_mes_37_2").free(10)

group synth_mes_41_3
{
	// $tracks("Warbulence_mes31").preset("Warbulence_mod_dev_mono", "nota_8")
 	obj::crea_track_HOA("synth_mes_41_3_1", "group_hoa3", fade_in = 5, amp = -12, doppler = 0, in_channels = 1, [[Bform_mono, freq, 1967.35, formfreq, 2500, bwfreq, 164.718, amp, -33], [TGranIn_mono, envbuf, $envs("server3")("rond"), trigRate, 13.1, dur, 0.234]] )
	$tracks("synth_mes_41_3_1").set(Bform_mono, ["amp", -33])
	$tracks("synth_mes_41_3_1").amp([-30, 7, -12])
	group
	{
		$tracks("synth_mes_41_3_1").traj_circ_interp($vlc_dae, $alto_dae, 4)
		4 $tracks("synth_mes_41_3_1").dae_rand_lfo([0.8, 2, 1, -180, 180, -45, 0, 90, 0])
	}
// $tracks("synth_mes_41_3_1").free()
1.5 obj::crea_track_HOA("synth_mes_41_3_2", "group_hoa3", fade_in = 5, amp = -12, doppler = 0, in_channels = 1, [[Bform_mono, freq, 433.53, formfreq, 2098, bwfreq, 76.83, amp, -27], [TGranIn_mono, envbuf, $envs("server3")("inv"), trigRate, 7.5, dur, 0.226]] )
	// $tracks("synth_mes_41_3_2").bpf_param(TGranIn_mono, trigRate, [6.5999999, 5, "circ", 18])
	$tracks("synth_mes_41_3_2").set(Bform_mono, ["amp", -27])
	$tracks("synth_mes_41_3_2").amp([-30, 7, -12])
	group
	{
		$tracks("synth_mes_41_3_2").traj_circ_interp($vlc_dae, $alto_dae, 4)
		4 $tracks("synth_mes_41_3_2").dae_rand_lfo([0.8, 2, 1, -180, 180, -90, 0, 90, 0])
	}
}

// crea_track8 track10 0 0 0 Bform_mono freq 1967.3520507812 formfreq 2500.2114257812 bwfreq 164.71807861328 amp -6.6200108528137 #-> TGranIn_mono trigRate 13.10000038147 trigRateDev 0.0 dur 0.2339999973774 durDev 0.0 pan 0.0 panDev 0.0 ampDev 0.0 amp 0.0
// crea_track8 track36 0 0 0 Bform_mono freq 433.53314208984 formfreq 2098.8840332031 bwfreq 76.830039978027 amp -15.600700378418 #-> TGranIn_mono trigRate 7.5 trigRateDev 0.0 dur 0.22599999606609 durDev 0.0 pan 0.0 panDev 0.0

// freqscale nota_vow_corta1 Vowel_dyn_u_soprano 0. 19.393223 0. 8557.267629 19.968338 0.
// freqscale: [19.3932, 8.55727, "linear", 19.9683]
// impulse: [11.1774, 2.39246, "quart_in", 172.092, 6.1648, "linear", 39.3654]
// amp: [-120.0, 1.4572, "linear", 7.12543, 2.63075, "exp_in", -36.6445, 3.33083, "linear", -59.2381, 1.1385, "linear", -120.0]


NOTE 60 1 mes_41

print mes_41

$rec_buf1_2.rec($vln)

obj::crea_track_HOA("warp1_play_vln_mes_41", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf1_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
$tracks("warp1_play_vln_mes_41").rand_lfo_dyn("Warp1Play", "pos", 0.0, "linear", 60, $rec_buf1_2)
$tracks("warp1_play_vln_mes_41").traj_circ_interp($vln_dae, $cb_dae, 8.2) 


$rec_buf2_2.rec($vlc)

obj::crea_track_HOA("warp1_play_vlc_mes_41", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf2_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
$tracks("warp1_play_vlc_mes_41").rand_lfo_dyn("Warp1Play", "pos", 0.0, "linear", 60, $rec_buf2_2)
$tracks("warp1_play_vlc_mes_41").traj_circ_interp($vlc_dae, $alto_dae, 8.2) 

$rec_buf3_2.rec($cl)

obj::crea_track_HOA("warp1_play_cl_mes_41", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf3_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
$tracks("warp1_play_cl_mes_41").rand_lfo_dyn("Warp1Play", "pos", 0.0, "linear", 60, $rec_buf3_2)
$tracks("warp1_play_cl_mes_41").traj_circ_interp($cl_dae, $bsn_dae, 8.2) 


	obj::crea_track_HOA("synth_vowel_mes_42", "group_hoa3", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [[Vowel_dyn_u_soprano]])
	$tracks("synth_vowel_mes_42").bpf_param("Vowel_dyn_u_soprano", "imp_freq", [11.1774, 2.39246, "quart_in", 172.092, 6.1648, "linear", 10.3654, 4, 7])
	$tracks("synth_vowel_mes_42").bpf_param("Vowel_dyn_u_soprano", "freqscale", [19.3932, 8.55727, "linear", 19.9683])
	$tracks("synth_vowel_mes_42").amp([-60.0, 0.4572, "linear", 12, 5, 14, 6, "exp_in", 18], free = 0.1)
	$tracks("synth_vowel_mes_42").traj_circ_interp($alto_dae, $vlc_dae, 9.2) 

	obj::crea_track_HOA("synth_vowel_mes_42_2", "group_hoa3", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["Vowel_dyn_i_counterTenor"]])
	$tracks("synth_vowel_mes_42_2").bpf_param("Vowel_dyn_i_counterTenor", "imp_freq", [11.1774, 1.30989, "linear", 100.0, 1.47238, "linear", 44.479, 2.18347, "linear", 9.9724])
	$tracks("synth_vowel_mes_42_2").bpf_param("Vowel_dyn_i_counterTenor", "freqscale", [17.394, 18.6216, "linear", 16.0247])
	// $tracks("synth_vowel_mes_42_2").amp([-120.0, 0.0289412, "linear", 5.83143, 18.2962, "linear", 7.53623, 0.317482, "linear", -120.0], free = 0.1)
	$tracks("synth_vowel_mes_42_2").amp([-60.0, 0.4572, "linear", 14, 6, 20], free = 0.1)
	$tracks("synth_vowel_mes_42_2").traj_circ_interp($htb_dae, $vlc_dae, 9.2) 



// crea_track8 track2 0 0 0 Bform_mono freq 396.92150878906 formfreq 959.40637207031 bwfreq 200.0 amp 0.0 #-> TGranIn_mono trigRate 6.5999999046326 trigRateDev 0.0 dur 0.25 durDev 0.0 pan 0.0 panDev 0.0 ampDev 0.0 amp 0.0
// crea_track8 track97 0 0 0 Bform_mono freq 731.54150390625 formfreq 1709.1336669922 bwfreq 2097.3210449219 amp -9.2430858612061 #-> TGranIn_mono trigRate 11.0

NOTE 60 1 mes_42

print mes_42

	$rec_buf_mes_42_1.rec($trb)
	$amp_mes_42_1 := 3
	$dur_42_1 := 4
	$dur_gliss_42_1 := 8

	obj::crea_track_HOA("play_env_trig_mes42_1", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_42_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_42_1.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes42_1").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes42_1").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes42_1").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes42_1").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_gliss_42_1, "sine", 300, $dur_42_1 , 300, 5, 10])
	$tracks("play_env_trig_mes42_1").amp([$amp_mes_42_1, 1, $amp_mes_42_1, $dur_gliss_42_1-1, "quad", $amp_mes_42_1+3, $dur_42_1 , $amp_mes_42_1+3, 10, -10, 4, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_42_1])

	$tracks("play_env_trig_mes42_1").traj_circ_interp($trb_dae, $bsn_dae, $dur_gliss_42_1) 
	$tracks("play_env_trig_mes42_1").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes42_1").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_gliss_42_1, "sine", 2000])
	// $tracks("play_env_trig_mes42_1").amp(0)
	// $tracks("play_env_trig_mes42_1").set("TPlayBufEnvTrigF", ["impulse_rate", 300])

	0.5 $rec_buf_mes_42_2.rec($htb)
	$amp_mes_42_2 := -6
	$dur_42_2 := 4
	$dur_gliss_42_2 := 7

	obj::crea_track_HOA("play_env_trig_mes42_2", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_42_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_42_2.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes42_2").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes42_2").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes42_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes42_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_gliss_42_2, "sine", 300, $dur_42_2 , 300, 5, 15])
	$tracks("play_env_trig_mes42_2").amp([$amp_mes_42_2, 1, $amp_mes_42_2, $dur_gliss_42_2-1, "quad", $amp_mes_42_2+3, $dur_42_2 , $amp_mes_42_2+3, 10, -10, 4, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_42_2])

	$tracks("play_env_trig_mes42_2").traj_circ_interp($htb_dae, $bsn_dae, $dur_gliss_42_2) 
	$tracks("play_env_trig_mes42_2").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes42_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_gliss_42_2, "sine", 2000])
	// $tracks("play_env_trig_mes42_2").amp(20)
	// $tracks("play_env_trig_mes42_2").set("TPlayBufEnvTrigF", ["impulse_rate", 300])
// $rec_buf9_2.rec($trb)

// obj::crea_track_HOA("warp1_play_cl_mes_22", "group_hoa1", fade_in = 0.5, amp = 4, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf9_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 3]]) // track without encoder 
// // 0.1 obj::crea_track_HOA("warp1_play_cl_mes_22", "group_hoa1", fade_in = 0.5, amp = 4, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf9_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 3], ["TGranInterpExt","dur", 0.0020000000949949, "durDev", 0.0, "ifac", 0.0, "ampDev", 0.0, "envbuf0", ($envs("server1")("pointe")), "envbuf1", ($envs("server1")("inv"))]]) // track without encoder 
// $tracks("warp1_play_cl_mes_22").rand_lfo_dyn("Warp1Play", "pos", 0.01, "linear", 50, $rec_buf9_2)
// $tracks("warp1_play_cl_mes_22").traj_circ_interp($trb_dae, $fl_dae, 8.2) 


// $tracks("synth_vowel_mes_42_2").free()
NOTE 60 1 mes_42_2

print mes_42_2

	$rec_buf_mes_42_2_1.rec($cor2)
	$amp_mes_42_2_1 := 3
	$dur_42_2_1 := 4
	$dur_gliss_42_2_1 := 7

	obj::crea_track_HOA("play_env_trig_mes42_2_1", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_42_2_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_42_2_1.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes42_2_1").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes42_2_1").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes42_2_1").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes42_2_1").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_gliss_42_2_1, "sine", 310, $dur_42_2_1 , 310, 8, 20])
	$tracks("play_env_trig_mes42_2_1").amp([$amp_mes_42_2_1, 1, $amp_mes_42_2_1, $dur_gliss_42_2_1-1, "quad", $amp_mes_42_2_1+3, $dur_42_2_1 , $amp_mes_42_2_1+3, 10, -10, 4, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_42_2_1])

	$tracks("play_env_trig_mes42_2_1").traj_circ_interp($cor2_dae, $bsn_dae, $dur_gliss_42_2_1) 
	$tracks("play_env_trig_mes42_2_1").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes42_2_1").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_gliss_42_2_1, "sine", 2000])
	// $tracks("play_env_trig_mes42_2_1").amp(20)
	// $tracks("play_env_trig_mes42_2_1").set("TPlayBufEnvTrigF", ["impulse_rate", 310])

	0.1 $rec_buf_mes_42_2_2.rec($cb)
	$amp_mes_42_2_2 := 3
	$dur_42_2_2 := 4.5
	$dur_gliss_42_2_2 := 7

	obj::crea_track_HOA("play_env_trig_mes42_2_2", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_42_2_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_42_2_2.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes42_2_2").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes42_2_2").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes42_2_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes42_2_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_gliss_42_2_2, "sine", 300, $dur_42_2_2, 300, 10, 30])
	$tracks("play_env_trig_mes42_2_2").amp([$amp_mes_42_2_2, 1, $amp_mes_42_2_2, $dur_gliss_42_2_2-1, "quad", $amp_mes_42_2_2+3, $dur_42_2_2, $amp_mes_42_2_2+3, 10, -10, 4, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_42_2_2])

	$tracks("play_env_trig_mes42_2_2").traj_circ_interp($cb_dae, $bsn_dae, $dur_gliss_42_2_2) 
	$tracks("play_env_trig_mes42_2_2").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes42_2_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_gliss_42_2_2, "sine", 2000])
	// $tracks("play_env_trig_mes42_2_2").amp(0)
	// $tracks("play_env_trig_mes42_2_2").set("TPlayBufEnvTrigF", ["impulse_rate", 300])


NOTE 60 1 mes_42_3

print mes_42_3

$tracks("warp1_play_vln_mes_41").free(6)
$tracks("warp1_play_vlc_mes_41").free(6)
$tracks("warp1_play_cl_mes_41").free(6)

	$rec_buf_mes_42_3_1.rec($bsn)
	$amp_mes_42_3_1 := 0
	$dur_42_3_1 := 4.5
	$dur_gliss_42_3_1 := 8

	obj::crea_track_HOA("play_env_trig_mes42_3_1", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_42_3_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_42_3_1.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes42_3_1").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes42_3_1").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes42_3_1").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes42_3_1").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_gliss_42_3_1, "sine", 153, $dur_42_3_1, 153, 10, 23])
	$tracks("play_env_trig_mes42_3_1").amp([$amp_mes_42_3_1, 1, $amp_mes_42_3_1, $dur_gliss_42_3_1-1, "quad", $amp_mes_42_3_1+3, $dur_42_3_1, $amp_mes_42_3_1+3, 10, -10, 4, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_42_3_1])

	$tracks("play_env_trig_mes42_3_1").traj_circ_interp($bsn_dae, $alto_dae, $dur_gliss_42_3_1) 
	$tracks("play_env_trig_mes42_3_1").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes42_3_1").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_gliss_42_3_1, "sine", 2000])
	// $tracks("play_env_trig_mes42_3_1").amp(0)
	// $tracks("play_env_trig_mes42_3_1").set("TPlayBufEnvTrigF", ["impulse_rate", 153])

	1 $rec_buf_mes_42_3_2.rec($trp)
	$amp_mes_42_3_2 := -5
	$dur_42_3_2 := 5.2
	$amp_end_42_3_2 := 6
	$dur_gliss_42_3_2 := 8

	obj::crea_track_HOA("play_env_trig_mes42_3_2", "group_hoa1", fade_in = 1, amp = $amp_mes_42_3_2, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_42_3_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_42_3_2.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes42_3_2").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes42_3_2").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes42_3_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes42_3_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_gliss_42_3_2, "sine", 225, $dur_42_3_2, 225, 5, 20])
	$tracks("play_env_trig_mes42_3_2").amp([$amp_mes_42_3_2, 1, $amp_mes_42_3_2, $dur_gliss_42_3_2-1, "quad", $amp_end_42_3_2, $dur_42_3_2, $amp_end_42_3_2, 10, -10, 4, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_42_3_2])

	$tracks("play_env_trig_mes42_3_2").traj_circ_interp($trp_dae, $bsn_dae, $dur_gliss_42_3_2) 
	$tracks("play_env_trig_mes42_3_2").set(CompressorD, [thresh, 0.2])
	$tracks("play_env_trig_mes42_3_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_gliss_42_3_2, "sine", 2000])
	// $tracks("play_env_trig_mes42_3_2").amp(0)
	// $tracks("play_env_trig_mes42_3_2").set("TPlayBufEnvTrigF", ["impulse_rate", 225])

NOTE 60 1 mes_42_4

print mes_42_4

	$rec_buf_mes_42_4.rec($fl)
	$amp_mes_42_4 := -5
	$dur_42_4 := 5
	$amp_end_42_4 := 6
	$dur_gliss_42_4 := 7

	// obj::crea_track_HOA("play_env_trig_mes42_4", "group_hoa1", fade_in = 1, amp = $amp_mes_42_4, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_42_4.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_42_4.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes42_4").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes42_4").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	obj::crea_track_HOA("play_env_trig_mes42_4", "group_hoa1", fade_in = 0.5, amp = $amp_mes_42_4, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf_mes_42_4.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]

	// $tracks("play_env_trig_mes42_4").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	// $tracks("play_env_trig_mes42_4").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_gliss_42_4, "sine", 226, $dur_42_4, 226, 5, 210])
	$tracks("play_env_trig_mes42_4").amp([$amp_mes_42_4, 1, $amp_mes_42_4, $dur_gliss_42_4-1, "quad", $amp_end_42_4, $dur_42_4, $amp_end_42_4, 3, -10, 4, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_42_4])

	// $tracks("play_env_trig_mes42_4").amp([$amp_mes_42_3_2, 1, $amp_mes_42_3_2, 4, "quad", $amp_end_42_3_2, $dur_42_3_2, $amp_end_42_3_2, 3, -10, 4, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	// $tracks("play_env_trig_mes42_4").amp(-120) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	$tracks("play_env_trig_mes42_4").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_42_4) 
	// $tracks("play_env_trig_mes42_4").set(CompressorD, [thresh, 0.1])
	// $tracks("play_env_trig_mes42_4").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_gliss_42_4, "sine", 1000])
	// $tracks("play_env_trig_mes42_4").amp(0)
	// $tracks("play_env_trig_mes42_4").set("TPlayBufEnvTrigF", ["impulse_rate", 226])

	0.1 $rec_buf_mes_42_4_2.rec($vlc)
	$amp_mes_42_4_2 := 3
	$dur_42_4_2 := 4.5
	$dur_gliss_42_4_2 := 7

	obj::crea_track_HOA("play_env_trig_mes42_4_2", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_42_4_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_42_4_2.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes42_4_2").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes42_4_2").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes42_4_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes42_4_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_gliss_42_4_2, "sine", 300, $dur_42_4_2, 300, 5, 280])
	$tracks("play_env_trig_mes42_4_2").amp([$amp_mes_42_4_2, 1, $amp_mes_42_4_2, $dur_gliss_42_4_2-1, "quad", $amp_mes_42_4_2+3, $dur_42_4_2, $amp_mes_42_4_2+3, 3, -10, 4, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_42_4_2])

	$tracks("play_env_trig_mes42_4_2").traj_circ_interp($vlc_dae, $bsn_dae, $dur_gliss_42_4_2) 
	$tracks("play_env_trig_mes42_4_2").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes42_4_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_gliss_42_4_2, "sine", 2000])
	// $tracks("play_env_trig_mes42_4_2").amp(0)
	// $tracks("play_env_trig_mes42_4_2").set("TPlayBufEnvTrigF", ["impulse_rate", 300])


NOTE 60 1 mes_43

print mes_43

	$rec_buf_mes_43.rec($trb)
	$amp_mes_43 := 3
	$dur_43 := 4
	$dur_gliss_43 := 8

	obj::crea_track_HOA("play_env_trig_mes43", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_43.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_43.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes43").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes43").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes43").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes43").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_gliss_43 , "sine", 300, $dur_43 , 300, 5, 250])
	$tracks("play_env_trig_mes43").amp([$amp_mes_43, 1, $amp_mes_43, $dur_gliss_43-1, "quad", $amp_mes_43+3, $dur_43 , $amp_mes_43+3, 3, -10, 4, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_43])

	$tracks("play_env_trig_mes43").traj_circ_interp($trb_dae, $bsn_dae, $dur_gliss_43 ) 
	$tracks("play_env_trig_mes43").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes43").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_gliss_43 , "sine", 2000])
	// $tracks("play_env_trig_mes43").amp(0)
	// $tracks("play_env_trig_mes43").set("TPlayBufEnvTrigF", ["impulse_rate", 300])

	0.1 $rec_buf_mes_43_0_2.rec($cl)
	$amp_mes_43_0_2 := -5
	$dur_43_0_2 := 5
	$amp_end_43_0_2 := 6
	$dur_gliss_43_0_2 := 7

	obj::crea_track_HOA("play_env_trig_mes43_0_2", "group_hoa1", fade_in = 1, amp = $amp_mes_43_0_2, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_43_0_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_43_0_2.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes43_0_2").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes43_0_2").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes43_0_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes43_0_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_gliss_43_0_2, "sine", 226, $dur_43_0_2, 226, 5, 210])
	$tracks("play_env_trig_mes43_0_2").amp([$amp_mes_43_0_2, 1, $amp_mes_43_0_2, $dur_gliss_43_0_2-1, "quad", $amp_end_43_0_2, $dur_43_0_2, $amp_end_43_0_2, 3, -10, 4, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_43_0_2])

	// $tracks("play_env_trig_mes43_0_2").amp([$amp_mes_42_3_2, 1, $amp_mes_42_3_2, 4, "quad", $amp_end_42_3_2, $dur_42_3_2, $amp_end_42_3_2, 3, -10, 4, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	// $tracks("play_env_trig_mes43_0_2").amp(-120) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	$tracks("play_env_trig_mes43_0_2").traj_circ_interp($cl_dae, $bsn_dae, $dur_gliss_43_0_2) 
	$tracks("play_env_trig_mes43_0_2").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes43_0_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_gliss_43_0_2, "sine", 1000])
	// $tracks("play_env_trig_mes43_0_2").amp(0)
	// $tracks("play_env_trig_mes43_0_2").set("TPlayBufEnvTrigF", ["impulse_rate", 226])

	$Servers("server5").notify(1) // prepare scsynth response from analyse

	0.5 $rec_buf_mes_43_0_3.rec($cb) // click
	$amp_mes_43_0_3 := 3
	$dur_43_0_3 := 4.5
	$dur_gliss_43_0_3 := 7

	obj::crea_track_HOA("play_env_trig_mes43_0_3", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_43_0_3.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_43_0_3.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes43_0_3").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes43_0_3").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes43_0_3").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes43_0_3").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_gliss_43_0_3, "sine", 300, $dur_43_0_3, 300, 5, 280])
	$tracks("play_env_trig_mes43_0_3").amp([$amp_mes_43_0_3, 1, $amp_mes_43_0_3, $dur_gliss_43_0_3-1, "quad", $amp_mes_43_0_3+3, $dur_43_0_3, $amp_mes_43_0_3+3, 3, -10, 4, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_43_0_3])
	$tracks("play_env_trig_mes43_0_3").traj_circ_interp($cb_dae, $bsn_dae, $dur_gliss_43_0_3) 
	$tracks("play_env_trig_mes43_0_3").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes43_0_3").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_gliss_43_0_3, "sine", 2000])
	// $tracks("play_env_trig_mes43_0_3").amp(0)
	// $tracks("play_env_trig_mes43_0_3").set("TPlayBufEnvTrigF", ["impulse_rate", 300])



NOTE 60 1 mes_43_2

print mes_43_2

$tracks("synth_mes_41_3_1").free(6)
$tracks("synth_mes_41_3_2").free(6)

group mes_43_2
{
	$rec_buf_mes_43_2.rec($fl)
	$amp_mes_43_2 := -9
	$dur_43_2 := 5
	$amp_end_43_2 := 6
	$dur_gliss_43_2 := 7

	obj::crea_track_HOA("play_env_trig_mes43_2", "group_hoa1", fade_in = 0.5, amp = $amp_mes_43_2, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf_mes_43_2.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	$tracks("play_env_trig_mes43_2").amp([$amp_mes_43_2, 1, $amp_mes_43_2, $dur_gliss_43_2-1, "quad", $amp_end_43_2, $dur_43_2, $amp_end_43_2, 3, -10, 4, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_43_2])
	$tracks("play_env_trig_mes43_2").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_43_2) 
	// $tracks("play_env_trig_mes43_2").set(CompressorD, [thresh, 0.1])
}


$chop_vlc_mes43_2_dur := 2 // amp = dur + dur*3 + dur = 5*dur
$chop_vlc_mes43_2_amp := 15

whenever chop_vlc_mes_43_2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vlc))
{ 
	print onset mes_43_2
	$rec_buf6_1_1.rec($vlc)
/*	0.1 obj::crea_track_HOA("chop_vlc_mes43_2", "group_hoa1", fade_in = 0.0001, amp = $chop_vlc_mes43_2_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 3.5, "amp", 6, "buf", $rec_buf6_1_1.id(), "fadeTime", 0.0015, freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])
	$tracks("chop_vlc_mes43_2").bpf_param("TCortaExtXPlayBuf", "trig_time", [3.5, 10, 20,"circ"]) //, $chop_vlc_mes43_2_dur*2, 90,"circ"
	$tracks("chop_vlc_mes43_2").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_vlc_mes43_2").amp([$chop_vlc_mes43_2_amp, $chop_vlc_mes43_2_dur, $chop_vlc_mes43_2_amp, $chop_vlc_mes43_2_dur*5 , $chop_vlc_mes43_2_amp, $chop_vlc_mes43_2_dur*3, -50, $chop_vlc_mes43_2_dur, -120]) //, free = 0.1, action = ["clearbuf", $rec_buf6_1_1])

	$tracks("chop_vlc_mes43_2").traj_circ_interp($vlc_dae, $bsn_dae, $chop_vlc_mes43_2_dur*2)
	// $tracks("chop_vlc_mes43_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $chop_vlc_mes43_2_dur*2, "sine", 2000])
	$tracks("chop_vlc_mes43_2").set(CompressorD, [thresh, 0.01])*/
	obj::crea_track_HOA("chop_vlc_mes43_2", "group_hoa1", fade_in = 0.0001, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf6_1_1.id(), envbuf0, $envs("server1")("carre"), envbuf1, ($envs("server1")("rond"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 50, db, -30]])  //, [Norm, lev, 0.03]
	// $tracks("chop_vlc_mes43_2").set("TBufRdEnvInterp", ["impulse_rate", 21])
	$tracks("chop_vlc_mes43_2").bpf_param("TBufRdEnvInterp", "impulse_rate", [3.5, 10, 20,"circ"])
	$tracks("chop_vlc_mes43_2").bpf_param("TBufRdEnvInterp", "interp", [-1, 4, 1])
	$tracks("chop_vlc_mes43_2").set(CompressorD, [thresh, 0.05])
	$tracks("chop_vlc_mes43_2").amp([$chop_vlc_mes43_2_amp, $chop_vlc_mes43_2_dur, $chop_vlc_mes43_2_amp, $chop_vlc_mes43_2_dur*5 , $chop_vlc_mes43_2_amp, $chop_vlc_mes43_2_dur*4, -30, $chop_vlc_mes43_2_dur, -120], free = 0.1, action = ["clearbuf", $rec_buf6_1_1])

	group
	{
		$tracks("chop_vlc_mes43_2").traj_circ_interp2($vlc_dae, $cor1_dae, $chop_vlc_mes43_2_dur*2, -1)
		($chop_vlc_mes43_2_dur*2) $tracks("chop_vlc_mes43_2").traj_circ_interp2($cor1_dae, $vlc_dae, $chop_vlc_mes43_2_dur*3, 1)
	}
	abort chop_vlc_mes_43_2 @norec // remove whenever
}

// abort chop_vlc_mes_43_2
// $tracks("chop_vlc_mes47_3").free()

$Servers("server5").notify(1)

NOTE 60 1 mes_51

print mes_51


$tracks("warp1_play_trb_mes_56_n").free(5) // trb formant filt

group synth_mes_51
{
	// $tracks("Warbulence_mes31").preset("Warbulence_mod_dev_mono", "nota_8")
 	obj::crea_track_HOA("synth_mes_51_1", "group_hoa3", fade_in = 5, amp = -12, doppler = 0, in_channels = 1, [[Bform_mono, freq, 396.92150878906, formfreq, 959.40637207031, bwfreq, 200, amp, -15], [TGranIn_mono, envbuf, $envs("server3")("rond"), trigRate, 6.5999999046326, dur, 0.146]] )
	// $tracks("synth_mes_51_1").bpf_param(TGranIn_mono, trigRate, [6.5999999, 5, "circ", 18])
	$tracks("synth_mes_51_1").amp([-30, 7, -12])
	group
	{
		$tracks("synth_mes_51_1").traj_circ_interp($vlc_dae, $alto_dae, 4)
		4 $tracks("synth_mes_51_1").dae_rand_lfo([0.8, 2, 1, -180, 180, -45, 0, 90, 0])
	}
// $tracks("synth_mes_51_1").free()
1.5 obj::crea_track_HOA("synth_mes_51_2", "group_hoa3", fade_in = 5, amp = -12, doppler = 0, in_channels = 1, [[Bform_mono, freq, 731.54150390625, formfreq, 1709.1336669922, bwfreq, 2097.3210449219, amp, -15], [TGranIn_mono, envbuf, $envs("server3")("inv"), trigRate, 11, trigRateDev, 0.0, dur, 0.155]] )
	// $tracks("synth_mes_51_2").bpf_param(TGranIn_mono, trigRate, [6.5999999, 5, "circ", 18])
	$tracks("synth_mes_51_2").amp([-30, 7, -12])
	group
	{
		$tracks("synth_mes_51_2").traj_circ_interp($vlc_dae, $alto_dae, 4)
		4 $tracks("synth_mes_51_2").dae_rand_lfo([0.8, 2, 1, -180, 180, -90, 0, 90, 0])
	}
}


NOTE 60 1 mes_46

print mes_46

$rec_buf4_2.rec($bsn)

obj::crea_track_HOA("warp1_play_bsn_mes_45", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf4_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
$tracks("warp1_play_bsn_mes_45").rand_lfo_dyn("Warp1Play", "pos", 0.0, "linear", 60, $rec_buf4_2)
$tracks("warp1_play_bsn_mes_45").traj_circ_interp($bsn_dae, $cb_dae, 8.2) 

$rec_buf5_2.rec($alto)

obj::crea_track_HOA("warp1_play_alto_mes_45", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf5_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
$tracks("warp1_play_alto_mes_45").rand_lfo_dyn("Warp1Play", "pos", 0.0, "linear", 60, $rec_buf5_2)
$tracks("warp1_play_alto_mes_45").traj_circ_interp($alto_dae, $alto_dae, 8.2) 

$rec_buf6_2.rec($cb)

obj::crea_track_HOA("warp1_play_cb_mes_45", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf6_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
$tracks("warp1_play_cb_mes_45").rand_lfo_dyn("Warp1Play", "pos", 0.0, "linear", 60, $rec_buf6_2)
$tracks("warp1_play_cb_mes_45").traj_circ_interp($cb_dae, $bsn_dae, 8.2) 

$rec_buf7_2.rec($trp)

obj::crea_track_HOA("warp1_play_trp_mes_45", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf7_2.id(), envbuf, $envs("server1")("perc")], ["TJPverb_mono", t60, 2]]) // track without encoder 
$tracks("warp1_play_trp_mes_45").rand_lfo_dyn("Warp1Play", "pos", 0.0, "linear", 60, $rec_buf7_2)
$tracks("warp1_play_trp_mes_45").traj_circ_interp($cb_dae, $bsn_dae, 8.2) 

group mes_mes_46
{
	// $rec_buf7_2.rec($trp)
	group 
	{
		$amp_mes_mes_46 := -3
		$dur_mes_46 := 7
		$amp_end_mes_46 := 0
		$dur_gliss_mes_46 := 3
		@local $loop_dur := @rand_range(0.1, 0.5), $local_loop

		obj::crea_track_HOA("cortaRand_mesmes_46", "group_hoa1", fade_in = 0.1, amp = $amp_mes_mes_46, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf7_2.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
		$tracks("cortaRand_mesmes_46").amp([$amp_mes_mes_46, 1, $amp_mes_mes_46, $dur_gliss_mes_46-1, "quad", $amp_end_mes_46, $dur_mes_46, $amp_end_mes_46, 3, -10, 4, -60], free = 0.1, action = ["clearbuf", $rec_buf7_2])
		// $tracks("cortaRand_mesmes_46").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_mes_46) 
		$tracks("cortaRand_mesmes_46").dae_rand_lfo([0.8, 2, $trp_dae[0], -180, 180, $trp_dae[1], 0, 20, $trp_dae[2]], 20)
		$local_loop := {
			loop $loop_dur
			{
				$tracks("cortaRand_mesmes_46").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
				$tracks("cortaRand_mesmes_46").set(TCortaRandBuf, [loopDur, $loop_dur])
				$loop_dur := @rand_range(0.1, 0.5)
			}
			(1+$dur_gliss_mes_46-1+$dur_mes_46+3+4) abort $local_loop
		}

	}

	// $tracks("cortaRand_mesmes_46").amp(3)
}

NOTE 60 1 mes_46_4

print mes_46_4

	$rec_buf_mes_45_4.rec($cor2)
	$amp_mes_45_4 := -5
	$dur_45_4 := 5.5
	$amp_end_45_4 := 0
	// $dur_gliss_45_4 := 7

	obj::crea_track_HOA("play_env_trig_mes45_4", "group_hoa1", fade_in = 0.1, amp = $amp_mes_45_4, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_45_4.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_45_4.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes45_4").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes45_4").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes45_4").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes45_4").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_45_4, "sine", 20])
	$tracks("play_env_trig_mes45_4").amp([$amp_mes_45_4, $dur_45_4, $amp_end_45_4, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_45_4])

	// $tracks("play_env_trig_mes45_4").amp([$amp_mes_42_3_2, 1, $amp_mes_42_3_2, 4, "quad", $amp_end_42_3_2, $dur_42_3_2, $amp_end_42_3_2, 3, -10, 4, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	// $tracks("play_env_trig_mes45_4").amp(-120) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	$tracks("play_env_trig_mes45_4").traj_circ_interp($cor1_dae, $trb_dae, $dur_45_4) 
	$tracks("play_env_trig_mes45_4").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes45_4").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_45_4, "linear", 600])
	// $tracks("play_env_trig_mes45_4").amp(0)
	// $tracks("play_env_trig_mes45_4").set("TPlayBufEnvTrigF", ["impulse_rate", 226])

NOTE 60 1 mes_66_n

print mes_66_n

	$rec_buf3_05.rec($cor1)
	$amp_mes_66_n := -5
	$dur_66_n := 4.5
	$amp_end_66_n := 6

	obj::crea_track_HOA("play_env_trig_mes66_n", "group_hoa1", fade_in = 0.1, amp = $amp_mes_66_n, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf3_05.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf3_05.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes66_n").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes66_n").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes66_n").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	// $tracks("play_env_trig_mes66_n").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_66_n, "sine", 20])
	$tracks("play_env_trig_mes66_n").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1.8, $dur_66_n-1,"circ", 20, $dur_66_n-1, "circ_out", 2, $dur_66_n, 0])

	$tracks("play_env_trig_mes66_n").amp([$amp_mes_66_n, $dur_66_n, $amp_end_66_n, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf3_05])
	$tracks("play_env_trig_mes66_n").traj_circ_interp($cor2_dae, $vlc_dae, $dur_66_n) 
	$tracks("play_env_trig_mes66_n").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes66_n").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_66_n, "linear", 1000])
	// $tracks("play_env_trig_mes66_n").amp(0)
	// $tracks("play_env_trig_mes66_n").set("TPlayBufEnvTrigF", ["impulse_rate", 226])


	1 $rec_buf8_1.rec($trb)
	$amp_mes_66_2_n := -5
	$dur_66_2_n := 4.5
	$amp_end_66_2_n := 6

	obj::crea_track_HOA("play_env_trig_mes66_2_n", "group_hoa1", fade_in = 1, amp = $amp_mes_66_2_n, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf8_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf8_1.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes66_2_n").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes66_2_n").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes66_2_n").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes66_2_n").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_66_2_n, "sine", 20])
	$tracks("play_env_trig_mes66_2_n").amp([$amp_mes_66_2_n, $dur_66_2_n+0.7, $amp_end_66_2_n, 1, -60], free = 0.1, action = ["clearbuf", $rec_buf8_1])

	// $tracks("play_env_trig_mes66_2_n").amp([$amp_mes_42_3_2, 1, $amp_mes_42_3_2, 4, "quad", $amp_end_42_3_2, $dur_42_3_2, $amp_end_42_3_2, 3, -10, 4, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	// $tracks("play_env_trig_mes66_2_n").amp(-120) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	$tracks("play_env_trig_mes66_2_n").traj_circ_interp($cor2_dae, $vlc_dae, $dur_66_2_n) 
	$tracks("play_env_trig_mes66_2_n").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes66_2_n").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_66_2_n, "linear", 1000])
	// $tracks("play_env_trig_mes66_2_n").amp(0)
	// $tracks("play_env_trig_mes66_2_n").set("TPlayBufEnvTrigF", ["impulse_rate", 226])


NOTE 60 1 mes_47

print mes_47



1/6	$rec_buf_mes_46_2.rec($fl)
	$amp_mes_46_2 := -5
	$dur_46_2 := 5
	$amp_end_46_2 := 6

/*	obj::crea_track_HOA("play_env_trig_mes46_2", "group_hoa1", fade_in = 1, amp = $amp_mes_46_2, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_46_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_46_2.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes46_2").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes46_2").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes46_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("rond")])
	$tracks("play_env_trig_mes46_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_46_2-2, "sine", 10, $dur_46_2/3, "sine_out", 2])
	$tracks("play_env_trig_mes46_2").amp([$amp_mes_46_2, $dur_46_2, $amp_end_46_2, $dur_46_2/6, $amp_end_46_2-10, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_46_2])

	// $tracks("play_env_trig_mes46_2").amp([$amp_mes_42_3_2, 1, $amp_mes_42_3_2, 4, "quad", $amp_end_42_3_2, $dur_42_3_2, $amp_end_42_3_2, 3, -10, 4, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	// $tracks("play_env_trig_mes46_2").amp(-120) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	$tracks("play_env_trig_mes46_2").traj_circ_interp($fl_dae, $vlc_dae, $dur_46_2) 
	$tracks("play_env_trig_mes46_2").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes46_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_46_2, "linear", 1000])
	// $tracks("play_env_trig_mes46_2").amp(0)
	// $tracks("play_env_trig_mes46_2").set("TPlayBufEnvTrigF", ["impulse_rate", 226])*/


	obj::crea_track_HOA("play_env_trig_mes68_2", "group_hoa1", fade_in = 0.0001, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf_mes_46_2.id(), envbuf0, $envs("server1")("perc_rond"), envbuf1, ($envs("server1")("pointe"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 300, db, -30]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes68_2").set("TBufRdEnvInterp", ["impulse_rate", 21])
	// obj::crea_track_HOA("play_env_trig_mes68_2", "group_hoa1", fade_in = 1, amp = $amp_mes_68_2, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_46_2.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_46_2.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]

	$tracks("play_env_trig_mes68_2").bpf_param("TBufRdEnvInterp", "impulse_rate", [3, $dur_46_2-2, "sine", 10, $dur_46_2/3, "sine_out", 2])
	$tracks("play_env_trig_mes68_2").bpf_param("TBufRdEnvInterp", "interp", [-1, $dur_46_2-2, "sine", 1, $dur_46_2/3, "sine_out", -1])
	$tracks("play_env_trig_mes68_2").amp([$amp_mes_46_2, $dur_46_2, $amp_end_46_2, $dur_46_2/6, $amp_end_46_2-10, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_46_2])
	$tracks("play_env_trig_mes68_2").traj_circ_interp2($fl_dae, $htb_dae, $dur_46_2, -1)
	$tracks("play_env_trig_mes68_2").set(CompressorD, [thresh, 0.15])

NOTE 60 1 mes_47_2

print mes_47_2

$tracks("warp1_play_bsn_mes_45").free(7)
$tracks("warp1_play_alto_mes_45").free(7)
$tracks("warp1_play_cb_mes_45").free(7)
$tracks("warp1_play_trp_mes_45").free(7)


	$rec_buf_mes_46_2_1.rec($htb)
	$amp_mes_46_2_1 := -5
	$dur_46_2_1 := 5
	$amp_end_46_2_1 := 6

	obj::crea_track_HOA("play_env_trig_mes46_2_1", "group_hoa1", fade_in = 1, amp = $amp_mes_46_2_1, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf_mes_46_2_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_mes_46_2_1.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes46_2_1").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes46_2_1").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes46_2_1").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes46_2_1").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_46_2_1, "sine", 50])
	$tracks("play_env_trig_mes46_2_1").amp([$amp_mes_46_2_1, $dur_46_2_1, $amp_end_46_2_1, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_46_2_1])

	// $tracks("play_env_trig_mes46_2_1").amp([$amp_mes_42_3_2, 1, $amp_mes_42_3_2, 4, "quad", $amp_end_42_3_2, $dur_42_3_2, $amp_end_42_3_2, 3, -10, 4, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	// $tracks("play_env_trig_mes46_2_1").amp(-120) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	$tracks("play_env_trig_mes46_2_1").traj_circ_interp($htb_dae, $fl_dae, 7) 
	$tracks("play_env_trig_mes46_2_1").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes46_2_1").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_46_2_1, "linear", 1000])
	// $tracks("play_env_trig_mes46_2_1").amp(0)
	// $tracks("play_env_trig_mes46_2_1").set("TPlayBufEnvTrigF", ["impulse_rate", 226])

	$rec_buf4_05.rec($cor2)
	$amp_mes_47_3_3 := -5
	$dur_47_3_3 := 5
	$amp_end_47_3_3 := 0

/*	obj::crea_track_HOA("play_env_trig_mes47_3_3", "group_hoa1", fade_in = 1, amp = $amp_mes_47_3_3, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf4_05.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf4_05.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes47_3_3").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes47_3_3").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes47_3_3").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes47_3_3").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_47_3_3-2, "sine", 26, $dur_47_3_3-2, "circ_out", 2])
	$tracks("play_env_trig_mes47_3_3").amp([$amp_mes_47_3_3, $dur_47_3_3, $amp_end_47_3_3, $dur_47_3_3, $amp_end_47_3_3, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf4_05])

	// $tracks("play_env_trig_mes47_3_3").amp([$amp_mes_42_3_2, 1, $amp_mes_42_3_2, 4, "quad", $amp_end_42_3_2, $dur_42_3_2, $amp_end_42_3_2, 3, -10, 4, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	// $tracks("play_env_trig_mes47_3_3").amp(-120) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	$tracks("play_env_trig_mes47_3_3").traj_circ_interp($cor2_dae, $bsn_dae, 7) 
	$tracks("play_env_trig_mes47_3_3").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes47_3_3").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_47_3_3, "linear", 1000])
	// $tracks("play_env_trig_mes47_3_3").amp(0)
	// $tracks("play_env_trig_mes47_3_3").set("TPlayBufEnvTrigF", ["impulse_rate", 226])	
*/
	obj::crea_track_HOA("play_env_trig_mes47_2", "group_hoa1", fade_in = 0.0001, amp = $amp_mes_47_3_3, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf4_05.id(), envbuf0, $envs("server1")("perc_rond"), envbuf1, ($envs("server1")("pointe"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 300, db, -30]])
	$tracks("play_env_trig_mes47_2").bpf_param("TBufRdEnvInterp", "impulse_rate", [1, $dur_47_3_3-2, "sine", 19, $dur_47_3_3/3, "sine_out", 10])
	$tracks("play_env_trig_mes47_2").bpf_param("TBufRdEnvInterp", "interp", [-1, $dur_47_3_3-2, "sine", 1, $dur_47_3_3/3, "sine_out", -1])
	$tracks("play_env_trig_mes47_2").amp([$amp_mes_47_3_3, $dur_47_3_3-3, $amp_end_47_3_3-3, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf4_05])
	$tracks("play_env_trig_mes47_2").traj_circ_interp($cor2_dae, $bsn_dae, $dur_47_3_3)
	$tracks("play_env_trig_mes47_2").set(CompressorD, [thresh, 0.15])


/*	$rec_buf1_1.rec($trb)
	$amp_mes_47_2_2 := -5
	$dur_47_2_2 := 4.5
	$amp_end_47_2_2 := 6

	obj::crea_track_HOA("play_env_trig_mes47_2_2", "group_hoa1", fade_in = 1, amp = $amp_mes_47_2_2, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf1_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf1_1.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes47_2_2").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes47_2_2").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes47_2_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes47_2_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_47_2_2, "sine", 226])
	$tracks("play_env_trig_mes47_2_2").amp([$amp_mes_47_2_2, $dur_47_2_2, $amp_end_47_2_2, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf1_1])

	// $tracks("play_env_trig_mes47_2_2").amp([$amp_mes_42_3_2, 1, $amp_mes_42_3_2, 4, "quad", $amp_end_42_3_2, $dur_42_3_2, $amp_end_42_3_2, 3, -10, 4, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	// $tracks("play_env_trig_mes47_2_2").amp(-120) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	$tracks("play_env_trig_mes47_2_2").traj_circ_interp($cor2_dae, $vlc_dae, $dur_47_2_2) 
	$tracks("play_env_trig_mes47_2_2").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes47_2_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_47_2_2, "linear", 1000])
	// $tracks("play_env_trig_mes47_2_2").amp(0)
	// $tracks("play_env_trig_mes47_2_2").set("TPlayBufEnvTrigF", ["impulse_rate", 226])*/



// whenever cl_onset_mes47_2 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $cl))
// {
// 	$rec_buf2_1.rec($cl)
// 	$amp_mes_47_2_3 := -5
// 	$dur_47_2_3 := 4.5
// 	$amp_end_47_2_3 := 6

// 	0.1 obj::crea_track_HOA("play_env_trig_mes47_2_3", "group_hoa1", fade_in = 1, amp = $amp_mes_47_2_3, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf2_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf2_1.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// 	// $tracks("play_env_trig_mes47_2_3").set("TPlayBufEnvTrigF", ["rate", 1])
// 	// $tracks("play_env_trig_mes47_2_3").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
// 	$tracks("play_env_trig_mes47_2_3").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
// 	$tracks("play_env_trig_mes47_2_3").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_47_2_3, "sine", 226])
// 	$tracks("play_env_trig_mes47_2_3").amp([$amp_mes_47_2_3, $dur_47_2_3, $amp_end_47_2_3, $dur_47_2_3, $amp_end_47_2_3, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf2_1])

// 	// $tracks("play_env_trig_mes47_2_3").amp([$amp_mes_42_3_2, 1, $amp_mes_42_3_2, 4, "quad", $amp_end_42_3_2, $dur_42_3_2, $amp_end_42_3_2, 3, -10, 4, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
// 	// $tracks("play_env_trig_mes47_2_3").amp(-120) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
// 	$tracks("play_env_trig_mes47_2_3").traj_circ_interp($cl_dae, $vlc_dae, $dur_47_2_3) 
// 	$tracks("play_env_trig_mes47_2_3").set(CompressorD, [thresh, 0.1])
// 	$tracks("play_env_trig_mes47_2_3").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_47_2_3, "linear", 1000])
// 	// $tracks("play_env_trig_mes47_2_3").amp(0)
// 	// $tracks("play_env_trig_mes47_2_3").set("TPlayBufEnvTrigF", ["impulse_rate", 226])
// 	0.1 abort cl_onset_mes47_2 @norec
// }

whenever cl_ampgate_mes47_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cl))
{
	print onset cl_onset_mes47_2
	$rec_buf17_1.rec($cl)
	$amp_mes_47_2_3 := 6
	$dur_47_2_3 := 4.5
	$amp_end_47_2_3 := 6

/*	obj::crea_track_HOA("play_env_trig_mes47_2_3", "group_hoa1", fade_in = 1, amp = $amp_mes_47_2_3, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf17_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf17_1.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes47_2_3").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes47_2_3").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes47_2_3").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes47_2_3").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_47_2_3, "sine", 226])
	$tracks("play_env_trig_mes47_2_3").amp([$amp_mes_47_2_3, $dur_47_2_3, $amp_end_47_2_3, $dur_47_2_3, $amp_end_47_2_3, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf17_1])
	// $tracks("play_env_trig_mes47_2_3").amp([$amp_mes_42_3_2, 1, $amp_mes_42_3_2, 4, "quad", $amp_end_42_3_2, $dur_42_3_2, $amp_end_42_3_2, 3, -10, 4, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	// $tracks("play_env_trig_mes47_2_3").amp(-120) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	$tracks("play_env_trig_mes47_2_3").traj_circ_interp($cl_dae, $vlc_dae, $dur_47_2_3) 
	$tracks("play_env_trig_mes47_2_3").set(CompressorD, [thresh, 0.3])
	$tracks("play_env_trig_mes47_2_3").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_47_2_3, "linear", 1000])
*/
/*	obj::crea_track_HOA("play_env_trig_mes47_2", "group_hoa1", fade_in = 0.0001, amp = $amp_mes_47_2_3, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf17_1.id(), envbuf0, $envs("server1")("perc_rond"), envbuf1, ($envs("server1")("pointe"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 300, db, -30]])
	$tracks("play_env_trig_mes47_2").bpf_param("TBufRdEnvInterp", "impulse_rate", [1, $dur_47_2_3-2, "sine", 50, $dur_47_2_3/3, "sine_out", 10])
	$tracks("play_env_trig_mes47_2").bpf_param("TBufRdEnvInterp", "interp", [-1, $dur_47_2_3-2, "sine", 1, $dur_47_2_3/3, "sine_out", -1])
	$tracks("play_env_trig_mes47_2").amp([$amp_mes_47_2_3, $dur_47_2_3, $amp_end_47_2_3-3, $dur_47_2_3/6, $amp_end_47_2_3-10, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf17_1])
	$tracks("play_env_trig_mes47_2").traj_circ_interp($cor2_dae, $bsn_dae, $dur_47_2_3)
	$tracks("play_env_trig_mes47_2").set(CompressorD, [thresh, 0.15])*/

		obj::crea_track_HOA("chop_alto_mes70_2", "group_hoa1", fade_in = 0.0001, amp = $amp_mes_47_2_3, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf17_1.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
	$tracks("chop_alto_mes70_2").bpf_param("TCortaExtXPlayBuf", "trig_time", [7, $dur_47_2_3, "circ", 7])
	$tracks("chop_alto_mes70_2").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_alto_mes70_2").amp([$amp_mes_47_2_3, $dur_47_2_3, $amp_mes_47_2_3, 0.1, -60], free = 0.1, action = ["clearbuf", $rec_buf17_1]) //
	$tracks("chop_alto_mes70_2").traj_circ_interp2($alto_dae, $bsn_dae, $dur_47_2_3, -1)
// Aqui qued, probar con primer cl 47_2 !!!


	abort cl_ampgate_mes47_2 @norec
}

$Servers("server5").notify(1)

NOTE 60 1 mes_47_3

print mes_47_3

group mes_47_3
{
	$rec_buf3_1.rec($trp)
	$amp_mes_47_3_1 := -10
	$dur_47_3_1 := 5
	$amp_end_47_3_1 := -6

/*	obj::crea_track_HOA("play_env_trig_mes47_3_1", "group_hoa1", fade_in = 1, amp = $amp_mes_47_3_1, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf3_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf3_1.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes47_3_1").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes47_3_1").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes47_3_1").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes47_3_1").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_47_3_1, "sine", 226])
	$tracks("play_env_trig_mes47_3_1").amp([$amp_mes_47_3_1, $dur_47_3_1, $amp_end_47_3_1, $dur_47_3_1, $amp_end_47_3_1, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf3_1])

	// $tracks("play_env_trig_mes47_3_1").amp([$amp_mes_42_3_2, 1, $amp_mes_42_3_2, 4, "quad", $amp_end_42_3_2, $dur_42_3_2, $amp_end_42_3_2, 3, -10, 4, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	// $tracks("play_env_trig_mes47_3_1").amp(-120) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	$tracks("play_env_trig_mes47_3_1").traj_circ_interp($trp_dae, $bsn_dae, 7) 
	$tracks("play_env_trig_mes47_3_1").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes47_3_1").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_47_3_1, "linear", 1000])
	// $tracks("play_env_trig_mes47_3_1").amp(0)
	// $tracks("play_env_trig_mes47_3_1").set("TPlayBufEnvTrigF", ["impulse_rate", 226])*/

	obj::crea_track_HOA("play_env_trig_mes47_3_1", "group_hoa1", fade_in = 0.0001, amp = $amp_mes_47_3_1, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf3_1.id(), envbuf0, $envs("server1")("perc_rond"), envbuf1, ($envs("server1")("pointe"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 300, db, -30]])
	$tracks("play_env_trig_mes47_3_1").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $dur_47_3_1, "sine", 15])
	$tracks("play_env_trig_mes47_3_1").bpf_param("TBufRdEnvInterp", "interp", [-1, $dur_47_3_1-2, "sine", 1, $dur_47_3_1/3, "sine_out", -1])
	$tracks("play_env_trig_mes47_3_1").amp([$amp_mes_47_3_1, $dur_47_3_1, $amp_end_47_3_1-3, $dur_47_3_1/6, $amp_end_47_3_1-10, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf3_1])
	$tracks("play_env_trig_mes47_3_1").traj_circ_interp($cor2_dae, $bsn_dae, $dur_47_3_1)
	$tracks("play_env_trig_mes47_3_1").set(CompressorD, [thresh, 0.15])


/*	$rec_buf3_05.rec($cor1)
	$amp_mes_47_3_2 := -5
	$dur_47_3_2 := 5
	$amp_end_47_3_2 := 6

	obj::crea_track_HOA("play_env_trig_mes47_3_2", "group_hoa1", fade_in = 1, amp = $amp_mes_47_3_2, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf3_05.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf3_05.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes47_3_2").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes47_3_2").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes47_3_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes47_3_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_47_3_2, "sine", 226])
	$tracks("play_env_trig_mes47_3_2").amp([$amp_mes_47_3_2, $dur_47_3_2, $amp_end_47_3_2, $dur_47_3_2, $amp_end_47_3_2, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf3_05])

	// $tracks("play_env_trig_mes47_3_2").amp([$amp_mes_42_3_2, 1, $amp_mes_42_3_2, 4, "quad", $amp_end_42_3_2, $dur_42_3_2, $amp_end_42_3_2, 3, -10, 4, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	// $tracks("play_env_trig_mes47_3_2").amp(-120) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	$tracks("play_env_trig_mes47_3_2").traj_circ_interp($cor1_dae, $bsn_dae, 7) 
	$tracks("play_env_trig_mes47_3_2").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes47_3_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_47_3_2, "linear", 1000])
	// $tracks("play_env_trig_mes47_3_2").amp(0)
	// $tracks("play_env_trig_mes47_3_2").set("TPlayBufEnvTrigF", ["impulse_rate", 226])*/


/*1/4	$rec_buf4_05.rec($cor2)
	$amp_mes_47_3_3 := -5
	$dur_47_3_3 := 5
	$amp_end_47_3_3 := 6

	obj::crea_track_HOA("play_env_trig_mes47_3_3", "group_hoa1", fade_in = 1, amp = $amp_mes_47_3_3, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf4_05.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf4_05.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes47_3_3").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes47_3_3").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes47_3_3").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes47_3_3").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_47_3_3, "sine", 226])
	$tracks("play_env_trig_mes47_3_3").amp([$amp_mes_47_3_3, $dur_47_3_3, $amp_end_47_3_3, $dur_47_3_3, $amp_end_47_3_3, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf4_05])

	// $tracks("play_env_trig_mes47_3_3").amp([$amp_mes_42_3_2, 1, $amp_mes_42_3_2, 4, "quad", $amp_end_42_3_2, $dur_42_3_2, $amp_end_42_3_2, 3, -10, 4, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	// $tracks("play_env_trig_mes47_3_3").amp(-120) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	$tracks("play_env_trig_mes47_3_3").traj_circ_interp($cor2_dae, $bsn_dae, 7) 
	$tracks("play_env_trig_mes47_3_3").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes47_3_3").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_47_3_3, "linear", 1000])
	// $tracks("play_env_trig_mes47_3_3").amp(0)
	// $tracks("play_env_trig_mes47_3_3").set("TPlayBufEnvTrigF", ["impulse_rate", 226])	*/
}



$chop_vlc_mes47_3_dur := 4 // amp = dur + dur*3 + dur = 5*dur
$chop_vlc_mes47_3_amp := 14

whenever chop_vlc (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vlc))
{
	print onset
	$rec_buf6_1.rec($vlc)
	// obj::crea_track_HOA("chop_vlc_mes47_3", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $vlc, "amp", 0], ["TCortaExtXPlay", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
	obj::crea_track_HOA("chop_vlc_mes47_3", "group_hoa1", fade_in = 0.0001, amp = $chop_vlc_mes47_3_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf6_1.id(), "fadeTime", 0.0015]])
	// obj::crea_track_HOA("chop_vlc_mes47_3", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf0_05.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf0_05.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// obj::crea_track_HOA("chop_vlc_mes47_3", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "buf", $rec_buf0_05.id(), "loop", 1]])  //, [Norm, lev, 0.03]
	$tracks("chop_vlc_mes47_3").bpf_param("TCortaExtXPlayBuf", "trig_time", [5, $chop_vlc_mes47_3_dur-2,"circ", 30, $chop_vlc_mes47_3_dur, "circ_out", 2, $chop_vlc_mes47_3_dur, 0])
	// // $tracks("chop_vlc_mes47_3").set("TCortaExtXPlayBuf", ["loop", 1]) // trigger chop
	// $tracks("chop_vlc_mes47_3").set("TCortaExtXPlayBuf", ["trig_time", 3]) // trigger chop
	$tracks("chop_vlc_mes47_3").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_vlc_mes47_3").amp([$chop_vlc_mes47_3_amp, $chop_vlc_mes47_3_dur, $chop_vlc_mes47_3_amp, $chop_vlc_mes47_3_dur, $chop_vlc_mes47_3_amp, $chop_vlc_mes47_3_dur-4, -10, 0.1, -120], free = 0.1, action = ["clearbuf", $rec_buf6_1])

	$tracks("chop_vlc_mes47_3").traj_circ_interp($vlc_dae, $bsn_dae, $chop_vlc_mes47_3_dur*2)

	// $tracks("chop_vlc_mes47_3").set("TCortaExtXPlayBuf", ["loopDur", 0.7]) // trigger chop
	// $tracks("chop_vlc_mes47_3").set("TCortaExtXPlayBuf", ["loop", 0]) // trigger chop
	// $tracks("chop_vlc_mes47_3").set("TCortaExtXPlayBuf", ["t_trig", 1]) // trigger chop

	// obj::crea_track_HOA("chop_vlc_mes47_3", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf0_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
	// $tracks("chop_vlc_mes47_3").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
	// $tracks("chop_vlc_mes47_3").set("TCortaRandBuf", ["fadeTime", 0.1]) // trigger chop


	// // $tracks("chop_vlc_mes47_3").set("TCortaExtXPlayBuf", [t_trig, 1]) // trigger chop
	// // $tracks("chop_vlc_mes47_3").bpf_param("TCortaExtXPlayBuf", "trig_time", [10, $chop_vlc_mes47_3_dur, 15])
	// $tracks("chop_vlc_mes47_3").traj_circ_interp($vlc_dae, $bsn_dae, $chop_vlc_mes47_3_dur*5)
	// $tracks("chop_vlc_mes47_3").amp(0) 
	// ($chop_vlc_mes47_3_dur*5+0.01) $tracks("chop_vlc_mes47_3").free()
	// abort chop_vlc
	abort chop_vlc @norec
}

NOTE 60 1 mes_47_4

print mes_47_4

$rec_buf5_05.rec($bsn)
$chop_bsn_mes47_4_dur := 5 // amp = dur + dur*3 + dur = 5*dur
$chop_bsn_mes47_4_amp := 12

	obj::crea_track_HOA("chop_bsn_mes47_4", "group_hoa1", fade_in = 0.001, amp = $chop_bsn_mes47_4_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf5_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
	$tracks("chop_bsn_mes47_4").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
	$tracks("chop_bsn_mes47_4").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_bsn_mes47_4").amp([$chop_bsn_mes47_4_amp, $chop_bsn_mes47_4_dur, $chop_bsn_mes47_4_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf5_05])

	$tracks("chop_bsn_mes47_4").traj_circ_interp2($bsn_dae, $cl_dae, $chop_bsn_mes47_4_dur, -1)


NOTE 60 1 mes_48

print mes_48


	$rec_buf6_05.rec($fl)
	$amp_fl_mes_48_2 := 12
	$dur_fl_48_2 := 5
	// $amp_end_48_2 := 0

/*	obj::crea_track_HOA("play_env_trig_mes48_2", "group_hoa1", fade_in = 0.0001, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf6_05.id(), envbuf0, $envs("server1")("perc_rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 300, db, -30]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes48_2").set("TBufRdEnvInterp", ["impulse_rate", 21])
	$tracks("play_env_trig_mes48_2").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $dur_48_2, "sine", 10])
	$tracks("play_env_trig_mes48_2").bpf_param("TBufRdEnvInterp", "interp", [-1, 4, 1])
	$tracks("play_env_trig_mes48_2").amp([$amp_mes_48_2, $dur_48_2, $amp_end_48_2, 4, -60], free = 0.1, action = ["clearbuf", $rec_buf7_05])
	$tracks("play_env_trig_mes48_2").traj_circ_interp($vln_dae, $bsn_dae, $dur_48_2*2)
	$tracks("play_env_trig_mes48_2").set(CompressorD, [thresh, 0.15])*/

	obj::crea_track_HOA("chop_fl_mes_48", "group_hoa1", fade_in = 0.001, amp = $amp_fl_mes_48_2, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf6_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
	$tracks("chop_fl_mes_48").set("TCortaRandBuf", ["trig_time", 5]) // trigger chop
	$tracks("chop_fl_mes_48").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_fl_mes_48").amp([$amp_fl_mes_48_2, $dur_fl_48_2, $amp_fl_mes_48_2, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf6_05])

	$tracks("chop_fl_mes_48").traj_circ_interp2($fl_dae, $cl_dae, $dur_fl_48_2, -1)


	/*$rec_buf8_1.rec($trb)
	$amp_mes_48_1 := -5
	$dur_48_1 := 4.5
	$amp_end_48_1 := 6

	obj::crea_track_HOA("play_env_trig_mes48_1", "group_hoa1", fade_in = 1, amp = $amp_mes_48_1, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf8_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf8_1.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes48_1").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes48_1").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes48_1").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes48_1").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_48_1, "sine", 226])
	$tracks("play_env_trig_mes48_1").amp([$amp_mes_48_1, $dur_48_1, $amp_end_48_1, $dur_48_1, $amp_end_48_1, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf8_1])

	// $tracks("play_env_trig_mes48_1").amp([$amp_mes_42_3_2, 1, $amp_mes_42_3_2, 4, "quad", $amp_end_42_3_2, $dur_42_3_2, $amp_end_42_3_2, 3, -10, 4, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	// $tracks("play_env_trig_mes48_1").amp(-120) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	$tracks("play_env_trig_mes48_1").traj_circ_interp($cor2_dae, $vlc_dae, $dur_48_1) 
	$tracks("play_env_trig_mes48_1").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes48_1").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_48_1, "linear", 1000])
	// $tracks("play_env_trig_mes48_1").amp(0)
	// $tracks("play_env_trig_mes48_1").set("TPlayBufEnvTrigF", ["impulse_rate", 226])


	$rec_buf6_05.rec($fl)
	$amp_mes_48_2 := -5
	$dur_48_2 := 5
	$amp_end_48_2 := 6

	obj::crea_track_HOA("play_env_trig_mes48_2", "group_hoa1", fade_in = 0.0001, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf6_05.id(), envbuf0, $envs("server1")("perc_rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 300, db, -30]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes48_2").set("TBufRdEnvInterp", ["impulse_rate", 21])
	$tracks("play_env_trig_mes48_2").bpf_param("TBufRdEnvInterp", "impulse_rate", [2, $dur_48_2, "sine", 20])
	$tracks("play_env_trig_mes48_2").bpf_param("TBufRdEnvInterp", "interp", [-1, 4, 1])
	$tracks("play_env_trig_mes48_2").amp([$amp_mes_48_2, $dur_48_2, $amp_end_48_2, 4, -60], free = 0.1, action = ["clearbuf", $rec_buf7_05])
	$tracks("play_env_trig_mes48_2").traj_circ_interp($vln_dae, $bsn_dae, $dur_48_2*2)
	$tracks("play_env_trig_mes48_2").set(CompressorD, [thresh, 0.15])


*/
$chop_vln_mes48_dur := 2 // amp = dur + dur*3 + dur = 5*dur
$chop_vln_mes48_amp := 6

whenever chop_vln (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vln))
{
	print onset
	$rec_buf7_05.rec($vln)
	// obj::crea_track_HOA("chop_vln_mes48", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $vln, "amp", 0], ["TCortaExtXPlay", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
	0.05 obj::crea_track_HOA("chop_vln_mes48", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes48_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf7_05.id(), envbuf0, $envs("server1")("carre"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 300, db, -30]])  //, [Norm, lev, 0.03]
	// $tracks("chop_vln_mes48").set("TBufRdEnvInterp", ["impulse_rate", 21])
	$tracks("chop_vln_mes48").bpf_param("TBufRdEnvInterp", "impulse_rate", [10.5, $chop_vln_mes48_dur/2,"circ", 10.5, ($chop_vln_mes48_dur/2)+2,"circ", 2])
	$tracks("chop_vln_mes48").bpf_param("TBufRdEnvInterp", "interp", [-1, 4, 1])
	$tracks("chop_vln_mes48").amp([$chop_vln_mes48_amp, $chop_vln_mes48_dur+2, $chop_vln_mes48_amp, $chop_vln_mes48_dur*3, -50, $chop_vln_mes48_dur, -120], free = 0.1, action = ["clearbuf", $rec_buf7_05])
	$tracks("chop_vln_mes48").traj_circ_interp($vln_dae, $bsn_dae, $chop_vln_mes48_dur*2)
	$tracks("chop_vln_mes48").set(CompressorD, [thresh, 0.2])

	abort chop_vln @norec
}

/*
	$rec_buf11_1.rec($cor1)
	$amp_mes_48_3 := -5
	$dur_48_3 := 5
	$amp_end_48_3 := 6

	obj::crea_track_HOA("play_env_trig_mes48_3", "group_hoa1", fade_in = 0.01, amp = $amp_mes_48_3, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf11_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf11_1.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes48_3").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes48_3").set("TPlayBufEnvTrigF", ["impulse_rate", 5])
	$tracks("play_env_trig_mes48_3").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes48_3").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_48_3, "sine", 50])
	$tracks("play_env_trig_mes48_3").amp([$amp_mes_48_3, $dur_48_3, $amp_end_48_3, $dur_48_3, $amp_end_48_3, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf11_1]) //

	// $tracks("play_env_trig_mes48_3").amp([$amp_mes_42_3_2, 1, $amp_mes_42_3_2, 4, "quad", $amp_end_42_3_2, $dur_42_3_2, $amp_end_42_3_2, 3, -10, 4, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	// $tracks("play_env_trig_mes48_3").amp(-120) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	$tracks("play_env_trig_mes48_3").traj_circ_interp($cor1_dae, $bsn_dae, 7) 
	$tracks("play_env_trig_mes48_3").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes48_3").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_48_3, "linear", 1000])
	// $tracks("play_env_trig_mes48_3").amp(0)
	// $tracks("play_env_trig_mes48_3").set("TPlayBufEnvTrigF", ["impulse_rate", 226])

1	$rec_buf8_05.rec($cor2)
	$amp_mes_48_4 := -5
	$dur_48_4 := 5
	$amp_end_48_4 := 6

	obj::crea_track_HOA("play_env_trig_mes48_4", "group_hoa1", fade_in = 0.01, amp = $amp_mes_48_4, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf8_05.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf8_05.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes48_4").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes48_4").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes48_4").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	// $tracks("play_env_trig_mes48_4").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_48_4, "sine", 226])
	$tracks("play_env_trig_mes48_4").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_48_4, "sine", 60])
	$tracks("play_env_trig_mes48_4").amp([$amp_mes_48_4, $dur_48_4, $amp_end_48_4, $dur_48_4, $amp_end_48_4, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf8_05], action = ["clearbuf", $rec_buf8_05])

	// $tracks("play_env_trig_mes48_4").amp([$amp_mes_42_3_2, 1, $amp_mes_42_3_2, 4, "quad", $amp_end_42_3_2, $dur_42_3_2, $amp_end_42_3_2, 3, -10, 4, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	// $tracks("play_env_trig_mes48_4").amp(-120) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	$tracks("play_env_trig_mes48_4").traj_circ_interp($cor1_dae, $bsn_dae, 7) 
	$tracks("play_env_trig_mes48_4").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes48_4").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_48_4, "linear", 1000])
	// $tracks("play_env_trig_mes48_4").amp(0)
	// $tracks("play_env_trig_mes48_4").set("TPlayBufEnvTrigF", ["impulse_rate", 226])
*/
$Servers("server5").notify(1)

NOTE 60 1 mes_48_2

print mes_48_2

/*	$rec_buf13_1.rec($htb)
	$amp_mes_48_2_1 := -5
	$dur_48_2_1 := 5
	$amp_end_48_2_1 := 6

	obj::crea_track_HOA("play_env_trig_mes48_2_1", "group_hoa1", fade_in = 0.01, amp = $amp_mes_48_2_1, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf13_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf13_1.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes48_2_1").set("TPlayBufEnvTrigF", ["rate", 1])
	$tracks("play_env_trig_mes48_2_1").set("TPlayBufEnvTrigF", ["impulse_rate", 4])
	$tracks("play_env_trig_mes48_2_1").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("rond")])
	$tracks("play_env_trig_mes48_2_1").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_48_2_1, "sine", 70])
	$tracks("play_env_trig_mes48_2_1").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_48_2_1, 20])
	$tracks("play_env_trig_mes48_2_1").amp([$amp_mes_48_2_1, $dur_48_2_1, $amp_end_48_2_1, $dur_48_2_1-1, $amp_end_48_2_1, 1, -60], free = 0.1, action = ["clearbuf", $rec_buf13_1]) //
	$tracks("play_env_trig_mes48_2_1").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_48_2_1, "linear", 1000])
	$tracks("play_env_trig_mes48_2_1").traj_circ_interp($htb_dae, $bsn_dae, 7) 
	$tracks("play_env_trig_mes48_2_1").set(CompressorD, [thresh, 0.3])
*/

/// poner de nuevo
whenever cl_ampgate_mes48_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cl))
{
	print onset cl_onset_mes48_2
	$rec_buf14_1.rec($cl)
	$amp_mes_48_2_2 := 3
	$dur_48_2_2 := 4.5
	$amp_end_48_2_2 := 3

	obj::crea_track_HOA("play_env_trig_mes48_2", "group_hoa1", fade_in = 0.0001, amp = $amp_mes_48_2_2, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf14_1.id(), envbuf0, $envs("server1")("perc_rond"), envbuf1, ($envs("server1")("pointe"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 300, db, -30]])
	$tracks("play_env_trig_mes48_2").bpf_param("TBufRdEnvInterp", "impulse_rate", [4, $dur_48_2_2, "sine", 6])
	$tracks("play_env_trig_mes48_2").bpf_param("TBufRdEnvInterp", "interp", [-1, $dur_48_2_2-2, "sine", 1, $dur_48_2_2/3, "sine_out", -1])
	$tracks("play_env_trig_mes48_2").amp([$amp_mes_48_2_2, $dur_48_2_2, $amp_end_48_2_2-3, $dur_48_2_2/6, $amp_end_48_2_2-10, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf14_1])
	$tracks("play_env_trig_mes48_2").traj_circ_interp($cor2_dae, $bsn_dae, $dur_48_2_2)
	$tracks("play_env_trig_mes48_2").set(CompressorD, [thresh, 0.3])

	abort cl_ampgate_mes48_2 @norec
}


// $tracks("play_env_trigBufRd_mes33_4_n2").set("TBufRdEnvInterp", ["pos", @rand_range(0, 1)])
// $tracks("play_env_trigBufRd_mes33_4_n2").set("TBufRdEnvInterp", ["pos", 0])
// $tracks("play_env_trigBufRd_mes33_4_n2").set("TBufRdEnvInterp", ["interp", @rand_range(-1, 1)])
// $tracks("play_env_trigBufRd_mes33_4_n2").set("TBufRdEnvInterp", [rate, @rand_range(-1, 1)])
// $tracks("play_env_trigBufRd_mes33_4_n2").set("TBufRdEnvInterp", ["interp", 0])
// $tracks("play_env_trigBufRd_mes33_4_n2").set("TBufRdEnvInterp", [rate, -0.5])
// $tracks("play_env_trig_mes48_2_2").free()

// $ampgate_cl.params([rampUp, 5, rampDown, 25, onThreshold, -30, offThreshold, -12, lookAhead, 480])

// 1/4	$rec_buf14_1.rec($cl)
// 	$amp_mes_48_2_2 := -5
// 	$dur_48_2_2 := 5
// 	$amp_end_48_2_2 := 6

// 	0.1 obj::crea_track_HOA("play_env_trig_mes48_2_2", "group_hoa1", fade_in = 1, amp = $amp_mes_48_2_2, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf14_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf14_1.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// 	// $tracks("play_env_trig_mes48_2_2").set("TPlayBufEnvTrigF", ["rate", 1])
// 	// $tracks("play_env_trig_mes48_2_2").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
// 	$tracks("play_env_trig_mes48_2_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
// 	$tracks("play_env_trig_mes48_2_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_48_2_2, "sine", 226])
// 	$tracks("play_env_trig_mes48_2_2").amp([$amp_mes_48_2_2, $dur_48_2_2, $amp_end_48_2_2, $dur_48_2_2, $amp_end_48_2_2, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf14_1])

// 	// $tracks("play_env_trig_mes48_2_2").amp([$amp_mes_42_3_2, 1, $amp_mes_42_3_2, 4, "quad", $amp_end_42_3_2, $dur_42_3_2, $amp_end_42_3_2, 3, -10, 4, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
// 	// $tracks("play_env_trig_mes48_2_2").amp(-120) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
// 	$tracks("play_env_trig_mes48_2_2").traj_circ_interp($htb_dae, $bsn_dae, 7) 
// 	$tracks("play_env_trig_mes48_2_2").set(CompressorD, [thresh, 0.1])
// 	$tracks("play_env_trig_mes48_2_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_48_2_2, "linear", 1000])
// 	// $tracks("play_env_trig_mes48_2_2").amp(0)
// 	// $tracks("play_env_trig_mes48_2_2").set("TPlayBufEnvTrigF", ["impulse_rate", 226])

NOTE 60 1 mes_48_3

print mes_48_3


$chop_alto_mes48_3_dur := 3 // amp = dur + dur*3 + dur = 5*dur
$chop_alto_mes48_3_amp := 12

whenever chop_alto (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $alto))
{
	print onset
	$rec_buf15_1.rec($alto)

	obj::crea_track_HOA("chop_alto_mes48_3", "group_hoa1", fade_in = 0.0001, amp = $chop_alto_mes48_3_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf15_1.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 48, db, -24]])
	$tracks("chop_alto_mes48_3").bpf_param("TCortaExtXPlayBuf", "trig_time", [10, $chop_alto_mes48_3_dur/3,"circ", 13, ($chop_alto_mes48_3_dur*2)/3,"circ", 3])
	$tracks("chop_alto_mes48_3").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_alto_mes48_3").amp([$chop_alto_mes48_3_amp, $chop_alto_mes48_3_dur, $chop_alto_mes48_3_amp, 0.5, -60], free = 0.1, action = ["clearbuf", $rec_buf15_1]) //

	$tracks("chop_alto_mes48_3").traj_circ_interp($alto_dae, $bsn_dae, $chop_alto_mes48_3_dur)
	abort chop_alto @norec
}

$chop_vlc_mes48_3_dur := 2.5 // amp = dur + dur*3 + dur = 5*dur
$chop_vlc_mes48_3_amp := 15

whenever chop_vlc (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vlc))
{
	print onset
	$rec_buf2_05.rec($vlc)
	// obj::crea_track_HOA("chop_vlc_mes48_3", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $vlc, "amp", 0], ["TCortaExtXPlay", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
	obj::crea_track_HOA("chop_vlc_mes48_3", "group_hoa1", fade_in = 0.0001, amp = $chop_vlc_mes48_3_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf2_05.id(), "fadeTime", 0.0015]]) //, [TBLowShelf, freq, 20, db, -24]])
	// obj::crea_track_HOA("chop_vlc_mes48_3", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf0_05.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf0_05.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// obj::crea_track_HOA("chop_vlc_mes48_3", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "buf", $rec_buf0_05.id(), "loop", 1]])  //, [Norm, lev, 0.03]
	$tracks("chop_vlc_mes48_3").bpf_param("TCortaExtXPlayBuf", "trig_time", [10, $chop_vlc_mes48_3_dur,"circ", 5])
	// // $tracks("chop_vlc_mes48_3").set("TCortaExtXPlayBuf", ["loop", 1]) // trigger chop
	// $tracks("chop_vlc_mes48_3").set("TCortaExtXPlayBuf", ["trig_time", 3]) // trigger chop
	$tracks("chop_vlc_mes48_3").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_vlc_mes48_3").amp([$chop_vlc_mes48_3_amp, $chop_vlc_mes48_3_dur, $chop_vlc_mes48_3_amp, 0.3, -60], free = 0.1, action = ["clearbuf", $rec_buf2_05]) //

	$tracks("chop_vlc_mes48_3").traj_circ_interp2($vlc_dae, $bsn_dae, $chop_vlc_mes48_3_dur, 1)
	abort chop_vlc @norec
}

$chop_cb_mes48_3_dur := 3 // amp = dur + dur*3 + dur = 5*dur
$chop_cb_mes48_3_amp := 12

whenever chop_cb (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cb))
{
	print onset
	$rec_buf10_05.rec($cb)
	// obj::crea_track_HOA("chop_cb_mes48_3", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $cb, "amp", 0], ["TCortaExtXPlay", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
	obj::crea_track_HOA("chop_cb_mes48_3", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes48_3_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf10_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 48, db, -24]])
	// obj::crea_track_HOA("chop_cb_mes48_3", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf0_05.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf0_05.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// obj::crea_track_HOA("chop_cb_mes48_3", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "buf", $rec_buf0_05.id(), "loop", 1]])  //, [Norm, lev, 0.03]
	$tracks("chop_cb_mes48_3").bpf_param("TCortaExtXPlayBuf", "trig_time", [5, $chop_cb_mes48_3_dur, 5,"circ"])
	// // $tracks("chop_cb_mes48_3").set("TCortaExtXPlayBuf", ["loop", 1]) // trigger chop
	// $tracks("chop_cb_mes48_3").set("TCortaExtXPlayBuf", ["trig_time", 3]) // trigger chop
	$tracks("chop_cb_mes48_3").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_cb_mes48_3").amp([$chop_cb_mes48_3_amp, $chop_cb_mes48_3_dur, $chop_cb_mes48_3_amp, 0.5 , -120], free = 0.1, action = ["clearbuf", $rec_buf10_05]) //

	$tracks("chop_cb_mes48_3").traj_circ_interp($cb_dae, $bsn_dae, $chop_cb_mes48_3_dur)

	abort chop_cb @norec // abort juste aprs le onset
}

0.5 whenever fl_ampgate_mes48_3 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $fl))
{
	0.05 $rec_buf12_05.rec($fl)
	$amp_fl_mes_48_3 := 12
	$dur_fl_48_3 := 5
	
	obj::crea_track_HOA("chop_fl_mes_48_3", "group_hoa1", fade_in = 0.001, amp = $amp_fl_mes_48_3, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf12_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
	$tracks("chop_fl_mes_48_3").set("TCortaRandBuf", ["trig_time", 5]) // trigger chop
	$tracks("chop_fl_mes_48_3").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_fl_mes_48_3").amp([$amp_fl_mes_48_3, $dur_fl_48_3, $amp_fl_mes_48_3, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf12_05])

	$tracks("chop_fl_mes_48_3").traj_circ_interp2($fl_dae, $cl_dae, $dur_fl_48_3, -1)
	abort fl_ampgate_mes48_3 @norec
}


/*3/4	$rec_buf1_05.rec($cor1)
	$amp_mes_48_3_1 := -5
	$dur_48_3_1 := 5
	$amp_end_48_3_1 := 6

	obj::crea_track_HOA("play_env_trig_mes48_3_1", "group_hoa1", fade_in = 0.01, amp = $amp_mes_48_3_1, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf1_05.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf1_05.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes48_3_1").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes48_3_1").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes48_3_1").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes48_3_1").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_48_3_1, "sine", 226])
	$tracks("play_env_trig_mes48_3_1").amp([$amp_mes_48_3_1, $dur_48_3_1, $amp_end_48_3_1, $dur_48_3_1, $amp_end_48_3_1, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf1_05]) //

	// $tracks("play_env_trig_mes48_3_1").amp([$amp_mes_42_3_2, 1, $amp_mes_42_3_2, 4, "quad", $amp_end_42_3_2, $dur_42_3_2, $amp_end_42_3_2, 3, -10, 4, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	// $tracks("play_env_trig_mes48_3_1").amp(-120) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	$tracks("play_env_trig_mes48_3_1").traj_circ_interp($htb_dae, $bsn_dae, 7) 
	$tracks("play_env_trig_mes48_3_1").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes48_3_1").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_48_3_1, "linear", 1000])
	// $tracks("play_env_trig_mes48_3_1").amp(0)
	// $tracks("play_env_trig_mes48_3_1").set("TPlayBufEnvTrigF", ["impulse_rate", 226])*/


NOTE 60 1 mes_68

print mes_68


/*	$rec_buf16_1.rec($htb)
	$amp_mes_68 := -5
	$dur_68 := 5
	$amp_end_68 := 6

	obj::crea_track_HOA("play_env_trig_mes68", "group_hoa1", fade_in = 0.1, amp = $amp_mes_68, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf16_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf16_1.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes68").set("TPlayBufEnvTrigF", ["rate", 1])
	// $tracks("play_env_trig_mes68").set("TPlayBufEnvTrigF", ["impulse_rate", 272])
	$tracks("play_env_trig_mes68").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes68").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_68, "sine", 226])
	$tracks("play_env_trig_mes68").amp([$amp_mes_68, $dur_68, $amp_end_68, $dur_68, $amp_end_68, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf16_1])

	// $tracks("play_env_trig_mes68").amp([$amp_mes_42_3_2, 1, $amp_mes_42_3_2, 4, "quad", $amp_end_42_3_2, $dur_42_3_2, $amp_end_42_3_2, 3, -10, 4, -60], free = 0.1) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	// $tracks("play_env_trig_mes68").amp(-120) // [v0, t0, (type0), v1, t1, (type1), v2, t2, (type2)....]
	$tracks("play_env_trig_mes68").traj_circ_interp($htb_dae, $bsn_dae, 7) 
	$tracks("play_env_trig_mes68").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes68").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_48_3_1, "linear", 1000])*/

group synth_mes_64_4
{
	// $tracks("Warbulence_mes31").preset("Warbulence_mod_dev_mono", "nota_8")
 	obj::crea_track_HOA("synth_mes_64_4_1", "group_hoa3", fade_in = 5, amp = -12, doppler = 0, in_channels = 1, [[Bform_mono, freq, 303.94940185547, formfreq, 2671.8435058594, bwfreq, 6019.7182617188, amp, -15], [TGranIn_mono, envbuf, $envs("server3")("rond"), trigRate, 8.8000001907349 , dur, 0.068999998271465]] )
	// $tracks("synth_mes_64_4_1").bpf_param(TGranIn_mono, trigRate, [6.5999999, 5, "circ", 18])
	$tracks("synth_mes_64_4_1").rand_lfo(Bform_mono, bwfreq, 4500, 6019.7182617188, 6019.7182617188, "linear", 60)

	$tracks("synth_mes_64_4_1").amp([-30, 7, -12])
	group
	{
		// $tracks("synth_mes_64_4_1").traj_circ_interp($vlc_dae, $alto_dae, 4)
		$tracks("synth_mes_64_4_1").dae_rand_lfo([1.5, 4, $trp_dae[0], -180, 180, $trp_dae[1], 0, 45, 0])
	}
// $tracks("synth_mes_64_4_1").free()
	0.7 obj::crea_track_HOA("synth_mes_64_4_2", "group_hoa3", fade_in = 5, amp = -12, doppler = 0, in_channels = 1, [[Bform_mono, freq, 1081.2561035156, formfreq, 3656.419921875, bwfreq, 4101.2817382812, amp, -15], [TGranIn_mono, envbuf, $envs("server3")("perc_rond"), trigRate, 11, trigRateDev, 0.0, dur, 0.086000002920628, durDev, 0.098099283874035]] )
	// $tracks("synth_mes_64_4_2").bpf_param(TGranIn_mono, trigRate, [6.5999999, 5, "circ", 18])
	$tracks("synth_mes_64_4_2").rand_lfo(Bform_mono, bwfreq, 2600, 4101.2817382812, 4101.2817382812, "linear", 60)

	$tracks("synth_mes_64_4_2").amp([-30, 7, -12])
	group
	{
		// $tracks("synth_mes_64_4_2").traj_circ_interp($vlc_dae, $alto_dae, 4)
		$tracks("synth_mes_64_4_2").dae_rand_lfo([1.5, 4, $trb_dae[0], -180, 180, $trb_dae[1], 0, 45, 0])
	}
}

obj::crea_track_HOA("synth_vowel_mes_68", "group_hoa3", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [[Vowel_dyn_u_soprano]])
$tracks("synth_vowel_mes_68").bpf_param("Vowel_dyn_u_soprano", "imp_freq", [11.1774, 2.39246, "quart_in", 172.092, 6.1648, "linear", 39.3654])
$tracks("synth_vowel_mes_68").bpf_param("Vowel_dyn_u_soprano", "freqscale", [19.3932, 8.55727, "linear", 19.9683])
$tracks("synth_vowel_mes_68").amp([-60.0, 0.4572, "linear", 14, 5, 14, 6, "exp_in", 0, 10.33083, "linear", -20, 10, "linear", -120.0], free = 0.1)
$tracks("synth_vowel_mes_68").traj_circ_interp($alto_dae, $vlc_dae, 9.2) 
// $tracks("synth_vowel_mes_68").free()


	obj::crea_track_HOA("synth_vowel_mes_68_2", "group_hoa3", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["Vowel_dyn_i_counterTenor"]])
	$tracks("synth_vowel_mes_68_2").bpf_param("Vowel_dyn_i_counterTenor", "imp_freq", [11.1774, 1.30989, "linear", 100.0, 1.47238, "linear", 44.479, 2.18347, "linear", 9.9724, 0.934046, "linear", 100.0, 0.921258, "linear", 1.45529, 2.12663, "linear", 2.96153, 1.09904, "linear", 93.3358, 0.808121, "linear", 8.43876, 2.16576, "linear", 7.06945, 1.68089, "linear", 79.6428, 3.07086, "linear", 20.7625, 0.870256, "linear", 0.0])
	$tracks("synth_vowel_mes_68_2").bpf_param("Vowel_dyn_i_counterTenor", "freqscale", [17.394, 18.6216, "linear", 16.0247])
	// $tracks("synth_vowel_mes_68_2").amp([-120.0, 0.0289412, "linear", 5.83143, 18.2962, "linear", 7.53623, 0.317482, "linear", -120.0], free = 0.1)
	$tracks("synth_vowel_mes_68_2").amp([-60.0, 3, "linear", 14, 5, 14, 6, "exp_in", 0, 3, "linear", -20, 5, "linear", -120.0], free = 0.1)

	$tracks("synth_vowel_mes_68_2").traj_circ_interp($htb_dae, $vlc_dae, 9.2) 

0.2 whenever bsn_ampgate_mes68 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $bsn))
	{
		
	$rec_buf12_1.rec($bsn)
	$chop_bsn_mes68_dur := 5 // amp = dur + dur*3 + dur = 5*dur
	$chop_bsn_mes68_amp := 12

	obj::crea_track_HOA("chop_bsn_mes68", "group_hoa1", fade_in = 0.001, amp = $chop_bsn_mes68_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf12_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
	$tracks("chop_bsn_mes68").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
	$tracks("chop_bsn_mes68").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_bsn_mes68").amp([$chop_bsn_mes68_amp, $chop_bsn_mes68_dur, $chop_bsn_mes68_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf12_1])

	$tracks("chop_bsn_mes68").traj_circ_interp2($bsn_dae, $cl_dae, $chop_bsn_mes68_dur, -1)

		abort bsn_ampgate_mes68 @norec // abort juste aprs le onset
	}

///// Formants 
/*0.1 group
{
	$rec_buf10_1.rec($trb)

	obj::crea_track_HOA("warp1_play_trb_mes_68", "group_hoa1", fade_in = 0.5, amp = -3, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf10_1.id(), envbuf, $envs("server1")("pointe")], [Multi5BandPass, xFade, 0], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], ["TJPverb_mono", t60, 3]]) // track without encoder 
	// obj::crea_track_HOA("warp1_play_trb_mes_68", "group_hoa1", fade_in = 0.5, amp = 4, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf10_1.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 3]]) // track without encoder 
	// 0.1 obj::crea_track_HOA("warp1_play_trb_mes_68", "group_hoa1", fade_in = 0.5, amp = 4, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf10_1.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 3], ["TGranInterpExt","dur", 0.0020000000949949, "durDev", 0.0, "ifac", 0.0, "ampDev", 0.0, "envbuf0", ($envs("server1")("pointe")), "envbuf1", ($envs("server1")("inv"))]]) // track without encoder 
	$tracks("warp1_play_trb_mes_68").rand_lfo_dyn("Warp1Play", "pos", 0.01, "linear", 50, $rec_buf10_1)
	// $tracks("warp1_play_trb_mes_68").traj_circ_interp($trb_dae, $fl_dae, 8.2) 
	$tracks("warp1_play_trb_mes_68").dae_rand_lfo([0.8, 3, $trb_dae[0], -180, 180, $trb_dae[1], 0, 90, 0], 20)
	$tracks("warp1_play_trb_mes_68").amp(-3)

	$tracks("warp1_play_trb_mes_68").line_param(Multi5BandPass, xFade, 0, 1, 5)
	$tracks("warp1_play_trb_mes_68").interpol_formant_multi(Multi5BandPass, ["altoO", "counterTenorO", "tenorO", "bassO", "tenorA", "bassA"], 1, 3) // formant list, min_time, max_time
}

0.3 group
{
	$rec_buf12_1.rec($bsn)

	obj::crea_track_HOA("warp1_play_bsn_mes_68", "group_hoa1", fade_in = 0.5, amp = -3, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf12_1.id(), envbuf, $envs("server1")("pointe")], [Multi5BandPass, xFade, 0], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], ["TJPverb_mono", t60, 3]]) // track without encoder 
	// obj::crea_track_HOA("warp1_play_bsn_mes_68", "group_hoa1", fade_in = 0.5, amp = 4, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf12_1.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 3]]) // track without encoder 
	// 0.1 obj::crea_track_HOA("warp1_play_bsn_mes_68", "group_hoa1", fade_in = 0.5, amp = 4, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf12_1.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 3], ["TGranInterpExt","dur", 0.0020000000949949, "durDev", 0.0, "ifac", 0.0, "ampDev", 0.0, "envbuf0", ($envs("server1")("pointe")), "envbuf1", ($envs("server1")("inv"))]]) // track without encoder 
	$tracks("warp1_play_bsn_mes_68").rand_lfo_dyn("Warp1Play", "pos", 0.01, "linear", 50, $rec_buf12_1)
	// $tracks("warp1_play_bsn_mes_68").traj_circ_interp($trb_dae, $fl_dae, 8.2) 
	$tracks("warp1_play_bsn_mes_68").dae_rand_lfo([0.8, 3, $trb_dae[0], -180, 180, $trb_dae[1], 0, 90, 0], 20)
	$tracks("warp1_play_bsn_mes_68").amp(-3)

	$tracks("warp1_play_bsn_mes_68").line_param(Multi5BandPass, xFade, 0, 1, 5)
	$tracks("warp1_play_bsn_mes_68").interpol_formant_multi(Multi5BandPass, ["altoO", "counterTenorO", "tenorO", "bassO", "tenorA", "bassA"], 1, 3) // formant list, min_time, max_time
}*/


NOTE 60 1 mes_68_2

print mes_68_2

//// loop nuevo

/*$chop_alto_mes68_2_dur := 6 // amp = dur + dur*3 + dur = 5*dur
$chop_alto_mes68_2_amp := 12

whenever chop_alto (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $alto))
{
	print onset
	$rec_buf0_1.rec($alto)
	// obj::crea_track_HOA("chop_alto_mes68_2", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $alto, "amp", 0], ["TCortaExtXPlay", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
	obj::crea_track_HOA("chop_alto_mes68_2", "group_hoa1", fade_in = 0.0001, amp = $chop_alto_mes68_2_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf0_1.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
	// obj::crea_track_HOA("chop_alto_mes68_2", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf0_05.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf0_05.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// obj::crea_track_HOA("chop_alto_mes68_2", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "buf", $rec_buf0_05.id(), "loop", 1]])  //, [Norm, lev, 0.03]
	$tracks("chop_alto_mes68_2").bpf_param("TCortaExtXPlayBuf", "trig_time", [1.8, $chop_alto_mes68_2_dur, 15,"circ"])
	// // $tracks("chop_alto_mes68_2").set("TCortaExtXPlayBuf", ["loop", 1]) // trigger chop
	// $tracks("chop_alto_mes68_2").set("TCortaExtXPlayBuf", ["trig_time", 3]) // trigger chop
	$tracks("chop_alto_mes68_2").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_alto_mes68_2").amp([$chop_alto_mes68_2_amp, $chop_alto_mes68_2_dur, $chop_alto_mes68_2_amp, $chop_alto_mes68_2_dur*2, -50, $chop_alto_mes68_2_dur, -120], free = 0.1, action = ["clearbuf", $rec_buf0_1]) //

	$tracks("chop_alto_mes68_2").traj_circ_interp($alto_dae, $bsn_dae, $chop_alto_mes68_2_dur*2)
	abort chop_alto @norec
}*/

	$rec_buf11_1.rec($trp)
	$amp_mes_68_2_2 := -5
	$dur_68_2_2 := 5
	$amp_end_68_2_2 := 6

	obj::crea_track_HOA("play_env_trig_mes68_2_2", "group_hoa1", fade_in = 1, amp = $amp_mes_68_2_2, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf11_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf11_1.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	$tracks("play_env_trig_mes68_2_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_mes68_2_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_68_2_2, "sine", 20])
	$tracks("play_env_trig_mes68_2_2").amp([$amp_mes_68_2_2, $dur_68_2_2, $amp_end_68_2_2, 1, -60], free = 0.1, action = ["clearbuf", $rec_buf11_1])
	$tracks("play_env_trig_mes68_2_2").traj_circ_interp($trp_dae, $bsn_dae, 7) 
	$tracks("play_env_trig_mes68_2_2").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_mes68_2_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_68_2_2, "linear", 200])


$chop_alto_mes68_2_dur := 3 // amp = dur + dur*3 + dur = 5*dur
$chop_alto_mes68_2_amp := 12

whenever chop_alto_mes68_2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $alto))
{
	print onset
	$rec_buf0_1.rec($alto)
	obj::crea_track_HOA("chop_alto_mes68_2", "group_hoa1", fade_in = 0.0001, amp = $chop_alto_mes68_2_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf0_1.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 48, db, -24]])
	$tracks("chop_alto_mes68_2").bpf_param("TCortaExtXPlayBuf", "trig_time", [7, $chop_alto_mes68_2_dur/3,"circ", 12, ($chop_alto_mes68_2_dur*2)/3, 3])
	$tracks("chop_alto_mes68_2").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_alto_mes68_2").amp([$chop_alto_mes68_2_amp, $chop_alto_mes68_2_dur, $chop_alto_mes68_2_amp, 0.3, -60], free = 0.1, action = ["clearbuf", $rec_buf0_1]) //
	$tracks("chop_alto_mes68_2").traj_circ_interp($alto_dae, $bsn_dae, $chop_alto_mes68_2_dur)

	abort chop_alto_mes68_2 @norec
}

$chop_vlc_mes68_3_dur := 7 // amp = dur + dur*3 + dur = 5*dur
$chop_vlc_mes68_3_amp := 12

// whenever chop_vlc (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vlc))
whenever vlc_ampgate_mes68_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vlc))
{
	print ampgate
	$rec_buf11_05.rec($vlc)
	obj::crea_track_HOA("chop_vlc_mes68_3", "group_hoa1", fade_in = 0.0001, amp = $chop_vlc_mes68_3_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf11_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
	$tracks("chop_vlc_mes68_3").bpf_param("TCortaExtXPlayBuf", "trig_time", [7, $chop_vlc_mes68_3_dur/3,"circ", 20, ($chop_vlc_mes68_3_dur*2)/3, 4])
	$tracks("chop_vlc_mes68_3").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_vlc_mes68_3").amp([$chop_vlc_mes68_3_amp, $chop_vlc_mes68_3_dur, $chop_vlc_mes68_3_amp, $chop_vlc_mes68_3_dur*2, -50, $chop_vlc_mes68_3_dur, -120], free = 0.1, action = ["clearbuf", $rec_buf11_05]) //
	$tracks("chop_vlc_mes68_3").traj_circ_interp($vlc_dae, $bsn_dae, $chop_vlc_mes68_3_dur*2)
	abort vlc_ampgate_mes68_2 @norec
}

/*$chop_cb_mes68_3_dur := 7 // amp = dur + dur*3 + dur = 5*dur
$chop_cb_mes68_3_amp := 6

whenever chop_cb (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cb))
{
	print onset
	$rec_buf12_05.rec($cb)
	// obj::crea_track_HOA("chop_cb_mes68_3", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $cb, "amp", 0], ["TCortaExtXPlay", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
	obj::crea_track_HOA("chop_cb_mes68_3", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes68_3_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf12_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
	// obj::crea_track_HOA("chop_cb_mes68_3", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf0_05.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf0_05.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// obj::crea_track_HOA("chop_cb_mes68_3", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "buf", $rec_buf0_05.id(), "loop", 1]])  //, [Norm, lev, 0.03]
	$tracks("chop_cb_mes68_3").bpf_param("TCortaExtXPlayBuf", "trig_time", [1.8, $chop_cb_mes68_3_dur, 15,"circ"])
	// // $tracks("chop_cb_mes68_3").set("TCortaExtXPlayBuf", ["loop", 1]) // trigger chop
	// $tracks("chop_cb_mes68_3").set("TCortaExtXPlayBuf", ["trig_time", 3]) // trigger chop
	$tracks("chop_cb_mes68_3").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_cb_mes68_3").amp([$chop_cb_mes68_3_amp, $chop_cb_mes68_3_dur, $chop_cb_mes68_3_amp, $chop_cb_mes68_3_dur*2, -50, $chop_cb_mes68_3_dur, -120], free = 0.1, action = ["clearbuf", $rec_buf12_05]) //

	$tracks("chop_cb_mes68_3").traj_circ_interp($cb_dae, $bsn_dae, $chop_cb_mes68_3_dur*2)
	abort chop_cb @norec // abort juste aprs le onset
}*/

////////////

	$rec_buf1_05.rec($fl)
	$amp_fl_mes_68_2 := 12
	$dur_fl_68_2 := 5
	
	obj::crea_track_HOA("68_2", "group_hoa1", fade_in = 0.001, amp = $amp_fl_mes_68_2, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf1_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
	$tracks("68_2").set("TCortaRandBuf", ["trig_time", 5]) // trigger chop
	$tracks("68_2").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("68_2").amp([$amp_fl_mes_68_2, $dur_fl_68_2, $amp_fl_mes_68_2, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf1_05])

	$tracks("68_2").traj_circ_interp2($fl_dae, $cl_dae, $dur_fl_68_2, -1)


	$chop_cb_mes68_2_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes68_2_amp := 6
	// whenever chop_cb_mes68_2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cb))

	0.5 whenever cb_ampgate_mes68_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf35_05.rec($cb)

		obj::crea_track_HOA("play_env_trig_cb_mes68_2", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes68_2_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf35_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cb_mes68_2").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $chop_cb_mes68_2_dur, "sine", 7])
		$tracks("play_env_trig_cb_mes68_2").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes68_2_dur, "sine", 1])
		$tracks("play_env_trig_cb_mes68_2").amp([$chop_cb_mes68_2_amp, $chop_cb_mes68_2_dur, $chop_cb_mes68_2_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf35_05])
		$tracks("play_env_trig_cb_mes68_2").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes68_2_dur, 1)
		$tracks("play_env_trig_cb_mes68_2").set(CompressorD, [thresh, 0.3])

		abort cb_ampgate_mes68_2 @norec // abort juste aprs le onset
	}

/*	$rec_buf1_05.rec($fl)
	$amp_mes_68_2 := -5
	$dur_68_2 := 5
	$amp_end_68_2 := 6

	// obj::crea_track_HOA("play_env_trig_mes68_2", "group_hoa1", fade_in = 0.0001, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf1_05.id(), envbuf0, $envs("server1")("perc_rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 300, db, -30]])  //, [Norm, lev, 0.03]
	// $tracks("play_env_trig_mes68_2").set("TBufRdEnvInterp", ["impulse_rate", 21])
	obj::crea_track_HOA("play_env_trig_mes68_2", "group_hoa1", fade_in = 1, amp = $amp_mes_68_2, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf1_05.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf1_05.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]

	$tracks("play_env_trig_mes68_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [2, $dur_68_2, "sine", 20])
	// $tracks("play_env_trig_mes68_2").bpf_param("TBufRdEnvInterp", "interp", [-1, 4, 1])
	$tracks("play_env_trig_mes68_2").amp([$amp_mes_68_2, $dur_68_2, $amp_end_68_2, 4, -60], free = 0.1, action = ["clearbuf", $rec_buf7_05])
	$tracks("play_env_trig_mes68_2").traj_circ_interp($vln_dae, $bsn_dae, $dur_68_2*2)
	$tracks("play_env_trig_mes68_2").set(CompressorD, [thresh, 0.15])*/




/*	$chop_vln_mes68_2_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_vln_mes68_2_amp := 12


0.3 whenever vln_ampgate_mes_68_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vln))
{
	print onset
	$rec_buf2_05.rec($vln)
	obj::crea_track_HOA("chop_vln_mes68_2", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf2_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
	$tracks("chop_vln_mes68_2").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
	$tracks("chop_vln_mes68_2").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_vln_mes68_2").amp([$chop_vln_mes68_2_amp, $chop_vln_mes68_2_dur, $chop_vln_mes68_2_amp, $chop_vln_mes68_2_dur*2, -50, $chop_vln_mes68_2_dur, -120], free = 0.1, action = ["clearbuf", $rec_buf5_05])

	// $tracks("chop_vln_mes68_2").traj_circ_interp($vln_dae, $bsn_dae, $chop_vln_mes68_2_dur*2)
	$tracks("chop_vln_mes68_2").dae_rand_lfo([0.8, 3, $vln_dae[0], -180, 180, $vln_dae[1], 0, 90, 0], 20)

	abort vln_ampgate_mes_68_2 @norec
}*/


NOTE 60 1 mes_68_4

print mes_68_4

// crea_track8 track72 0 0 0 Bform_mono freq 303.94940185547 formfreq 2671.8435058594 bwfreq 6019.7182617188 amp 0.0 #-> TGranIn_mono trigRate 8.8000001907349 trigRateDev 0.0 dur 0.068999998271465 durDev 0.0 pan 0.0 panDev 0.0 ampDev 0.0 amp 0.0
// crea_track8 track55 0 0 0 Bform_mono freq 1081.2561035156 formfreq 3656.419921875 bwfreq 4101.2817382812 amp -1.1753747463226 #-> TGranIn_mono trigRate 11.0 trigRateDev 0.0 dur 0.086000002920628 durDev 0.098099283874035 pan -0.11886900663376 panDev 0.0 ampDev 0.0 amp 0.21502093970776

$tracks("synth_mes_51_1").free(3)
// $tracks("synth_mes_51_2").free(3)

$tracks("synth_mes_51_2").dae_rand_lfo([1.5, 4, 1, -180, 180, -90, 0, 90, 0])





// $chop_alto_mes68_4_dur := 6 // amp = dur + dur*3 + dur = 5*dur
// $chop_alto_mes68_4_amp := 12

// whenever chop_alto (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $alto))
// {
// 	print onset
// 	$rec_buf3_1.rec($alto)
// 	// obj::crea_track_HOA("chop_alto_mes68_4", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $alto, "amp", 0], ["TCortaExtXPlay", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
// 	obj::crea_track_HOA("chop_alto_mes68_4", "group_hoa1", fade_in = 0.0001, amp = $chop_alto_mes68_4_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf3_1.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
// 	// obj::crea_track_HOA("chop_alto_mes68_4", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf0_05.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf0_05.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
// 	// obj::crea_track_HOA("chop_alto_mes68_4", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "buf", $rec_buf0_05.id(), "loop", 1]])  //, [Norm, lev, 0.03]
// 	$tracks("chop_alto_mes68_4").bpf_param("TCortaExtXPlayBuf", "trig_time", [1.8, $chop_alto_mes68_4_dur, 15,"circ"])
// 	// // $tracks("chop_alto_mes68_4").set("TCortaExtXPlayBuf", ["loop", 1]) // trigger chop
// 	// $tracks("chop_alto_mes68_4").set("TCortaExtXPlayBuf", ["trig_time", 3]) // trigger chop
// 	$tracks("chop_alto_mes68_4").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
// 	$tracks("chop_alto_mes68_4").amp([$chop_alto_mes68_4_amp, $chop_alto_mes68_4_dur, $chop_alto_mes68_4_amp, $chop_alto_mes68_4_dur*2, -50, $chop_alto_mes68_4_dur, -120], free = 0.1, action = ["clearbuf", $rec_buf3_1]) //

// 	$tracks("chop_alto_mes68_4").traj_circ_interp($alto_dae, $bsn_dae, $chop_alto_mes68_4_dur*2)
// 	abort chop_alto @norec
// }

$chop_vlc_mes68_4_dur := 2 // amp = dur + dur*3 + dur = 5*dur
$chop_vlc_mes68_4_amp := 10

whenever chop_vlc (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vlc))
{
	print onset
	$rec_buf4_05.rec($vlc)
	
	obj::crea_track_HOA("chop_vlc_mes68_4", "group_hoa1", fade_in = 0.0001, amp = $chop_vlc_mes68_4_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf4_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
	$tracks("chop_vlc_mes68_4").bpf_param("TCortaExtXPlayBuf", "trig_time", [8, $chop_vlc_mes68_4_dur, 11,"circ"])
	$tracks("chop_vlc_mes68_4").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_vlc_mes68_4").amp([$chop_vlc_mes68_4_amp, $chop_vlc_mes68_4_dur, $chop_vlc_mes68_4_amp, 1, -60], free = 0.1, action = ["clearbuf", $rec_buf4_05]) //
	$tracks("chop_vlc_mes68_4").traj_circ_interp2($vlc_dae, $bsn_dae, $chop_vlc_mes68_4_dur, 1)
	abort chop_vlc @norec
}


	group
	{
		$rec_buf6_05.rec($cor1)
		$amp_mes_68_4 := -5
		$dur_68_4 := 5
		$amp_end_68_4 := 6

		// obj::crea_track_HOA("play_env_trig_mes68_4", "group_hoa1", fade_in = 0.0001, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf1_05.id(), envbuf0, $envs("server1")("perc_rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 300, db, -30]])  //, [Norm, lev, 0.03]
		// $tracks("play_env_trig_mes68_4").set("TBufRdEnvInterp", ["impulse_rate", 21])
/*		obj::crea_track_HOA("play_env_trig_mes68_4", "group_hoa1", fade_in = 1, amp = $amp_mes_68_4, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf6_05.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf6_05.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]

		$tracks("play_env_trig_mes68_4").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [2, $dur_68_4, "sine", 20])
		// $tracks("play_env_trig_mes68_4").bpf_param("TBufRdEnvInterp", "interp", [-1, 4, 1])
		$tracks("play_env_trig_mes68_4").amp([$amp_mes_68_4, $dur_68_4, $amp_end_68_4, 4, -60], free = 0.1, action = ["clearbuf", $rec_buf6_05])
		$tracks("play_env_trig_mes68_4").traj_circ_interp($cor1_dae, $bsn_dae, $dur_68_4*2)
		$tracks("play_env_trig_mes68_4").set(CompressorD, [thresh, 0.05])*/

		obj::crea_track_HOA("play_env_trig_mes68_4", "group_hoa1", fade_in = 0.0001, amp = $amp_mes_68_4, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf6_05.id(), envbuf0, $envs("server1")("carre"), envbuf1, ($envs("server1")("carre2"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 300, db, -30]])
		$tracks("play_env_trig_mes68_4").bpf_param("TBufRdEnvInterp", "impulse_rate", [1, $dur_68_4, "sine", 12])
		$tracks("play_env_trig_mes68_4").bpf_param("TBufRdEnvInterp", "interp", [-1, $dur_68_4-2, "sine", 1, $dur_68_4/3, "sine_out", -1])
		$tracks("play_env_trig_mes68_4").amp([$amp_mes_68_4, $dur_68_4, $amp_end_68_4-3, $dur_68_4/6, $amp_end_68_4-10, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf6_05])
		$tracks("play_env_trig_mes68_4").traj_circ_interp($cor1_dae, $bsn_dae, $dur_68_4*2)
		$tracks("play_env_trig_mes68_4").set(CompressorD, [thresh, 0.05])



		0.5 $rec_buf7_05.rec($cor2)
		$amp_mes_68_4_2 := -5
		$dur_68_4_2 := 5
		$amp_end_68_4_2 := 6

/*		obj::crea_track_HOA("play_env_trig_mes68_4_2", "group_hoa1", fade_in = 1, amp = $amp_mes_68_4_2, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf7_05.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf7_05.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
		$tracks("play_env_trig_mes68_4_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
		$tracks("play_env_trig_mes68_4_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_68_4_2, "sine", 25])
		$tracks("play_env_trig_mes68_4_2").amp([$amp_mes_68_4_2, $dur_68_4_2, $amp_end_68_4_2, $dur_68_4_2/8, $amp_end_68_4_2, 1, -60], free = 0.1, action = ["clearbuf", $rec_buf7_05])
		$tracks("play_env_trig_mes68_4_2").traj_circ_interp($cor2_dae, $trb_dae, 7) 
		$tracks("play_env_trig_mes68_4_2").set(CompressorD, [thresh, 0.1])
		$tracks("play_env_trig_mes68_4_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_68_4_2, "linear", 1000])
*/
		obj::crea_track_HOA("play_env_trig_mes68_4_2", "group_hoa1", fade_in = 0.0001, amp = $amp_mes_68_4_2, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf7_05.id(), envbuf0, $envs("server1")("carre"), envbuf1, ($envs("server1")("carre2"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 300, db, -30]])
		$tracks("play_env_trig_mes68_4_2").bpf_param("TBufRdEnvInterp", "impulse_rate", [0.2, $dur_68_4_2, "sine", 10])
		$tracks("play_env_trig_mes68_4_2").bpf_param("TBufRdEnvInterp", "interp", [-1, $dur_68_4_2-2, "sine", 1, $dur_68_4_2/3, "sine_out", -1])
		$tracks("play_env_trig_mes68_4_2").amp([$amp_mes_68_4_2, $dur_68_4_2, $amp_end_68_4_2-3, $dur_68_4_2/6, $amp_end_68_4_2-10, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf7_05])
		$tracks("play_env_trig_mes68_4_2").traj_circ_interp($cor2_dae, $trb_dae, $dur_68_4_2)
		$tracks("play_env_trig_mes68_4_2").set(CompressorD, [thresh, 0.05])


	}


// pour mes_69

$chop_alto_mes68_4_dur := 3.75 // amp = dur + dur*3 + dur = 5*dur
$chop_alto_mes68_4_amp := 12

whenever chop_alto_mes68_4 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $alto))
{
	print onset
	$rec_buf13_05.rec($alto)
	$amp_mes_68_4 := 6
	$dur_68_4 := 5
	$amp_end_68_4 := 10


	obj::crea_track_HOA("chop_alto_mes68_4", "group_hoa1", fade_in = 0.0001, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf13_05.id(), envbuf0, $envs("server1")("perc_rond"), envbuf1, ($envs("server1")("pointe"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 300, db, -30]])  //, [Norm, lev, 0.03]

	$tracks("chop_alto_mes68_4").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $dur_68_4, "sine", 10])
	$tracks("chop_alto_mes68_4").bpf_param("TBufRdEnvInterp", "interp", [-1, $dur_68_4/2, "sine", 1])
	$tracks("chop_alto_mes68_4").amp([$amp_mes_68_4, $dur_68_4, $amp_end_68_4, 0.2, -60], free = 0.5, action = ["clearbuf", $rec_buf13_05])
	$tracks("chop_alto_mes68_4").traj_circ_interp2($alto_dae, $htb_dae, $dur_68_4, -1)
	$tracks("chop_alto_mes68_4").set(CompressorD, [thresh, 0.15])

	abort chop_alto_mes68_4 @norec // abort juste aprs le onset
}

NOTE 60 1 mes_70_n

print mes_70_n

group mes_70_n
{
	$chop_cb_mes70_n_dur := 5.8 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes70_n_amp := 6
	// whenever chop_cb_mes70_n (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cb))
	whenever cb_ampgate_mes70_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf2_05.rec($cb)
		obj::crea_track_HOA("play_env_trig_cb_mes70_n", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes70_n_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf2_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cb_mes70_n").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $chop_cb_mes70_n_dur, "sine", 3])
		$tracks("play_env_trig_cb_mes70_n").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes70_n_dur, "sine", 1])
		$tracks("play_env_trig_cb_mes70_n").amp([$chop_cb_mes70_n_amp, $chop_cb_mes70_n_dur, $chop_cb_mes70_n_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf2_05])
		$tracks("play_env_trig_cb_mes70_n").traj_circ_interp2($cb_dae, $cl_dae, $chop_cb_mes70_n_dur, 1)
		$tracks("play_env_trig_cb_mes70_n").set(CompressorD, [thresh, 0.3])

		abort cb_ampgate_mes70_n @norec // abort juste aprs le onset
	}

	whenever fl_ampgate_mes70_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $fl))
	{

		$rec_buf_mes_46_2_1.rec($fl)
		$amp_mes_70_n := 0
		$dur_70_n := 4
		$amp_end_70_n := 12

		obj::crea_track_HOA("play_env_trig_fl_mes70_n", "group_hoa1", fade_in = 0.0001, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf_mes_46_2_1.id(), envbuf0, $envs("server1")("perc_rond"), envbuf1, ($envs("server1")("pointe"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 300, db, -30]])  //, [Norm, lev, 0.03]
		$tracks("play_env_trig_fl_mes70_n").bpf_param("TBufRdEnvInterp", "impulse_rate", [3, $dur_70_n-2, "sine", 10, $dur_70_n/3, "sine_out", 2])
		$tracks("play_env_trig_fl_mes70_n").bpf_param("TBufRdEnvInterp", "interp", [-1, $dur_70_n-2, "sine", 1, $dur_70_n/3, "sine_out", -1])
		$tracks("play_env_trig_fl_mes70_n").amp([$amp_mes_70_n, $dur_70_n, $amp_end_70_n, $dur_70_n/6, $amp_end_70_n-10, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_46_2_1])
		$tracks("play_env_trig_fl_mes70_n").traj_circ_interp2($fl_dae, $htb_dae, $dur_70_n, -1)
		$tracks("play_env_trig_fl_mes70_n").set(CompressorD, [thresh, 0.15])
		
		abort fl_ampgate_mes70_n @norec // abort juste aprs le onset
	}

	whenever cl_ampgate_mes70_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cl))
	{

		$rec_buf7_1.rec($cl)
		$amp_cl_mes_70_n := 6
		$dur_cl_70_n := 4
		$amp_end_70_n := 6

		obj::crea_track_HOA("play_env_trig_cl_mes70_n", "group_hoa1", fade_in = 0.0001, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf7_1.id(), envbuf0, $envs("server1")("perc_rond"), envbuf1, ($envs("server1")("pointe"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 300, db, -30]])  //, [Norm, lev, 0.03]
		$tracks("play_env_trig_cl_mes70_n").bpf_param("TBufRdEnvInterp", "impulse_rate", [3, $dur_cl_70_n-2, "sine", 10, $dur_cl_70_n/3, "sine_out", 2])
		$tracks("play_env_trig_cl_mes70_n").bpf_param("TBufRdEnvInterp", "interp", [-1, $dur_cl_70_n-2, "sine", 1, $dur_cl_70_n/3, "sine_out", -1])
		$tracks("play_env_trig_cl_mes70_n").amp([$amp_cl_mes_70_n, $dur_cl_70_n, $amp_end_70_n, $dur_cl_70_n/6, $amp_end_70_n-10, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf7_1])
		$tracks("play_env_trig_cl_mes70_n").traj_circ_interp2($cl_dae, $htb_dae, $dur_cl_70_n, -1)
		$tracks("play_env_trig_cl_mes70_n").set(CompressorD, [thresh, 0.15])
		
		abort cl_ampgate_mes70_n @norec // abort juste aprs le onset
	}

	whenever bsn_ampgate_mes70_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $bsn))
	{
		$rec_buf8_1.rec($bsn)
		$chop_bsn_mes70_n_dur := 5 // amp = dur + dur*3 + dur = 5*dur
		$chop_bsn_mes70_n_amp := 12

		obj::crea_track_HOA("chop_bsn_mes70_n", "group_hoa1", fade_in = 0.001, amp = $chop_bsn_mes70_n_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf8_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_bsn_mes70_n").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_bsn_mes70_n").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_bsn_mes70_n").amp([$chop_bsn_mes70_n_amp, $chop_bsn_mes70_n_dur, $chop_bsn_mes70_n_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf8_1])

		$tracks("chop_bsn_mes70_n").traj_circ_interp2($bsn_dae, $cl_dae, $chop_bsn_mes70_n_dur, -1)

		abort bsn_ampgate_mes70_n @norec // abort juste aprs le onset
	}


	1.5 whenever htb_ampgate_mes70_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $htb))
		{
			group mes_70_n
			{
				$rec_buf14_1.rec($htb)
				$amp_htb_mes_70_n := 0
				$dur_htb_mes_70_n := 6
				$amp_end_mes_70_n := 1
				$dur_gliss_mes_70_n := 3
				@local $loop_dur := @rand_range(0.1, 0.5), $local_loop

				obj::crea_track_HOA("cortaRand_mesmes_70_n", "group_hoa1", fade_in = 0.1, amp = $amp_htb_mes_70_n, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf14_1.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
				$tracks("cortaRand_mesmes_70_n").amp([$amp_htb_mes_70_n, $dur_htb_mes_70_n, $amp_end_mes_70_n, 1 , -60], free = 0.1, action = ["clearbuf", $rec_buf14_1])
				// $tracks("cortaRand_mesmes_70_n").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_mes_70_n) 
				$tracks("cortaRand_mesmes_70_n").dae_rand_lfo([0.8, 2, $htb_dae[0], -180, 180, $htb_dae[1], 0, 90, $htb_dae[2]], 10)
				$local_loop := {
					loop $loop_dur
					{
						$tracks("cortaRand_mesmes_70_n").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
						$tracks("cortaRand_mesmes_70_n").set(TCortaRandBuf, [loopDur, $loop_dur])
						$loop_dur := @rand_range(0.1, 0.5)
					}
				}
				($dur_htb_mes_70_n) abort $local_loop
			}
			abort htb_ampgate_mes70_n @norec // abort juste aprs le onset
		}
}


NOTE 60 1 mes_69

print mes_69

group vents_mes_69
{
	whenever chop_fl_mes69 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $fl))
	{
		group mes_69
		{
			$rec_buf13_1.rec($fl)
			$amp_fl_mes_69 := 3
			$dur_fl_mes_69 := 5
			$amp_end_mes_69 := 1
			$dur_gliss_mes_69 := 3
			@local $loop_dur := @rand_range(0.1, 0.5), $local_loop

			obj::crea_track_HOA("cortaRand_mesmes_69", "group_hoa1", fade_in = 0.1, amp = $amp_fl_mes_69, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf13_1.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
			$tracks("cortaRand_mesmes_69").amp([$amp_fl_mes_69, $dur_fl_mes_69, $amp_fl_mes_69, $dur_gliss_mes_69-1, "quad", 1, -60], free = 0.1, action = ["clearbuf", $rec_buf13_1])
			// $tracks("cortaRand_mesmes_69").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_mes_69) 
			$tracks("cortaRand_mesmes_69").dae_rand_lfo([0.8, 2, $fl_dae[0], -180, 180, $fl_dae[1], 0, 90, $fl_dae[2]], 10)
				// $tracks("cortaRand_mesmes_69").set(TCortaRandBuf, [t_trig, 1])
			$local_loop := {
				loop $loop_dur
				{
					$tracks("cortaRand_mesmes_69").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
					$tracks("cortaRand_mesmes_69").set(TCortaRandBuf, [loopDur, $loop_dur])
					$loop_dur := @rand_range(0.1, 0.5)
				}
			}

			($dur_fl_mes_69) abort $local_loop
			// $tracks("cortaRand_mesmes_69").amp(3)
		}
		abort chop_fl_mes69 @norec 
	}

	whenever chop_bsn_mes69 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $bsn))
	{

		$chop_bsn_mes69_dur := 3 // amp = dur + dur*3 + dur = 5*dur
		$chop_bsn_mes69_amp := 12

		$rec_buf0_05.rec($bsn)

		obj::crea_track_HOA("chop_bsn_mes69", "group_hoa1", fade_in = 0.001, amp = $chop_bsn_mes69_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf0_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_bsn_mes69").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_bsn_mes69").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_bsn_mes69").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_bsn_mes69").amp([$chop_bsn_mes69_amp, $chop_bsn_mes69_dur, $chop_bsn_mes69_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf0_05])
		$tracks("chop_bsn_mes69").traj_circ_interp2($bsn_dae, $cl_dae, $chop_bsn_mes69_dur, -1)

		abort chop_bsn_mes69 @norec // abort juste aprs le onset
	}
}


whenever vlc_ampgate_mes69 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vlc))
{
	group
	{
		print onset cl_onset_mes69
		$rec_buf7_05.rec($vlc)
		$amp_mes_69_vlc := 6
		$dur_mes_69_vlc := 2.5
		$amp_end_mes_69_vlc := 6
		// $dur_gliss_mes_69_vlc := 3

		@local $loop_dur := @rand_range(0.1, 0.5), $local_loop

		obj::crea_track_HOA("cortaRand_mesmes_69_vlc", "group_hoa1", fade_in = 0.1, amp = $amp_mes_69_vlc, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf7_05.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
		$tracks("cortaRand_mesmes_69_vlc").amp([$amp_mes_69_vlc, $dur_mes_69_vlc, $amp_mes_69_vlc, 0.1, -60], free = 0.1, action = ["clearbuf", $rec_buf7_05])
		// $tracks("cortaRand_mesmes_69_vlc").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_mes_69_vlc) 
		$tracks("cortaRand_mesmes_69_vlc").dae_rand_lfo([0.8, 2, $vlc_dae[0], -180, 180, $vlc_dae[1], 0, 90, $vlc_dae[2]], 10)
		$local_loop := {
			loop loop_dur $loop_dur
			{
				$tracks("cortaRand_mesmes_69_vlc").set("TCortaRandBuf", [trig_time, @rand_range(2, 5)])
				$tracks("cortaRand_mesmes_69_vlc").set("TCortaRandBuf", [loopDur, $loop_dur])
				$loop_dur := @rand_range(0.1, 0.5)
			} //during[1+$dur_gliss_mes_69_vlc-1+$dur_mes_69_vlc+3+4]
		}
		($dur_mes_69_vlc) abort $local_loop
	}
	// $tracks("cortaRand_mesmes_69_vlc").amp(3)
	// $tracks("cortaRand_mesmes_69_vlc").free(3)

	abort vlc_ampgate_mes69 @norec
}



NOTE 60 1 mes_69_2

print mes_69_2

	$rec_buf11_1.rec($trp)
	$amp_trp_mes_69_2 := -5
	$dur_trp_69_2 := 5
	$amp_trp_end_69_2 := 6

	obj::crea_track_HOA("play_env_trig_trp_mes69_2", "group_hoa1", fade_in = 1, amp = $amp_trp_mes_69_2, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf11_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf11_1.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	$tracks("play_env_trig_trp_mes69_2").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_trp_mes69_2").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_trp_69_2, "sine", 20])
	$tracks("play_env_trig_trp_mes69_2").amp([$amp_trp_mes_69_2, $dur_trp_69_2, $amp_trp_end_69_2, 1, -60], free = 0.1, action = ["clearbuf", $rec_buf11_1])
	$tracks("play_env_trig_trp_mes69_2").traj_circ_interp($trp_dae, $bsn_dae, 7) 
	$tracks("play_env_trig_trp_mes69_2").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_trp_mes69_2").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_68_2_2, "linear", 200])


whenever cl_ampgate_mes69 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cl))
{
	print onset cl_onset_mes69
	$rec_buf15_1.rec($cl)
	$amp_cl_mes_69 := 6
	$dur_cl_69 := 8
	$amp_end_69 := 6

	obj::crea_track_HOA("play_env_trig_mes69", "group_hoa1", fade_in = 0.0001, amp = $amp_cl_mes_69, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf15_1.id(), envbuf0, $envs("server1")("perc_rond"), envbuf1, ($envs("server1")("rond"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 300, db, -30]])
	$tracks("play_env_trig_mes69").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $dur_cl_69, "sine", 6])
	$tracks("play_env_trig_mes69").bpf_param("TBufRdEnvInterp", "interp", [-1, $dur_cl_69/2, "sine", 1, $dur_cl_69/2, "sine", -1])
	$tracks("play_env_trig_mes69").amp([$amp_cl_mes_69, $dur_cl_69, $amp_end_69, 6, -60], free = 0.1, action = ["clearbuf", $rec_buf15_1])
	$tracks("play_env_trig_mes69").traj_circ_interp($cl_dae, $bsn_dae, $dur_cl_69)
	$tracks("play_env_trig_mes69").set(CompressorD, [thresh, 0.3])

	abort cl_ampgate_mes69 @norec
}

	$chop_vln_mes69_dur := 3 // amp = dur + dur*3 + dur = 5*dur
	$chop_vln_mes69_amp := 12

	whenever chop_vln (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vln))
	{
		print onset
		$rec_buf6_05.rec($vln)

		obj::crea_track_HOA("chop_vln_mes69", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes69_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf6_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
		$tracks("chop_vln_mes69").bpf_param("TCortaExtXPlayBuf", "trig_time", [10, $chop_vln_mes69_dur, 10,"circ"])
		$tracks("chop_vln_mes69").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_vln_mes69").amp([$chop_vln_mes69_amp, $chop_vln_mes69_dur, $chop_vln_mes69_amp, $chop_vln_mes69_dur*2, -50, 0.1, -120], free = 0.1, action = ["clearbuf", $rec_buf6_05]) //
		$tracks("chop_vln_mes69").traj_circ_interp($vln_dae, $bsn_dae, $chop_vln_mes69_dur*2)
		abort chop_vln @norec
	}

whenever alto_ampgate_mes69 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $alto))
{
	group
	{
		print onset cl_onset_mes69
		$rec_buf8_05.rec($alto)
		$amp_mes_69_alto := 6
		$dur_mes_69_alto := 2
		// $amp_end_mes_69_alto := 1
		// $dur_gliss_mes_69_alto := 1

		@local $loop_dur := @rand_range(0.1, 0.5), $local_loop

		obj::crea_track_HOA("cortaRand_mesmes_69_alto", "group_hoa1", fade_in = 0.1, amp = $amp_mes_69_alto, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf8_05.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
		$tracks("cortaRand_mesmes_69_alto").amp([$amp_mes_69_alto, $dur_mes_69_alto, "quad", $amp_mes_69_alto, 0.1, -60], free = 0.1, action = ["clearbuf", $rec_buf8_05])
		$tracks("cortaRand_mesmes_69_alto").dae_rand_lfo([0.8, 2, $alto_dae[0], -180, 180, $alto_dae[1], 0, 90, $alto_dae[2]], 10)
		$local_loop :=  {
			loop $loop_dur
			{
				$tracks("cortaRand_mesmes_69_alto").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
				$tracks("cortaRand_mesmes_69_alto").set(TCortaRandBuf, [loopDur, $loop_dur])
				$loop_dur := @rand_range(0.1, 0.5)
			}
			
		}
		($dur_mes_69_alto+0.1) abort $local_loop
		// $tracks("cortaRand_mesmes_69_alto").amp(3)
	}
	abort alto_ampgate_mes69 @norec
}

// cb pizz 2

$chop_cb_mes69_2_dur := 2 // amp = dur + dur*3 + dur = 5*dur
$chop_cb_mes69_2_amp := 6
// whenever chop_cb_mes69_2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cb))
whenever cb_ampgate_mes69 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
{
	print onset
	$rec_buf9_05.rec($cb)
	obj::crea_track_HOA("play_env_trig_cb_mes69_2", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes69_2_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf9_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
	$tracks("play_env_trig_cb_mes69_2").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $chop_cb_mes69_2_dur, "sine", 7])
	$tracks("play_env_trig_cb_mes69_2").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes69_2_dur, "sine", 1])
	$tracks("play_env_trig_cb_mes69_2").amp([$chop_cb_mes69_2_amp, $chop_cb_mes69_2_dur, $chop_cb_mes69_2_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf9_05])
	$tracks("play_env_trig_cb_mes69_2").traj_circ_interp($cb_dae, $bsn_dae, $chop_cb_mes69_2_dur)
	$tracks("play_env_trig_cb_mes69_2").set(CompressorD, [thresh, 0.3])

	abort cb_ampgate_mes69 @norec // abort juste aprs le onset
}

1 whenever chop_bsn_mes69_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $bsn))
{

	$chop_bsn_mes69_2_dur := 5 // amp = dur + dur*3 + dur = 5*dur
	$chop_bsn_mes69_2_amp := 12

	$rec_buf1_05.rec($bsn)

	obj::crea_track_HOA("chop_bsn_mes69_2", "group_hoa1", fade_in = 0.001, amp = $chop_bsn_mes69_2_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf1_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
	$tracks("chop_bsn_mes69_2").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
	$tracks("chop_bsn_mes69_2").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
	$tracks("chop_bsn_mes69_2").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_bsn_mes69_2").amp([$chop_bsn_mes69_2_amp, $chop_bsn_mes69_2_dur, $chop_bsn_mes69_2_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf1_05])
	$tracks("chop_bsn_mes69_2").traj_circ_interp2($bsn_dae, $cl_dae, $chop_bsn_mes69_2_dur, -1)

	abort chop_bsn_mes69_2 @norec // abort juste aprs le onset
}



$chop_vln_mes69_2_dur := 2 // amp = dur + dur*3 + dur = 5*dur
$chop_vln_mes69_2_amp := 12

// pizz mess_70
2 whenever chop_vln_mes69_2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vln))
{
	print onset
	$rec_buf10_05.rec($vln)

	obj::crea_track_HOA("chop_vln_mes69_2", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes69_2_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf10_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
	$tracks("chop_vln_mes69_2").bpf_param("TCortaExtXPlayBuf", "trig_time", [10, $chop_vln_mes69_2_dur, 10,"circ"])
	$tracks("chop_vln_mes69_2").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_vln_mes69_2").amp([$chop_vln_mes69_2_amp, $chop_vln_mes69_2_dur, $chop_vln_mes69_2_amp, 0.1, -60], free = 0.1, action = ["clearbuf", $rec_buf10_05]) //
	$tracks("chop_vln_mes69_2").traj_circ_interp2($vln_dae, $trp_dae, $chop_vln_mes69_2_dur, -1)

	abort chop_vln_mes69_2 @norec
}

NOTE 60 1 mes_70

print mes_70


group vents_mes_70
{
	whenever chop_fl_mes70 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $fl))
	{
		print onset
		$rec_buf1_1.rec($fl)
		$amp_mes_70 := 0
		$dur_70 := 5
		$amp_end_70 := 3


		obj::crea_track_HOA("chop_fl_mes70", "group_hoa1", fade_in = 0.0001, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf1_1.id(), envbuf0, $envs("server1")("perc_rond"), envbuf1, ($envs("server1")("rond"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 300, db, -30]])  //, [Norm, lev, 0.03]

		$tracks("chop_fl_mes70").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $dur_70, "sine", 10])
		$tracks("chop_fl_mes70").bpf_param("TBufRdEnvInterp", "interp", [-1, $dur_70/2, "sine", 1])
		$tracks("chop_fl_mes70").amp([$amp_mes_70, $dur_70, $amp_end_70, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf1_1])
		$tracks("chop_fl_mes70").traj_circ_interp2($fl_dae, $htb_dae, $dur_70, -1)
		$tracks("chop_fl_mes70").set(CompressorD, [thresh, 0.15])

		abort chop_fl_mes70 @norec // abort juste aprs le onset
	}

}

$chop_alto_mes70_dur := 2 // amp = dur + dur*3 + dur = 5*dur
$chop_alto_mes70_amp := 12

whenever alto_ampgate_mes70 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $alto))
{
	print onset
	$rec_buf11_05.rec($alto)

	obj::crea_track_HOA("chop_alto_mes70", "group_hoa1", fade_in = 0.0001, amp = $chop_alto_mes70_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf11_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
	$tracks("chop_alto_mes70").bpf_param("TCortaExtXPlayBuf", "trig_time", [12, $chop_alto_mes70_dur, 12,"circ"])
	$tracks("chop_alto_mes70").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_alto_mes70").amp([$chop_alto_mes70_amp, $chop_alto_mes70_dur, $chop_alto_mes70_amp, 0.1, -60], free = 0.1, action = ["clearbuf", $rec_buf11_05]) //
	$tracks("chop_alto_mes70").traj_circ_interp2($alto_dae, $bsn_dae, $chop_alto_mes70_dur, -1)

	abort alto_ampgate_mes70 @norec
}

$chop_vlc_mes70_dur := 2 // amp = dur + dur*3 + dur = 5*dur
$chop_vlc_mes70_amp := 0

whenever vlc_ampgate_mes70 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vlc))
{
	print onset
	$rec_buf12_05.rec($vlc)

	obj::crea_track_HOA("play_env_trig_vlc_mes70", "group_hoa1", fade_in = 0.0001, amp = $chop_vlc_mes70_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf12_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 50, db, -30]])
	$tracks("play_env_trig_vlc_mes70").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $chop_vlc_mes70_dur, "sine", 7])
	$tracks("play_env_trig_vlc_mes70").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_vlc_mes70_dur, "sine", 1])
	$tracks("play_env_trig_vlc_mes70").amp([$chop_vlc_mes70_amp, $chop_vlc_mes70_dur, $chop_vlc_mes70_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf12_05])
	$tracks("play_env_trig_vlc_mes70").traj_circ_interp($cb_dae, $bsn_dae, $chop_vlc_mes70_dur)
	$tracks("play_env_trig_vlc_mes70").set(CompressorD, [thresh, 0.3])

	abort vlc_ampgate_mes70 @norec // abort juste aprs le onset
}

	$chop_cb_mes70_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes70_amp := 6
	// whenever chop_cb_mes70 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cb))
	whenever cb_ampgate_mes70 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf14_05.rec($cb)

		obj::crea_track_HOA("play_env_trig_cb_mes70", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes70_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf14_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cb_mes70").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $chop_cb_mes70_dur, "sine", 7])
		$tracks("play_env_trig_cb_mes70").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes70_dur, "sine", 1])
		$tracks("play_env_trig_cb_mes70").amp([$chop_cb_mes70_amp, $chop_cb_mes70_dur, $chop_cb_mes70_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf14_05])
		$tracks("play_env_trig_cb_mes70").traj_circ_interp2($cb_dae, $vlc_dae, $chop_cb_mes70_dur, 1)
		$tracks("play_env_trig_cb_mes70").set(CompressorD, [thresh, 0.3])

		abort cb_ampgate_mes70 @norec // abort juste aprs le onset
	}


$chop_vlc_mes70_2_dur := 2 // amp = dur + dur*3 + dur = 5*dur
$chop_vlc_mes70_2_amp := 9

1.2 whenever chop_vlc_mes70_2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vlc))
{
	print onset
	$rec_buf15_05.rec($vlc)
	// obj::crea_track_HOA("chop_vlc_mes70_2", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $vlc, "amp", 0], ["TCortaExtXPlay", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
	obj::crea_track_HOA("chop_vlc_mes70_2", "group_hoa1", fade_in = 0.1, amp = $chop_vlc_mes70_2_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf15_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
	$tracks("chop_vlc_mes70_2").bpf_param("TCortaExtXPlayBuf", "trig_time", [15, $chop_vlc_mes70_2_dur, 15,"circ"])
	$tracks("chop_vlc_mes70_2").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_vlc_mes70_2").amp([$chop_vlc_mes70_2_amp, $chop_vlc_mes70_2_dur, $chop_vlc_mes70_2_amp, 0.2 , -120], free = 0.1, action = ["clearbuf", $rec_buf15_05]) //
	$tracks("chop_vlc_mes70_2").traj_circ_interp($vlc_dae, $bsn_dae, $chop_vlc_mes70_2_dur)
	abort chop_vlc_mes70_2 @norec
}

$chop_vln_mes70_dur := 2 // amp = dur + dur*3 + dur = 5*dur
$chop_vln_mes70_amp := 20

whenever chop_vln_mes70 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vln))
{
	print onset
	$rec_buf16_05.rec($vln)

	obj::crea_track_HOA("chop_vln_mes70", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes70_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf16_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
	$tracks("chop_vln_mes70").bpf_param("TCortaExtXPlayBuf", "trig_time", [10, $chop_vln_mes70_dur, 10,"circ"])
	$tracks("chop_vln_mes70").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_vln_mes70").amp([$chop_vln_mes70_amp, $chop_vln_mes70_dur, $chop_vln_mes70_amp, 0.1, -60], free = 0.1, action = ["clearbuf", $rec_buf16_05]) //
	$tracks("chop_vln_mes70").traj_circ_interp2($vln_dae, $trp_dae, $chop_vln_mes70_dur, -1)

	abort chop_vln_mes70 @norec
}


NOTE 60 1 mes_70_3

print mes_70_3


	$rec_buf11_1.rec($trp)
	$amp_trp_mes_70_3 := -5
	$dur_trp_70_3 := 5
	$amp_trp_end_70_3 := 6

	obj::crea_track_HOA("play_env_trig_trp_mes70_3", "group_hoa1", fade_in = 1, amp = $amp_trp_mes_70_3, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf11_1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf11_1.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	$tracks("play_env_trig_trp_mes70_3").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("perc")])
	$tracks("play_env_trig_trp_mes70_3").bpf_param("TPlayBufEnvTrigF", "impulse_rate", [1, $dur_trp_70_3, "sine", 20])
	$tracks("play_env_trig_trp_mes70_3").amp([$amp_trp_mes_70_3, $dur_trp_70_3, $amp_trp_end_70_3, 1, -60], free = 0.1, action = ["clearbuf", $rec_buf11_1])
	$tracks("play_env_trig_trp_mes70_3").traj_circ_interp($trp_dae, $bsn_dae, 7) 
	$tracks("play_env_trig_trp_mes70_3").set(CompressorD, [thresh, 0.1])
	$tracks("play_env_trig_trp_mes70_3").bpf_param("TPlayBufEnvTrigF", "freqHPF", [20, $dur_68_2_2, "linear", 200])


	whenever chop_fl_mes70_3 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $fl))
	{

		$chop_fl_mes70_3_dur := 3 // amp = dur + dur*3 + dur = 5*dur
		$chop_fl_mes70_3_amp := 12

		$rec_buf2_1.rec($fl)

		obj::crea_track_HOA("chop_fl_mes70_3", "group_hoa1", fade_in = 0.001, amp = $chop_fl_mes70_3_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf2_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_fl_mes70_3").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_fl_mes70_3").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_fl_mes70_3").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_fl_mes70_3").amp([$chop_fl_mes70_3_amp, $chop_fl_mes70_3_dur, $chop_fl_mes70_3_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf2_1])
		$tracks("chop_fl_mes70_3").traj_circ_interp2($fl_dae, $cl_dae, $chop_fl_mes70_3_dur, -1)

		abort chop_fl_mes70_3 @norec // abort juste aprs le onset
	}

	whenever chop_bsn_mes70_3 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $bsn))
	{

		$chop_bsn_mes70_3_dur := 5 // amp = dur + dur*3 + dur = 5*dur
		$chop_bsn_mes70_3_amp := 12

		$rec_buf0_05.rec($bsn)

		obj::crea_track_HOA("chop_bsn_mes70_3", "group_hoa1", fade_in = 0.001, amp = $chop_bsn_mes70_3_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf0_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_bsn_mes70_3").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_bsn_mes70_3").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_bsn_mes70_3").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_bsn_mes70_3").amp([$chop_bsn_mes70_3_amp, $chop_bsn_mes70_3_dur, $chop_bsn_mes70_3_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf0_05])
		$tracks("chop_bsn_mes70_3").traj_circ_interp2($bsn_dae, $cl_dae, $chop_bsn_mes70_3_dur, -1)

		abort chop_bsn_mes70_3 @norec // abort juste aprs le onset
	}


$chop_alto_mes70_2_dur := 2 // amp = dur + dur*3 + dur = 5*dur
$chop_alto_mes70_2_amp := 12

// whenever chop_alto_mes70_2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $alto))
whenever alto_ampgate_mes70_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $alto))
{
	print onset
	$rec_buf18_05.rec($alto)

	obj::crea_track_HOA("chop_alto_mes70_2", "group_hoa1", fade_in = 0.0001, amp = $chop_alto_mes70_2_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf18_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
	$tracks("chop_alto_mes70_2").bpf_param("TCortaExtXPlayBuf", "trig_time", [12, $chop_alto_mes70_2_dur, 12,"circ"])
	$tracks("chop_alto_mes70_2").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_alto_mes70_2").amp([$chop_alto_mes70_2_amp, $chop_alto_mes70_2_dur, $chop_alto_mes70_2_amp, 0.1, -60], free = 0.1, action = ["clearbuf", $rec_buf18_05]) //
	$tracks("chop_alto_mes70_2").traj_circ_interp2($alto_dae, $bsn_dae, $chop_alto_mes70_2_dur, -1)

	abort alto_ampgate_mes70_2 @norec
}


	$chop_cb_mes70_3_dur := 4 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes70_3_amp := 6

	whenever cb_ampgate_mes70_3 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf17_05.rec($cb)

		obj::crea_track_HOA("play_env_trig_cb_mes70_3", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes70_3_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf17_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cb_mes70_3").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $chop_cb_mes70_3_dur, "sine", 7])
		$tracks("play_env_trig_cb_mes70_3").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes70_3_dur, "sine", 1])
		$tracks("play_env_trig_cb_mes70_3").amp([$chop_cb_mes70_3_amp, $chop_cb_mes70_3_dur, $chop_cb_mes70_3_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf17_05])
		$tracks("play_env_trig_cb_mes70_3").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes70_3_dur, 1)
		$tracks("play_env_trig_cb_mes70_3").set(CompressorD, [thresh, 0.3])

		abort cb_ampgate_mes70_3 @norec // abort juste aprs le onset
	}

// pour mes_73_n

$chop_vlc_mes73_n_dur := 2 // amp = dur + dur*3 + dur = 5*dur
$chop_vlc_mes73_n_amp := 9

1.2 whenever chop_vlc_mes73_n (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vlc))
{
	print onset
	$rec_buf15_05.rec($vlc)
	// obj::crea_track_HOA("chop_vlc_mes73_n", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $vlc, "amp", 0], ["TCortaExtXPlay", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
	obj::crea_track_HOA("chop_vlc_mes73_n", "group_hoa1", fade_in = 0.1, amp = $chop_vlc_mes73_n_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf15_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
	$tracks("chop_vlc_mes73_n").bpf_param("TCortaExtXPlayBuf", "trig_time", [15, $chop_vlc_mes73_n_dur, 15,"circ"])
	$tracks("chop_vlc_mes73_n").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_vlc_mes73_n").amp([$chop_vlc_mes73_n_amp, $chop_vlc_mes73_n_dur, $chop_vlc_mes73_n_amp, 0.2 , -120], free = 0.1, action = ["clearbuf", $rec_buf15_05]) //
	$tracks("chop_vlc_mes73_n").traj_circ_interp($vlc_dae, $bsn_dae, $chop_vlc_mes73_n_dur)
	abort chop_vlc_mes73_n @norec
}

NOTE 60 1 mes_73_n

print mes_73_n

// crea_track8 track13 0 0 0 Bform_mono freq 1312.7039794922 formfreq 1988.3477783203 bwfreq 1759.353515625 amp -3.1796562671661 #-> TGranIn_mono trigRate 10.89999961853 trigRateDev 76.746536254883 dur 0.057000000029802 durDev 0.0 pan 0.0 panDev 0.0 ampDev 0.0 amp 0.0
// crea_track8 track56 0 0 0 Bform_mono freq 1313.5598144531 formfreq 5414.9560546875 bwfreq 6251.6567382812 amp -4.2068529129028 #-> TGranIn_mono trigRate 8.8999996185303 trigRateDev 119.16893768311 dur 0.043999999761581 durDev 0.0 pan 0.0 panDev 0.0 ampDev 0.0 amp 0.0

$tracks("synth_mes_64_4_1").free(6)
$tracks("synth_mes_64_4_2").free(6)
$tracks("synth_mes_51_2").free(6)

group synth_mes_73_n
{
	// $tracks("Warbulence_mes31").preset("Warbulence_mod_dev_mono", "nota_8")
 	obj::crea_track_HOA("synth_mes_73_n_1", "group_hoa3", fade_in = 5, amp = -12, doppler = 0, in_channels = 1, [[Bform_mono, freq, 1312.7039794922, formfreq, 1988.3477783203, bwfreq, 1759.353515625, amp, -15], [TGranIn_mono, envbuf, $envs("server3")("rond"), trigRate, 10.89999961853, trigRateDev, 76.746536254883, dur, 0.057000000029802]] )
	// $tracks("synth_mes_73_n_1").bpf_param(TGranIn_mono, trigRate, [6.5999999, 5, "circ", 18])
	// $tracks("synth_mes_73_n_1").rand_lfo(Bform_mono, bwfreq, 4500, 6019.7182617188, 6019.7182617188, "linear", 60)

	$tracks("synth_mes_73_n_1").amp([-30, 7, -18])
	group
	{
		// $tracks("synth_mes_73_n_1").traj_circ_interp($vlc_dae, $alto_dae, 4)
		$tracks("synth_mes_73_n_1").dae_rand_lfo([1.5, 4, $trp_dae[0], -180, 180, $trp_dae[1], 0, 45, 0])
	}
// $tracks("synth_mes_73_n_1").free()
	0.7 obj::crea_track_HOA("synth_mes_73_n_2", "group_hoa3", fade_in = 5, amp = -12, doppler = 0, in_channels = 1, [[Bform_mono, freq, 1313.5598144531, formfreq, 5414.9560546875, bwfreq, 6251.6567382812, amp, -15], [TGranIn_mono, envbuf, $envs("server3")("rond"), trigRate, 8.8999996185303, trigRateDev, 119.16893768311, dur, 0.043999999761581, durDev, 0.0]] )
	// $tracks("synth_mes_73_n_2").bpf_param(TGranIn_mono, trigRate, [6.5999999, 5, "circ", 18])
	// $tracks("synth_mes_73_n_2").rand_lfo(Bform_mono, bwfreq, 2600, 4101.2817382812, 4101.2817382812, "linear", 60)

	$tracks("synth_mes_73_n_2").amp([-30, 7, -18])
	group
	{
		// $tracks("synth_mes_73_n_2").traj_circ_interp($vlc_dae, $alto_dae, 4)
		$tracks("synth_mes_73_n_2").dae_rand_lfo([1.5, 4, $trb_dae[0], -180, 180, $trb_dae[1], 0, 45, 0])
	}
}

// $tracks("synth_mes_73_n_1").free()
// $tracks("synth_mes_73_n_2").free()


	$chop_cl_mes73_n_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_cl_mes73_n_amp := 6
	// whenever chop_cl_mes73_n (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cl))
	whenever cl_ampgate_73_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cl))
	{
		print onset
		$rec_buf31_05.rec($cl)
		obj::crea_track_HOA("play_env_trig_cl_mes73_n", "group_hoa1", fade_in = 0.0001, amp = $chop_cl_mes73_n_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf31_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cl_mes73_n").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $chop_cl_mes73_n_dur, "sine", 7])
		$tracks("play_env_trig_cl_mes73_n").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cl_mes73_n_dur, "sine", 1])
		$tracks("play_env_trig_cl_mes73_n").amp([$chop_cl_mes73_n_amp, $chop_cl_mes73_n_dur, $chop_cl_mes73_n_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf31_05])
		$tracks("play_env_trig_cl_mes73_n").traj_circ_interp($cl_dae, $bsn_dae, $chop_cl_mes73_n_dur)
		$tracks("play_env_trig_cl_mes73_n").set(CompressorD, [thresh, 0.3])

		abort cl_ampgate_73_n @norec // abort juste aprs le onset
	}

group cordes_mes_73_n

{
	$chop_vln_mes73_n_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_vln_mes73_n_amp := 15

	whenever chop_vln_mes73_n (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vln))
	{
		print onset

		$rec_buf30_05.rec($vln)

		obj::crea_track_HOA("chop_vln_mes73_n", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes73_n_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf30_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
		$tracks("chop_vln_mes73_n").bpf_param("TCortaExtXPlayBuf", "trig_time", [10, $chop_vln_mes73_n_dur, 10,"circ"])
		$tracks("chop_vln_mes73_n").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_vln_mes73_n").amp([$chop_vln_mes73_n_amp, $chop_vln_mes73_n_dur, $chop_vln_mes73_n_amp, 0.1, -60], free = 0.1, action = ["clearbuf", $rec_buf30_05]) //
		$tracks("chop_vln_mes73_n").traj_circ_interp2($vln_dae, $trp_dae, $chop_vln_mes73_n_dur, -1)

		abort chop_vln_mes73_n @norec
	}

	$chop_alto_mes73_n_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_alto_mes73_n_amp := 12

	whenever alto_ampgate_mes73_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $alto))
	{
		print onset
		$rec_buf11_05.rec($alto)

		obj::crea_track_HOA("chop_alto_mes73_n", "group_hoa1", fade_in = 0.0001, amp = $chop_alto_mes73_n_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf11_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
		$tracks("chop_alto_mes73_n").bpf_param("TCortaExtXPlayBuf", "trig_time", [12, $chop_alto_mes73_n_dur, 12,"circ"])
		$tracks("chop_alto_mes73_n").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_alto_mes73_n").amp([$chop_alto_mes73_n_amp, $chop_alto_mes73_n_dur, $chop_alto_mes73_n_amp, 0.1, -60], free = 0.1, action = ["clearbuf", $rec_buf11_05]) //
		$tracks("chop_alto_mes73_n").traj_circ_interp2($alto_dae, $bsn_dae, $chop_alto_mes73_n_dur, -1)

		abort alto_ampgate_mes73_n @norec
	}

	1 $chop_vlc_mes73_n2_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_vlc_mes73_n2_amp := 9

	whenever chop_vlc_mes73_n2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vlc))
	{
		print onset
		$rec_buf15_05.rec($vlc)
		// obj::crea_track_HOA("chop_vlc_mes73_n2", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $vlc, "amp", 0], ["TCortaExtXPlay", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
		obj::crea_track_HOA("chop_vlc_mes73_n2", "group_hoa1", fade_in = 0.1, amp = $chop_vlc_mes73_n2_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf15_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
		$tracks("chop_vlc_mes73_n2").bpf_param("TCortaExtXPlayBuf", "trig_time", [15, $chop_vlc_mes73_n2_dur, 15,"circ"])
		$tracks("chop_vlc_mes73_n2").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_vlc_mes73_n2").amp([$chop_vlc_mes73_n2_amp, $chop_vlc_mes73_n2_dur, $chop_vlc_mes73_n2_amp, 0.2 , -120], free = 0.1, action = ["clearbuf", $rec_buf15_05]) //
		$tracks("chop_vlc_mes73_n2").traj_circ_interp($vlc_dae, $bsn_dae, $chop_vlc_mes73_n2_dur)
		abort chop_vlc_mes73_n2 @norec
	}
	$chop_vln_mes73_2_n_dur := 1.5 // amp = dur + dur*3 + dur = 5*dur
	$chop_vln_mes73_2_n_amp := 20

	whenever chop_vln_mes73_2_n (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vln))
	{
		print onset

		$rec_buf30_05.rec($vln)

		obj::crea_track_HOA("chop_vln_mes73_2_n", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes73_2_n_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf30_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
		$tracks("chop_vln_mes73_2_n").bpf_param("TCortaExtXPlayBuf", "trig_time", [10, $chop_vln_mes73_2_n_dur, 10,"circ"])
		$tracks("chop_vln_mes73_2_n").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_vln_mes73_2_n").amp([$chop_vln_mes73_2_n_amp, $chop_vln_mes73_2_n_dur, $chop_vln_mes73_2_n_amp, 0.1, -60], free = 0.1, action = ["clearbuf", $rec_buf30_05]) //
		$tracks("chop_vln_mes73_2_n").traj_circ_interp2($vln_dae, $trp_dae, $chop_vln_mes73_2_n_dur, -1)

		abort chop_vln_mes73_2_n @norec
	}

	whenever alto_ampgate_mes73_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $alto))
	{
		group
		{
			print onset cl_onset_mes73_n
			$rec_buf8_05.rec($alto)
			$amp_mes_73_n_alto := 6
			$dur_mes_73_n_alto := 2
			// $amp_end_mes_73_n_alto := 1
			// $dur_gliss_mes_73_n_alto := 1

			@local $loop_dur := @rand_range(0.1, 0.5), $local_loop

			obj::crea_track_HOA("cortaRand_mesmes_73_n_alto", "group_hoa1", fade_in = 0.1, amp = $amp_mes_73_n_alto, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf8_05.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
			$tracks("cortaRand_mesmes_73_n_alto").amp([$amp_mes_73_n_alto, $dur_mes_73_n_alto, "quad", $amp_mes_73_n_alto, 0.1, -60], free = 0.1, action = ["clearbuf", $rec_buf8_05])
			$tracks("cortaRand_mesmes_73_n_alto").dae_rand_lfo([0.8, 2, $alto_dae[0], -180, 180, $alto_dae[1], 0, 90, $alto_dae[2]], 10)
			$local_loop :=  {
				loop $loop_dur
				{
					$tracks("cortaRand_mesmes_73_n_alto").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
					$tracks("cortaRand_mesmes_73_n_alto").set(TCortaRandBuf, [loopDur, $loop_dur])
					$loop_dur := @rand_range(0.1, 0.5)
				}
				
			}
			($dur_mes_73_n_alto+0.1) abort $local_loop
			// $tracks("cortaRand_mesmes_69_alto").amp(3)
		}
		abort alto_ampgate_mes73_n @norec
	}
}


NOTE 60 1 mes_73_n_3

print mes_73_n_3

	$chop_cl_mes73_n_3_dur := 4 // amp = dur + dur*3 + dur = 5*dur
	$chop_cl_mes73_n_3_amp := 6
	// whenever chop_cl_mes73_n_3 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cl))
	whenever cl_ampgate_73_n_3 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cl))
	{
		print onset
		$rec_buf9_05.rec($cl)
		obj::crea_track_HOA("play_env_trig_cl_mes73_n_3", "group_hoa1", fade_in = 0.0001, amp = $chop_cl_mes73_n_3_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf9_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cl_mes73_n_3").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $chop_cl_mes73_n_3_dur, "sine", 7])
		$tracks("play_env_trig_cl_mes73_n_3").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cl_mes73_n_3_dur, "sine", 1])
		$tracks("play_env_trig_cl_mes73_n_3").amp([$chop_cl_mes73_n_3_amp, $chop_cl_mes73_n_3_dur, $chop_cl_mes73_n_3_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf9_05])
		$tracks("play_env_trig_cl_mes73_n_3").traj_circ_interp($cl_dae, $bsn_dae, $chop_cl_mes73_n_3_dur)
		$tracks("play_env_trig_cl_mes73_n_3").set(CompressorD, [thresh, 0.3])

		abort cl_ampgate_73_n_3 @norec // abort juste aprs le onset
	}

	$chop_cb_mes73_n_3_dur := 3 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes73_n_3_amp := 6

	whenever cb_ampgate_mes73_n_3 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf1_05.rec($cb)

		obj::crea_track_HOA("play_env_trig_cb_mes73_n_3", "group_hoa1", fade_in = 0.001, amp = $chop_cb_mes73_n_3_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf1_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("play_env_trig_cb_mes73_n_3").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("play_env_trig_cb_mes73_n_3").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("play_env_trig_cb_mes73_n_3").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("play_env_trig_cb_mes73_n_3").amp([$chop_cb_mes73_n_3_amp, $chop_cb_mes73_n_3_dur, $chop_cb_mes73_n_3_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf1_05])
		$tracks("play_env_trig_cb_mes73_n_3").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes73_n_3_dur, 1)

		abort cb_ampgate_mes73_n_3 @norec // abort juste aprs le onset
	}


	whenever chop_fl_mes73_n_3 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $fl))
	{

		$chop_fl_mes73_n_3_dur := 3 // amp = dur + dur*3 + dur = 5*dur
		$chop_fl_mes73_n_3_amp := 12

		$rec_buf4_1.rec($fl)

		obj::crea_track_HOA("chop_fl_mes73_n_3", "group_hoa1", fade_in = 0.001, amp = $chop_fl_mes73_n_3_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf4_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_fl_mes73_n_3").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_fl_mes73_n_3").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_fl_mes73_n_3").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_fl_mes73_n_3").amp([$chop_fl_mes73_n_3_amp, $chop_fl_mes73_n_3_dur, $chop_fl_mes73_n_3_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf4_1])
		$tracks("chop_fl_mes73_n_3").traj_circ_interp2($fl_dae, $cl_dae, $chop_fl_mes73_n_3_dur, -1)

		abort chop_fl_mes73_n_3 @norec // abort juste aprs le onset
	}

	whenever chop_bsn_mes73_n_3 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $bsn))
	{

		$chop_bsn_mes73_n_3_dur := 3 // amp = dur + dur*3 + dur = 5*dur
		$chop_bsn_mes73_n_3_amp := 12

		$rec_buf0_05.rec($bsn)

		obj::crea_track_HOA("chop_bsn_mes73_n_3", "group_hoa1", fade_in = 0.001, amp = $chop_bsn_mes73_n_3_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf0_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_bsn_mes73_n_3").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_bsn_mes73_n_3").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_bsn_mes73_n_3").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_bsn_mes73_n_3").amp([$chop_bsn_mes73_n_3_amp, $chop_bsn_mes73_n_3_dur, $chop_bsn_mes73_n_3_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf0_05])
		$tracks("chop_bsn_mes73_n_3").traj_circ_interp2($bsn_dae, $cl_dae, $chop_bsn_mes73_n_3_dur, -1)

		abort chop_bsn_mes73_n_3 @norec // abort juste aprs le onset
	}

	$chop_alto_mes73_n_3_dur := 3 // amp = dur + dur*3 + dur = 5*dur
	$chop_alto_mes73_n_3_amp := 12

	whenever chop_alto_mes73_n_3 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $alto))
	{
		print onset
		$rec_buf0_1.rec($alto)
		obj::crea_track_HOA("chop_alto_mes73_n_3", "group_hoa1", fade_in = 0.0001, amp = $chop_alto_mes73_n_3_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf0_1.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 48, db, -24]])
		$tracks("chop_alto_mes73_n_3").bpf_param("TCortaExtXPlayBuf", "trig_time", [7, $chop_alto_mes73_n_3_dur/3,"circ", 12, ($chop_alto_mes73_n_3_dur*2)/3, 3])
		$tracks("chop_alto_mes73_n_3").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_alto_mes73_n_3").amp([$chop_alto_mes73_n_3_amp, $chop_alto_mes73_n_3_dur, $chop_alto_mes73_n_3_amp, 0.3, -60], free = 0.1, action = ["clearbuf", $rec_buf0_1]) //
		$tracks("chop_alto_mes73_n_3").traj_circ_interp($alto_dae, $bsn_dae, $chop_alto_mes73_n_3_dur)

		abort chop_alto_mes73_n_3 @norec
	}

NOTE 60 1 mes_74_n

print mes_74_n

// pour cb 74_n
 	$chop_cb_mes74_n_dur := 3 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes74_n_amp := 6
	// whenever chop_cb_mes74_n (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cb))
	whenever cb_ampgate_mes74_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf33_05.rec($cb)

		obj::crea_track_HOA("play_env_trig_cb_mes74_n", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes74_n_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf33_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cb_mes74_n").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $chop_cb_mes74_n_dur, "sine", 7])
		$tracks("play_env_trig_cb_mes74_n").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes74_n_dur, "sine", 1])
		$tracks("play_env_trig_cb_mes74_n").amp([$chop_cb_mes74_n_amp, $chop_cb_mes74_n_dur, $chop_cb_mes74_n_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf33_05])
		$tracks("play_env_trig_cb_mes74_n").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes74_n_dur, 1)
		$tracks("play_env_trig_cb_mes74_n").set(CompressorD, [thresh, 0.3])

		abort cb_ampgate_mes74_n @norec // abort juste aprs le onset
	}

/*	$chop_alto_mes74_n_dur := 3 // amp = dur + dur*3 + dur = 5*dur
	$chop_alto_mes74_n_amp := 12

	whenever chop_alto_mes74_n (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $alto))
	{
		print onset
		$rec_buf10_1.rec($alto)
		obj::crea_track_HOA("chop_alto_mes74_n", "group_hoa1", fade_in = 0.0001, amp = $chop_alto_mes74_n_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf10_1.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 48, db, -24]])
		$tracks("chop_alto_mes74_n").bpf_param("TCortaExtXPlayBuf", "trig_time", [7, $chop_alto_mes74_n_dur/3,"circ", 12, ($chop_alto_mes74_n_dur*2)/3, 3])
		$tracks("chop_alto_mes74_n").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_alto_mes74_n").amp([$chop_alto_mes74_n_amp, $chop_alto_mes74_n_dur, $chop_alto_mes74_n_amp, 0.3, -60], free = 0.1, action = ["clearbuf", $rec_buf10_1]) //
		$tracks("chop_alto_mes74_n").traj_circ_interp($alto_dae, $bsn_dae, $chop_alto_mes74_n_dur)

		abort chop_alto_mes74_n @norec
	}*/

	$chop_vlc_mes74_n_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_vlc_mes74_n_amp := 9

	whenever chop_vlc_mes74_n (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vlc))
	{
		print onset
		$rec_buf9_05.rec($vlc)
		// obj::crea_track_HOA("chop_vlc_mes74_n", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $vlc, "amp", 0], ["TCortaExtXPlay", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
		obj::crea_track_HOA("chop_vlc_mes74_n", "group_hoa1", fade_in = 0.1, amp = $chop_vlc_mes74_n_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf9_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
		$tracks("chop_vlc_mes74_n").bpf_param("TCortaExtXPlayBuf", "trig_time", [15, $chop_vlc_mes74_n_dur, 15,"circ"])
		$tracks("chop_vlc_mes74_n").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_vlc_mes74_n").amp([$chop_vlc_mes74_n_amp, $chop_vlc_mes74_n_dur, $chop_vlc_mes74_n_amp, 0.2 , -120], free = 0.1, action = ["clearbuf", $rec_buf9_05]) //
		$tracks("chop_vlc_mes74_n").traj_circ_interp($vlc_dae, $bsn_dae, $chop_vlc_mes74_n_dur)
		abort chop_vlc_mes74_n @norec
	}

	whenever chop_fl_mes74_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $fl))
	{

		$chop_fl_mes74_n_dur := 3 // amp = dur + dur*3 + dur = 5*dur
		$chop_fl_mes74_n_amp := 12

		$rec_buf5_1.rec($fl)

		obj::crea_track_HOA("chop_fl_mes74_n", "group_hoa1", fade_in = 0.001, amp = $chop_fl_mes74_n_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf5_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_fl_mes74_n").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_fl_mes74_n").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_fl_mes74_n").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_fl_mes74_n").amp([$chop_fl_mes74_n_amp, $chop_fl_mes74_n_dur, $chop_fl_mes74_n_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf5_1])
		$tracks("chop_fl_mes74_n").traj_circ_interp2($fl_dae, $cl_dae, $chop_fl_mes74_n_dur, -1)

		abort chop_fl_mes74_n @norec // abort juste aprs le onset
	}


	whenever alto_ampgate_mes74_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $alto))
	{
		group
		{
			print onset cl_onset_mes74_n
			$rec_buf8_05.rec($alto)
			$amp_mes_74_n_alto := 6
			$dur_mes_74_n_alto := 2
			// $amp_end_mes_74_n_alto := 1
			// $dur_gliss_mes_74_n_alto := 1

			@local $loop_dur := @rand_range(0.1, 0.5), $local_loop

			obj::crea_track_HOA("cortaRand_mesmes_74_n_alto", "group_hoa1", fade_in = 0.1, amp = $amp_mes_74_n_alto, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf8_05.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
			$tracks("cortaRand_mesmes_74_n_alto").amp([$amp_mes_74_n_alto, $dur_mes_74_n_alto, "quad", $amp_mes_74_n_alto, 0.1, -60], free = 0.1, action = ["clearbuf", $rec_buf8_05])
			$tracks("cortaRand_mesmes_74_n_alto").dae_rand_lfo([0.8, 2, $alto_dae[0], -180, 180, $alto_dae[1], 0, 90, $alto_dae[2]], 10)
			$local_loop :=  {
				loop $loop_dur
				{
					$tracks("cortaRand_mesmes_74_n_alto").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
					$tracks("cortaRand_mesmes_74_n_alto").set(TCortaRandBuf, [loopDur, $loop_dur])
					$loop_dur := @rand_range(0.1, 0.5)
				}
				
			}
			($dur_mes_74_n_alto+0.1) abort $local_loop
			// $tracks("cortaRand_mesmes_69_alto").amp(3)
		}
		abort alto_ampgate_mes74_n @norec
	}

	1.1 whenever chop_vlc_mes74_n_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vlc))
	{

		$chop_vlc_mes74_n_2_dur := 3 // amp = dur + dur*3 + dur = 5*dur
		$chop_vlc_mes74_n_2_amp := 12

		$rec_buf10_1.rec($vlc)

		obj::crea_track_HOA("chop_vlc_mes74_n_2", "group_hoa1", fade_in = 0.001, amp = $chop_vlc_mes74_n_2_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf10_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_vlc_mes74_n_2").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_vlc_mes74_n_2").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_vlc_mes74_n_2").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_vlc_mes74_n_2").amp([$chop_vlc_mes74_n_2_amp, $chop_vlc_mes74_n_2_dur, $chop_vlc_mes74_n_2_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf10_1])
		$tracks("chop_vlc_mes74_n_2").traj_circ_interp2($vlc_dae, $cl_dae, $chop_vlc_mes74_n_2_dur, -1)

		abort chop_vlc_mes74_n_2 @norec // abort juste aprs le onset
	}

	$chop_vln_mes74_n_dur := 5 // amp = dur + dur*3 + dur = 5*dur
	$chop_vln_mes74_n_amp := 15

	whenever chop_vln_mes74_n (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vln))
	{
		print onset

		$rec_buf3_05.rec($vln)

		obj::crea_track_HOA("chop_vln_mes74_n", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes74_n_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf3_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
		$tracks("chop_vln_mes74_n").bpf_param("TCortaExtXPlayBuf", "trig_time", [10, $chop_vln_mes74_n_dur, 10,"circ"])
		$tracks("chop_vln_mes74_n").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_vln_mes74_n").amp([$chop_vln_mes74_n_amp, $chop_vln_mes74_n_dur, $chop_vln_mes74_n_amp, 0.1, -60], free = 0.1, action = ["clearbuf", $rec_buf3_05]) //
		$tracks("chop_vln_mes74_n").traj_circ_interp2($vln_dae, $trp_dae, $chop_vln_mes74_n_dur, -1)

		abort chop_vln_mes74_n @norec
	}


NOTE 60 1 mes_74_n_3

print mes_74_n_3

group vents_mes_74_n_3
{
	whenever chop_fl_mes74_n_3 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $fl))
	{

		$chop_fl_mes74_n_3_dur := 3 // amp = dur + dur*3 + dur = 5*dur
		$chop_fl_mes74_n_3_amp := 12

		$rec_buf5_1.rec($fl)

		obj::crea_track_HOA("chop_fl_mes74_n_3", "group_hoa1", fade_in = 0.001, amp = $chop_fl_mes74_n_3_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf5_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_fl_mes74_n_3").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_fl_mes74_n_3").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_fl_mes74_n_3").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_fl_mes74_n_3").amp([$chop_fl_mes74_n_3_amp, $chop_fl_mes74_n_3_dur, $chop_fl_mes74_n_3_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf5_1])
		$tracks("chop_fl_mes74_n_3").traj_circ_interp2($fl_dae, $cl_dae, $chop_fl_mes74_n_3_dur, -1)

		abort chop_fl_mes74_n_3 @norec // abort juste aprs le onset
	}


	whenever chop_cl_mes74_n_3 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cl))
	{

		$chop_cl_mes74_n_3_dur := 4 // amp = dur + dur*3 + dur = 5*dur
		$chop_cl_mes74_n_3_amp := 12

		$rec_buf34_05.rec($cl)

		obj::crea_track_HOA("chop_cl_mes74_n_3", "group_hoa1", fade_in = 0.001, amp = $chop_cl_mes74_n_3_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf34_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_cl_mes74_n_3").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_cl_mes74_n_3").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_cl_mes74_n_3").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_cl_mes74_n_3").amp([$chop_cl_mes74_n_3_amp, $chop_cl_mes74_n_3_dur, $chop_cl_mes74_n_3_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf34_05])
		$tracks("chop_cl_mes74_n_3").traj_circ_interp2($cl_dae, $cl_dae, $chop_cl_mes74_n_3_dur, -1)

		abort chop_cl_mes74_n_3 @norec // abort juste aprs le onset
	}


	whenever chop_bsn_mes74_n_3 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $bsn))
	{

		$chop_bsn_mes74_n_3_dur := 5 // amp = dur + dur*3 + dur = 5*dur
		$chop_bsn_mes74_n_3_amp := 12

		$rec_buf32_05.rec($bsn)

		obj::crea_track_HOA("chop_bsn_mes74_n_3", "group_hoa1", fade_in = 0.001, amp = $chop_bsn_mes74_n_3_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf32_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_bsn_mes74_n_3").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_bsn_mes74_n_3").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_bsn_mes74_n_3").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_bsn_mes74_n_3").amp([$chop_bsn_mes74_n_3_amp, $chop_bsn_mes74_n_3_dur, $chop_bsn_mes74_n_3_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf32_05])
		$tracks("chop_bsn_mes74_n_3").traj_circ_interp2($bsn_dae, $cl_dae, $chop_bsn_mes74_n_3_dur, -1)

		abort chop_bsn_mes74_n_3 @norec // abort juste aprs le onset
	}
}

	whenever alto_ampgate_mes74_n_3 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $alto))
	{
		group
		{
			print onset cl_onset_mes74_n_3
			$rec_buf35_05.rec($alto)
			$amp_mes_74_n_3_alto := 7
			$dur_mes_74_n_3_alto := 2
			// $amp_end_mes_74_n_3_alto := 1
			// $dur_gliss_mes_74_n_3_alto := 3
			@local $loop_dur := @rand_range(0.1, 0.2), $local_loop

			obj::crea_track_HOA("cortaRand_mes_74_n_3_alto", "group_hoa1", fade_in = 0.1, amp = $amp_mes_74_n_3_alto, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf35_05.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
			$tracks("cortaRand_mes_74_n_3_alto").amp([$amp_mes_74_n_3_alto, $dur_mes_74_n_3_alto, $amp_mes_74_n_3_alto, 0.1, -60], free = 0.1, action = ["clearbuf", $rec_buf35_05])
			// $tracks("cortaRand_mes_74_n_3_alto").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_mes_74_n_3_alto) 
			$tracks("cortaRand_mes_74_n_3_alto").dae_rand_lfo([0.8, 2, $alto_dae[0], -180, 180, $alto_dae[1], 0, 90, $alto_dae[2]], 10)
			$local_loop := {
				loop $loop_dur
				{
					$tracks("cortaRand_mes_74_n_3_alto").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
					$tracks("cortaRand_mes_74_n_3_alto").set(TCortaRandBuf, [loopDur, $loop_dur])
					$loop_dur := @rand_range(0.1, 0.2)
				}
			}
			($dur_mes_74_n_3_alto) abort $local_loop
		}
		abort alto_ampgate_mes74_n_3 @norec
	}

 	$chop_cb_mes74_n_3_dur := 3 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes74_n_3_amp := 6

	whenever cb_ampgate_mes74_n_3 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf6_1.rec($cb)

		obj::crea_track_HOA("play_env_trig_cb_mes74_n_3", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes74_n_3_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf6_1.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cb_mes74_n_3").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $chop_cb_mes74_n_3_dur, "sine", 7])
		$tracks("play_env_trig_cb_mes74_n_3").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes74_n_3_dur, "sine", 1])
		$tracks("play_env_trig_cb_mes74_n_3").amp([$chop_cb_mes74_n_3_amp, $chop_cb_mes74_n_3_dur, $chop_cb_mes74_n_3_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf6_1])
		$tracks("play_env_trig_cb_mes74_n_3").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes74_n_3_dur, 1)
		$tracks("play_env_trig_cb_mes74_n_3").set(CompressorD, [thresh, 0.3])

		abort cb_ampgate_mes74_n_3 @norec // abort juste aprs le onset
	}

NOTE 60 1 mes_75_n

print mes_75_n

$tracks("synth_mes_73_n_1").free(6)
$tracks("synth_mes_73_n_2").free(6)

group synth_mes_75_n
{
	// $tracks("Warbulence_mes31").preset("Warbulence_mod_dev_mono", "nota_8")
 	obj::crea_track_HOA("synth_mes_75_n_1", "group_hoa3", fade_in = 5, amp = -12, doppler = 0, in_channels = 1, [[Bform_mono, freq, 303.94940185547, formfreq, 2671.8435058594, bwfreq, 6019.7182617188, amp, -15], [TGranIn_mono, envbuf, $envs("server3")("rond"), trigRate, 8.8000001907349 , dur, 0.068999998271465]] )
	// $tracks("synth_mes_75_n_1").bpf_param(TGranIn_mono, trigRate, [8.8000001907349, 5, "circ", 15])
	$tracks("synth_mes_75_n_1").rand_lfo(Bform_mono, bwfreq, 4500, 6019.7182617188, 6019.7182617188, "linear", 60)

	$tracks("synth_mes_75_n_1").amp([-30, 7, -12])
	group
	{
		// $tracks("synth_mes_75_n_1").traj_circ_interp($vlc_dae, $alto_dae, 4)
		$tracks("synth_mes_75_n_1").dae_rand_lfo([1.5, 4, $trp_dae[0], -180, 180, $trp_dae[1], 0, 45, 0])
	}
// $tracks("synth_mes_75_n_1").free()
	0.7 obj::crea_track_HOA("synth_mes_75_n_2", "group_hoa3", fade_in = 5, amp = -12, doppler = 0, in_channels = 1, [[Bform_mono, freq, 1081.2561035156, formfreq, 3656.419921875, bwfreq, 4101.2817382812, amp, -15], [TGranIn_mono, envbuf, $envs("server3")("perc_rond"), trigRate, 11, trigRateDev, 0.0, dur, 0.086000002920628, durDev, 0.098099283874035]] )
	// $tracks("synth_mes_75_n_2").bpf_param(TGranIn_mono, trigRate, [6.5999999, 5, "circ", 18])
	$tracks("synth_mes_75_n_2").rand_lfo(Bform_mono, bwfreq, 2600, 4101.2817382812, 4101.2817382812, "linear", 60)

	$tracks("synth_mes_75_n_2").amp([-30, 7, -12])
	group
	{
		// $tracks("synth_mes_75_n_2").traj_circ_interp($vlc_dae, $alto_dae, 4)
		$tracks("synth_mes_75_n_2").dae_rand_lfo([1.5, 4, $trb_dae[0], -180, 180, $trb_dae[1], 0, 45, 0])
	}
}


	whenever chop_fl_mes75_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $fl))
	{

		$chop_fl_mes75_n_dur := 3 // amp = dur + dur*3 + dur = 5*dur
		$chop_fl_mes75_n_amp := 12

		$rec_buf25_1.rec($fl)

		obj::crea_track_HOA("chop_fl_mes75_n", "group_hoa1", fade_in = 0.001, amp = $chop_fl_mes75_n_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf25_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_fl_mes75_n").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_fl_mes75_n").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_fl_mes75_n").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_fl_mes75_n").amp([$chop_fl_mes75_n_amp, $chop_fl_mes75_n_dur, $chop_fl_mes75_n_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf25_1])
		$tracks("chop_fl_mes75_n").traj_circ_interp2($fl_dae, $cl_dae, $chop_fl_mes75_n_dur, -1)

		abort chop_fl_mes75_n @norec // abort juste aprs le onset
	}

	$chop_cl_mes75_n_dur := 4 // amp = dur + dur*3 + dur = 5*dur
	$chop_cl_mes75_n_amp := 6
	// whenever chop_cl_mes75_n (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cl))
	whenever cl_ampgate_75_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cl))
	{
		print onset
		$rec_buf7_05.rec($cl)
		obj::crea_track_HOA("play_env_trig_cl_mes75_n", "group_hoa1", fade_in = 0.0001, amp = $chop_cl_mes75_n_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf7_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cl_mes75_n").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $chop_cl_mes75_n_dur, "sine", 7])
		$tracks("play_env_trig_cl_mes75_n").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cl_mes75_n_dur, "sine", 1])
		$tracks("play_env_trig_cl_mes75_n").amp([$chop_cl_mes75_n_amp, $chop_cl_mes75_n_dur, $chop_cl_mes75_n_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf7_05])
		$tracks("play_env_trig_cl_mes75_n").traj_circ_interp($cl_dae, $bsn_dae, $chop_cl_mes75_n_dur)
		$tracks("play_env_trig_cl_mes75_n").set(CompressorD, [thresh, 0.3])

		abort cl_ampgate_75_n @norec // abort juste aprs le onset
	}


	whenever chop_bsn_mes75_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $bsn))
	{

		$chop_bsn_mes75_n_dur := 3 // amp = dur + dur*3 + dur = 5*dur
		$chop_bsn_mes75_n_amp := 12

		$rec_buf31_1.rec($bsn)

		obj::crea_track_HOA("chop_bsn_mes75_n", "group_hoa1", fade_in = 0.001, amp = $chop_bsn_mes75_n_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf31_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_bsn_mes75_n").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_bsn_mes75_n").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_bsn_mes75_n").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_bsn_mes75_n").amp([$chop_bsn_mes75_n_amp, $chop_bsn_mes75_n_dur, $chop_bsn_mes75_n_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf31_1])
		$tracks("chop_bsn_mes75_n").traj_circ_interp2($bsn_dae, $cl_dae, $chop_bsn_mes75_n_dur, -1)

		abort chop_bsn_mes75_n @norec // abort juste aprs le onset
	}

	$chop_vln_mes75_n_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_vln_mes75_n_amp := 15

	whenever chop_vln_mes75_n (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vln))
	{
		print onset

		$rec_buf8_05.rec($vln)

		obj::crea_track_HOA("chop_vln_mes75_n", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes75_n_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf8_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
		$tracks("chop_vln_mes75_n").bpf_param("TCortaExtXPlayBuf", "trig_time", [10, $chop_vln_mes75_n_dur, 10,"circ"])
		$tracks("chop_vln_mes75_n").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_vln_mes75_n").amp([$chop_vln_mes75_n_amp, $chop_vln_mes75_n_dur, $chop_vln_mes75_n_amp, 0.1, -60], free = 0.1, action = ["clearbuf", $rec_buf8_05]) //
		$tracks("chop_vln_mes75_n").traj_circ_interp2($vln_dae, $trp_dae, $chop_vln_mes75_n_dur, -1)

		abort chop_vln_mes75_n @norec
	}

/*	whenever alto_ampgate_mes75_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $alto))
	{
		group
		{
			print onset alto_onset_mes75_n
			$rec_buf22_05.rec($alto)
			$amp_mes_75_n_alto := 7
			$dur_mes_75_n_alto := 2
			// $amp_end_mes_75_n_alto := 1
			// $dur_gliss_mes_75_n_alto := 3
			@local $loop_dur := @rand_range(0.1, 0.2), $local_loop

			obj::crea_track_HOA("cortaRand_mes_75_n_alto", "group_hoa1", fade_in = 0.1, amp = $amp_mes_75_n_alto, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf22_05.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
			$tracks("cortaRand_mes_75_n_alto").amp([$amp_mes_75_n_alto, $dur_mes_75_n_alto, $amp_mes_75_n_alto, 0.1, -60], free = 0.1, action = ["clearbuf", $rec_buf22_05])
			// $tracks("cortaRand_mes_75_n_alto").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_mes_75_n_alto) 
			$tracks("cortaRand_mes_75_n_alto").dae_rand_lfo([0.8, 2, $alto_dae[0], -180, 180, $alto_dae[1], 0, 90, $alto_dae[2]], 10)
			$local_loop := {
				loop $loop_dur
				{
					$tracks("cortaRand_mes_75_n_alto").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
					$tracks("cortaRand_mes_75_n_alto").set(TCortaRandBuf, [loopDur, $loop_dur])
					$loop_dur := @rand_range(0.1, 0.2)
				}
			}
			($dur_mes_75_n_alto) abort $local_loop
		}
		abort alto_ampgate_mes75_n @norec
	}*/
	$chop_alto_mes75_n_dur := 3 // amp = dur + dur*3 + dur = 5*dur
	$chop_alto_mes75_n_amp := 6
	// whenever chop_alto_mes75_n (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $alto))
	whenever alto_ampgate_mes75_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $alto))
	{
		print onset
		$rec_buf22_05.rec($alto)
		obj::crea_track_HOA("chop_alto_75_n", "group_hoa1", fade_in = 0.001, amp = $chop_alto_mes75_n_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf22_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		// obj::crea_track_HOA("chop_alto_75_n", "group_hoa1", fade_in = 0.0001, amp = $chop_alto_mes75_n_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf22_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		// $tracks("chop_alto_75_n").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $chop_alto_mes75_n_dur, "sine", 7])
		// $tracks("chop_alto_75_n").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_alto_mes75_n_dur, "sine", 1])
		$tracks("chop_alto_75_n").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_alto_75_n").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_alto_75_n").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop		
		$tracks("chop_alto_75_n").amp([$chop_alto_mes75_n_amp, $chop_alto_mes75_n_dur, $chop_alto_mes75_n_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf22_05])
		$tracks("chop_alto_75_n").traj_circ_interp2($alto_dae, $trb_dae, $chop_alto_mes75_n_dur, 1)
		// $tracks("chop_alto_75_n").set(CompressorD, [thresh, 0.3])

		abort alto_ampgate_mes75_n @norec // abort juste aprs le onset
	}

/*	$chop_cb_mes75_n_dur := 3 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes75_n_amp := 10

	whenever cb_ampgate_mes75_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf7_1.rec($cb)

		obj::crea_track_HOA("play_env_trig_cb_mes75_n", "group_hoa1", fade_in = 0.001, amp = $chop_cb_mes75_n_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf7_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("play_env_trig_cb_mes75_n").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("play_env_trig_cb_mes75_n").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("play_env_trig_cb_mes75_n").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("play_env_trig_cb_mes75_n").amp([$chop_cb_mes75_n_amp, $chop_cb_mes75_n_dur, $chop_cb_mes75_n_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf7_1])
		$tracks("play_env_trig_cb_mes75_n").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes75_n_dur, 1)

		abort cb_ampgate_mes75_n @norec // abort juste aprs le onset
	}*/

/*		$chop_alto_mes77_n2_2_dur := 3 // amp = dur + dur*3 + dur = 5*dur
	$chop_alto_mes77_n2_2_amp := 6
	// whenever chop_alto_mes77_n2_2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $alto))
	whenever alto_ampgate_mes77_n2_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $alto))
	{
		print onset
		$rec_buf22_05.rec($alto)
		obj::crea_track_HOA("chop_alto_77_n2_2", "group_hoa1", fade_in = 0.001, amp = $chop_alto_mes77_n2_2_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf22_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		// obj::crea_track_HOA("chop_alto_77_n2_2", "group_hoa1", fade_in = 0.0001, amp = $chop_alto_mes77_n2_2_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf22_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		// $tracks("chop_alto_77_n2_2").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $chop_alto_mes77_n2_2_dur, "sine", 7])
		// $tracks("chop_alto_77_n2_2").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_alto_mes77_n2_2_dur, "sine", 1])
		$tracks("chop_alto_77_n2_2").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_alto_77_n2_2").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_alto_77_n2_2").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop		
		$tracks("chop_alto_77_n2_2").amp([$chop_alto_mes77_n2_2_amp, $chop_alto_mes77_n2_2_dur, $chop_alto_mes77_n2_2_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf22_05])
		$tracks("chop_alto_77_n2_2").traj_circ_interp2($alto_dae, $trb_dae, $chop_alto_mes77_n2_2_dur, 1)
		// $tracks("chop_alto_77_n2_2").set(CompressorD, [thresh, 0.3])

		abort alto_ampgate_mes77_n2_2 @norec // abort juste aprs le onset
	}*/



3  whenever chop_fl_mes75_n_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $fl))
	{

		$chop_fl_mes75_n_2_dur := 3 // amp = dur + dur*3 + dur = 5*dur
		$chop_fl_mes75_n_2_amp := 12

		$rec_buf32_1.rec($fl)

		obj::crea_track_HOA("chop_fl_mes75_n_2", "group_hoa1", fade_in = 0.001, amp = $chop_fl_mes75_n_2_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf32_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_fl_mes75_n_2").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_fl_mes75_n_2").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_fl_mes75_n_2").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_fl_mes75_n_2").amp([$chop_fl_mes75_n_2_amp, $chop_fl_mes75_n_2_dur, $chop_fl_mes75_n_2_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf32_1])
		$tracks("chop_fl_mes75_n_2").traj_circ_interp2($fl_dae, $cl_dae, $chop_fl_mes75_n_2_dur, -1)

		abort chop_fl_mes75_n_2 @norec // abort juste aprs le onset
	}


	$chop_vln_mes75_n_2_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_vln_mes75_n_2_amp := 15

	whenever chop_vln_mes75_n_2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vln))
	{
		print onset

		$rec_buf30_05.rec($vln)

		obj::crea_track_HOA("chop_vln_mes75_n_2", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes75_n_2_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf30_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
		$tracks("chop_vln_mes75_n_2").bpf_param("TCortaExtXPlayBuf", "trig_time", [10, $chop_vln_mes75_n_2_dur, 10,"circ"])
		$tracks("chop_vln_mes75_n_2").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_vln_mes75_n_2").amp([$chop_vln_mes75_n_2_amp, $chop_vln_mes75_n_2_dur, $chop_vln_mes75_n_2_amp, 0.1, -60], free = 0.1, action = ["clearbuf", $rec_buf30_05]) //
		$tracks("chop_vln_mes75_n_2").traj_circ_interp2($vln_dae, $trp_dae, $chop_vln_mes75_n_2_dur, -1)

		abort chop_vln_mes75_n_2 @norec
	}

	$chop_cb_mes75_n_dur := 3 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes75_n_amp := 6
	// whenever chop_cb_mes75_n (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cb))
	whenever cb_ampgate_mes75_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf7_1.rec($cb)
		obj::crea_track_HOA("chop_cb_75_n", "group_hoa1", fade_in = 0.001, amp = $chop_cb_mes75_n_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf7_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		// obj::crea_track_HOA("chop_cb_75_n", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes75_n_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf7_1.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		// $tracks("chop_cb_75_n").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $chop_cb_mes75_n_dur, "sine", 7])
		// $tracks("chop_cb_75_n").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes75_n_dur, "sine", 1])
		$tracks("chop_cb_75_n").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_cb_75_n").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_cb_75_n").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop		
		$tracks("chop_cb_75_n").amp([$chop_cb_mes75_n_amp, $chop_cb_mes75_n_dur, $chop_cb_mes75_n_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf7_1])
		$tracks("chop_cb_75_n").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes75_n_dur, 1)
		// $tracks("chop_cb_75_n").set(CompressorD, [thresh, 0.3])

		abort cb_ampgate_mes75_n @norec // abort juste aprs le onset
	}

	0.75	$chop_alto_mes75_n_dur := 3 // amp = dur + dur*3 + dur = 5*dur
		$chop_alto_mes75_n_amp := 10

	whenever alto_ampgate_mes75_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $alto))
	{
		print onset
		$rec_buf26_1.rec($alto)

		obj::crea_track_HOA("play_env_trig_alto_mes75_n", "group_hoa1", fade_in = 0.001, amp = $chop_alto_mes73_n_3_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf26_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("play_env_trig_alto_mes75_n").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("play_env_trig_alto_mes75_n").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("play_env_trig_alto_mes75_n").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("play_env_trig_alto_mes75_n").amp([$chop_alto_mes75_n_amp, $chop_alto_mes75_n_dur, $chop_alto_mes75_n_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf26_1])
		$tracks("play_env_trig_alto_mes75_n").traj_circ_interp2($alto_dae, $trb_dae, $chop_alto_mes75_n_dur, 1)

		abort alto_ampgate_mes75_n @norec // abort juste aprs le onset
	}

NOTE 60 1 mes_71

print mes_71

// $tracks("synth_mes_51_2").amp([-15, 4, -23])
// $tracks("synth_mes_64_4_1").amp([-15, 4, -23])
// $tracks("synth_mes_64_4_2").amp([-15, 4, -23])


group vents_mes71
{

	whenever chop_fl_mes71 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $fl))
	{

		$chop_fl_mes71_dur := 3.75 // amp = dur + dur*3 + dur = 5*dur
		$chop_fl_mes71_amp := 12

		$rec_buf3_1.rec($fl)

		obj::crea_track_HOA("chop_fl_mes71", "group_hoa1", fade_in = 0.001, amp = $chop_fl_mes71_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf3_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_fl_mes71").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_fl_mes71").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_fl_mes71").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_fl_mes71").amp([$chop_fl_mes71_amp, $chop_fl_mes71_dur, $chop_fl_mes71_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf3_1])
		$tracks("chop_fl_mes71").traj_circ_interp2($fl_dae, $cl_dae, $chop_fl_mes71_dur, -1)

		abort chop_fl_mes71 @norec // abort juste aprs le onset
	}

	whenever chop_cl_mes71 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cl))
	{

		$chop_cl_mes71_dur := 6 // amp = dur + dur*3 + dur = 5*dur
		$chop_cl_mes71_amp := 12

		$rec_buf4_1.rec($cl)

		obj::crea_track_HOA("chop_cl_mes71", "group_hoa1", fade_in = 0.001, amp = $chop_cl_mes71_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf4_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_cl_mes71").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_cl_mes71").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_cl_mes71").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_cl_mes71").amp([$chop_cl_mes71_amp, $chop_cl_mes71_dur, $chop_cl_mes71_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf4_1])
		$tracks("chop_cl_mes71").traj_circ_interp2($cl_dae, $cl_dae, $chop_cl_mes71_dur, -1)

		abort chop_cl_mes71 @norec // abort juste aprs le onset
	}


/*	2 	whenever chop_cl_mes71_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cl))
	{

		$chop_cl_mes71_2_dur := 6 // amp = dur + dur*3 + dur = 5*dur
		$chop_cl_mes71_2_amp := 12

		$rec_buf6_1.rec($cl)

		obj::crea_track_HOA("chop_cl_mes71_2", "group_hoa1", fade_in = 0.001, amp = $chop_cl_mes71_2_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf6_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_cl_mes71_2").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_cl_mes71_2").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_cl_mes71_2").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_cl_mes71_2").amp([$chop_cl_mes71_2_amp, $chop_cl_mes71_2_dur, $chop_cl_mes71_2_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf6_1])
		$tracks("chop_cl_mes71_2").traj_circ_interp2($cl_dae, $cl_dae, $chop_cl_mes71_2_dur, -1)

		abort chop_cl_mes71_2 @norec // abort juste aprs le onset
	}*/

	2 $chop_cl_mes71_2_dur := 6 // amp = dur + dur*3 + dur = 5*dur
	$chop_cl_mes71_2_amp := 8
	// whenever chop_cl_mes71_2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cl))
	whenever cl_ampgate_71_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cl))
	{
		print onset
		$rec_buf6_1.rec($cl)
		obj::crea_track_HOA("play_env_trig_cl_mes71_2", "group_hoa1", fade_in = 0.0001, amp = $chop_cl_mes71_2_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf6_1.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cl_mes71_2").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $chop_cl_mes71_2_dur/3, "sine", 11, ($chop_cl_mes71_2_dur*2)/3, "sine", 4])
		$tracks("play_env_trig_cl_mes71_2").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cl_mes71_2_dur, "sine", 1])
		$tracks("play_env_trig_cl_mes71_2").amp([$chop_cl_mes71_2_amp, $chop_cl_mes71_2_dur, $chop_cl_mes71_2_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf6_1])
		$tracks("play_env_trig_cl_mes71_2").traj_circ_interp($cl_dae, $bsn_dae, $chop_cl_mes71_2_dur)
		$tracks("play_env_trig_cl_mes71_2").set(CompressorD, [thresh, 0.3])

		abort cl_ampgate_71_2 @norec // abort juste aprs le onset
	}

	whenever chop_bsn_mes71 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $bsn))
	{

		$chop_bsn_mes71_dur := 6 // amp = dur + dur*3 + dur = 5*dur
		$chop_bsn_mes71_amp := 12

		$rec_buf5_1.rec($bsn)

		obj::crea_track_HOA("chop_bsn_mes71", "group_hoa1", fade_in = 0.001, amp = $chop_bsn_mes71_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf5_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_bsn_mes71").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_bsn_mes71").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_bsn_mes71").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_bsn_mes71").amp([$chop_bsn_mes71_amp, $chop_bsn_mes71_dur, $chop_bsn_mes71_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf5_1])
		$tracks("chop_bsn_mes71").traj_circ_interp2($bsn_dae, $cl_dae, $chop_bsn_mes71_dur, -1)

		abort chop_bsn_mes71 @norec // abort juste aprs le onset
	}

	whenever chop_fl_mes71_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $fl))
	{

		$chop_fl_mes71_2_dur := 4 // amp = dur + dur*3 + dur = 5*dur
		$chop_fl_mes71_2_amp := 12

		$rec_buf9_1.rec($fl)

		obj::crea_track_HOA("chop_fl_mes71_2", "group_hoa1", fade_in = 0.001, amp = $chop_fl_mes71_2_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf9_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_fl_mes71_2").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_fl_mes71_2").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_fl_mes71_2").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_fl_mes71_2").amp([$chop_fl_mes71_2_amp, $chop_fl_mes71_2_dur, $chop_fl_mes71_2_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf9_1])
		$tracks("chop_fl_mes71_2").traj_circ_interp2($fl_dae, $cl_dae, $chop_fl_mes71_2_dur, -1)

		abort chop_fl_mes71_2 @norec // abort juste aprs le onset
	}

}


$chop_vlc_mes71_dur := 2 // amp = dur + dur*3 + dur = 5*dur
$chop_vlc_mes71_amp := 9

whenever chop_vlc_mes71 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vlc))
{
	print onset
	$rec_buf19_05.rec($vlc)
	obj::crea_track_HOA("chop_vlc_mes71", "group_hoa1", fade_in = 0.1, amp = $chop_vlc_mes71_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf19_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
	$tracks("chop_vlc_mes71").bpf_param("TCortaExtXPlayBuf", "trig_time", [12, $chop_vlc_mes71_dur, 12,"circ"])
	$tracks("chop_vlc_mes71").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_vlc_mes71").amp([$chop_vlc_mes71_amp, $chop_vlc_mes71_dur, $chop_vlc_mes71_amp, 0.2 , -120], free = 0.1, action = ["clearbuf", $rec_buf19_05]) //
	$tracks("chop_vlc_mes71").traj_circ_interp($vlc_dae, $bsn_dae, $chop_vlc_mes71_dur)
	abort chop_vlc_mes71 @norec
}


$chop_vln_mes71_dur := 1.5 // amp = dur + dur*3 + dur = 5*dur
$chop_vln_mes71_amp := 20

whenever chop_vln_mes70 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vln))
{
	print onset
	$rec_buf20_05.rec($vln)

	obj::crea_track_HOA("chop_vln_mes71", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes71_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf20_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
	$tracks("chop_vln_mes71").bpf_param("TCortaExtXPlayBuf", "trig_time", [10, $chop_vln_mes71_dur, 10,"circ"])
	$tracks("chop_vln_mes71").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_vln_mes71").amp([$chop_vln_mes71_amp, $chop_vln_mes71_dur, $chop_vln_mes71_amp, 0.1, -60], free = 0.1, action = ["clearbuf", $rec_buf20_05]) //
	$tracks("chop_vln_mes71").traj_circ_interp2($vln_dae, $trp_dae, $chop_vln_mes71_dur, -1)

	abort chop_vln_mes70 @norec
}

	$chop_cb_mes71_dur := 7 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes71_amp := 6
	// whenever chop_cb_mes70_2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cb))
	whenever cb_ampgate_mes71 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset cb_ampgate_mes71
		$rec_buf21_05.rec($cb)

		obj::crea_track_HOA("play_env_trig_cb_mes71", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes71_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf21_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cb_mes71").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $chop_cb_mes71_dur, "sine", 5])
		$tracks("play_env_trig_cb_mes71").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes71_dur, "sine", 1])
		$tracks("play_env_trig_cb_mes71").amp([$chop_cb_mes71_amp, $chop_cb_mes71_dur, $chop_cb_mes71_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf21_05])
		$tracks("play_env_trig_cb_mes71").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes71_dur, 1)
		$tracks("play_env_trig_cb_mes71").set(CompressorD, [thresh, 0.3])

		abort cb_ampgate_mes71 @norec // abort juste aprs le onset
	}

whenever alto_ampgate_mes71 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $alto))
{
	group
	{
			print onset cl_onset_mes71
		$rec_buf22_05.rec($alto)
		$amp_mes_71_alto := 7
		$dur_mes_71_alto := 2
		// $amp_end_mes_71_alto := 1
		// $dur_gliss_mes_71_alto := 3
		@local $loop_dur := @rand_range(0.1, 0.2), $local_loop

		obj::crea_track_HOA("cortaRand_mes_71_alto", "group_hoa1", fade_in = 0.1, amp = $amp_mes_71_alto, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf22_05.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
		$tracks("cortaRand_mes_71_alto").amp([$amp_mes_71_alto, $dur_mes_71_alto, $amp_mes_71_alto, 0.1, -60], free = 0.1, action = ["clearbuf", $rec_buf22_05])
		// $tracks("cortaRand_mes_71_alto").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_mes_71_alto) 
		$tracks("cortaRand_mes_71_alto").dae_rand_lfo([0.8, 2, $alto_dae[0], -180, 180, $alto_dae[1], 0, 90, $alto_dae[2]], 10)
		$local_loop := {
			loop $loop_dur
			{
				$tracks("cortaRand_mes_71_alto").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
				$tracks("cortaRand_mes_71_alto").set(TCortaRandBuf, [loopDur, $loop_dur])
				$loop_dur := @rand_range(0.1, 0.2)
			}
		}
		($dur_mes_71_alto) abort $local_loop
	}
	abort alto_ampgate_mes71 @norec
}

/*1.5 $chop_vln_mes71_2_dur := 6 // amp = dur + dur*3 + dur = 5*dur
$chop_vln_mes71_2_amp := 12

whenever chop_vln_mes71_2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vln))
{
	print onset
	$rec_buf22_05.rec($vln)
	// obj::crea_track_HOA("chop_vln_mes71_2", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $vln, "amp", 0], ["TCortaExtXPlay", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
	0.1 obj::crea_track_HOA("chop_vln_mes71_2", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes71_2_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf22_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
	// obj::crea_track_HOA("chop_vln_mes71_2", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf0_05.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf0_05.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// obj::crea_track_HOA("chop_vln_mes71_2", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "buf", $rec_buf0_05.id(), "loop", 1]])  //, [Norm, lev, 0.03]
	$tracks("chop_vln_mes71_2").bpf_param("TCortaExtXPlayBuf", "trig_time", [1.8, $chop_vln_mes71_2_dur, 15,"circ"])
	// // $tracks("chop_vln_mes71_2").set("TCortaExtXPlayBuf", ["loop", 1]) // trigger chop
	// $tracks("chop_vln_mes71_2").set("TCortaExtXPlayBuf", ["trig_time", 3]) // trigger chop
	$tracks("chop_vln_mes71_2").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_vln_mes71_2").amp([$chop_vln_mes71_2_amp, $chop_vln_mes71_2_dur, $chop_vln_mes71_2_amp, $chop_vln_mes71_2_dur*2, -50, $chop_vln_mes71_2_dur, -120], free = 0.1, action = ["clearbuf", $rec_buf22_05]) //

	$tracks("chop_vln_mes71_2").traj_circ_interp($vln_dae, $bsn_dae, $chop_vln_mes71_2_dur*2)
	abort chop_vln_mes71_2 @norec
}*/

1.5 $chop_vln_mes71_2_dur := 2 // amp = dur + dur*3 + dur = 5*dur
$chop_vln_mes71_2_amp := 15

whenever chop_vln_mes71_2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vln))
{
	print onset
	$rec_buf23_05.rec($vln)

	obj::crea_track_HOA("chop_vln_mes71_2", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes71_2_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf23_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
	$tracks("chop_vln_mes71_2").bpf_param("TCortaExtXPlayBuf", "trig_time", [10, $chop_vln_mes71_2_dur, 10,"circ"])
	$tracks("chop_vln_mes71_2").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_vln_mes71_2").amp([$chop_vln_mes71_2_amp, $chop_vln_mes71_2_dur, $chop_vln_mes71_2_amp, 0.1, -60], free = 0.1, action = ["clearbuf", $rec_buf23_05]) //
	$tracks("chop_vln_mes71_2").traj_circ_interp2($vln_dae, $bsn_dae, $chop_vln_mes71_2_dur, 1)

	abort chop_vln_mes71_2 @norec
}



/*$chop_vlc_mes71_2_dur := 7 // amp = dur + dur*3 + dur = 5*dur
$chop_vlc_mes71_2_amp := 12

whenever chop_vlc_mes71_2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vlc))
{
	print onset
	$rec_buf23_05.rec($vlc)
	// obj::crea_track_HOA("chop_vlc_mes71_2", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $vlc, "amp", 0], ["TCortaExtXPlay", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
	0.1 obj::crea_track_HOA("chop_vlc_mes71_2", "group_hoa1", fade_in = 0.0001, amp = $chop_vlc_mes71_2_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf23_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
	// obj::crea_track_HOA("chop_vlc_mes71_2", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf0_05.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf0_05.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// obj::crea_track_HOA("chop_vlc_mes71_2", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "buf", $rec_buf0_05.id(), "loop", 1]])  //, [Norm, lev, 0.03]
	$tracks("chop_vlc_mes71_2").bpf_param("TCortaExtXPlayBuf", "trig_time", [1.8, $chop_vlc_mes71_2_dur, 15,"circ"])
	// // $tracks("chop_vlc_mes71_2").set("TCortaExtXPlayBuf", ["loop", 1]) // trigger chop
	// $tracks("chop_vlc_mes71_2").set("TCortaExtXPlayBuf", ["trig_time", 3]) // trigger chop
	$tracks("chop_vlc_mes71_2").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_vlc_mes71_2").amp([$chop_vlc_mes71_2_amp, $chop_vlc_mes71_2_dur, $chop_vlc_mes71_2_amp, $chop_vlc_mes71_2_dur*2, -50, $chop_vlc_mes71_2_dur, -120], free = 0.1, action = ["clearbuf", $rec_buf23_05]) //

	$tracks("chop_vlc_mes71_2").traj_circ_interp($vlc_dae, $bsn_dae, $chop_vlc_mes71_2_dur*2)
	abort chop_vlc_mes71_2 @norec
}*/

$chop_vlc_mes71_3_dur := 3 // amp = dur + dur*3 + dur = 5*dur
$chop_vlc_mes71_3_amp := 0
// whenever chop_vlc_mes71_3 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cb))
whenever vlc_ampgate_mes71_3 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vlc))
{
	print onset
	$rec_buf24_05.rec($vlc)

	obj::crea_track_HOA("play_env_trig_mes71_3", "group_hoa1", fade_in = 0.0001, amp = $chop_vlc_mes71_3_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf24_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 50, db, -30]])
	$tracks("play_env_trig_mes71_3").bpf_param("TBufRdEnvInterp", "impulse_rate", [11, $chop_vlc_mes71_3_dur, "sine", 11])
	$tracks("play_env_trig_mes71_3").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_vlc_mes71_3_dur, "sine", 1])
	$tracks("play_env_trig_mes71_3").amp([$chop_vlc_mes71_3_amp, $chop_vlc_mes71_3_dur, $chop_vlc_mes71_3_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf24_05])
	$tracks("play_env_trig_mes71_3").traj_circ_interp($cb_dae, $bsn_dae, $chop_vlc_mes71_3_dur)
	$tracks("play_env_trig_mes71_3").set(CompressorD, [thresh, 0.3])

	abort vlc_ampgate_mes71_3 @norec // abort juste aprs le onset
}


/*$chop_cb_mes71_2_dur := 7 // amp = dur + dur*3 + dur = 5*dur
$chop_cb_mes71_2_amp := 6

whenever chop_cb_mes71_2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cb))
{
	print onset
	$rec_buf24_05.rec($cb)
	// obj::crea_track_HOA("chop_cb_mes71_2", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $cb, "amp", 0], ["TCortaExtXPlay", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
	0.1 obj::crea_track_HOA("chop_cb_mes71_2", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes71_2_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf24_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
	// obj::crea_track_HOA("chop_cb_mes71_2", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf0_05.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf0_05.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// obj::crea_track_HOA("chop_cb_mes71_2", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "buf", $rec_buf0_05.id(), "loop", 1]])  //, [Norm, lev, 0.03]
	$tracks("chop_cb_mes71_2").bpf_param("TCortaExtXPlayBuf", "trig_time", [1.8, $chop_cb_mes71_2_dur, 15,"circ"])
	// // $tracks("chop_cb_mes71_2").set("TCortaExtXPlayBuf", ["loop", 1]) // trigger chop
	// $tracks("chop_cb_mes71_2").set("TCortaExtXPlayBuf", ["trig_time", 3]) // trigger chop
	$tracks("chop_cb_mes71_2").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_cb_mes71_2").amp([$chop_cb_mes71_2_amp, $chop_cb_mes71_2_dur, $chop_cb_mes71_2_amp, $chop_cb_mes71_2_dur*2, -50, $chop_cb_mes71_2_dur, -120], free = 0.1, action = ["clearbuf", $rec_buf24_05]) //

	$tracks("chop_cb_mes71_2").traj_circ_interp($cb_dae, $bsn_dae, $chop_cb_mes71_2_dur*2)
	abort chop_cb_mes71_2 @norec // abort juste aprs le onset
}*/




/*1 $chop_vln_mes71_3_dur := 6 // amp = dur + dur*3 + dur = 5*dur
$chop_vln_mes71_3_amp := 12

whenever chop_vln_mes71_3 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vln))
{
	print onset
	$rec_buf25_05.rec($vln)
	// obj::crea_track_HOA("chop_vln_mes71_3", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $vln, "amp", 0], ["TCortaExtXPlay", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
	0.1 obj::crea_track_HOA("chop_vln_mes71_3", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes71_3_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf25_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
	// obj::crea_track_HOA("chop_vln_mes71_3", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf0_05.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf0_05.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
	// obj::crea_track_HOA("chop_vln_mes71_3", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "buf", $rec_buf0_05.id(), "loop", 1]])  //, [Norm, lev, 0.03]
	$tracks("chop_vln_mes71_3").bpf_param("TCortaExtXPlayBuf", "trig_time", [1.8, $chop_vln_mes71_3_dur, 15,"circ"])
	// // $tracks("chop_vln_mes71_3").set("TCortaExtXPlayBuf", ["loop", 1]) // trigger chop
	// $tracks("chop_vln_mes71_3").set("TCortaExtXPlayBuf", ["trig_time", 3]) // trigger chop
	$tracks("chop_vln_mes71_3").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
	$tracks("chop_vln_mes71_3").amp([$chop_vln_mes71_3_amp, $chop_vln_mes71_3_dur, $chop_vln_mes71_3_amp, $chop_vln_mes71_3_dur*2, -50, $chop_vln_mes71_3_dur, -120], free = 0.1, action = ["clearbuf", $rec_buf25_05]) //

	$tracks("chop_vln_mes71_3").traj_circ_interp($vln_dae, $bsn_dae, $chop_vln_mes71_3_dur*2)
	abort chop_vln_mes71_3 @norec
}*/


NOTE 60 1 mes_71_2

print mes_71_2

group vents_71_2
{
	$chop_cl_71_2_dur := 7 // amp = dur + dur*3 + dur = 5*dur
	$chop_cl_71_2_amp := 4

	whenever cl_ampgate_71_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cl))
	{
		print ampgate
		$rec_buf21_1.rec($cl)

		obj::crea_track_HOA("chop_cl_71_2", "group_hoa1", fade_in = 0.001, amp = $chop_cl_71_2_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf21_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_cl_71_2").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_cl_71_2").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_cl_71_2").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_cl_71_2").amp([$chop_cl_71_2_amp, $chop_cl_71_2_dur, $chop_cl_71_2_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf21_1])

		$tracks("chop_cl_71_2").traj_circ_interp2($cl_dae, $bsn_dae, $chop_cl_71_2_dur, 1)

		abort cl_ampgate_71_2 @norec
	}
}

/*$chop_vln_mes71_3_dur := 3 // amp = dur + dur*3 + dur = 5*dur
$chop_vln_mes71_3_amp := 0
// whenever chop_vlc_mes71_2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cb))
whenever vlc_ampgate_mes71_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vln))
{
	print onset
	$rec_buf26_05.rec($vln)

	obj::crea_track_HOA("play_env_trig_mes71_2", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes71_3_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf26_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 50, db, -30]])
	$tracks("play_env_trig_mes71_2").bpf_param("TBufRdEnvInterp", "impulse_rate", [20, $chop_vln_mes71_3_dur, "sine", 20])
	$tracks("play_env_trig_mes71_2").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_vln_mes71_3_dur, "sine", 1])
	$tracks("play_env_trig_mes71_2").amp([$chop_vln_mes71_3_amp, $chop_vln_mes71_3_dur, $chop_vln_mes71_3_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf26_05])
	$tracks("play_env_trig_mes71_2").traj_circ_interp($cb_dae, $bsn_dae, $chop_vln_mes71_3_dur)
	$tracks("play_env_trig_mes71_2").set(CompressorD, [thresh, 0.3])

	abort vlc_ampgate_mes71_2 @norec // abort juste aprs le onset
}*/

/*	$chop_cb_mes71_2_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes71_2_amp := 10
	// whenever chop_cb_mes70_2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cb))
	whenever cb_ampgate_mes70_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf25_05.rec($cb)

		obj::crea_track_HOA("play_env_trig_cb_mes71_2", "group_hoa1", fade_in = 0.001, amp = $chop_cb_mes71_2_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf25_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("play_env_trig_cb_mes71_2").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("play_env_trig_cb_mes71_2").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("play_env_trig_cb_mes71_2").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("play_env_trig_cb_mes71_2").amp([$chop_cb_mes71_2_amp, $chop_cb_mes71_2_dur, $chop_cb_mes71_2_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf25_05])
		$tracks("play_env_trig_cb_mes71_2").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes71_2_dur, 1)

		abort cb_ampgate_mes70_2 @norec // abort juste aprs le onset
	}*/

	$chop_cb_mes70_2_dur := 3 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes70_2_amp := 6
	// whenever chop_cb_mes70_2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cb))
	whenever cb_ampgate_mes70_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf25_05.rec($cb)
		obj::crea_track_HOA("chop_cb_70_2", "group_hoa1", fade_in = 0.001, amp = $chop_cb_mes70_2_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf25_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		// obj::crea_track_HOA("chop_cb_70_2", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes70_2_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf25_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		// $tracks("chop_cb_70_2").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $chop_cb_mes70_2_dur, "sine", 7])
		// $tracks("chop_cb_70_2").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes70_2_dur, "sine", 1])
		$tracks("chop_cb_70_2").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_cb_70_2").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_cb_70_2").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop		
		$tracks("chop_cb_70_2").amp([$chop_cb_mes70_2_amp, $chop_cb_mes70_2_dur, $chop_cb_mes70_2_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf25_05])
		$tracks("chop_cb_70_2").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes70_2_dur, 1)
		// $tracks("chop_cb_70_2").set(CompressorD, [thresh, 0.3])

		abort cb_ampgate_mes70_2 @norec // abort juste aprs le onset
	}

NOTE 60 1 mes_71_3

print mes_71_3

group vents_71_3
{
	$chop_cl_71_3_dur := 7 // amp = dur + dur*3 + dur = 5*dur
	$chop_cl_71_3_amp := 4

	// whenever cl_ampgate_71_3 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cl))
	// {
	// 	print ampgate
		$rec_buf22_1.rec($cl)

		obj::crea_track_HOA("chop_cl_71_3", "group_hoa1", fade_in = 0.001, amp = $chop_cl_71_3_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf22_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_cl_71_3").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_cl_71_3").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_cl_71_3").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_cl_71_3").amp([$chop_cl_71_3_amp, $chop_cl_71_3_dur, $chop_cl_71_3_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf22_1])

		$tracks("chop_cl_71_3").traj_circ_interp2($cl_dae, $bsn_dae, $chop_cl_71_3_dur, 1)

	// 	abort cl_ampgate_71_3 @norec
	// }

	$chop_fl_71_3_dur := 7 // amp = dur + dur*3 + dur = 5*dur
	$chop_fl_71_3_amp := 4

	whenever fl_ampgate_71_3 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $fl))
	{
		print ampgate
		$rec_buf23_1.rec($fl)

		obj::crea_track_HOA("chop_fl_71_3", "group_hoa1", fade_in = 0.001, amp = $chop_fl_71_3_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf23_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_fl_71_3").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_fl_71_3").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_fl_71_3").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_fl_71_3").amp([$chop_fl_71_3_amp, $chop_fl_71_3_dur, $chop_fl_71_3_amp, 2, -60], free = 0.1, action = ["flearbuf", $rec_buf23_1])

		$tracks("chop_fl_71_3").traj_circ_interp2($fl_dae, $bsn_dae, $chop_fl_71_3_dur, 1)

		abort fl_ampgate_71_3 @norec
	}	

	$chop_bsn_71_3_dur := 7 // amp = dur + dur*3 + dur = 5*dur
	$chop_bsn_71_3_amp := 4

	whenever bsn_ampgate_71_3 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $bsn))
	{
		print ampgate
		$rec_buf24_1.rec($bsn)

		obj::crea_track_HOA("chop_bsn_71_3", "group_hoa1", fade_in = 0.001, amp = $chop_bsn_71_3_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf24_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_bsn_71_3").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_bsn_71_3").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_bsn_71_3").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_bsn_71_3").amp([$chop_bsn_71_3_amp, $chop_bsn_71_3_dur, $chop_bsn_71_3_amp, 2, -60], free = 0.1, action = ["bsnearbuf", $rec_buf24_1])

		$tracks("chop_bsn_71_3").traj_circ_interp2($bsn_dae, $bsn_dae, $chop_bsn_71_3_dur, 1)

		abort bsn_ampgate_71_3 @norec
	}		
}

$chop_vln_mes71_3_dur := 3 // amp = dur + dur*3 + dur = 5*dur
$chop_vln_mes71_3_amp := 0
// whenever chop_vlc_mes71_3 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cb))
whenever vlc_ampgate_mes71_3 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vln))
{
	print onset
	$rec_buf26_05.rec($vln)

	obj::crea_track_HOA("play_env_trig_mes71_3", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes71_3_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf26_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 50, db, -30]])
	$tracks("play_env_trig_mes71_3").bpf_param("TBufRdEnvInterp", "impulse_rate", [20, $chop_vln_mes71_3_dur, "sine", 20])
	$tracks("play_env_trig_mes71_3").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_vln_mes71_3_dur, "sine", 1])
	$tracks("play_env_trig_mes71_3").amp([$chop_vln_mes71_3_amp, $chop_vln_mes71_3_dur, $chop_vln_mes71_3_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf26_05])
	$tracks("play_env_trig_mes71_3").traj_circ_interp($cb_dae, $bsn_dae, $chop_vln_mes71_3_dur)
	$tracks("play_env_trig_mes71_3").set(CompressorD, [thresh, 0.3])

	abort vlc_ampgate_mes71_3 @norec // abort juste aprs le onset
}

NOTE 60 1 mes_77_n2

print mes_77_n2

group vent_77_n2
{
	1 $chop_cl_mes_77_n2_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_cl_mes_77_n2_amp := 6

	whenever cl_ampgate_mes_77_n2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cl))
	{
		print onset
		$rec_buf0_1.rec($cl)

		obj::crea_track_HOA("play_env_trig_cl_mes_77_n2", "group_hoa1", fade_in = 0.0001, amp = $chop_cl_mes_77_n2_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf0_1.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cl_mes_77_n2").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $chop_cl_mes_77_n2_dur, "sine", 12])
		$tracks("play_env_trig_cl_mes_77_n2").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cl_mes_77_n2_dur/3, "sine", 1])
		// $tracks("play_env_trig_cl_mes_77_n2").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_cl_mes_77_n2_dur, "sine", 1.15])
		$tracks("play_env_trig_cl_mes_77_n2").amp([$chop_cl_mes_77_n2_amp, $chop_cl_mes_77_n2_dur, $chop_cl_mes_77_n2_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf0_1])
		$tracks("play_env_trig_cl_mes_77_n2").traj_circ_interp2($cl_dae, $trb_dae, $chop_cl_mes_77_n2_dur, 1)
		$tracks("play_env_trig_cl_mes_77_n2").set(CompressorD, [thresh, 0.3])

		abort cl_ampgate_mes_77_n2 @norec // abort juste aprs le onset
	}
}

 	$chop_cb_mes77_n2_dur := 3 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes77_n2_amp := 6
	// whenever chop_cb_mes77_n2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cb))
	whenever cb_ampgate_mes77_n2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf5_1.rec($cb)

		obj::crea_track_HOA("play_env_trig_cb_mes77_n2", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes77_n2_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf5_1.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cb_mes77_n2").bpf_param("TBufRdEnvInterp", "impulse_rate", [3, $chop_cb_mes77_n2_dur, "sine", 5])
		$tracks("play_env_trig_cb_mes77_n2").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes77_n2_dur, "sine", 1])
		$tracks("play_env_trig_cb_mes77_n2").amp([$chop_cb_mes77_n2_amp, $chop_cb_mes77_n2_dur, $chop_cb_mes77_n2_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf5_1])
		$tracks("play_env_trig_cb_mes77_n2").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes77_n2_dur, 1)
		$tracks("play_env_trig_cb_mes77_n2").set(CompressorD, [thresh, 0.3])

		abort cb_ampgate_mes77_n2 @norec // abort juste aprs le onset
	}

  	1.5 $chop_cb_mes77_n2_2_dur := 3 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes77_n2_2_amp := 6
	// whenever chop_cb_mes77_n2_2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cb))
	whenever cb_ampgate_mes77_n2_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf10_1.rec($cb)
		obj::crea_track_HOA("chop_cb_77_n2_2", "group_hoa1", fade_in = 0.001, amp = $chop_cb_mes77_n2_2_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf10_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		// obj::crea_track_HOA("chop_cb_77_n2_2", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes77_n2_2_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf10_1.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		// $tracks("chop_cb_77_n2_2").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $chop_cb_mes77_n2_2_dur, "sine", 7])
		// $tracks("chop_cb_77_n2_2").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes77_n2_2_dur, "sine", 1])
		$tracks("chop_cb_77_n2_2").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_cb_77_n2_2").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_cb_77_n2_2").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop		
		$tracks("chop_cb_77_n2_2").amp([$chop_cb_mes77_n2_2_amp, $chop_cb_mes77_n2_2_dur, $chop_cb_mes77_n2_2_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf10_1])
		$tracks("chop_cb_77_n2_2").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes77_n2_2_dur, 1)
		// $tracks("chop_cb_77_n2_2").set(CompressorD, [thresh, 0.3])

		abort cb_ampgate_mes77_n2_2 @norec // abort juste aprs le onset
	}

NOTE 60 1 mes_78_n2

print mes_78_n2

group vents_78_n2
{
	1.5 whenever htb_ampgate_mes78_n2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $htb))
	{
		group mes_78_n2
		{
			$rec_buf4_1.rec($htb)
			$amp_htb_mes_78_n2 := 0
			$dur_htb_mes_78_n2 := 6
			$amp_end_mes_78_n2 := 1
			$dur_gliss_mes_78_n2 := 3
			@local $loop_dur := @rand_range(0.1, 0.5), $local_loop

			obj::crea_track_HOA("cortaRand_mesmes_78_n2", "group_hoa1", fade_in = 0.1, amp = $amp_htb_mes_78_n2, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf4_1.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
			$tracks("cortaRand_mesmes_78_n2").amp([$amp_htb_mes_78_n2, $dur_htb_mes_78_n2, $amp_end_mes_78_n2, 1 , -60], free = 0.1, action = ["clearbuf", $rec_buf4_1])
			// $tracks("cortaRand_mesmes_78_n2").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_mes_78_n2) 
			$tracks("cortaRand_mesmes_78_n2").dae_rand_lfo([0.8, 2, $htb_dae[0], -180, 180, $htb_dae[1], 0, 90, $htb_dae[2]], 10)
			$local_loop := {
				loop $loop_dur
				{
					$tracks("cortaRand_mesmes_78_n2").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
					$tracks("cortaRand_mesmes_78_n2").set(TCortaRandBuf, [loopDur, $loop_dur])
					$loop_dur := @rand_range(0.1, 0.5)
				}
			}
			($dur_htb_mes_78_n2) abort $local_loop
		}
		abort htb_ampgate_mes78_n2 @norec // abort juste aprs le onset
	}
}

group cuivres_78_n2
{
	$chop_trp_78_n2_dur := 7 // amp = dur + dur*3 + dur = 5*dur
	$chop_trp_78_n2_amp := 4

	// whenever chop_trp_78_n2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $trp))
	whenever trp_ampgate_78_n2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $trp))
	{
		print ampgate
		$rec_buf1_1.rec($trp)

		obj::crea_track_HOA("chop_trp_78_n2", "group_hoa1", fade_in = 0.001, amp = $chop_trp_78_n2_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf1_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_trp_78_n2").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_trp_78_n2").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_trp_78_n2").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_trp_78_n2").amp([$chop_trp_78_n2_amp, $chop_trp_78_n2_dur, $chop_trp_78_n2_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf1_1])

		$tracks("chop_trp_78_n2").traj_circ_interp2($trp_dae, $bsn_dae, $chop_trp_78_n2_dur, -1)

		abort trp_ampgate_78_n2 @norec
	}
}
 
group cordes_78_n2
{

	$chop_cb_78_n2_dur := 6 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_78_n2_amp := 6
	// whenever chop_cb_mes70_2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cb))
	whenever cb_ampgate_78_n2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf0_05.rec($cb)

		obj::crea_track_HOA("play_env_trig_cb_78_n2", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_78_n2_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf0_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cb_78_n2").bpf_param("TBufRdEnvInterp", "impulse_rate", [10.3, $chop_cb_78_n2_dur, "sine", 11])
		$tracks("play_env_trig_cb_78_n2").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_78_n2_dur, "sine", 1])
		$tracks("play_env_trig_cb_78_n2").amp([$chop_cb_78_n2_amp, $chop_cb_78_n2_dur, $chop_cb_78_n2_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf0_05])
		$tracks("play_env_trig_cb_78_n2").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_78_n2_dur, 1)
		$tracks("play_env_trig_cb_78_n2").set(CompressorD, [thresh, 0.3])

		abort cb_ampgate_78_n2 @norec // abort juste aprs le onset
	}

	2 	$chop_cb_mes78_n2_dur := 3 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes78_n2_amp := 6
	// whenever chop_cb_mes78_n2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cb))
	whenever cb_ampgate_mes78_n2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf5_1.rec($cb)
		obj::crea_track_HOA("chop_cb_78_n2", "group_hoa1", fade_in = 0.001, amp = $chop_trp_78_n2_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf5_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		// obj::crea_track_HOA("chop_cb_78_n2", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes78_n2_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf5_1.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		// $tracks("chop_cb_78_n2").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $chop_cb_mes78_n2_dur, "sine", 7])
		// $tracks("chop_cb_78_n2").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes78_n2_dur, "sine", 1])
		$tracks("chop_cb_78_n2").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_cb_78_n2").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_cb_78_n2").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop		
		$tracks("chop_cb_78_n2").amp([$chop_cb_mes78_n2_amp, $chop_cb_mes78_n2_dur, $chop_cb_mes78_n2_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf5_1])
		$tracks("chop_cb_78_n2").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes78_n2_dur, 1)
		// $tracks("chop_cb_78_n2").set(CompressorD, [thresh, 0.3])

		abort cb_ampgate_mes78_n2 @norec // abort juste aprs le onset
	}

}

NOTE 60 1 mes_79_n2

print mes_79_n2

group vents_mes79_n2
{
	whenever fl_ampgate_mes79_n2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $fl))
	{

		$rec_buf_mes_46_2_1.rec($fl) // como 70_n
		$amp_mes_79_n2 := 0
		$dur_79_n2 := 4
		$amp_end_79_n2 := 12

		obj::crea_track_HOA("play_env_trig_fl_mes79_n2", "group_hoa1", fade_in = 0.0001, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf_mes_46_2_1.id(), envbuf0, $envs("server1")("perc_rond"), envbuf1, ($envs("server1")("pointe"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 300, db, -30]])  //, [Norm, lev, 0.03]
		$tracks("play_env_trig_fl_mes79_n2").bpf_param("TBufRdEnvInterp", "impulse_rate", [3, $dur_79_n2-2, "sine", 10, $dur_79_n2/3, "sine_out", 2])
		$tracks("play_env_trig_fl_mes79_n2").bpf_param("TBufRdEnvInterp", "interp", [-1, $dur_79_n2-2, "sine", 1, $dur_79_n2/3, "sine_out", -1])
		$tracks("play_env_trig_fl_mes79_n2").amp([$amp_mes_79_n2, $dur_79_n2, $amp_end_79_n2, $dur_79_n2/6, $amp_end_79_n2-10, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf_mes_46_2_1])
		$tracks("play_env_trig_fl_mes79_n2").traj_circ_interp2($fl_dae, $htb_dae, $dur_79_n2, -1)
		$tracks("play_env_trig_fl_mes79_n2").set(CompressorD, [thresh, 0.15])
		
		abort fl_ampgate_mes79_n2 @norec // abort juste aprs le onset
	}


	whenever bsn_ampgate_mes79_n2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $bsn))
	{
		$rec_buf2_1.rec($bsn)
		$chop_bsn_mes79_n2_dur := 5 // amp = dur + dur*3 + dur = 5*dur
		$chop_bsn_mes79_n2_amp := 12

		obj::crea_track_HOA("chop_bsn_mes79_n2", "group_hoa1", fade_in = 0.001, amp = $chop_bsn_mes79_n2_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf2_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_bsn_mes79_n2").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_bsn_mes79_n2").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_bsn_mes79_n2").amp([$chop_bsn_mes79_n2_amp, $chop_bsn_mes79_n2_dur, $chop_bsn_mes79_n2_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf2_1])

		$tracks("chop_bsn_mes79_n2").traj_circ_interp2($bsn_dae, $cl_dae, $chop_bsn_mes79_n2_dur, -1)

		abort bsn_ampgate_mes79_n2 @norec // abort juste aprs le onset
	}

	1	whenever cl_ampgate_mes79_n2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cl))
	{

		$rec_buf3_1.rec($cl)
		$amp_cl_mes_79_n2 := 6
		$dur_cl_79_n2 := 4
		$amp_end_79_n2 := 6

		obj::crea_track_HOA("play_env_trig_cl_mes79_n2", "group_hoa1", fade_in = 0.0001, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf3_1.id(), envbuf0, $envs("server1")("perc_rond"), envbuf1, ($envs("server1")("pointe"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 300, db, -30]])  //, [Norm, lev, 0.03]
		$tracks("play_env_trig_cl_mes79_n2").bpf_param("TBufRdEnvInterp", "impulse_rate", [3, $dur_cl_79_n2-2, "sine", 10, $dur_cl_79_n2/3, "sine_out", 2])
		$tracks("play_env_trig_cl_mes79_n2").bpf_param("TBufRdEnvInterp", "interp", [-1, $dur_cl_79_n2-2, "sine", 1, $dur_cl_79_n2/3, "sine_out", -1])
		$tracks("play_env_trig_cl_mes79_n2").amp([$amp_cl_mes_79_n2, $dur_cl_79_n2, $amp_end_79_n2, $dur_cl_79_n2/6, $amp_end_79_n2-10, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf3_1])
		$tracks("play_env_trig_cl_mes79_n2").traj_circ_interp2($cl_dae, $htb_dae, $dur_cl_79_n2, -1)
		$tracks("play_env_trig_cl_mes79_n2").set(CompressorD, [thresh, 0.15])
		
		abort cl_ampgate_mes79_n2 @norec // abort juste aprs le onset
	}
}


	$chop_vln_mes79_n2_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_vln_mes79_n2_amp := 6

	whenever vln_ampgate_mes79_n2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vln))
	{
		print onset
		$rec_buf7_05.rec($vln)

		obj::crea_track_HOA("play_env_trig_vln_mes79_n2", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes79_n2_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf7_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_vln_mes79_n2").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $chop_vln_mes79_n2_dur, "sine", 12])
		$tracks("play_env_trig_vln_mes79_n2").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_vln_mes79_n2_dur/3, "sine", 1])
		$tracks("play_env_trig_vln_mes79_n2").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_vln_mes79_n2_dur, "sine", 1.15])
		$tracks("play_env_trig_vln_mes79_n2").amp([$chop_vln_mes79_n2_amp, $chop_vln_mes79_n2_dur, $chop_vln_mes79_n2_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf7_05])
		$tracks("play_env_trig_vln_mes79_n2").traj_circ_interp2($vln_dae, $trb_dae, $chop_vln_mes79_n2_dur, 1)
		$tracks("play_env_trig_vln_mes79_n2").set(CompressorD, [thresh, 0.3])

		abort vln_ampgate_mes79_n2 @norec // abort juste aprs le onset
	}

	$chop_cb_mes79_n2_dur := 6 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes79_n2_amp := 6
	// whenever chop_cb_mes70_2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cb))
	whenever cb_ampgate_mes79_n2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf27_05.rec($cb)

		obj::crea_track_HOA("play_env_trig_cb_mes79_n2", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes79_n2_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf27_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cb_mes79_n2").bpf_param("TBufRdEnvInterp", "impulse_rate", [10.3, $chop_cb_mes79_n2_dur, "sine", 11])
		$tracks("play_env_trig_cb_mes79_n2").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes79_n2_dur, "sine", 1])
		$tracks("play_env_trig_cb_mes79_n2").amp([$chop_cb_mes79_n2_amp, $chop_cb_mes79_n2_dur, $chop_cb_mes79_n2_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf27_05])
		$tracks("play_env_trig_cb_mes79_n2").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes79_n2_dur, 1)
		$tracks("play_env_trig_cb_mes79_n2").set(CompressorD, [thresh, 0.3])

		abort cb_ampgate_mes79_n2 @norec // abort juste aprs le onset
	}


NOTE 60 1 mes_72

print mes_72


group vents_mes72
{
		whenever chop_fl_mes72 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $fl))
	{

		$chop_fl_mes72_dur := 4 // amp = dur + dur*3 + dur = 5*dur
		$chop_fl_mes72_amp := 12

		$rec_buf9_1.rec($fl)

		obj::crea_track_HOA("chop_fl_mes72", "group_hoa1", fade_in = 0.001, amp = $chop_fl_mes72_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf9_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_fl_mes72").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_fl_mes72").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_fl_mes72").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_fl_mes72").amp([$chop_fl_mes72_amp, $chop_fl_mes72_dur, $chop_fl_mes72_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf9_1])
		$tracks("chop_fl_mes72").traj_circ_interp2($fl_dae, $cl_dae, $chop_fl_mes72_dur, -1)

		abort chop_fl_mes72 @norec // abort juste aprs le onset
	}

	whenever htb_ampgate_mes72 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $htb))
		{
			group mes_72
			{
				$rec_buf14_1.rec($htb)
				$amp_htb_mes_72 := 0
				$dur_htb_mes_72 := 6
				$amp_end_mes_72 := 1
				$dur_gliss_mes_72 := 3
				@local $loop_dur := @rand_range(0.1, 0.5), $local_loop

				obj::crea_track_HOA("cortaRand_mesmes_72", "group_hoa1", fade_in = 0.1, amp = $amp_htb_mes_72, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf14_1.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
				$tracks("cortaRand_mesmes_72").amp([$amp_htb_mes_72, $dur_htb_mes_72, $amp_end_mes_72, 1 , -60], free = 0.1, action = ["clearbuf", $rec_buf14_1])
				// $tracks("cortaRand_mesmes_72").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_mes_72) 
				$tracks("cortaRand_mesmes_72").dae_rand_lfo([0.8, 2, $htb_dae[0], -180, 180, $htb_dae[1], 0, 90, $htb_dae[2]], 10)
				$local_loop := {
					loop $loop_dur
					{
						$tracks("cortaRand_mesmes_72").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
						$tracks("cortaRand_mesmes_72").set(TCortaRandBuf, [loopDur, $loop_dur])
						$loop_dur := @rand_range(0.1, 0.5)
					}
				}
				($dur_htb_mes_72) abort $local_loop
			}
			abort htb_ampgate_mes72 @norec // abort juste aprs le onset
		}

}


group cuivres_mes72
{
	$chop_trp_mes72_dur := 7 // amp = dur + dur*3 + dur = 5*dur
	$chop_trp_mes72_amp := 4

	// whenever chop_trp_mes72 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $trp))
	whenever trp_ampgate_mes72 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $trp))
	{
		print ampgate
		$rec_buf33_1.rec($trp)

		obj::crea_track_HOA("chop_trp_mes72", "group_hoa1", fade_in = 0.001, amp = $chop_trp_mes72_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf33_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_trp_mes72").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_trp_mes72").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_trp_mes72").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_trp_mes72").amp([$chop_trp_mes72_amp, $chop_trp_mes72_dur, $chop_trp_mes72_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf33_1])

		$tracks("chop_trp_mes72").traj_circ_interp2($trp_dae, $bsn_dae, $chop_trp_mes72_dur, -1)

		abort trp_ampgate_mes72 @norec
	}
}

// pizz 
group
{
/*	$chop_cb_mes72_dur := 7 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes72_amp := 6

	whenever chop_cb_mes72 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cb))
	{
		print onset
		$rec_buf26_05.rec($cb)
		// obj::crea_track_HOA("chop_cb_mes72", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $cb, "amp", 0], ["TCortaExtXPlay", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
		0.1 obj::crea_track_HOA("chop_cb_mes72", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes72_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf26_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
		// obj::crea_track_HOA("chop_cb_mes72", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf0_05.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf0_05.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
		// obj::crea_track_HOA("chop_cb_mes72", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "buf", $rec_buf0_05.id(), "loop", 1]])  //, [Norm, lev, 0.03]
		$tracks("chop_cb_mes72").bpf_param("TCortaExtXPlayBuf", "trig_time", [1.8, $chop_cb_mes72_dur, 15,"circ"])
		// // $tracks("chop_cb_mes72").set("TCortaExtXPlayBuf", ["loop", 1]) // trigger chop
		// $tracks("chop_cb_mes72").set("TCortaExtXPlayBuf", ["trig_time", 3]) // trigger chop
		$tracks("chop_cb_mes72").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_cb_mes72").amp([$chop_cb_mes72_amp, $chop_cb_mes72_dur, $chop_cb_mes72_amp, $chop_cb_mes72_dur*2, -50, $chop_cb_mes72_dur, -120], free = 0.1, action = ["clearbuf", $rec_buf26_05]) //

		$tracks("chop_cb_mes72").traj_circ_interp($cb_dae, $bsn_dae, $chop_cb_mes72_dur*2)
		abort chop_cb_mes72 @norec // abort juste aprs le onset
	}*/


/*	$chop_cb_mes72_dur := 6 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes72_amp := 6
	// whenever chop_cb_mes70_2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cb))
	whenever cb_ampgate_mes72 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf27_05.rec($cb)

		obj::crea_track_HOA("play_env_trig_cb_mes72", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes72_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf27_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cb_mes72").bpf_param("TBufRdEnvInterp", "impulse_rate", [10.3, $chop_cb_mes72_dur, "sine", 11])
		$tracks("play_env_trig_cb_mes72").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes72_dur, "sine", 1])
		$tracks("play_env_trig_cb_mes72").amp([$chop_cb_mes72_amp, $chop_cb_mes72_dur, $chop_cb_mes72_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf27_05])
		$tracks("play_env_trig_cb_mes72").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes72_dur, 1)
		$tracks("play_env_trig_cb_mes72").set(CompressorD, [thresh, 0.3])

		abort cb_ampgate_mes72 @norec // abort juste aprs le onset
	}*/


	1.5	$chop_cb_mes72_2_dur := 5 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes72_2_amp := 6

	whenever cb_ampgate_mes72_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf28_05.rec($cb)

		obj::crea_track_HOA("play_env_trig_cb_mes72_2", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes72_2_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf28_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cb_mes72_2").bpf_param("TBufRdEnvInterp", "impulse_rate", [8.3, $chop_cb_mes72_2_dur, "sine", 9])
		$tracks("play_env_trig_cb_mes72_2").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes72_2_dur, "sine", 1])
		$tracks("play_env_trig_cb_mes72_2").amp([$chop_cb_mes72_2_amp, $chop_cb_mes72_2_dur, $chop_cb_mes72_2_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf28_05])
		$tracks("play_env_trig_cb_mes72_2").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes72_2_dur, 1)
		$tracks("play_env_trig_cb_mes72_2").set(CompressorD, [thresh, 0.3])

		abort cb_ampgate_mes72_2 @norec // abort juste aprs le onset
	}

}

/// ampgate trem
/// vlc
group 
{
	whenever vlc_ampgate_mes72 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vlc))
	{
		group
		{
			print onset cl_onset_mes72
			$rec_buf29_05.rec($vlc)
			$amp_mes_72_vlc := 3
			$dur_mes_72_vlc := 4
			// $amp_end_mes_72_vlc := 1
			// $dur_gliss_mes_72_vlc := 3
			@local $loop_dur := @rand_range(0.1, 0.5), $local_loop

			obj::crea_track_HOA("cortaRand_mesmes_72_vlc", "group_hoa1", fade_in = 0.1, amp = $amp_mes_72_vlc, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf29_05.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
			$tracks("cortaRand_mesmes_72_vlc").amp([$amp_mes_72_vlc, $dur_mes_72_vlc, $amp_mes_72_vlc,0.5 , -60], free = 0.1, action = ["clearbuf", $rec_buf29_05])
			// $tracks("cortaRand_mesmes_72_vlc").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_mes_72_vlc) 
			$tracks("cortaRand_mesmes_72_vlc").dae_rand_lfo([0.8, 2, $vlc_dae[0], -180, 180, $vlc_dae[1], 0, 90, $vlc_dae[2]], 10)
			$local_loop := {
				loop $loop_dur
				{
					$tracks("cortaRand_mesmes_72_vlc").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
					$tracks("cortaRand_mesmes_72_vlc").set(TCortaRandBuf, [loopDur, $loop_dur])
					$loop_dur := @rand_range(0.1, 0.5)
				}
			}

			($dur_mes_72_vlc) abort $local_loop
		// $tracks("cortaRand_mesmes_72_vlc").amp(3)
		}


		abort vlc_ampgate_mes72 @norec
	}


	1 whenever alto_ampgate_mes72 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $alto))
	{
		group
		{
			print onset cl_onset_mes72
			$rec_buf30_05.rec($alto)
			$amp_mes_72_alto := 0
			$dur_mes_72_alto := 3
			// $amp_end_mes_72_alto := 1
			// $dur_gliss_mes_72_alto := 3
			@local $loop_dur := @rand_range(0.1, 0.5), $local_loop

			obj::crea_track_HOA("cortaRand_mesmes_72_alto", "group_hoa1", fade_in = 0.1, amp = $amp_mes_72_alto, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf30_05.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
			$tracks("cortaRand_mesmes_72_alto").amp([$amp_mes_72_alto, $dur_mes_72_alto, $amp_mes_72_alto, 0.5, -60], free = 0.1, action = ["clearbuf", $rec_buf30_05])
			// $tracks("cortaRand_mesmes_72_alto").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_mes_72_alto) 
			$tracks("cortaRand_mesmes_72_alto").dae_rand_lfo([0.8, 2, $alto_dae[0], -180, 180, $alto_dae[1], 0, 90, $alto_dae[2]], 10)
			$local_loop := {
				loop  $loop_dur
				{
					$tracks("cortaRand_mesmes_72_alto").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
					$tracks("cortaRand_mesmes_72_alto").set(TCortaRandBuf, [loopDur, $loop_dur])
					$loop_dur := @rand_range(0.1, 0.5)
				}
			}

			($dur_mes_72_alto) abort $local_loop
			// $tracks("cortaRand_mesmes_72_alto").amp(3)
		}


		abort alto_ampgate_mes72 @norec
	}

	whenever vlc_ampgate_mes72_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vlc))
	{
		group
		{
			print onset cl_onset_mes72_2
			$rec_buf0_05.rec($vlc)
			$amp_mes_72_2_vlc := 0
			$dur_mes_72_2_vlc := 3
			// $amp_end_mes_72_2_vlc := 1
			// $dur_gliss_mes_72_2_vlc := 3
			@local $loop_dur := @rand_range(0.1, 0.5), $local_loop

			obj::crea_track_HOA("cortaRand_mesmes_72_2_vlc", "group_hoa1", fade_in = 0.1, amp = $amp_mes_72_2_vlc, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf0_05.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
			$tracks("cortaRand_mesmes_72_2_vlc").amp([$amp_mes_72_2_vlc, $dur_mes_72_2_vlc, $amp_mes_72_2_vlc, 0.5, -60], free = 0.1, action = ["clearbuf", $rec_buf0_05])
			$tracks("cortaRand_mesmes_72_2_vlc").dae_rand_lfo([0.8, 2, $vlc_dae[0], -180, 180, $vlc_dae[1], 0, 90, $vlc_dae[2]], 10)
			$local_loop := {
				loop $loop_dur
				{
					$tracks("cortaRand_mesmes_72_2_vlc").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
					$tracks("cortaRand_mesmes_72_2_vlc").set(TCortaRandBuf, [loopDur, $loop_dur])
					$loop_dur := @rand_range(0.1, 0.5)
				}
			}

			($dur_mes_72_2_vlc) abort $local_loop
			// $tracks("cortaRand_mesmes_72_vlc").amp(3)
		}

		abort vlc_ampgate_mes72_2 @norec
	}

	1 whenever alto_ampgate_mes72_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $alto))
	{
		group
		{
			print onset cl_onset_mes72_2
			$rec_buf1_05.rec($alto)
			$amp_mes_72_2_alto := 0
			$dur_mes_72_2_alto := 3
			// $amp_end_mes_72_2_alto := 1
			// $dur_gliss_mes_72_2_alto := 3
			@local $loop_dur := @rand_range(0.1, 0.5), $local_loop

			obj::crea_track_HOA("cortaRand_mesmes_72_2_alto", "group_hoa1", fade_in = 0.1, amp = $amp_mes_72_2_alto, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf1_05.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
			$tracks("cortaRand_mesmes_72_2_alto").amp([$amp_mes_72_2_alto, $dur_mes_72_2_alto, $amp_mes_72_2_alto, 0.5, -60], free = 0.1, action = ["clearbuf", $rec_buf1_05])
			// $tracks("cortaRand_mesmes_72_2_alto").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_mes_72_2_alto) 
			$tracks("cortaRand_mesmes_72_2_alto").dae_rand_lfo([0.8, 2, $alto_dae[0], -180, 180, $alto_dae[1], 0, 90, $alto_dae[2]], 10)
			$local_loop := {
				loop $loop_dur
				{
					$tracks("cortaRand_mesmes_72_2_alto").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
					$tracks("cortaRand_mesmes_72_2_alto").set(TCortaRandBuf, [loopDur, $loop_dur])
					$loop_dur := @rand_range(0.1, 0.5)
				}
			}

			($dur_mes_72_2_alto) abort $local_loop
			// $tracks("cortaRand_mesmes_72_2_alto").amp(3)
		}


		abort alto_ampgate_mes72_2 @norec
	}
}

/// qued aqui !! se call

NOTE 60 1 mes_73

print mes_73

group vents_mes73
{
		whenever chop_fl_mes73 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $fl))
	{

		$chop_fl_mes73_dur := 4 // amp = dur + dur*3 + dur = 5*dur
		$chop_fl_mes73_amp := 6

		$rec_buf10_1.rec($fl)

		obj::crea_track_HOA("chop_fl_mes73", "group_hoa1", fade_in = 0.001, amp = $chop_fl_mes73_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf10_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_fl_mes73").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_fl_mes73").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_fl_mes73").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_fl_mes73").amp([$chop_fl_mes73_amp, $chop_fl_mes73_dur, $chop_fl_mes73_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf10_1])
		$tracks("chop_fl_mes73").traj_circ_interp2($fl_dae, $cl_dae, $chop_fl_mes73_dur, -1)

		abort chop_fl_mes73 @norec // abort juste aprs le onset
	}

	whenever htb_ampgate_mes73 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $htb))
	{
		group mes_73
		{
			$rec_buf11_1.rec($htb)
			$amp_htb_mes_73 := -5
			$dur_htb_mes_73 := 6
			$amp_end_mes_73 := -3
			$dur_gliss_mes_73 := 3
			@local $loop_dur := @rand_range(0.1, 0.5), $local_loop

			obj::crea_track_HOA("cortaRand_mesmes_73", "group_hoa1", fade_in = 0.1, amp = $amp_htb_mes_73, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf11_1.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
			$tracks("cortaRand_mesmes_73").amp([$amp_htb_mes_73, $dur_htb_mes_73, $amp_end_mes_73, 1 , -60], free = 0.1, action = ["clearbuf", $rec_buf11_1])
			// $tracks("cortaRand_mesmes_73").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_mes_73) 
			$tracks("cortaRand_mesmes_73").dae_rand_lfo([0.8, 2, $htb_dae[0], -180, 180, $htb_dae[1], 0, 90, $htb_dae[2]], 10)
			$local_loop := {
				loop $loop_dur
				{
					$tracks("cortaRand_mesmes_73").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
					$tracks("cortaRand_mesmes_73").set(TCortaRandBuf, [loopDur, $loop_dur])
					$loop_dur := @rand_range(0.1, 0.5)
				}
			}
			($dur_htb_mes_73) abort $local_loop
		}
		abort htb_ampgate_mes73 @norec // abort juste aprs le onset
	}
}

/*group cuivres_mes73
{
	$chop_trp_mes73_dur := 7 // amp = dur + dur*3 + dur = 5*dur
	$chop_trp_mes73_amp := 4

	whenever trp_ampgate_mes73 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $trp))
	{
		print onset
		$rec_buf12_1.rec($trp)
		$amp_mes_73 := 0
		$dur_73 := 5
		$amp_end_73 := 3


		obj::crea_track_HOA("chop_trp_mes73", "group_hoa1", fade_in = 0.0001, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf12_1.id(), envbuf0, $envs("server1")("perc_rond"), envbuf1, ($envs("server1")("pointe"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 300, db, -30]])  //, [Norm, lev, 0.03]

		$tracks("chop_trp_mes73").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $dur_73, "sine", 10])
		$tracks("chop_trp_mes73").bpf_param("TBufRdEnvInterp", "interp", [-1, $dur_73/2, "sine", 1])
		$tracks("chop_trp_mes73").amp([$amp_mes_73, $dur_73, $amp_end_73, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf12_1])
		$tracks("chop_trp_mes73").traj_circ_interp2($trp_dae, $htb_dae, $dur_73, -1)
		$tracks("chop_trp_mes73").set(CompressorD, [thresh, 0.15])

		abort trp_ampgate_mes73 @norec
	}*/



	$chop_cor2_mes73_dur := 7 // amp = dur + dur*3 + dur = 5*dur
	$chop_cor2_mes73_amp := 4

	// whenever chop_trp_mes73 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $trp))
	whenever cor2_ampgate_mes73 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cor2))
	{
		print ampgate
		$rec_buf2_1.rec($cor2)

		obj::crea_track_HOA("chop_cor2_mes73", "group_hoa1", fade_in = 0.001, amp = $chop_cor2_mes73_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf2_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_cor2_mes73").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_cor2_mes73").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_cor2_mes73").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_cor2_mes73").amp([$chop_cor2_mes73_amp, $chop_cor2_mes73_dur, $chop_cor2_mes73_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf2_1])

		$tracks("chop_cor2_mes73").traj_circ_interp2($cor2_dae, $bsn_dae, $chop_cor2_mes73_dur, -1)

		abort cor2_ampgate_mes73 @norec
	}





// pizz 
group
{
	$chop_vln_mes73_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_vln_mes73_amp := 10

	whenever chop_vln_mes73 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vln))
	{
		print onset
		$rec_buf2_05.rec($vln)
		// obj::crea_track_HOA("chop_vln_mes73", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $cb, "amp", 0], ["TCortaExtXPlay", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
		// 0.1 obj::crea_track_HOA("chop_vln_mes73", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes73_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf2_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
		// // obj::crea_track_HOA("chop_vln_mes73", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf2_05.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf2_05.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
		// // obj::crea_track_HOA("chop_vln_mes73", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "buf", $rec_buf2_05.id(), "loop", 1]])  //, [Norm, lev, 0.03]
		// $tracks("chop_vln_mes73").bpf_param("TCortaExtXPlayBuf", "trig_time", [1.8, $chop_vln_mes73_dur, 15,"circ"])
		// // // $tracks("chop_vln_mes73").set("TCortaExtXPlayBuf", ["loop", 1]) // trigger chop
		// // $tracks("chop_vln_mes73").set("TCortaExtXPlayBuf", ["trig_time", 3]) // trigger chop
		// $tracks("chop_vln_mes73").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
		// $tracks("chop_vln_mes73").amp([$chop_vln_mes73_amp, $chop_vln_mes73_dur, $chop_vln_mes73_amp, $chop_vln_mes73_dur*2, -50, $chop_vln_mes73_dur, -120], free = 0.1, action = ["clearbuf", $rec_buf2_05]) //

		// $tracks("chop_vln_mes73").traj_circ_interp($cb_dae, $bsn_dae, $chop_vln_mes73_dur*2)

		obj::crea_track_HOA("chop_vln_mes73", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes73_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf2_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
		$tracks("chop_vln_mes73").bpf_param("TCortaExtXPlayBuf", "trig_time", [5, $chop_vln_mes73_dur, 10,"circ"])
		$tracks("chop_vln_mes73").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_vln_mes73").amp([$chop_vln_mes73_amp, $chop_vln_mes73_dur, $chop_vln_mes73_amp, 0.1, -60], free = 0.1, action = ["clearbuf", $rec_buf2_05]) //
		$tracks("chop_vln_mes73").traj_circ_interp2($vln_dae, $trp_dae, $chop_vln_mes73_dur, -1)

		abort chop_vln_mes73 @norec // abort juste aprs le onset
	}

	1.5	$chop_vlc_mes73_dur := 2.25 // amp = dur + dur*3 + dur = 5*dur
	$chop_vlc_mes73_amp := 12

	whenever chop_vlc_mes73 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vlc))
	{
		print onset
		$rec_buf3_05.rec($vlc)
		// obj::crea_track_HOA("chop_vlc_mes73", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $vlc, "amp", 0], ["TCortaExtXPlay", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
		// 0.1 obj::crea_track_HOA("chop_vlc_mes73", "group_hoa1", fade_in = 0.0001, amp = $chop_vlc_mes73_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf3_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
		// // obj::crea_track_HOA("chop_vlc_mes73", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf0_05.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf0_05.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
		// // obj::crea_track_HOA("chop_vlc_mes73", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "buf", $rec_buf0_05.id(), "loop", 1]])  //, [Norm, lev, 0.03]
		// $tracks("chop_vlc_mes73").bpf_param("TCortaExtXPlayBuf", "trig_time", [1.8, $chop_vlc_mes73_dur, 15,"circ"])
		// // // $tracks("chop_vlc_mes73").set("TCortaExtXPlayBuf", ["loop", 1]) // trigger chop
		// // $tracks("chop_vlc_mes73").set("TCortaExtXPlayBuf", ["trig_time", 3]) // trigger chop
		// $tracks("chop_vlc_mes73").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
		// $tracks("chop_vlc_mes73").amp([$chop_vlc_mes73_amp, $chop_vlc_mes73_dur, $chop_vlc_mes73_amp, $chop_vlc_mes73_dur*2, -50, $chop_vlc_mes73_dur, -120], free = 0.1, action = ["clearbuf", $rec_buf3_05]) //

		// $tracks("chop_vlc_mes73").traj_circ_interp($vlc_dae, $bsn_dae, $chop_vlc_mes73_dur*2)

		obj::crea_track_HOA("chop_vlc_mes73", "group_hoa1", fade_in = 0.1, amp = $chop_vlc_mes73_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf3_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
		$tracks("chop_vlc_mes73").bpf_param("TCortaExtXPlayBuf", "trig_time", [10, $chop_vlc_mes73_dur, 11,"circ"])
		$tracks("chop_vlc_mes73").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_vlc_mes73").amp([$chop_vlc_mes73_amp, $chop_vlc_mes73_dur, $chop_vlc_mes73_amp, 0.1 , -120], free = 0.1, action = ["clearbuf", $rec_buf3_05]) //
		$tracks("chop_vlc_mes73").traj_circ_interp($vlc_dae, $bsn_dae, $chop_vlc_mes73_dur)

		abort chop_vlc_mes73 @norec
	}


	$chop_vln_mes73_2_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_vln_mes73_2_amp := 15

	whenever chop_vln_mes73_2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vln))
	{
		print onset
		$rec_buf4_05.rec($vln)

		obj::crea_track_HOA("chop_vln_mes73_2", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes73_2_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf4_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
		$tracks("chop_vln_mes73_2").bpf_param("TCortaExtXPlayBuf", "trig_time", [10, $chop_vln_mes73_2_dur, 12,"circ"])
		$tracks("chop_vln_mes73_2").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_vln_mes73_2").amp([$chop_vln_mes73_2_amp, $chop_vln_mes73_2_dur, $chop_vln_mes73_2_amp, 0.1, -60], free = 0.1, action = ["clearbuf", $rec_buf4_05]) //
		$tracks("chop_vln_mes73_2").traj_circ_interp2($vln_dae, $trp_dae, $chop_vln_mes73_2_dur, -1)

		abort chop_vln_mes73_2 @norec // abort juste aprs le onset
	}


	$chop_cb_mes73_dur := 7 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes73_amp := 10

	whenever cb_ampgate_mes73 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf5_05.rec($cb)

		obj::crea_track_HOA("play_env_trig_cb_mes73", "group_hoa1", fade_in = 0.001, amp = $chop_cb_mes73_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf5_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("play_env_trig_cb_mes73").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("play_env_trig_cb_mes73").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("play_env_trig_cb_mes73").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("play_env_trig_cb_mes73").amp([$chop_cb_mes73_amp, $chop_cb_mes73_dur, $chop_cb_mes73_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf5_05])
		$tracks("play_env_trig_cb_mes73").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes73_dur, 1)

		abort cb_ampgate_mes73 @norec // abort juste aprs le onset
	}

/*	whenever chop_cb_mes73 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cb))
	{
		print onset
		$rec_buf3_05.rec($cb)
		// obj::crea_track_HOA("chop_cb_mes73", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $cb, "amp", 0], ["TCortaExtXPlay", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
		0.1 obj::crea_track_HOA("chop_cb_mes73", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes73_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf3_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
		// obj::crea_track_HOA("chop_cb_mes73", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf0_05.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf0_05.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
		// obj::crea_track_HOA("chop_cb_mes73", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "buf", $rec_buf0_05.id(), "loop", 1]])  //, [Norm, lev, 0.03]
		$tracks("chop_cb_mes73").bpf_param("TCortaExtXPlayBuf", "trig_time", [1.8, $chop_cb_mes73_dur, 15,"circ"])
		// // $tracks("chop_cb_mes73").set("TCortaExtXPlayBuf", ["loop", 1]) // trigger chop
		// $tracks("chop_cb_mes73").set("TCortaExtXPlayBuf", ["trig_time", 3]) // trigger chop
		$tracks("chop_cb_mes73").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_cb_mes73").amp([$chop_cb_mes73_amp, $chop_cb_mes73_dur, $chop_cb_mes73_amp, $chop_cb_mes73_dur*2, -50, $chop_cb_mes73_dur, -120], free = 0.1, action = ["clearbuf", $rec_buf3_05]) //

		$tracks("chop_cb_mes73").traj_circ_interp($cb_dae, $bsn_dae, $chop_cb_mes73_dur*2)
		abort chop_cb_mes73 @norec // abort juste aprs le onset
	}*/

}

/// ampgate trem

group 
{
	whenever vlc_ampgate_mes73 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vlc))
	{
		group
		{
			print onset cl_onset_mes73
			$rec_buf6_05.rec($vlc)
			$amp_mes_73_vlc := 0
			$dur_mes_73_vlc := 5
			$amp_end_mes_73_vlc := 1
			// $dur_gliss_mes_73_vlc := 3
			@local $loop_dur := @rand_range(0.1, 0.2), $local_loop

			obj::crea_track_HOA("cortaRand_mesmes_73_vlc", "group_hoa1", fade_in = 0.1, amp = $amp_mes_73_vlc, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf6_05.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
			$tracks("cortaRand_mesmes_73_vlc").amp([$amp_mes_73_vlc, $dur_mes_73_vlc, $amp_mes_73_vlc, 0.5 , -60], free = 0.1, action = ["clearbuf", $rec_buf6_05])
			$tracks("cortaRand_mesmes_73_vlc").dae_rand_lfo([0.8, 2, $vlc_dae[0], -180, 180, $vlc_dae[1], 0, 90, $vlc_dae[2]], 10)
			$local_loop := {
				loop $loop_dur
				{
					$tracks("cortaRand_mesmes_73_vlc").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
					$tracks("cortaRand_mesmes_73_vlc").set(TCortaRandBuf, [loopDur, $loop_dur])
					$loop_dur := @rand_range(0.1, 0.2)
				}
			}

			($dur_mes_73_vlc) abort $local_loop
			// $tracks("cortaRand_mesmes_73_vlc").amp(3)
		}


		abort vlc_ampgate_mes73 @norec
	}

	whenever cb_ampgate_mes73 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		group
		{
			print onset cl_onset_mes73
			$rec_buf7_05.rec($cb)
			$amp_mes_73_cb := 4
			$dur_mes_73_cb := 3.5
			// $amp_end_mes_73_cb := 1
			// $dur_gliss_mes_73_cb := 3
			@local $loop_dur := @rand_range(0.1, 0.2), $local_loop

			obj::crea_track_HOA("cortaRand_mesmes_73_cb", "group_hoa1", fade_in = 0.1, amp = $amp_mes_73_cb, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf7_05.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
			$tracks("cortaRand_mesmes_73_cb").amp([$amp_mes_73_cb, $dur_mes_73_cb, $amp_mes_73_cb, 0.5 , -60], free = 0.1, action = ["clearbuf", $rec_buf7_05])
			// $tracks("cortaRand_mesmes_73_cb").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_mes_73_cb) 
			$tracks("cortaRand_mesmes_73_cb").dae_rand_lfo([0.8, 2, $cb_dae[0], -180, 180, $cb_dae[1], 0, 90, $cb_dae[2]], 10)
			$local_loop := {
				loop $loop_dur
				{
					$tracks("cortaRand_mesmes_73_cb").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
					$tracks("cortaRand_mesmes_73_cb").set(TCortaRandBuf, [loopDur, $loop_dur])
					$loop_dur := @rand_range(0.1, 0.2)
				}
			}

			($dur_mes_73_cb) abort $local_loop
			// $tracks("cortaRand_mesmes_72_cb").amp(3)
		}
		abort cb_ampgate_mes73 @norec
	}

	0.5 whenever alto_ampgate_mes73 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $alto))
	{
		group
		{
			print onset cl_onset_mes73
			$rec_buf8_05.rec($alto)
			$amp_mes_73_alto := 6
			$dur_mes_73_alto := 3
			// $amp_end_mes_73_alto := 1
			// $dur_gliss_mes_73_alto := 3
			@local $loop_dur := @rand_range(0.05, 0.3), $local_loop

			obj::crea_track_HOA("cortaRand_mesmes_73_alto", "group_hoa1", fade_in = 0.1, amp = $amp_mes_73_alto, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf8_05.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
			$tracks("cortaRand_mesmes_73_alto").amp([$amp_mes_73_alto, $dur_mes_73_alto, $amp_mes_73_alto, 0.5, -60], free = 0.1, action = ["clearbuf", $rec_buf8_05])
			// $tracks("cortaRand_mesmes_73_alto").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_mes_73_alto) 
			$tracks("cortaRand_mesmes_73_alto").dae_rand_lfo([0.8, 2, $alto_dae[0], -180, 180, $alto_dae[1], 0, 90, $alto_dae[2]], 10)
			$local_loop := {
				loop $loop_dur
				{
					$tracks("cortaRand_mesmes_73_alto").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
					$tracks("cortaRand_mesmes_73_alto").set(TCortaRandBuf, [loopDur, $loop_dur])
					$loop_dur := @rand_range(0.05, 0.3)
				}
			}
			($dur_mes_73_alto) abort $local_loop
			// $tracks("cortaRand_mesmes_73_alto").amp(3)
			
		}
		abort alto_ampgate_mes73 @norec
	}



	1.5 whenever alto_ampgate_mes73_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $alto))
	{
		group
		{
			print onset cl_onset_mes73_2
			$rec_buf9_05.rec($alto)
			$amp_mes_73_2_alto := 5
			$dur_mes_73_2_alto := 3
			// $amp_end_mes_73_2_alto := 1
			// $dur_gliss_mes_73_2_alto := 3
			@local $loop_dur := @rand_range(0.1, 0.5), $local_loop

			obj::crea_track_HOA("cortaRand_mesmes_73_2_alto", "group_hoa1", fade_in = 0.1, amp = $amp_mes_73_2_alto, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf9_05.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
			$tracks("cortaRand_mesmes_73_2_alto").amp([$amp_mes_73_2_alto, $dur_mes_73_2_alto, 0.5, -60], free = 0.1, action = ["clearbuf", $rec_buf9_05])
			// $tracks("cortaRand_mesmes_73_2_alto").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_mes_73_2_alto) 
			$tracks("cortaRand_mesmes_73_2_alto").dae_rand_lfo([0.8, 2, $alto_dae[0], -180, 180, $alto_dae[1], 0, 90, $alto_dae[2]], 10)
			$local_loop := {
				loop $loop_dur
				{
					$tracks("cortaRand_mesmes_73_2_alto").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
					$tracks("cortaRand_mesmes_73_2_alto").set(TCortaRandBuf, [loopDur, $loop_dur])
					$loop_dur := @rand_range(0.1, 0.5)
				}
			}
			($dur_mes_73_2_alto) abort $local_loop
			// $tracks("cortaRand_mesmes_73_2_alto").amp(3)	
		}
		abort alto_ampgate_mes73_2 @norec
	}
}

$tracks("synth_mes_75_n_1").bpf_param(TGranIn_mono, trigRate, [8.8000001907349, 5, "circ", 30, 6, "circ",8.8000001907349])
$tracks("synth_mes_75_n_2").bpf_param(TGranIn_mono, trigRate, [11, 5, "circ", 30, 7, "circ",11])

NOTE 60 1 mes_79_n

print mes_79_n

group vents_mes79_n
{
		whenever chop_fl_mes79_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $fl))
	{

		$chop_fl_mes79_n_dur := 4 // amp = dur + dur*3 + dur = 5*dur
		$chop_fl_mes79_n_amp := 12

		$rec_buf3_1.rec($fl)

		obj::crea_track_HOA("chop_fl_mes79_n", "group_hoa1", fade_in = 0.001, amp = $chop_fl_mes79_n_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf3_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_fl_mes79_n").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_fl_mes79_n").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_fl_mes79_n").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_fl_mes79_n").amp([$chop_fl_mes79_n_amp, $chop_fl_mes79_n_dur, $chop_fl_mes79_n_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf3_1])
		$tracks("chop_fl_mes79_n").traj_circ_interp2($fl_dae, $cl_dae, $chop_fl_mes79_n_dur, -1)

		abort chop_fl_mes79_n @norec // abort juste aprs le onset
	}

	whenever htb_ampgate_mes79_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $htb))
	{
		group mes_79_n
		{
			$rec_buf13_1.rec($htb)
			$amp_htb_mes_79_n := 0
			$dur_htb_mes_79_n := 6
			$amp_end_mes_79_n := 1
			$dur_gliss_mes_79_n := 3
			@local $loop_dur := @rand_range(0.1, 0.5), $local_loop

			obj::crea_track_HOA("cortaRand_mesmes_79_n", "group_hoa1", fade_in = 0.1, amp = $amp_htb_mes_79_n, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf13_1.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
			$tracks("cortaRand_mesmes_79_n").amp([$amp_htb_mes_79_n, $dur_htb_mes_79_n, $amp_end_mes_79_n, 1 , -60], free = 0.1, action = ["clearbuf", $rec_buf13_1])
			// $tracks("cortaRand_mesmes_79_n").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_mes_79_n) 
			$tracks("cortaRand_mesmes_79_n").dae_rand_lfo([0.8, 2, $htb_dae[0], -180, 180, $htb_dae[1], 0, 90, $htb_dae[2]], 10)
			$local_loop := {
				loop $loop_dur
				{
					$tracks("cortaRand_mesmes_79_n").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
					$tracks("cortaRand_mesmes_79_n").set(TCortaRandBuf, [loopDur, $loop_dur])
					$loop_dur := @rand_range(0.1, 0.5)
				}
			}
			($dur_htb_mes_79_n) abort $local_loop
		}
		abort htb_ampgate_mes79_n @norec // abort juste aprs le onset
	}
}

group cuivre_79_n
{
	$chop_trp_mes79_n_dur := 4 // amp = dur + dur*3 + dur = 5*dur
	$chop_trp_mes79_n_amp := 0

	// whenever chop_trp_mes79_n (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $trp))
	whenever trp_ampgate_mes79_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $trp))
	{
		print ampgate
		$rec_buf34_1.rec($trp)

		obj::crea_track_HOA("chop_trp_mes79_n", "group_hoa1", fade_in = 0.001, amp = $chop_trp_mes79_n_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf34_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_trp_mes79_n").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_trp_mes79_n").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_trp_mes79_n").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_trp_mes79_n").amp([$chop_trp_mes79_n_amp, $chop_trp_mes79_n_dur, $chop_trp_mes79_n_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf34_1])

		$tracks("chop_trp_mes79_n").traj_circ_interp2($trp_dae, $bsn_dae, $chop_trp_mes79_n_dur, -1)

		abort trp_ampgate_mes79_n @norec
	}

	2.5 $chop_trp_mes79_n2_dur := 7 // amp = dur + dur*3 + dur = 5*dur
	$chop_trp_mes79_n2_amp := 4

	// whenever chop_trp_mes79_n2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $trp))
	whenever trp_ampgate_mes79_n2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $trp))
	{
		print ampgate
		$rec_buf35_1.rec($trp)

		obj::crea_track_HOA("chop_trp_mes79_n2", "group_hoa1", fade_in = 0.001, amp = $chop_trp_mes79_n2_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf35_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_trp_mes79_n2").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_trp_mes79_n2").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_trp_mes79_n2").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_trp_mes79_n2").amp([$chop_trp_mes79_n2_amp, $chop_trp_mes79_n2_dur, $chop_trp_mes79_n2_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf35_1])

		$tracks("chop_trp_mes79_n2").traj_circ_interp2($trp_dae, $bsn_dae, $chop_trp_mes79_n2_dur, -1)

		abort trp_ampgate_mes79_n2 @norec
	}

}


 	$chop_cb_mes79_n_dur := 8 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes79_n_amp := 6

	whenever cb_ampgate_mes79_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf6_1.rec($cb)
		group
		{
			1 obj::crea_track_HOA("play_env_trig_cb_mes79_n", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes79_n_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf6_1.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
			$tracks("play_env_trig_cb_mes79_n").bpf_param("TBufRdEnvInterp", "impulse_rate", [2, $chop_cb_mes79_n_dur, "sine", 7])
			$tracks("play_env_trig_cb_mes79_n").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes79_n_dur, "sine", 1])
			$tracks("play_env_trig_cb_mes79_n").amp([$chop_cb_mes79_n_amp, $chop_cb_mes79_n_dur, $chop_cb_mes79_n_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf6_1])
			$tracks("play_env_trig_cb_mes79_n").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes79_n_dur, 1)
			$tracks("play_env_trig_cb_mes79_n").set(CompressorD, [thresh, 0.3])
		}
		abort cb_ampgate_mes79_n @norec // abort juste aprs le onset
	}

	$chop_vlc_mes79_n_dur := 7 // amp = dur + dur*3 + dur = 5*dur
	$chop_vlc_mes79_n_amp := 16

	// whenever chop_vlc_mes79_n (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vlc))
	whenever vlc_ampgate_mes79_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vlc))
	{
		print ampgate
		$rec_buf7_1.rec($vlc)

		obj::crea_track_HOA("chop_vlc_mes79_n", "group_hoa1", fade_in = 0.001, amp = $chop_vlc_mes79_n_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf7_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_vlc_mes79_n").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_vlc_mes79_n").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_vlc_mes79_n").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_vlc_mes79_n").amp([$chop_vlc_mes79_n_amp, $chop_vlc_mes79_n_dur, $chop_vlc_mes79_n_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf7_1])

		$tracks("chop_vlc_mes79_n").traj_circ_interp2($vlc_dae, $bsn_dae, $chop_vlc_mes79_n_dur, -1)

		abort vlc_ampgate_mes79_n @norec
	}


	$chop_alto_mes79_n_dur := 5 // amp = dur + dur*3 + dur = 5*dur
	$chop_alto_mes79_n_amp := 12

	whenever chop_alto_mes79_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $alto))
	{
		print onset
		$rec_buf8_1.rec($alto)

		obj::crea_track_HOA("chop_alto_mes79_n", "group_hoa1", fade_in = 0.001, amp = $chop_alto_mes79_n_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf8_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_alto_mes79_n").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_alto_mes79_n").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_alto_mes79_n").set("TCortaRandBuf", ["fadeTime", 0.001]) // trigger chop
		$tracks("chop_alto_mes79_n").amp([$chop_alto_mes79_n_amp, $chop_alto_mes79_n_dur, $chop_alto_mes79_n_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf8_1])
		$tracks("chop_alto_mes79_n").traj_circ_interp2($vlc_dae, $bsn_dae, $chop_alto_mes79_n_dur, -1)

		abort chop_alto_mes79_n @norec
	}


NOTE 60 1 mes_74

print mes_74


group vents_mes74
{
	whenever chop_fl_mes74 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $fl))
	{

		$chop_fl_mes74_dur := 4 // amp = dur + dur*3 + dur = 5*dur
		$chop_fl_mes74_amp := 12

		$rec_buf20_1.rec($fl)

		obj::crea_track_HOA("chop_fl_mes74", "group_hoa1", fade_in = 0.001, amp = $chop_fl_mes74_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf20_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_fl_mes74").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_fl_mes74").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_fl_mes74").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_fl_mes74").amp([$chop_fl_mes74_amp, $chop_fl_mes74_dur, $chop_fl_mes74_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf20_1])
		$tracks("chop_fl_mes74").traj_circ_interp2($fl_dae, $cl_dae, $chop_fl_mes74_dur, -1)

		abort chop_fl_mes74 @norec // abort juste aprs le onset
	}

	whenever htb_ampgate_mes74 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $htb))
	{
		group mes_74
		{
			$rec_buf21_1.rec($htb)
			$amp_htb_mes_74 := 0
			$dur_htb_mes_74 := 6
			$amp_end_mes_74 := 1
			$dur_gliss_mes_74 := 3
			@local $loop_dur := @rand_range(0.1, 0.5), $local_loop

			obj::crea_track_HOA("cortaRand_mesmes_74", "group_hoa1", fade_in = 0.1, amp = $amp_htb_mes_74, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf21_1.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
			$tracks("cortaRand_mesmes_74").amp([$amp_htb_mes_74, $dur_htb_mes_74, $amp_end_mes_74, 1 , -60], free = 0.1, action = ["clearbuf", $rec_buf21_1])
			// $tracks("cortaRand_mesmes_74").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_mes_74) 
			$tracks("cortaRand_mesmes_74").dae_rand_lfo([0.8, 2, $htb_dae[0], -180, 180, $htb_dae[1], 0, 90, $htb_dae[2]], 10)
			$local_loop := {
				loop $loop_dur
				{
					$tracks("cortaRand_mesmes_74").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
					$tracks("cortaRand_mesmes_74").set(TCortaRandBuf, [loopDur, $loop_dur])
					$loop_dur := @rand_range(0.1, 0.5)
				}
			}
			($dur_htb_mes_74) abort $local_loop
		}
		abort htb_ampgate_mes74 @norec // abort juste aprs le onset
	}

	whenever chop_fl_mes74_02 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $fl))
	{

		$chop_fl_mes74_02_dur := 4 // amp = dur + dur*3 + dur = 5*dur
		$chop_fl_mes74_02_amp := 12

		$rec_buf22_1.rec($fl)

		obj::crea_track_HOA("chop_fl_mes74_02", "group_hoa1", fade_in = 0.001, amp = $chop_fl_mes74_02_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf22_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_fl_mes74_02").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_fl_mes74_02").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_fl_mes74_02").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_fl_mes74_02").amp([$chop_fl_mes74_02_amp, $chop_fl_mes74_02_dur, $chop_fl_mes74_02_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf22_1])
		$tracks("chop_fl_mes74_02").traj_circ_interp2($fl_dae, $cl_dae, $chop_fl_mes74_02_dur, -1)

		abort chop_fl_mes74_02 @norec // abort juste aprs le onset
	}

	whenever htb_ampgate_mes74_02 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $htb))
	{
		group mes_74_02
		{
			$rec_buf23_1.rec($htb)
			$amp_htb_mes_74_02 := 0
			$dur_htb_mes_74_02 := 6
			$amp_end_mes_74_02 := 1
			$dur_gliss_mes_74_02 := 3
			@local $loop_dur := @rand_range(0.1, 0.5), $local_loop

			obj::crea_track_HOA("cortaRand_mesmes_74_02", "group_hoa1", fade_in = 0.1, amp = $amp_htb_mes_74_02, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf23_1.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
			$tracks("cortaRand_mesmes_74_02").amp([$amp_htb_mes_74_02, $dur_htb_mes_74_02, $amp_end_mes_74_02, 1 , -60], free = 0.1, action = ["clearbuf", $rec_buf23_1])
			// $tracks("cortaRand_mesmes_74_02").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_mes_74_02) 
			$tracks("cortaRand_mesmes_74_02").dae_rand_lfo([0.8, 2, $htb_dae[0], -180, 180, $htb_dae[1], 0, 90, $htb_dae[2]], 10)
			$local_loop := {
				loop $loop_dur
				{
					$tracks("cortaRand_mesmes_74_02").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
					$tracks("cortaRand_mesmes_74_02").set(TCortaRandBuf, [loopDur, $loop_dur])
					$loop_dur := @rand_range(0.1, 0.5)
				}
			}
			($dur_htb_mes_74_02) abort $local_loop
		}
		abort htb_ampgate_mes74_02 @norec // abort juste aprs le onset
	}	
}


group cuivres
{
	$chop_trp_mes74_dur := 7 // amp = dur + dur*3 + dur = 5*dur
	$chop_trp_mes74_amp := 4

	whenever trp_ampgate_mes74 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $trp))
	{
		print onset
		$rec_buf24_1.rec($trp)
		$amp_trp_mes_74 := 0
		$dur_trp_74 := 5
		$amp_trp_end_74 := 3


		obj::crea_track_HOA("chop_trp_mes74", "group_hoa1", fade_in = 0.0001, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf24_1.id(), envbuf0, $envs("server1")("perc_rond"), envbuf1, ($envs("server1")("pointe"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 300, db, -30]])  //, [Norm, lev, 0.03]

		$tracks("chop_trp_mes74").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $dur_trp_74, "sine", 10])
		$tracks("chop_trp_mes74").bpf_param("TBufRdEnvInterp", "interp", [-1, $dur_trp_74/2, "sine", 1])
		$tracks("chop_trp_mes74").amp([$amp_trp_mes_74, $dur_trp_74, $amp_trp_end_74, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf24_1])
		$tracks("chop_trp_mes74").traj_circ_interp2($trp_dae, $htb_dae, $dur_trp_74, 1)
		$tracks("chop_trp_mes74").set(CompressorD, [thresh, 0.15])
		abort trp_ampgate_mes74 @norec
	}

	0.5 whenever cor2_ampgate_mes74 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cor2))
	{
		print onset
		$rec_buf25_1.rec($cor2)
		$amp_cor2_mes_74 := 5
		$dur_cor2_74 := 10
		$amp_cor2_end_74 := 8

		obj::crea_track_HOA("chop_cor2_mes74", "group_hoa1", fade_in = 0.0001, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf25_1.id(), envbuf0, $envs("server1")("perc_rond"), envbuf1, ($envs("server1")("pointe"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 300, db, -30]])  //, [Norm, lev, 0.03]

		$tracks("chop_cor2_mes74").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $dur_cor2_74, "sine", 10])
		$tracks("chop_cor2_mes74").bpf_param("TBufRdEnvInterp", "interp", [-1, $dur_cor2_74/2, "sine", 1])
		$tracks("chop_cor2_mes74").amp([$amp_cor2_mes_74, $dur_cor2_74, $amp_cor2_end_74, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf25_1])
		$tracks("chop_cor2_mes74").traj_circ_interp2($cor2_dae, $htb_dae, $dur_cor2_74, -1)
		$tracks("chop_cor2_mes74").set(CompressorD, [thresh, 0.3])

		abort cor2_ampgate_mes74 @norec
	}

	$chop_cor1_mes74_dur := 7 // amp = dur + dur*3 + dur = 5*dur
	$chop_cor1_mes74_amp := 4

	// whenever chop_trp_mes74 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $trp))
	whenever cor1_ampgate_mes74 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cor1))
	{
		print ampgate
		$rec_buf26_1.rec($cor1)

		obj::crea_track_HOA("chop_cor1_mes74", "group_hoa1", fade_in = 0.001, amp = $chop_cor1_mes74_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf26_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_cor1_mes74").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_cor1_mes74").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_cor1_mes74").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_cor1_mes74").amp([$chop_cor1_mes74_amp, $chop_cor1_mes74_dur, $chop_cor1_mes74_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf26_1])

		$tracks("chop_cor1_mes74").traj_circ_interp2($cor1_dae, $bsn_dae, $chop_cor1_mes74_dur, -1)

		abort cor1_ampgate_mes74 @norec
	}

	$chop_trb_mes74_dur := 10 // amp = dur + dur*3 + dur = 5*dur
	$chop_trb_mes74_amp := 3

	whenever trb_ampgate_mes73_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $trb))
	{
		print ampgate
		$rec_buf27_1.rec($trb)

		obj::crea_track_HOA("chop_trb_mes74", "group_hoa1", fade_in = 0.001, amp = $chop_trb_mes74_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf27_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_trb_mes74").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_trb_mes74").rand_lfo("TCortaRandBuf", "trig_time", 1, 4, 1, "linear", 60)
		$tracks("chop_trb_mes74").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_trb_mes74").amp([$chop_trb_mes74_amp, $chop_trb_mes74_dur, $chop_trb_mes74_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf27_1])

		$tracks("chop_trb_mes74").traj_circ_interp2($trb_dae, $bsn_dae, $chop_trb_mes74_dur, -1)

		abort trb_ampgate_mes73_2 @norec
	}
}

// pizz 
group
{
	$chop_vlc_mes74_dur := 7 // amp = dur + dur*3 + dur = 5*dur
	$chop_vlc_mes74_amp := 16

	// whenever chop_vlc_mes74 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vlc))
	whenever vlc_ampgate_mes73_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vlc))
	{
		print ampgate
		$rec_buf10_05.rec($vlc)

		obj::crea_track_HOA("chop_vlc_mes74", "group_hoa1", fade_in = 0.001, amp = $chop_vlc_mes74_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf10_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_vlc_mes74").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_vlc_mes74").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_vlc_mes74").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_vlc_mes74").amp([$chop_vlc_mes74_amp, $chop_vlc_mes74_dur, $chop_vlc_mes74_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf10_05])

		$tracks("chop_vlc_mes74").traj_circ_interp2($vlc_dae, $bsn_dae, $chop_vlc_mes74_dur, -1)

		abort vlc_ampgate_mes73_2 @norec
	}

/*	$chop_cb_mes74_dur := 3.5 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes74_amp := 10
	// whenever chop_cb_mes70_2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $cb))
	whenever cb_ampgate_mes74 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf25_05.rec($cb)

		obj::crea_track_HOA("play_env_trig_cb_mes74", "group_hoa1", fade_in = 0.001, amp = $chop_cb_mes73_n_3_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf25_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("play_env_trig_cb_mes74").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("play_env_trig_cb_mes74").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("play_env_trig_cb_mes74").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("play_env_trig_cb_mes74").amp([$chop_cb_mes74_amp, $chop_cb_mes74_dur, $chop_cb_mes74_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf25_05])
		$tracks("play_env_trig_cb_mes74").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes71_2_dur, 1)

		abort cb_ampgate_mes74 @norec // abort juste aprs le onset
	}*/


	1.5 $chop_vln_mes74_dur := 7 // amp = dur + dur*3 + dur = 5*dur
	$chop_vln_mes74_amp := 20

	whenever chop_vln_mes74 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $vln))
	{
		print onset
		$rec_buf11_05.rec($vln)
		obj::crea_track_HOA("chop_vln_mes74", "group_hoa1", fade_in = 0.001, amp = $chop_vln_mes74_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf11_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_vln_mes74").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_vln_mes74").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_vln_mes74").set("TCortaRandBuf", ["fadeTime", 0.01]) // trigger chop
		$tracks("chop_vln_mes74").amp([$chop_vln_mes74_amp, $chop_vln_mes74_dur, $chop_vln_mes74_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf11_05])
		$tracks("chop_vln_mes74").traj_circ_interp2($vlc_dae, $bsn_dae, $chop_vln_mes74_dur, -1)

		abort chop_vln_mes74 @norec // abort juste aprs le onset
	}


/*	$chop_cb_mes74_2_dur := 7 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes74_2_amp := 6

	whenever cb_ampgate_mes74_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf12_05.rec($cb)

		obj::crea_track_HOA("play_env_trig_cb_mes74_2", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes74_2_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf12_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cb_mes74_2").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $chop_cb_mes74_2_dur, "sine", 12])
		$tracks("play_env_trig_cb_mes74_2").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes74_2_dur/3, "sine", 1])
		$tracks("play_env_trig_cb_mes74_2").amp([$chop_cb_mes74_2_amp, $chop_cb_mes74_2_dur, $chop_cb_mes74_2_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf12_05])
		$tracks("play_env_trig_cb_mes74_2").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes74_2_dur, 1)
		$tracks("play_env_trig_cb_mes74_2").set(CompressorD, [thresh, 0.3])

		abort cb_ampgate_mes74_2 @norec // abort juste aprs le onset
	}*/

	$chop_cb_mes74_2_dur := 8 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes74_2_amp := 6

	whenever cb_ampgate_mes74_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf12_05.rec($cb)
		group
		{
			1 obj::crea_track_HOA("play_env_trig_cb_mes74_2", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes74_2_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf12_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
			$tracks("play_env_trig_cb_mes74_2").bpf_param("TBufRdEnvInterp", "impulse_rate", [2, $chop_cb_mes74_2_dur, "sine", 7])
			$tracks("play_env_trig_cb_mes74_2").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes74_2_dur, "sine", 1])
			$tracks("play_env_trig_cb_mes74_2").amp([$chop_cb_mes74_2_amp, $chop_cb_mes74_2_dur, $chop_cb_mes74_2_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf12_05])
			$tracks("play_env_trig_cb_mes74_2").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes74_2_dur, 1)
			$tracks("play_env_trig_cb_mes74_2").set(CompressorD, [thresh, 0.3])
		}
		abort cb_ampgate_mes74_2 @norec // abort juste aprs le onset
	}


	$chop_alto_mes74_dur := 6 // amp = dur + dur*3 + dur = 5*dur
	$chop_alto_mes74_amp := 20

	// whenever chop_alto_mes74 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $alto))
	whenever chop_alto_mes74 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $alto))
	{
		print onset
		$rec_buf13_05.rec($alto)

		obj::crea_track_HOA("chop_alto_mes74", "group_hoa1", fade_in = 0.001, amp = $chop_alto_mes74_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf13_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_alto_mes74").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_alto_mes74").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_alto_mes74").set("TCortaRandBuf", ["fadeTime", 0.001]) // trigger chop
		$tracks("chop_alto_mes74").amp([$chop_alto_mes74_amp, $chop_alto_mes74_dur, $chop_alto_mes74_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf13_05])
		$tracks("chop_alto_mes74").traj_circ_interp2($vlc_dae, $bsn_dae, $chop_alto_mes74_dur, -1)

		abort chop_alto_mes74 @norec
	}

}

/// ampgate trem

group 
{
	whenever vln_ampgate_mes74 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vln))
	{
		group
		{
			print onset cl_onset_mes74
			$rec_buf14_05.rec($vln)
			$amp_mes_74_vln := 0
			$dur_mes_74_vln := 3
			// $amp_end_mes_74_vln := 1
			// $dur_gliss_mes_74_vln := 3
			@local $loop_dur := @rand_range(0.1, 0.5), $local_loop

			obj::crea_track_HOA("cortaRand_mesmes_74_vln", "group_hoa1", fade_in = 0.1, amp = $amp_mes_74_vln, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf14_05.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
			$tracks("cortaRand_mesmes_74_vln").amp([$amp_mes_74_vln, $dur_mes_74_vln, $amp_mes_74_vln, 0.5 , -60], free = 0.1, action = ["clearbuf", $rec_buf14_05])
			$tracks("cortaRand_mesmes_74_vln").dae_rand_lfo([0.8, 2, $vln_dae[0], -180, 180, $vln_dae[1], 0, 90, $vln_dae[2]], 10)
			$local_loop := {
				loop $loop_dur
				{
					$tracks("cortaRand_mesmes_74_vln").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
					$tracks("cortaRand_mesmes_74_vln").set(TCortaRandBuf, [loopDur, $loop_dur])
					$loop_dur := @rand_range(0.1, 0.5)
				}
			}

			($dur_mes_74_vln) abort $local_loop
			// $tracks("cortaRand_mesmes_74_vln").amp(3)	
		}
		abort vln_ampgate_mes74 @norec
	}

	whenever cb_ampgate_mes74_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		group
		{
			print onset cl_onset_mes74
			$rec_buf15_05.rec($cb)
			$amp_mes_74_cb := 5
			$dur_mes_74_cb := 3
			// $amp_end_mes_74_cb := 1
			// $dur_gliss_mes_74_cb := 3
			@local $loop_dur := @rand_range(0.1, 0.5), $local_loop

			obj::crea_track_HOA("cortaRand_mesmes_74_cb", "group_hoa1", fade_in = 0.1, amp = $amp_mes_74_cb, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf15_05.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
			$tracks("cortaRand_mesmes_74_cb").amp([$amp_mes_74_cb, $dur_mes_74_cb, $amp_mes_74_cb, 0.5, -60], free = 0.1, action = ["clearbuf", $rec_buf15_05])
			// $tracks("cortaRand_mesmes_74_cb").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_mes_74_cb) 
			$tracks("cortaRand_mesmes_74_cb").dae_rand_lfo([0.8, 2, $cb_dae[0], -180, 180, $cb_dae[1], 0, 90, $cb_dae[2]], 10)
			$local_loop := {
				loop $loop_dur
				{
					$tracks("cortaRand_mesmes_74_cb").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
					$tracks("cortaRand_mesmes_74_cb").set(TCortaRandBuf, [loopDur, $loop_dur])
					$loop_dur := @rand_range(0.1, 0.5)
				}
			}

			($dur_mes_74_cb) abort $local_loop
			// $tracks("cortaRand_mesmes_72_cb").amp(3)	
		}
		abort cb_ampgate_mes74_2 @norec
	}

	0.5 whenever alto_ampgate_mes74 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $alto))
	{
		group
		{
			print onset cl_onset_mes74
			$rec_buf16_05.rec($alto)
			$amp_mes_74_alto := 4
			$dur_mes_74_alto := 3
			// $amp_end_mes_74_alto := 1
			// $dur_gliss_mes_74_alto := 3
			@local $loop_dur := @rand_range(0.1, 0.5), $local_loop

			obj::crea_track_HOA("cortaRand_mesmes_74_alto", "group_hoa1", fade_in = 0.1, amp = $amp_mes_74_alto, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf16_05.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
			$tracks("cortaRand_mesmes_74_alto").amp([$amp_mes_74_alto, $dur_mes_74_alto, $amp_mes_74_alto, 0.5, -60], free = 0.1, action = ["clearbuf", $rec_buf16_05])
			// $tracks("cortaRand_mesmes_74_alto").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_mes_74_alto) 
			$tracks("cortaRand_mesmes_74_alto").dae_rand_lfo([0.8, 2, $alto_dae[0], -180, 180, $alto_dae[1], 0, 90, $alto_dae[2]], 10)
			$local_loop := {
				loop $loop_dur
				{
					$tracks("cortaRand_mesmes_74_alto").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
					$tracks("cortaRand_mesmes_74_alto").set(TCortaRandBuf, [loopDur, $loop_dur])
					$loop_dur := @rand_range(0.1, 0.5)
				}
			}

			($dur_mes_74_alto) abort $local_loop
			// $tracks("cortaRand_mesmes_74_alto").amp(3)
		}
		abort alto_ampgate_mes74 @norec
	}



	0.5 whenever vlc_ampgate_mes73_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vlc))
	{
		group
		{
			print onset cl_onset_mes73_2
			$rec_buf17_05.rec($vlc)
			$amp_mes_73_2_vlc := 4
			$dur_mes_73_2_vlc := 3
			// $amp_end_mes_73_2_vlc := 1
			// $dur_gliss_mes_73_2_vlc := 3
			@local $loop_dur := @rand_range(0.1, 0.2), $local_loop

			obj::crea_track_HOA("cortaRand_mesmes_73_2_vlc", "group_hoa1", fade_in = 0.1, amp = $amp_mes_73_2_vlc, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf17_05.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
			$tracks("cortaRand_mesmes_73_2_vlc").amp([$amp_mes_73_2_vlc, $dur_mes_73_2_vlc, $amp_mes_73_2_vlc, 0.5, -60], free = 0.1, action = ["clearbuf", $rec_buf17_05])
			// $tracks("cortaRand_mesmes_73_2_vlc").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_mes_73_2_vlc) 
			$tracks("cortaRand_mesmes_73_2_vlc").dae_rand_lfo([0.8, 2, $vlc_dae[0], -180, 180, $vlc_dae[1], 0, 90, $vlc_dae[2]], 10)
			$local_loop := {
				loop $loop_dur
				{
					$tracks("cortaRand_mesmes_73_2_vlc").set(TCortaRandBuf, [trig_time, @rand_range(1, 3)])
					$tracks("cortaRand_mesmes_73_2_vlc").set(TCortaRandBuf, [loopDur, $loop_dur])
					$loop_dur := @rand_range(0.1, 0.2)
				}
			}

			($dur_mes_73_2_vlc) abort $local_loop
			// $tracks("cortaRand_mesmes_73_2_vlc").amp(3)
		}
		abort vlc_ampgate_mes73_2 @norec
	}
}


NOTE 60 1 mes_81_n

print mes_81_n


group vents_mes81_n
{
	whenever chop_fl_mes81_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $fl))
	{

		$chop_fl_mes81_n_dur := 4 // amp = dur + dur*3 + dur = 5*dur
		$chop_fl_mes81_n_amp := 12

		$rec_buf28_1.rec($fl)

		obj::crea_track_HOA("chop_fl_mes81_n", "group_hoa1", fade_in = 0.001, amp = $chop_fl_mes81_n_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf28_1.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_fl_mes81_n").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_fl_mes81_n").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_fl_mes81_n").set("TCortaRandBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_fl_mes81_n").amp([$chop_fl_mes81_n_amp, $chop_fl_mes81_n_dur, $chop_fl_mes81_n_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf28_1])
		$tracks("chop_fl_mes81_n").traj_circ_interp2($fl_dae, $cl_dae, $chop_fl_mes81_n_dur, -1)

		abort chop_fl_mes81_n @norec // abort juste aprs le onset
	}

	whenever htb_ampgate_mes81_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $htb))
	{
		group mes_81_n
		{
			$rec_buf29_1.rec($htb)
			$amp_htb_mes_81_n := 0
			$dur_htb_mes_81_n := 6
			$amp_end_mes_81_n := 1
			$dur_gliss_mes_81_n := 3
			@local $loop_dur := @rand_range(0.1, 0.5), $local_loop

			obj::crea_track_HOA("cortaRand_mesmes_81_n", "group_hoa1", fade_in = 0.1, amp = $amp_htb_mes_81_n, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf29_1.id(), "loopDur", 0.1]]) //, [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
			$tracks("cortaRand_mesmes_81_n").amp([$amp_htb_mes_81_n, $dur_htb_mes_81_n, $amp_end_mes_81_n, 1 , -60], free = 0.1, action = ["clearbuf", $rec_buf29_1])
			// $tracks("cortaRand_mesmes_81_n").traj_circ_interp($fl_dae, $bsn_dae, $dur_gliss_mes_81_n) 
			$tracks("cortaRand_mesmes_81_n").dae_rand_lfo([0.8, 2, $htb_dae[0], -180, 180, $htb_dae[1], 0, 90, $htb_dae[2]], 10)
			$local_loop := {
				loop $loop_dur
				{
					$tracks("cortaRand_mesmes_81_n").set(TCortaRandBuf, [trig_time, @rand_range(2, 5)])
					$tracks("cortaRand_mesmes_81_n").set(TCortaRandBuf, [loopDur, $loop_dur])
					$loop_dur := @rand_range(0.1, 0.5)
				}
			}
			($dur_htb_mes_81_n) abort $local_loop
		}
		abort htb_ampgate_mes81_n @norec // abort juste aprs le onset
	}

	1 $chop_cl_mes81_n_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_cl_mes81_n_amp := 6

	whenever cl_ampgate_mes81_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cl))
	{
		print onset
		$rec_buf18_05.rec($cl)

		obj::crea_track_HOA("play_env_trig_cl_mes81_n", "group_hoa1", fade_in = 0.0001, amp = $chop_cl_mes81_n_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf18_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cl_mes81_n").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $chop_cl_mes81_n_dur, "sine", 12])
		$tracks("play_env_trig_cl_mes81_n").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cl_mes81_n_dur/3, "sine", 1])
		// $tracks("play_env_trig_cl_mes81_n").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_cl_mes81_n_dur, "sine", 1.15])
		$tracks("play_env_trig_cl_mes81_n").amp([$chop_cl_mes81_n_amp, $chop_cl_mes81_n_dur, $chop_cl_mes81_n_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf18_05])
		$tracks("play_env_trig_cl_mes81_n").traj_circ_interp2($cl_dae, $trb_dae, $chop_cl_mes81_n_dur, 1)
		$tracks("play_env_trig_cl_mes81_n").set(CompressorD, [thresh, 0.3])

		abort cl_ampgate_mes81_n @norec // abort juste aprs le onset
	}
}

	$chop_cb_mes81_n_dur := 8 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes81_n_amp := 6

	whenever cb_ampgate_mes81_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf19_05.rec($cb)
		group
		{
			1 obj::crea_track_HOA("play_env_trig_cb_mes81_n", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes81_n_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf19_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
			$tracks("play_env_trig_cb_mes81_n").bpf_param("TBufRdEnvInterp", "impulse_rate", [2, $chop_cb_mes81_n_dur, "sine", 7])
			$tracks("play_env_trig_cb_mes81_n").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes81_n_dur, "sine", 1])
			$tracks("play_env_trig_cb_mes81_n").amp([$chop_cb_mes81_n_amp, $chop_cb_mes81_n_dur, $chop_cb_mes81_n_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf19_05])
			$tracks("play_env_trig_cb_mes81_n").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes81_n_dur, 1)
			$tracks("play_env_trig_cb_mes81_n").set(CompressorD, [thresh, 0.3])
		}
		abort cb_ampgate_mes81_n @norec // abort juste aprs le onset
	}

	$chop_trp_mes81_n_dur := 7 // amp = dur + dur*3 + dur = 5*dur
	$chop_trp_mes81_n_amp := 4

	whenever trp_ampgate_mes81_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $trp))
	{
		print onset
		$rec_buf30_1.rec($trp)
		$amp_trp_mes_81_n := 0
		$dur_trp_81_n := 2
		$amp_trp_end_81_n := 3


		obj::crea_track_HOA("chop_trp_mes81_n", "group_hoa1", fade_in = 0.0001, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf30_1.id(), envbuf0, $envs("server1")("perc_rond"), envbuf1, ($envs("server1")("pointe"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 300, db, -30]])  //, [Norm, lev, 0.03]

		$tracks("chop_trp_mes81_n").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $dur_trp_81_n, "sine", 10])
		$tracks("chop_trp_mes81_n").bpf_param("TBufRdEnvInterp", "interp", [-1, $dur_trp_81_n/2, "sine", 1])
		$tracks("chop_trp_mes81_n").amp([$amp_trp_mes_81_n, $dur_trp_81_n, $amp_trp_end_81_n, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf30_1])
		$tracks("chop_trp_mes81_n").traj_circ_interp2($trp_dae, $htb_dae, $dur_trp_81_n, 1)
		$tracks("chop_trp_mes81_n").set(CompressorD, [thresh, 0.15])
		abort trp_ampgate_mes81_n @norec
	}



	1 $chop_htb_mes81_n2_dur := 3 // amp = dur + dur*3 + dur = 5*dur
	$chop_htb_mes81_n2_amp := 6

	// whenever chop_htb_mes81_n2 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $htb))
	whenever chop_htb_mes81_n2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $htb))
	{
		print onset
		$rec_buf20_05.rec($htb)

		obj::crea_track_HOA("chop_htb_mes81_n2", "group_hoa1", fade_in = 0.001, amp = $chop_htb_mes81_n2_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf20_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_htb_mes81_n2").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_htb_mes81_n2").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_htb_mes81_n2").set("TCortaRandBuf", ["fadeTime", 0.001]) // trigger chop
		$tracks("chop_htb_mes81_n2").amp([$chop_htb_mes81_n2_amp, $chop_htb_mes81_n2_dur, $chop_htb_mes81_n2_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf20_05])
		$tracks("chop_htb_mes81_n2").traj_circ_interp2($vlc_dae, $bsn_dae, $chop_htb_mes81_n2_dur, -1)

		abort chop_htb_mes81_n2 @norec
	}

$tracks("synth_mes_75_n_1").bpf_param(TGranIn_mono, trigRate, [8.8000001907349, 5, "circ", 30, 6, "circ",8.8000001907349])
$tracks("synth_mes_75_n_2").bpf_param(TGranIn_mono, trigRate, [11, 5, "circ", 30, 7, "circ",11])

NOTE 60 1 mes_82_n

print mes_82_n

group vents_mes82_n
{
	$chop_cl_mes82_n_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_cl_mes82_n_amp := 6

	whenever cl_ampgate_mes82_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cl))
	{
		print onset
		$rec_buf21_05.rec($cl)

		obj::crea_track_HOA("play_env_trig_cl_mes82_n", "group_hoa1", fade_in = 0.0001, amp = $chop_cl_mes82_n_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf21_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cl_mes82_n").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $chop_cl_mes82_n_dur, "sine", 12])
		$tracks("play_env_trig_cl_mes82_n").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cl_mes82_n_dur/3, "sine", 1])
		// $tracks("play_env_trig_cl_mes82_n").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_cl_mes82_n_dur, "sine", 1.15])
		$tracks("play_env_trig_cl_mes82_n").amp([$chop_cl_mes82_n_amp, $chop_cl_mes82_n_dur, $chop_cl_mes82_n_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf21_05])
		$tracks("play_env_trig_cl_mes82_n").traj_circ_interp2($cl_dae, $trb_dae, $chop_cl_mes82_n_dur, 1)
		$tracks("play_env_trig_cl_mes82_n").set(CompressorD, [thresh, 0.3])

		abort cl_ampgate_mes82_n @norec // abort juste aprs le onset
	}
}

	$chop_htb_mes82_n_dur := 3 // amp = dur + dur*3 + dur = 5*dur
	$chop_htb_mes82_n_amp := 6

	// whenever chop_htb_mes82_n (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $htb))
	whenever chop_htb_mes82_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $htb))
	{
		print onset
		$rec_buf22_05.rec($htb)

		obj::crea_track_HOA("chop_htb_mes82_n", "group_hoa1", fade_in = 0.001, amp = $chop_htb_mes82_n_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf22_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_htb_mes82_n").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_htb_mes82_n").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_htb_mes82_n").set("TCortaRandBuf", ["fadeTime", 0.001]) // trigger chop
		$tracks("chop_htb_mes82_n").amp([$chop_htb_mes82_n_amp, $chop_htb_mes82_n_dur, $chop_htb_mes82_n_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf22_05])
		$tracks("chop_htb_mes82_n").traj_circ_interp2($vlc_dae, $bsn_dae, $chop_htb_mes82_n_dur, -1)

		abort chop_htb_mes82_n @norec
	}

group cordes_mes82_n
{
	$chop_vln_mes82_n_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_vln_mes82_n_amp := 6

	whenever vln_ampgate_mes82_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vln))
	{
		print onset
		$rec_buf23_05.rec($vln)

		0.1 obj::crea_track_HOA("play_env_trig_vln_mes82_n", "group_hoa1", fade_in = 0.01, amp = $chop_vln_mes82_n_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf23_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_vln_mes82_n").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $chop_vln_mes82_n_dur, "sine", 12])
		$tracks("play_env_trig_vln_mes82_n").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_vln_mes82_n_dur/3, "sine", 1])
		$tracks("play_env_trig_vln_mes82_n").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_vln_mes82_n_dur, "sine", 1.2])
		$tracks("play_env_trig_vln_mes82_n").amp([$chop_vln_mes82_n_amp, $chop_vln_mes82_n_dur, $chop_vln_mes82_n_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf23_05])
		$tracks("play_env_trig_vln_mes82_n").traj_circ_interp2($vln_dae, $trb_dae, $chop_vln_mes82_n_dur, 1)
		$tracks("play_env_trig_vln_mes82_n").set(CompressorD, [thresh, 0.3])

		abort vln_ampgate_mes82_n @norec // abort juste aprs le onset
	}



	$chop_alto_mes82_n_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_alto_mes82_n_amp := 6

	whenever alto_ampgate_mes82_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $alto))
	{
		print onset
		$rec_buf24_05.rec($alto)

		obj::crea_track_HOA("play_env_trig_alto_mes82_n", "group_hoa1", fade_in = 0.0001, amp = $chop_alto_mes82_n_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf24_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_alto_mes82_n").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $chop_alto_mes82_n_dur, "sine", 12])
		$tracks("play_env_trig_alto_mes82_n").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_alto_mes82_n_dur/3, "sine", 1])
		$tracks("play_env_trig_alto_mes82_n").amp([$chop_alto_mes82_n_amp, $chop_alto_mes82_n_dur, $chop_alto_mes82_n_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf24_05])
		$tracks("play_env_trig_alto_mes82_n").traj_circ_interp2($alto_dae, $trb_dae, $chop_alto_mes82_n_dur, 1)
		$tracks("play_env_trig_alto_mes82_n").set(CompressorD, [thresh, 0.3])

		abort alto_ampgate_mes82_n @norec // abort juste aprs le onset
	}

	$chop_vlc_mes82_n_dur := 1 // amp = dur + dur*3 + dur = 5*dur
	$chop_vlc_mes82_n_amp := 6

	whenever vlc_ampgate_mes82_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vlc))
	{
		print onset
		$rec_buf25_05.rec($vlc)

		obj::crea_track_HOA("play_env_trig_vlc_mes82_n", "group_hoa1", fade_in = 0.0001, amp = $chop_vlc_mes82_n_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf25_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_vlc_mes82_n").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $chop_vlc_mes82_n_dur, "sine", 12])
		$tracks("play_env_trig_vlc_mes82_n").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_vlc_mes82_n_dur/3, "sine", 1])
		$tracks("play_env_trig_vlc_mes82_n").amp([$chop_vlc_mes82_n_amp, $chop_vlc_mes82_n_dur, $chop_vlc_mes82_n_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf25_05])
		$tracks("play_env_trig_vlc_mes82_n").traj_circ_interp2($vlc_dae, $trb_dae, $chop_vlc_mes82_n_dur, 1)
		$tracks("play_env_trig_vlc_mes82_n").set(CompressorD, [thresh, 0.3])

		abort vlc_ampgate_mes82_n @norec // abort juste aprs le onset
	}



1.5 	$chop_cb_mes82_n_dur := 20 // amp = dur + dur*3 + dur = 5*dur
		$chop_cb_mes82_n_amp := 6

	whenever cb_ampgate_mes82_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf26_05.rec($cb)

		obj::crea_track_HOA("play_env_trig_cb_mes82_n", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes82_n_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf26_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cb_mes82_n").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $chop_cb_mes82_n_dur, "sine", 12])
		$tracks("play_env_trig_cb_mes82_n").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes82_n_dur/3, "sine", 1])
		$tracks("play_env_trig_cb_mes82_n").amp([$chop_cb_mes82_n_amp, $chop_cb_mes82_n_dur, $chop_cb_mes82_n_amp, 0.2, -60], free = 0.1) //, action = ["clearbuf", $rec_buf26_05])
		$tracks("play_env_trig_cb_mes82_n").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes82_n_dur, 1)
		$tracks("play_env_trig_cb_mes82_n").set(CompressorD, [thresh, 0.3])

		abort cb_ampgate_mes82_n @norec // abort juste aprs le onset
	}

/*	$chop_cb_mes75_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes75_amp := 6

	whenever cb_ampgate_mes75 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf22_05.rec($cb)

		obj::crea_track_HOA("play_env_trig_cb_mes75", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes75_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf22_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cb_mes75").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $chop_cb_mes75_dur, "sine", 12])
		$tracks("play_env_trig_cb_mes75").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes75_dur/3, "sine", 1])
		$tracks("play_env_trig_cb_mes75").amp([$chop_cb_mes75_amp, $chop_cb_mes75_dur, $chop_cb_mes75_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf22_05])
		$tracks("play_env_trig_cb_mes75").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes75_dur, 1)
		$tracks("play_env_trig_cb_mes75").set(CompressorD, [thresh, 0.3])

		abort cb_ampgate_mes75 @norec // abort juste aprs le onset
	}*/
}



NOTE 60 1 mes_75

print mes_75

group vents_mes75
{
	$chop_cl_mes75_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_cl_mes75_amp := 6

	1 whenever cl_ampgate_mes75 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cl))
	{
		print onset
		$rec_buf27_05.rec($cl)

		obj::crea_track_HOA("play_env_trig_cl_mes75", "group_hoa1", fade_in = 0.0001, amp = $chop_cl_mes75_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf27_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cl_mes75").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $chop_cl_mes75_dur, "sine", 12])
		$tracks("play_env_trig_cl_mes75").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cl_mes75_dur/3, "sine", 1])
		$tracks("play_env_trig_cl_mes75").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_cl_mes75_dur, "sine", 1.15])
		$tracks("play_env_trig_cl_mes75").amp([$chop_cl_mes75_amp, $chop_cl_mes75_dur, $chop_cl_mes75_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf27_05])
		$tracks("play_env_trig_cl_mes75").traj_circ_interp2($cl_dae, $trb_dae, $chop_cl_mes75_dur, 1)
		$tracks("play_env_trig_cl_mes75").set(CompressorD, [thresh, 0.3])

		abort cl_ampgate_mes75 @norec // abort juste aprs le onset
	}
}


// pizz 
group
{

/*	$chop_alto_mes75_dur := 6 // amp = dur + dur*3 + dur = 5*dur
	$chop_alto_mes75_amp := 12

	whenever chop_alto_mes75 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $alto))
	{
		print onset
		$rec_buf16_05.rec($alto)
		// obj::crea_track_HOA("chop_alto_mes75", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $alto, "amp", 0], ["TCortaExtXPlay", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
		0.1 obj::crea_track_HOA("chop_alto_mes75", "group_hoa1", fade_in = 0.0001, amp = $chop_alto_mes75_amp, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "trig_time", 2.8, "amp", 6, "buf", $rec_buf16_05.id(), "fadeTime", 0.0015], [TBLowShelf, freq, 68, db, -24]])
		// obj::crea_track_HOA("chop_alto_mes75", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf0_05.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf0_05.abs_dur(), freqHPF, 20],[CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
		// obj::crea_track_HOA("chop_alto_mes75", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, in_channels = 1, [["TCortaExtXPlayBuf", "buf", $rec_buf0_05.id(), "loop", 1]])  //, [Norm, lev, 0.03]
		$tracks("chop_alto_mes75").bpf_param("TCortaExtXPlayBuf", "trig_time", [1.8, $chop_alto_mes75_dur, 15,"circ"])
		// // $tracks("chop_alto_mes75").set("TCortaExtXPlayBuf", ["loop", 1]) // trigger chop
		// $tracks("chop_alto_mes75").set("TCortaExtXPlayBuf", ["trig_time", 3]) // trigger chop
		$tracks("chop_alto_mes75").set("TCortaExtXPlayBuf", ["fadeTime", 0.0015]) // trigger chop
		$tracks("chop_alto_mes75").amp([$chop_alto_mes75_amp, $chop_alto_mes75_dur, $chop_alto_mes75_amp, $chop_alto_mes75_dur*2, -50, $chop_alto_mes75_dur, -120], free = 0.1, action = ["clearbuf", $rec_buf16_05]) //

		$tracks("chop_alto_mes75").traj_circ_interp($alto_dae, $bsn_dae, $chop_alto_mes75_dur*2)
		abort chop_alto_mes75 @norec
	}*/

	$chop_alto_mes75_dur := 6 // amp = dur + dur*3 + dur = 5*dur
	$chop_alto_mes75_amp := 20

	// whenever chop_alto_mes75 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $alto))
	whenever chop_alto_mes75 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $alto))
	{
		print onset
		$rec_buf28_05.rec($alto)

		obj::crea_track_HOA("chop_alto_mes75", "group_hoa1", fade_in = 0.001, amp = $chop_alto_mes75_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf28_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_alto_mes75").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_alto_mes75").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_alto_mes75").set("TCortaRandBuf", ["fadeTime", 0.001]) // trigger chop
		$tracks("chop_alto_mes75").amp([$chop_alto_mes75_amp, $chop_alto_mes75_dur, $chop_alto_mes75_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf28_05])
		$tracks("chop_alto_mes75").traj_circ_interp2($vlc_dae, $bsn_dae, $chop_alto_mes75_dur, -1)

		abort chop_alto_mes75 @norec
	}


	1 $chop_cb_mes75_dur := 1.5 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes75_amp := 6

	whenever cb_ampgate_mes75 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf29_05.rec($cb)

		obj::crea_track_HOA("play_env_trig_cb_mes75", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes75_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf29_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cb_mes75").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $chop_cb_mes75_dur, "sine", 12])
		$tracks("play_env_trig_cb_mes75").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes75_dur/3, "sine", 1])
		$tracks("play_env_trig_cb_mes75").amp([$chop_cb_mes75_amp, $chop_cb_mes75_dur, $chop_cb_mes75_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf29_05])
		$tracks("play_env_trig_cb_mes75").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes75_dur, 1)
		$tracks("play_env_trig_cb_mes75").set(CompressorD, [thresh, 0.3])

		abort cb_ampgate_mes75 @norec // abort juste aprs le onset
	}

}

	1 $chop_htb_mes75_dur := 3 // amp = dur + dur*3 + dur = 5*dur
	$chop_htb_mes75_amp := 6

	// whenever chop_htb_mes75 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $htb))
	whenever chop_htb_mes75 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $htb))
	{
		print onset
		$rec_buf30_05.rec($htb)

		obj::crea_track_HOA("chop_htb_mes75", "group_hoa1", fade_in = 0.001, amp = $chop_htb_mes75_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf30_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_htb_mes75").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_htb_mes75").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_htb_mes75").set("TCortaRandBuf", ["fadeTime", 0.001]) // trigger chop
		$tracks("chop_htb_mes75").amp([$chop_htb_mes75_amp, $chop_htb_mes75_dur, $chop_htb_mes75_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf30_05])
		$tracks("chop_htb_mes75").traj_circ_interp2($vlc_dae, $bsn_dae, $chop_htb_mes75_dur, -1)

		abort chop_htb_mes75 @norec
	}



NOTE 60 1 mes_78

print mes_78

group vents_mes_78
{
	$chop_cl_mes78_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_cl_mes78_amp := 6

	whenever cl_ampgate_mes78 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cl))
	{
		print onset
		$rec_buf31_05.rec($cl)

		obj::crea_track_HOA("play_env_trig_cl_mes78", "group_hoa1", fade_in = 0.0001, amp = $chop_cl_mes78_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf31_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cl_mes78").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $chop_cl_mes78_dur, "sine", 12])
		$tracks("play_env_trig_cl_mes78").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cl_mes78_dur/3, "sine", 1])
		$tracks("play_env_trig_cl_mes78").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_cl_mes78_dur, "sine", 1.15])
		$tracks("play_env_trig_cl_mes78").amp([$chop_cl_mes78_amp, $chop_cl_mes78_dur, $chop_cl_mes78_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf31_05])
		$tracks("play_env_trig_cl_mes78").traj_circ_interp2($cl_dae, $trb_dae, $chop_cl_mes78_dur, 1)
		$tracks("play_env_trig_cl_mes78").set(CompressorD, [thresh, 0.3])

		abort cl_ampgate_mes78 @norec // abort juste aprs le onset
	}

	1 $chop_htb_mes78_dur := 3 // amp = dur + dur*3 + dur = 5*dur
	$chop_htb_mes78_amp := 6

	// whenever chop_htb_mes78 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $htb))
	whenever chop_htb_mes78 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $htb))
	{
		print onset
		$rec_buf32_05.rec($htb)

		obj::crea_track_HOA("chop_htb_mes78", "group_hoa1", fade_in = 0.001, amp = $chop_htb_mes78_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf32_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_htb_mes78").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_htb_mes78").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_htb_mes78").set("TCortaRandBuf", ["fadeTime", 0.001]) // trigger chop
		$tracks("chop_htb_mes78").amp([$chop_htb_mes78_amp, $chop_htb_mes78_dur, $chop_htb_mes78_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf32_05])
		$tracks("chop_htb_mes78").traj_circ_interp2($vlc_dae, $bsn_dae, $chop_htb_mes78_dur, -1)

		abort chop_htb_mes78 @norec
	}

	$chop_cl_mes78_2_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_cl_mes78_2_amp := 6

	whenever cl_ampgate_mes78_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cl))
	{
		print onset
		$rec_buf33_05.rec($cl)

		obj::crea_track_HOA("play_env_trig_cl_mes78_2", "group_hoa1", fade_in = 0.0001, amp = $chop_cl_mes78_2_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf33_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cl_mes78_2").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $chop_cl_mes78_2_dur, "sine", 12])
		$tracks("play_env_trig_cl_mes78_2").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cl_mes78_2_dur/3, "sine", 1])
		$tracks("play_env_trig_cl_mes78_2").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_cl_mes78_2_dur, "sine", 1.15])
		$tracks("play_env_trig_cl_mes78_2").amp([$chop_cl_mes78_2_amp, $chop_cl_mes78_2_dur, $chop_cl_mes78_2_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf33_05])
		$tracks("play_env_trig_cl_mes78_2").traj_circ_interp2($cl_dae, $trb_dae, $chop_cl_mes78_2_dur, 1)
		$tracks("play_env_trig_cl_mes78_2").set(CompressorD, [thresh, 0.3])

		abort cl_ampgate_mes78_2 @norec // abort juste aprs le onset
	}
}


	$chop_vln_mes78_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_vln_mes78_amp := 6

	whenever vln_ampgate_mes78 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vln))
	{
		print onset
		$rec_buf34_05.rec($vln)

		obj::crea_track_HOA("play_env_trig_vln_mes78", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes78_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf34_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_vln_mes78").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $chop_vln_mes78_dur, "sine", 12])
		$tracks("play_env_trig_vln_mes78").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_vln_mes78_dur/3, "sine", 1])
		$tracks("play_env_trig_vln_mes78").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_vln_mes78_dur, "sine", 1.15])
		$tracks("play_env_trig_vln_mes78").amp([$chop_vln_mes78_amp, $chop_vln_mes78_dur, $chop_vln_mes78_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf34_05])
		$tracks("play_env_trig_vln_mes78").traj_circ_interp2($vln_dae, $trb_dae, $chop_vln_mes78_dur, 1)
		$tracks("play_env_trig_vln_mes78").set(CompressorD, [thresh, 0.3])

		abort vln_ampgate_mes78 @norec // abort juste aprs le onset
	}


	$chop_alto_mes78_dur := 1.5 // amp = dur + dur*3 + dur = 5*dur
	$chop_alto_mes78_amp := 3

	whenever chop_alto_mes78 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $alto))
	{
		print onset
		$rec_buf35_05.rec($alto)

		obj::crea_track_HOA("chop_alto_mes78", "group_hoa1", fade_in = 0.001, amp = $chop_alto_mes78_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf35_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_alto_mes78").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_alto_mes78").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_alto_mes78").set("TCortaRandBuf", ["fadeTime", 0.001]) // trigger chop
		$tracks("chop_alto_mes78").bpf_param("TCortaRandBuf", "rate", [1, $chop_alto_mes78_dur, "sine", 1.22])
		$tracks("chop_alto_mes78").amp([$chop_alto_mes78_amp, $chop_alto_mes78_dur, $chop_alto_mes78_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf35_05])
		$tracks("chop_alto_mes78").traj_circ_interp2($vlc_dae, $bsn_dae, $chop_alto_mes78_dur, -1)

		abort chop_alto_mes78 @norec
	}

	$chop_vlc_mes78_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_vlc_mes78_amp := 6
	$chop_vlc_mes78_interp_dur := 8

	whenever vlc_ampgate_mes78 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vlc))
	{
		print onset
		$rec_buf0_05.rec($vlc)

		obj::crea_track_HOA("play_env_trig_vlc_mes78", "group_hoa1", fade_in = 0.0001, amp = $chop_vlc_mes78_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf0_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_vlc_mes78").bpf_param("TBufRdEnvInterp", "impulse_rate", [7, $chop_vlc_mes78_dur, "sine", 10])
		$tracks("play_env_trig_vlc_mes78").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_vlc_mes78_dur/3, "sine", 1])
		$tracks("play_env_trig_vlc_mes78").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_vlc_mes78_dur, "sine", 1.15])
		$tracks("play_env_trig_vlc_mes78").amp([$chop_vlc_mes78_amp, $chop_vlc_mes78_dur, $chop_vlc_mes78_amp, 0.2, $chop_vlc_mes78_amp]) //, free = 0.1, action = ["clearbuf", $rec_buf0_05])
		// $tracks("play_env_trig_vlc_mes78").traj_circ_interp2($vlc_dae, $trb_dae, $chop_vlc_mes78_dur, 1)
		$tracks("play_env_trig_vlc_mes78").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_vlc_mes78").dae_rand_lfo([1.5, 10, $cb_dae[0], -180, 180, $cb_dae[1], 0, 45, 0], 80)
		$tracks("play_env_trig_vlc_mes78").xyz_rand_lfo([-4, 4, $vlc_cart[0], -4, 4, $vlc_cart[1], 0, 2, $vlc_cart[2]], 80) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									

		abort vlc_ampgate_mes78 @norec // abort juste aprs le onset
	}

	group
	{
		5	$tracks("play_env_trig_vlc_mes78").bpf_param("TBufRdEnvInterp", "rate", [1.15, $chop_vlc_mes78_interp_dur, "sine", 1.5])
		($chop_vlc_mes78_interp_dur) $tracks("play_env_trig_vlc_mes78").rand_lfo("TBufRdEnvInterp", "rate", 0.9, 1.6, 1.5, "linear", 80)		
	}

	$chop_cb_mes78_dur := 20 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes78_amp := 6

	whenever cb_ampgate_mes78 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf1_05.rec($cb)

		obj::crea_track_HOA("play_env_trig_cb_mes78", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes78_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf1_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cb_mes78").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $chop_cb_mes78_dur, "sine", 12])
		$tracks("play_env_trig_cb_mes78").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes78_dur/3, "sine", 1])
		$tracks("play_env_trig_cb_mes78").amp([$chop_cb_mes78_amp, $chop_cb_mes78_dur, $chop_cb_mes78_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf1_05])
		$tracks("play_env_trig_cb_mes78").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes78_dur, 1)
		$tracks("play_env_trig_cb_mes78").set(CompressorD, [thresh, 0.3])

		abort cb_ampgate_mes78 @norec // abort juste aprs le onset
	}

1.5 	$chop_vln_mes78_2_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_vln_mes78_2_amp := 6

	whenever vln_ampgate_mes78_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vln))
	{
		print onset
		$rec_buf2_05.rec($vln)

		obj::crea_track_HOA("play_env_trig_vln_mes78_2", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes78_2_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf2_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_vln_mes78_2").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $chop_vln_mes78_2_dur, "sine", 12])
		$tracks("play_env_trig_vln_mes78_2").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_vln_mes78_2_dur/3, "sine", 1])
		$tracks("play_env_trig_vln_mes78_2").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_vln_mes78_2_dur, "sine", 1.15])
		$tracks("play_env_trig_vln_mes78_2").amp([$chop_vln_mes78_2_amp, $chop_vln_mes78_2_dur, $chop_vln_mes78_2_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf2_05])
		$tracks("play_env_trig_vln_mes78_2").traj_circ_interp2($vln_dae, $trb_dae, $chop_vln_mes78_2_dur, 1)
		$tracks("play_env_trig_vln_mes78_2").set(CompressorD, [thresh, 0.3])

		abort vln_ampgate_mes78_2 @norec // abort juste aprs le onset
	}


	$chop_alto_mes78_2_dur := 1.5 // amp = dur + dur*3 + dur = 5*dur
	$chop_alto_mes78_2_amp := 3

	whenever chop_alto_mes78_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $alto))
	{
		print onset
		$rec_buf3_05.rec($alto)

		obj::crea_track_HOA("chop_alto_mes78_2", "group_hoa1", fade_in = 0.001, amp = $chop_alto_mes78_2_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf3_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_alto_mes78_2").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_alto_mes78_2").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_alto_mes78_2").set("TCortaRandBuf", ["fadeTime", 0.001]) // trigger chop
		$tracks("chop_alto_mes78_2").bpf_param("TCortaRandBuf", "rate", [1, $chop_alto_mes78_2_dur, "sine", 1.22])
		$tracks("chop_alto_mes78_2").amp([$chop_alto_mes78_2_amp, $chop_alto_mes78_2_dur, $chop_alto_mes78_2_amp, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf3_05])
		$tracks("chop_alto_mes78_2").traj_circ_interp2($vlc_dae, $bsn_dae, $chop_alto_mes78_2_dur, -1)

		abort chop_alto_mes78_2 @norec
	}

	$chop_vlc_mes78_2_dur := 20 // amp = dur + dur*3 + dur = 5*dur
	$chop_vlc_mes78_2_amp := 6
	$chop_vlc_mes78_2_interp_dur := 5.5

	whenever vlc_ampgate_mes78_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vlc))
	{
		print onset
		$rec_buf4_05.rec($vlc)

		obj::crea_track_HOA("play_env_trig_vlc_mes78_2", "group_hoa1", fade_in = 0.0001, amp = $chop_vlc_mes78_2_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf4_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_vlc_mes78_2").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $chop_vlc_mes78_2_dur, "sine", 16])
		$tracks("play_env_trig_vlc_mes78_2").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_vlc_mes78_2_interp_dur, "sine", 1])
		$tracks("play_env_trig_vlc_mes78_2").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_vlc_mes78_2_interp_dur, "sine", 1.15])
		$tracks("play_env_trig_vlc_mes78_2").amp([$chop_vlc_mes78_2_amp, $chop_vlc_mes78_2_dur, $chop_vlc_mes78_2_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf4_05])
		$tracks("play_env_trig_vlc_mes78_2").traj_circ_interp2($vlc_dae, $trb_dae, $chop_vlc_mes78_2_dur, 1)
		$tracks("play_env_trig_vlc_mes78_2").set(CompressorD, [thresh, 0.3])

		abort vlc_ampgate_mes78_2 @norec // abort juste aprs le onset
	}


	$chop_cb_mes78_2_dur := 10 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes78_2_amp := 6

	whenever cb_ampgate_mes78_2 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf5_05.rec($cb)

		obj::crea_track_HOA("play_env_trig_cb_mes78_2", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes78_2_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf5_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cb_mes78_2").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $chop_cb_mes78_2_dur, "sine", 12])
		$tracks("play_env_trig_cb_mes78_2").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes78_2_dur/3, "sine", 1])
		$tracks("play_env_trig_cb_mes78_2").amp([$chop_cb_mes78_2_amp, $chop_cb_mes78_2_dur, $chop_cb_mes78_2_amp, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf5_05])
		$tracks("play_env_trig_cb_mes78_2").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes78_2_dur, 1)
		$tracks("play_env_trig_cb_mes78_2").set(CompressorD, [thresh, 0.3])

		abort cb_ampgate_mes78_2 @norec // abort juste aprs le onset
	}

NOTE 60 1 mes_78_4

print mes_78_4

$tracks("synth_mes_75_n_1").bpf_param(TGranIn_mono, trigRate, [8.8000001907349, 5, "circ", 30, 6, "circ",8.8000001907349])
$tracks("synth_mes_75_n_2").bpf_param(TGranIn_mono, trigRate, [11, 5, "circ", 30, 7, "circ",11])


	whenever trp_ampgate_mes78_4 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $trp))
	{
		group pvoc_mes_78_4
		{
			$rec_buf_pvoc_0_05.rec($trp)
			0.1 obj::crea_track_HOA("pvco_scrub_trp_mes78_4", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_0_05.id()], ["TJPverb_mono", t60, 2]]) 
			$tracks("pvco_scrub_trp_mes78_4").rand_lfo_dyn("TScrubPvocBuf", "pos", 0.1, "linear", 60, $rec_buf_pvoc_0_05)
			// $tracks("pvco_scrub_trp_mes78_4").dae_rand_lfo([1.5, 4, $trp_dae[0], -180, 180, $trp_dae[1], 0, 45, 0], 120)
			$tracks("pvco_scrub_trp_mes78_4").xyz_rand_lfo([-4, 4, $vln_cart[0], -4, 4, $vln_cart[1], 0, 2, $vln_cart[2]], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									


			$tracks("pvco_scrub_trp_mes78_4").amp(-18)
		}

		abort trp_ampgate_mes78_4 @norec // abort juste aprs le onset
	}
// $tracks("pvco_scrub_trp_mes78_4").free()


	$chop_vln_mes78_4_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_vln_mes78_4_amp := 6
	$chop_vln_mes78_4_interp_dur := 8

	whenever vln_ampgate_mes78_4 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vln))
	{
		print onset
		$rec_buf6_05.rec($vln)

		obj::crea_track_HOA("play_env_trig_vln_mes78_4", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes78_4_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf6_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_vln_mes78_4").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $chop_vln_mes78_4_dur, "sine", 12])
		$tracks("play_env_trig_vln_mes78_4").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_vln_mes78_4_dur/3, "sine", 1])
		$tracks("play_env_trig_vln_mes78_4").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_vln_mes78_4_dur, "sine", 1.15])
		$tracks("play_env_trig_vln_mes78_4").amp([$chop_vln_mes78_4_amp, $chop_vln_mes78_4_dur, $chop_vln_mes78_4_amp, 0.2, $chop_vln_mes78_4_amp], free = 0.1) //, free = 0.1, action = ["clearbuf", $rec_buf6_05])
		$tracks("play_env_trig_vln_mes78_4").traj_circ_interp2($vln_dae, $trb_dae, $chop_vln_mes78_4_dur, 1)
		$tracks("play_env_trig_vln_mes78_4").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_vln_mes78_4").dae_rand_lfo([1.5, 10, $vln_dae[0], -180, 180, $vln_dae[1], 0, 45, 0], 80)
		$tracks("play_env_trig_vln_mes78_4").xyz_rand_lfo([-4, 4, $vln_cart[0], -4, 4, $vln_cart[1], 0, 2, $vln_cart[2]], 80) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									

		abort vln_ampgate_mes78_4 @norec // abort juste aprs le onset
	}

	$chop_vlc_mes78_4_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_vlc_mes78_4_amp := 6
	$chop_vlc_mes78_4_interp_dur := 8

	whenever vlc_ampgate_mes78_4 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vlc))
	{
		print onset
		$rec_buf7_05.rec($vlc)

		obj::crea_track_HOA("play_env_trig_vlc_mes78_4", "group_hoa1", fade_in = 0.0001, amp = $chop_vlc_mes78_4_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf7_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_vlc_mes78_4").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $chop_vlc_mes78_4_dur, "sine", 12])
		$tracks("play_env_trig_vlc_mes78_4").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_vlc_mes78_4_dur/3, "sine", 1])
		$tracks("play_env_trig_vlc_mes78_4").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_vlc_mes78_4_dur, "sine", 1.15])
		$tracks("play_env_trig_vlc_mes78_4").amp([$chop_vlc_mes78_4_amp, $chop_vlc_mes78_4_dur, $chop_vlc_mes78_4_amp, 0.2, $chop_vlc_mes78_4_amp], free = 0.1) //, free = 0.1, action = ["clearbuf", $rec_buf7_05])
		// $tracks("play_env_trig_vlc_mes78_4").traj_circ_interp2($vlc_dae, $trb_dae, $chop_vlc_mes78_4_dur, 1)
		$tracks("play_env_trig_vlc_mes78_4").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_vlc_mes78_4").dae_rand_lfo([1.5, 10, $vlc_dae[0], -180, 180, $vlc_dae[1], 0, 45, 0], 80)
		$tracks("play_env_trig_vlc_mes78_4").xyz_rand_lfo([-4, 4, $vlc_cart[0], -4, 4, $vlc_cart[1], 0, 2, $vlc_cart[2]], 80) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									

		abort vlc_ampgate_mes78_4 @norec // abort juste aprs le onset
	}

	$chop_cb_mes78_4_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes78_4_amp := 6
	$chop_cb_mes78_4_interp_dur := 8

	whenever cb_ampgate_mes78_4 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf8_05.rec($cb)

		obj::crea_track_HOA("play_env_trig_cb_mes78_4", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes78_4_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf8_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cb_mes78_4").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $chop_cb_mes78_4_dur, "sine", 12])
		$tracks("play_env_trig_cb_mes78_4").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes78_4_dur/3, "sine", 1])
		$tracks("play_env_trig_cb_mes78_4").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_cb_mes78_4_dur, "sine", 1.15])
		$tracks("play_env_trig_cb_mes78_4").amp([$chop_cb_mes78_4_amp, $chop_cb_mes78_4_dur, $chop_cb_mes78_4_amp, 0.2, $chop_cb_mes78_4_amp], free = 0.1) //, free = 0.1, action = ["clearbuf", $rec_buf8_05])
		// $tracks("play_env_trig_cb_mes78_4").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes78_4_dur, 1)
		$tracks("play_env_trig_cb_mes78_4").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_cb_mes78_4").dae_rand_lfo([1.5, 10, $cb_dae[0], -180, 180, $cb_dae[1], 0, 45, 0], 80)
		$tracks("play_env_trig_cb_mes78_4").xyz_rand_lfo([-4, 4, $cb_cart[0], -4, 4, $cb_cart[1], 0, 2, $cb_cart[2]], 80) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									

		abort cb_ampgate_mes78_4 @norec // abort juste aprs le onset
	}

group gliss_synth
{
			obj::granos_addict("mes_78_4_1", "group_hoa3", [0.5, 8, 4], [-75, 3, -5, -75], [0.5, 1], [2, 90, 0], [1, 90, 90], dir = 1, envbuf0 = "perc", envbuf1 = "perc", trig_rate = [1, 8, 30, 1], chg_ifac = [0, 0.25, 0.5, 1], chg_grain_dur = [0.03, 0.05, 0.03, 0.02], preset = "curve2")
	0.4	obj::granos_addict("mes_78_4_2", "group_hoa3", [1, 8, 4], [-75, -3, -10, -75], [0.8, 1.5], [2, -90, 0], [1, -90, 90], dir = 1, envbuf0 = "perc", envbuf1 = "perc", trig_rate = [1, 10, 30, 1], chg_ifac = [0, 0.25, 0.5, 1], chg_grain_dur = [0.03, 0.05, 0.03, 0.03], preset = "curve1")
	0.3	obj::granos_addict("mes_78_4_3", "group_hoa3", [1.5, 8, 4], [-75, 3, -5, -75], [1.2, 2.5], [2, 0, 0], [1, 0, 90], dir = 1, envbuf0 = "perc", envbuf1 = "perc", trig_rate = [1, 11, 40, 1], chg_ifac = [0, 0.25, 0.5, 1], chg_grain_dur = [0.03, 0.04, 0.05, 0.03], preset = "pintas1")
	0.2	obj::granos_addict("mes_78_4_4", "group_hoa3", [2, 8, 4], [-75, 3, -5, -75], [1.9, 3.5], [2, -180, 0], [1, -180, 90], dir = 1, envbuf0 = "perc", envbuf1 = "perc", trig_rate = [1, 10, 50, 1], chg_ifac = [0, 0.25, 0.5, 1], chg_grain_dur = [0.03, 0.05, 0.05, 0.03], preset = "pintas2")
}

NOTE 60 1 mes_86_n

print mes_86_n

// @obj_def granos_addict($nota_name, $mix_group, $dur_a, $dur_s, $rel, $amp_start, $amp_s, $amp_d, $amp_end, $pitch_init, $pitch_end, $coords_start, $coords_end, $envbuf0 = "pointe", $envbuf1 = "inv", $prob = 1, $tmp = 200, $chg_tmp = [800, 2000, 2000, 800], $chg_ifac = [0, 0.25, 0.5, 1], $chg_grain_dur = [0.03, 0.05, 0.05, 0.03])
// @obj_def granos_addict($nota_name, $mix_group, $dur = [0.5, 8, 4], $amps = [-75, -3, -10, -75], $pitch_gliss := [0.5, 1], $coords_start, $coords_end, $envbuf0 = "pointe", $envbuf1 = "inv", $prob = 1, $tmp = 200, $chg_tmp = [800, 2000, 2000, 800], $chg_ifac = [0, 0.25, 0.5, 1], $chg_grain_dur = [0.03, 0.05, 0.05, 0.03])
// @obj_def granos_addict($nota_name, $mix_group, $dur = [0.5, 8, 4], $amps = [-75, -3, -10, -75], $pitch_gliss = [0.5, 1], $coords_start = [2, 90, 0], $coords_end = [1, 90, 90], $dir = 1, $envbuf0 = "pointe", $envbuf1 = "inv", $trig_rate = [1, 20, 30, 1], $chg_ifac = [0, 0.25, 0.5, 1], $chg_grain_dur = [0.03, 0.05, 0.05, 0.03])

group gliss_synth
{
			obj::granos_addict("mes_86_n_1", "group_hoa3", [0.5, 8, 4], [-75, -3, -10, -75], [0.5, 1], [2, 90, 0], [1, 90, 90], dir = 1, envbuf0 = "rond", envbuf1 = "perc", trig_rate = [1, 8, 30, 1], chg_ifac = [0, 0.25, 0.5, 1], chg_grain_dur = [0.03, 0.05, 0.03, 0.02])
	0.4	obj::granos_addict("mes_86_n_2", "group_hoa3", [1, 8, 4], [-75, -3, -10, -75], [0.8, 1.5], [2, -90, 0], [1, -90, 90], dir = 1, envbuf0 = "rond", envbuf1 = "perc", trig_rate = [1, 10, 30, 1], chg_ifac = [0, 0.25, 0.5, 1], chg_grain_dur = [0.03, 0.05, 0.05, 0.03])
	0.3	obj::granos_addict("mes_86_n_3", "group_hoa3", [1.5, 8, 4], [-75, -3, -10, -75], [1.2, 2.5], [2, 0, 0], [1, 0, 90], dir = 1, envbuf0 = "rond", envbuf1 = "perc", trig_rate = [1, 11, 40, 1], chg_ifac = [0, 0.25, 0.5, 1], chg_grain_dur = [0.03, 0.05, 0.05, 0.03])
	0.2	obj::granos_addict("mes_86_n_4", "group_hoa3", [2, 8, 4], [-75, -3, -10, -75], [1.9, 3.5], [2, -180, 0], [1, -180, 90], dir = 1, envbuf0 = "rond", envbuf1 = "perc", trig_rate = [1, 10, 50, 1], chg_ifac = [0, 0.25, 0.5, 1], chg_grain_dur = [0.03, 0.05, 0.05, 0.03])
}

	$chop_vln_mes_86_n_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_vln_mes_86_n_amp := 6
	$chop_vln_mes_86_n_interp_dur := 8

	whenever vln_ampgate_mes_86_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vln))
	{
		print onset
		$rec_buf9_05.rec($vln)

		obj::crea_track_HOA("play_env_trig_vln_mes_86_n", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes_86_n_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf9_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_vln_mes_86_n").bpf_param("TBufRdEnvInterp", "impulse_rate", [13, $chop_vln_mes_86_n_dur, "sine", 16])
		$tracks("play_env_trig_vln_mes_86_n").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_vln_mes_86_n_dur/3, "sine", 1])
		$tracks("play_env_trig_vln_mes_86_n").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_vln_mes_86_n_dur, "sine", 1.15])
		$tracks("play_env_trig_vln_mes_86_n").amp([$chop_vln_mes_86_n_amp, $chop_vln_mes_86_n_dur, $chop_vln_mes_86_n_amp, 0.2, $chop_vln_mes_86_n_amp]) //, free = 0.1, action = ["clearbuf", $rec_buf9_05])
		$tracks("play_env_trig_vln_mes_86_n").traj_circ_interp2($vln_dae, $trb_dae, $chop_vln_mes_86_n_dur, 1)
		$tracks("play_env_trig_vln_mes_86_n").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_vln_mes_86_n").dae_rand_lfo([1.5, 10, $vln_dae[0], -180, 180, $vln_dae[1], 0, 45, 0], 80)
		$tracks("play_env_trig_vln_mes_86_n").xyz_rand_lfo([-4, 4, $vln_cart[0], -4, 4, $vln_cart[1], 0, 2, $vln_cart[2]], 80) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									

		abort vln_ampgate_mes_86_n @norec // abort juste aprs le onset
	}

	$chop_alto_mes_86_n_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_alto_mes_86_n_amp := 6
	$chop_alto_mes_86_n_interp_dur := 8

	whenever alto_ampgate_mes_86_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $alto))
	{
		print onset
		$rec_buf10_05.rec($alto)

		obj::crea_track_HOA("play_env_trig_alto_mes_86_n", "group_hoa1", fade_in = 0.0001, amp = $chop_alto_mes_86_n_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf10_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_alto_mes_86_n").bpf_param("TBufRdEnvInterp", "impulse_rate", [9, $chop_alto_mes_86_n_dur, "sine", 12])
		$tracks("play_env_trig_alto_mes_86_n").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_alto_mes_86_n_dur/3, "sine", 1])
		$tracks("play_env_trig_alto_mes_86_n").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_alto_mes_86_n_dur, "sine", 1.15])
		$tracks("play_env_trig_alto_mes_86_n").amp([$chop_alto_mes_86_n_amp, $chop_alto_mes_86_n_dur, $chop_alto_mes_86_n_amp, 0.2, $chop_alto_mes_86_n_amp]) //, free = 0.1, action = ["clearbuf", $rec_buf10_05])
		// $tracks("play_env_trig_alto_mes_86_n").traj_circ_interp2($alto_dae, $trb_dae, $chop_alto_mes_86_n_dur, 1)
		$tracks("play_env_trig_alto_mes_86_n").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_alto_mes_86_n").dae_rand_lfo([1.5, 10, $alto_dae[0], -180, 180, $alto_dae[1], 0, 45, 0], 80)
		$tracks("play_env_trig_alto_mes_86_n").xyz_rand_lfo([-4, 4, $alto_cart[0], -4, 4, $alto_cart[1], 0, 2, $alto_cart[2]], 80) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									

		abort alto_ampgate_mes_86_n @norec // abort juste aprs le onset
	}

	$chop_vlc_mes_86_n_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_vlc_mes_86_n_amp := 6
	$chop_vlc_mes_86_n_interp_dur := 8

	whenever vlc_ampgate_mes_86_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vlc))
	{
		print onset
		$rec_buf11_05.rec($vlc)

		obj::crea_track_HOA("play_env_trig_vlc_mes_86_n", "group_hoa1", fade_in = 0.0001, amp = $chop_vlc_mes_86_n_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf11_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_vlc_mes_86_n").bpf_param("TBufRdEnvInterp", "impulse_rate", [12, $chop_vlc_mes_86_n_dur, "sine", 15])
		$tracks("play_env_trig_vlc_mes_86_n").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_vlc_mes_86_n_dur/3, "sine", 1])
		$tracks("play_env_trig_vlc_mes_86_n").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_vlc_mes_86_n_dur, "sine", 1.15])
		$tracks("play_env_trig_vlc_mes_86_n").amp([$chop_vlc_mes_86_n_amp, $chop_vlc_mes_86_n_dur, $chop_vlc_mes_86_n_amp, 0.2, $chop_vlc_mes_86_n_amp]) //, free = 0.1, action = ["clearbuf", $rec_buf11_05])
		// $tracks("play_env_trig_vlc_mes_86_n").traj_circ_interp2($vlc_dae, $trb_dae, $chop_vlc_mes_86_n_dur, 1)
		$tracks("play_env_trig_vlc_mes_86_n").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_vlc_mes_86_n").dae_rand_lfo([1.5, 10, $vlc_dae[0], -180, 180, $vlc_dae[1], 0, 45, 0], 80)
		$tracks("play_env_trig_vlc_mes_86_n").xyz_rand_lfo([-4, 4, $vlc_cart[0], -4, 4, $vlc_cart[0], 0, 2, $vlc_cart[0]], 80) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									

		abort vlc_ampgate_mes_86_n @norec // abort juste aprs le onset
	}

	$chop_cb_mes_86_n_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes_86_n_amp := 6
	$chop_cb_mes_86_n_interp_dur := 8

	whenever cb_ampgate_mes_86_n (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cb))
	{
		print onset
		$rec_buf12_05.rec($cb)

		obj::crea_track_HOA("play_env_trig_cb_mes_86_n", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes_86_n_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf12_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cb_mes_86_n").bpf_param("TBufRdEnvInterp", "impulse_rate", [11, $chop_cb_mes_86_n_dur, "sine", 14])
		$tracks("play_env_trig_cb_mes_86_n").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes_86_n_dur/3, "sine", 1])
		$tracks("play_env_trig_cb_mes_86_n").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_cb_mes_86_n_dur, "sine", 1.15])
		$tracks("play_env_trig_cb_mes_86_n").amp([$chop_cb_mes_86_n_amp, $chop_cb_mes_86_n_dur, $chop_cb_mes_86_n_amp, 0.2, $chop_cb_mes_86_n_amp]) //, free = 0.1, action = ["clearbuf", $rec_buf12_05])
		// $tracks("play_env_trig_cb_mes_86_n").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes_86_n_dur, 1)
		$tracks("play_env_trig_cb_mes_86_n").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_cb_mes_86_n").dae_rand_lfo([1.5, 10, $cb_dae[0], -180, 180, $cb_dae[1], 0, 45, 0], 80)
		$tracks("play_env_trig_cb_mes_86_n").xyz_rand_lfo([-4, 4, $cb_cart[0], -4, 4, $cb_cart[0], 0, 2, $cb_cart[0]], 80) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									


		abort cb_ampgate_mes_86_n @norec // abort juste aprs le onset
	}
// $tracks("mes_78_4").free()
// print (""+$tracks)
// $tracks.remove("mes_78_6")
// $tracks("mes_78_6").free()

NOTE 60 1 mes_85

print mes_85

// $tracks("synth_mes_75_n_1").free(3)
// $tracks("synth_mes_75_n_2").free(3)


group vents_mes_85
{
	0.2 $chop_htb_mes85_dur := 8 // amp = dur + dur*3 + dur = 5*dur
	$chop_htb_mes85_amp := 6

	// whenever chop_htb_mes85 (($onsetdetect[0] == "server5") && ($onsetdetect[1] == $htb))
	whenever chop_htb_mes85 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $htb))
	{
		print onset
		$rec_buf13_05.rec($htb)

		obj::crea_track_HOA("chop_htb_mes85", "group_hoa1", fade_in = 0.001, amp = $chop_htb_mes85_amp, doppler = 0, in_channels = 1, [["TCortaRandBuf", "buf", $rec_buf13_05.id(), "loopDur", 0.1]])  //, [Norm, lev, 0.03]
		$tracks("chop_htb_mes85").set("TCortaRandBuf", ["trig_time", 10]) // trigger chop
		$tracks("chop_htb_mes85").rand_lfo("TCortaRandBuf", "trig_time", 4, 10, 4, "linear", 60)
		$tracks("chop_htb_mes85").set("TCortaRandBuf", ["fadeTime", 0.001]) // trigger chop
		$tracks("chop_htb_mes85").amp([$chop_htb_mes85_amp, $chop_htb_mes85_dur, $chop_htb_mes85_amp]) //, 2, -60], free = 0.1, action = ["clearbuf", $rec_buf13_05])
		// $tracks("chop_htb_mes85").traj_circ_interp2($vlc_dae, $bsn_dae, $chop_htb_mes85_dur, -1)
		$tracks("chop_htb_mes85").xyz_rand_lfo([-4, 4, $htb_cart[0], -4, 4, $htb_cart[1], 0, 2, $htb_cart[2]], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
		// $tracks("chop_htb_mes85").free()
		abort chop_htb_mes85 @norec
	}

	$chop_cl_mes85_dur := 8 // amp = dur + dur*3 + dur = 5*dur
	$chop_cl_mes85_amp := 6

	whenever cl_ampgate_mes85 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cl))
	{
		print onset
		$rec_buf14_05.rec($cl)

		obj::crea_track_HOA("play_env_trig_cl_mes85", "group_hoa1", fade_in = 0.0001, amp = $chop_cl_mes85_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf14_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cl_mes85").bpf_param("TBufRdEnvInterp", "impulse_rate", [8, $chop_cl_mes85_dur, "sine", 11])
		$tracks("play_env_trig_cl_mes85").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cl_mes85_dur/3, "sine", 1])
		$tracks("play_env_trig_cl_mes85").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_cl_mes85_dur, "sine", 1.15])
		$tracks("play_env_trig_cl_mes85").amp([$chop_cl_mes85_amp, $chop_cl_mes85_dur, $chop_cl_mes85_amp]) //, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf14_05])
		// $tracks("play_env_trig_cl_mes85").traj_circ_interp2($cl_dae, $trb_dae, $chop_cl_mes85_dur, 1)
		$tracks("play_env_trig_cl_mes85").set(CompressorD, [thresh, 0.3])
		$tracks("play_env_trig_cl_mes85").xyz_rand_lfo([-4, 4, $cl_cart[0], -4, 4, $cl_cart[1], 0, 2, $cl_cart[2]], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									

		abort cl_ampgate_mes85 @norec // abort juste aprs le onset
	}	
}

NOTE 60 1 mes_85_2

print mes_85_2

group pvoc_mes_85_2
{
	$rec_buf_pvoc_1_05.rec($trp)
	0.1 obj::crea_track_HOA("pvco_scrub_trp_mes85_2", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_1_05.id()], ["TJPverb_mono", t60, 2]]) 
	$tracks("pvco_scrub_trp_mes85_2").rand_lfo_dyn("TScrubPvocBuf", "pos", 0, "linear", 60, $rec_buf_pvoc_1_05)
	// $tracks("pvco_scrub_trp_mes85_2").dae_rand_lfo([1.5, 4, $trp_dae[0], -180, 180, $trp_dae[1], 0, 45, 0], 120)
	$tracks("pvco_scrub_trp_mes85_2").xyz_rand_lfo([-4, 4, $trp_cart[0], -4, 4, $trp_cart[1], 0, 2, $trp_cart[2]], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
	$tracks("pvco_scrub_trp_mes85_2").amp(-18)
}

NOTE 60 1 mes_85_4

print mes_85_4

		group pvoc_fl_mes_85_4
		{
			$rec_buf_pvoc_2_05.rec($fl)
			0.1 obj::crea_track_HOA("pvco_scrub_fl_mes85_4", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_2_05.id()], ["TJPverb_mono", t60, 2]]) 
			$tracks("pvco_scrub_fl_mes85_4").rand_lfo_dyn("TScrubPvocBuf", "pos", 0.1, "linear", 60, $rec_buf_pvoc_2_05)
			// $tracks("pvco_scrub_fl_mes85_4").dae_rand_lfo([1.5, 4, $fl_dae[0], -180, 180, $fl_dae[1], 0, 45, 0], 120)
			$tracks("pvco_scrub_fl_mes85_4").xyz_rand_lfo([-4, 4, 0, -4, 4, 0, 0, 2, 0.0], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol												
			$tracks("pvco_scrub_fl_mes85_4").amp(-18)
		}

		group pvoc_htb_mes_85_4
		{
			$rec_buf_pvoc_3_05.rec($htb)
			0.1 obj::crea_track_HOA("pvco_scrub_htb_mes85_4", "group_hoa1", fade_in = 1, amp = -5, doppler = 0, in_channels = 1, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_3_05.id()], ["TJPverb_mono", t60, 2]]) 
			$tracks("pvco_scrub_htb_mes85_4").rand_lfo_dyn("TScrubPvocBuf", "pos", 0.1, "linear", 60, $rec_buf_pvoc_3_05)
			// $tracks("pvco_scrub_htb_mes85_4").dae_rand_lfo([1.5, 4, $htb_dae[0], -180, 180, $htb_dae[1], 0, 45, 0], 120)
			$tracks("pvco_scrub_htb_mes85_4").xyz_rand_lfo([-4, 4, 0, -4, 4, 0, 0, 2, 0.0], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol															
			$tracks("pvco_scrub_htb_mes85_4").amp(-18)
		}


		group pvoc_cor1_mes_85_4
		{
			$rec_buf_pvoc_4_05.rec($cor1)
			0.1 obj::crea_track_HOA("pvco_scrub_cor1_mes85_4", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_4_05.id()], ["TJPverb_mono", t60, 2]]) 
			$tracks("pvco_scrub_cor1_mes85_4").rand_lfo_dyn("TScrubPvocBuf", "pos", 0.1, "linear", 60, $rec_buf_pvoc_4_05)
			// $tracks("pvco_scrub_cor1_mes85_4").dae_rand_lfo([1.5, 4, $cor1_dae[0], -180, 180, $cor1_dae[1], 0, 45, 0], 120)
			$tracks("pvco_scrub_cor1_mes85_4").xyz_rand_lfo([-4, 4, 0, -4, 4, 0, 0, 2, 0.0], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol															
			$tracks("pvco_scrub_cor1_mes85_4").amp(-18)
		}

		group pvoc_trp_mes_85_4
		{
			$rec_buf_pvoc_5_05.rec($trp)
			0.1 obj::crea_track_HOA("pvco_scrub_trp_mes85_4", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_5_05.id()], ["TJPverb_mono", t60, 2]]) 
			$tracks("pvco_scrub_trp_mes85_4").rand_lfo_dyn("TScrubPvocBuf", "pos", 0.1, "linear", 60, $rec_buf_pvoc_5_05)
			// $tracks("pvco_scrub_trp_mes85_4").dae_rand_lfo([1.5, 4, $trp_dae[0], -180, 180, $trp_dae[1], 0, 45, 0], 120)
			$tracks("pvco_scrub_trp_mes85_4").xyz_rand_lfo([-4, 4, 0, -4, 4, 0, 0, 2, 0.0], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol																		
			$tracks("pvco_scrub_trp_mes85_4").amp(-18)
		}

antescofo::tempo 122

NOTE 60 1 mes_86

print mes_86



		group pvoc_vln_mes_86
		{
			$rec_buf_pvoc_6_05.rec($vln)
			0.1 obj::crea_track_HOA("pvco_scrub_vln_mes86", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_6_05.id()], ["TJPverb_mono", t60, 2]]) 
			$tracks("pvco_scrub_vln_mes86").rand_lfo_dyn("TScrubPvocBuf", "pos", 0.1, "linear", 60, $rec_buf_pvoc_6_05)
			// $tracks("pvco_scrub_vln_mes86").dae_rand_lfo([1.5, 4, $vln_dae[0], -180, 180, $vln_dae[1], 0, 45, 0], 120)
			$tracks("pvco_scrub_vln_mes86").xyz_rand_lfo([-4, 4, 0, -4, 4, 0, 0, 2, 0.0], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
			$tracks("pvco_scrub_vln_mes86").amp(-18)
		}


		group pvoc_alto_mes_86
		{
			$rec_buf_pvoc_7_05.rec($alto)
			0.1 obj::crea_track_HOA("pvco_scrub_alto_mes86", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_7_05.id()], ["TJPverb_mono", t60, 2]]) 
			$tracks("pvco_scrub_alto_mes86").rand_lfo_dyn("TScrubPvocBuf", "pos", 0.1, "linear", 60, $rec_buf_pvoc_7_05)
			// $tracks("pvco_scrub_alto_mes86").dae_rand_lfo([1.5, 4, $alto_dae[0], -180, 180, $alto_dae[1], 0, 45, 0], 120)
			$tracks("pvco_scrub_alto_mes86").xyz_rand_lfo([-4, 4, 0, -4, 4, 0, 0, 2, 0.0], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol			
			$tracks("pvco_scrub_alto_mes86").amp(-18)
		}


		group pvoc_vlc_mes_86
		{
			$rec_buf_pvoc_8_05.rec($vlc)
			0.1 obj::crea_track_HOA("pvco_scrub_vlc_mes86", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_8_05.id()], ["TJPverb_mono", t60, 2]]) 
			$tracks("pvco_scrub_vlc_mes86").rand_lfo_dyn("TScrubPvocBuf", "pos", 0.1, "linear", 60, $rec_buf_pvoc_8_05)
			// $tracks("pvco_scrub_vlc_mes86").dae_rand_lfo([1.5, 4, $vlc_dae[0], -180, 180, $vlc_dae[1], 0, 45, 0], 120)
			$tracks("pvco_scrub_vlc_mes86").xyz_rand_lfo([-4, 4, 0, -4, 4, 0, 0, 2, 0.0], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol						
			$tracks("pvco_scrub_vlc_mes86").amp(-18)
		}

		group pvoc_cb_mes_86
		{
			$rec_buf_pvoc_9_05.rec($cb)
			0.1 obj::crea_track_HOA("pvco_scrub_cb_mes86", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_9_05.id()], ["TJPverb_mono", t60, 2]]) 
			$tracks("pvco_scrub_cb_mes86").rand_lfo_dyn("TScrubPvocBuf", "pos", 0.1, "linear", 60, $rec_buf_pvoc_9_05)
			// $tracks("pvco_scrub_cb_mes86").dae_rand_lfo([1.5, 4, $cb_dae[0], -180, 180, $cb_dae[1], 0, 45, 0], 120)
			$tracks("pvco_scrub_cb_mes86").xyz_rand_lfo([-4, 4, 0, -4, 4, 0, 0, 2, 0.0], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
			$tracks("pvco_scrub_cb_mes86").amp(-18)
		}


			

group gran_synth_secII
{
	$chop_cb_mes86_dur := 20 // amp = dur + dur*3 + dur = 5*dur
	$chop_cb_mes86_amp := 6
	$chop_cb_mes86_interp_dur := 8

	obj::crea_track_HOA("play_env_trig_cb_mes86", "group_hoa1", fade_in = 0.0001, amp = $chop_cb_mes86_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf21_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
	$tracks("play_env_trig_cb_mes86").bpf_param("TBufRdEnvInterp", "impulse_rate", [10, $chop_cb_mes86_dur, "sine", 13])
	$tracks("play_env_trig_cb_mes86").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cb_mes86_interp_dur, "sine", 1])
	$tracks("play_env_trig_cb_mes86").amp([$chop_cb_mes86_amp, $chop_cb_mes86_dur, $chop_cb_mes86_amp]) //, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf21_05])
	// $tracks("play_env_trig_cb_mes86").traj_circ_interp2($cb_dae, $trb_dae, $chop_cb_mes86_dur, 1)
	$tracks("play_env_trig_cb_mes86").set(CompressorD, [thresh, 0.3])
	// $tracks("play_env_trig_cb_mes86").dae_rand_lfo([1.5, 10, $cb_dae[0], -180, 180, $cb_dae[1], 0, 45, 0], 80)
	$tracks("play_env_trig_cb_mes86").xyz_rand_lfo([-4, 4, 2, -4, 4, 0, 0, 2, 0.0], 80) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
	$tracks("play_env_trig_cb_mes86").doppler(1)
	// $tracks("play_env_trig_cb_mes86").set("TBufRdEnvInterp", ["interp", 0.7])

	// $tracks("play_env_trig_cb_mes86").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_cb_mes86_interp_dur, "sine", 1.5])
	// ($chop_cb_mes86_interp_dur) $tracks("play_env_trig_cb_mes86").rand_lfo("TBufRdEnvInterp", "rate", 0.8, 1.5, 1.5, "linear", 80)
	// $tracks("play_env_trig_cb_mes86").rand_lfo("TBufRdEnvInterp", "interp", -1, 1, -1, "linear", 80)
}

NOTE 60 1 mes_90_tranlation

print mes_90
// $tracks("play_env_trig_cb_mes86").xyz_rand_lfo_abort()
// print ($tracks("play_env_trig_vlc_mes78").xyz_list())
// print ($tracks("play_env_trig_alto_mes_86_n").xyz_list())
// print (""+$tracks)

// $tracks("play_env_trig_vln_mes_86_n").rand_lfo_dyn_bpf("TBufRdEnvInterp", "pos", 0, [0, 10, 1], "linear", 60) 
// $tracks("play_env_trig_vln_mes_86_n").rand_lfo_dyn_bpf("TBufRdEnvInterp", "impulse_rate", 1, [1, 10, 20], "linear", 60) 
// $tracks("play_env_trig_vln_mes_86_n").lfo_abort("TBufRdEnvInterp", "pos")
	// create a group of tracks

	// saque  "chop_htb_mes85",
	$tracks_group_inst1 := obj::tracks_group(["play_env_trig_vlc_mes78", "play_env_trig_cl_mes85", "play_env_trig_alto_mes_86_n", "play_env_trig_cb_mes86", "play_env_trig_cb_mes_86_n", "play_env_trig_vlc_mes_86_n", "play_env_trig_vln_mes_86_n"])
	$tracks_group_inst2_pvoc := obj::tracks_group(["pvco_scrub_fl_mes85_4", "pvco_scrub_htb_mes85_4", "pvco_scrub_cor1_mes85_4", "pvco_scrub_trp_mes78_4", "pvco_scrub_trp_mes85_2", "pvco_scrub_trp_mes85_4", "pvco_scrub_vln_mes86", "pvco_scrub_alto_mes86", "pvco_scrub_vlc_mes86", "pvco_scrub_cb_mes86"])
	
	$tracks_group_inst1.xyz_rand_lfo_abort()
	$tracks_group_inst1.xyz_interpol2point([-2,-0,0.2], 5)
	// $tracks_group_inst1.xyz_interpol2point([2,0,0.0], 5)
	$tracks_group_inst1.amp_add([0, 5, -6])
	// $tracks_group_inst1.amp_add([-6, 5, -12])
	// $tracks_group_inst1.amp_add([-12, 5, 0])
	$tracks_group_inst2_pvoc.amp_add([0, 5, -2])

	5.01
	$tracks_group_inst1.global_xyz_rand_lfo([-4, 4, -2, -4, 4, 0, 0, 2, 0.0], 20)
	$tracks_group_inst1.xyz_rand_lfo([-0.2, 0.2, 2,-0.2, 0.2, 0, 0, 0.2, 0.0], 80)

	$tracks_group_inst1.set_list_dist("TBufRdEnvInterp", "impulse_rate", $tracks_group_inst1.retrieve_param("TBufRdEnvInterp", "impulse_rate"), [0.5, 4.5, 0.5, 4.5]) 
	$tracks_group_inst1.set_list_dist("TBufRdEnvInterp", "impulse_rate", $tracks_group_inst1.retrieve_param("TBufRdEnvInterp", "impulse_rate"), [0.5, 4.5, 4.5, 0.1]) 


	$tracks_group_inst1.set("TBufRdEnvInterp", ["impulse_rate", 2])
	$tracks_group_inst1.set_list("TBufRdEnvInterp", "impulse_rate", [10, 11, 12, 13, 14, 15, 16]*0.3)
	$tracks_group_inst1.set_list("TBufRdEnvInterp", "impulse_rate", [6, 7, 8, 9, 10, 11, 12, 13])
	$tracks_group_inst1.set_list("TBufRdEnvInterp", "impulse_rate", [26, 27, 28, 29, 30, 31, 32, 33]-20)
	$tracks_group_inst1.set_list_interp("TBufRdEnvInterp", "impulse_rate", [10, 11, 12, 13, 14, 15, 16], [21, 22, 23, 24, 25, 26, 27], 10, "linear")
	$tracks_group_inst1.rand_lfo_dyn_bpf("TBufRdEnvInterp", "impulse_rate", 1, [1, 10, 30], "linear", 60)
	$tracks_group_inst1.rand_lfo_dyn_bpf("TBufRdEnvInterp", "pos", 0, [1, 10, 1], "exp", 60)
	// $tracks_group_inst1.lfo_abort("TBufRdEnvInterp", "impulse_rate")
	$tracks_group_inst1.lfo_abort("TBufRdEnvInterp", "pos")
	$tracks_group_inst1.global_xyz_rand_lfo_abort()

	// $tracks_group_inst1.rand_lfo_abort("TBufRdEnvInterp", "pos")
	// $tracks_group_inst1.free(5)
	// $tracks_group_inst1.amp(-35)

/*	$tracks_group_inst1.rand_lfo("TBufRdEnvInterp", "interp", -1, 1, -1, "linear", 80)
	$tracks_group_inst1.amp([2, 4, -6])
	$tracks_group_inst2_pvoc.xyz_rand_lfo([-0.2, 0.2, 0,-0.2, 0.2, 0, 0, 0.2, 0.0], 80)
	$tracks_group_inst2_pvoc.amp([0, 10, -35])
	$tracks_group_inst2_pvoc.amp(-35)
	$tracks_group_inst2_pvoc.free(1)*/
// $tracks("play_env_trig_cb_mes86").free()

print (""+$Servers)
print (""+$SC_Groups)
print (""+$sc_struct("server1")(771))
$sc_struct("server1")(2793).add_pair(["toto", 20]) 

print (""+$synths_map("server1")("group_hoa1")("play_env_trig_vlc_mes78")) //("play_env_trig_vlc_mes78"))
$Servers("server1").s_get([1048, impulse_rate])

print (""+$synths_map("server1")("group_hoa1")("play_env_trig_vlc_mes78")("TBufRdEnvInterp"))
print ($tracks("play_env_trig_vlc_mes78").get("TBufRdEnvInterp", "impulse_rate"))
$tracks("play_env_trig_vlc_mes78").set("TBufRdEnvInterp", ["impulse_rate", 10, "interp", 11])
$tracks("play_env_trig_vlc_mes78").set(CompressorD, [thresh, 0.3])

print ($tracks_group_inst1.retrieve_param("TBufRdEnvInterp", "impulse_rate"))

  // curve
  //     @Grain := 10 ms
  //     @action :=  { 
  //     		$tracks_group_inst2_pvoc.HOA_global_track_xyz([$val, 0, 0])
  //        }

  //                 { $val {
  //                		{0} @type := "exp"
  //                10 {20} 
  //              }
  //           }

/*$tracks_group_inst2_pvoc.HOA_global_track_xyz([0, 0, 0])
$tracks_group_inst1.HOA_global_track_xyz([0, 0, 0])

whenever xyz_factor1 ($xyz_factor1)
{
	$tracks_group_inst2_pvoc.HOA_xyz_factor($xyz_factor1)

	print xyz_factor1 $xyz_factor1
}

whenever xyz_factor1 ($xyz_factor1)
{
	$tracks_group_inst1.HOA_xyz_factor($xyz_factor1)

	print xyz_factor1 $xyz_factor1
}
*/

// $tracks_group_inst1.global_xyz_rand_lfo_print()
// print (""+$tracks_group_inst1.$global_xyz_rand_lfo_proc.$tracks_list)

// abort xyz_factor1


// $tracks("play_env_trig_alto_mes_86_n").free()
// $tracks("play_env_trig_cb_mes78_4").free()

// $tracks_group_inst1.global_xyz_rand_lfo_abort()


$of_gui := ::gui_oF_trajs() // send o OpenFramaworks visual
// abort $of_gui

// abort $tracks_group_inst1
// abort $tracks_group_inst2_pvoc


// prepare rec_cb buffer
$rec_buf1_5 := obj::rec_buf_onset("server1", duree = 26)


NOTE 60 1 mes_92_rec_cb_prep

print mes_92_rec_cb


// $rec_buf1_5 := obj::rec_buf_onset("server1", duree = 26)

// whenever onset_test ($onsetdetect==$onsetdetect)
// {
// 	print (""+$onsetdetect)
// }
// $onset_test.free()
// abort onset_test
// $rec_buf1_5.free()
$Servers("server5").notify(1)
$Servers("server1").notify(1)
$Servers("server1").dumpOSC(0)
// $onset_test.thresh(0.01)

NOTE 60 1 mes_93_rec_cb

print mes_93_rec_cb

$rec_buf1_5.rec($cb)


4.33 print (""+$rec_buf1_5.dates())
print (""+$rec_buf1_5.id()) 
print (""+$rec_buf1_5.abs_dur()) 
// $rec_buf1_5.getn()
// $rec_buf1_5.query()
// $rec_buf1_5_durs := @succession(@-, $rec_buf1_5.dates()).abs()

// $Servers("server1").b_getn(283, 2500, 2530) // for tests

// print ($rec_buf1_5.dates()[])
// print ($rec_buf1_5.dates().size())

// $rec_buf1_5.write("test_onset_cb")

obj::crea_track_HOA("onset_seq", "group_hoa1", amp = 0, in_channels = 1)
// $tracks("onset_seq").mod_add([TJPverb_mono])
// $tracks("onset_seq").set(TJPverb_mono, [t60, 1])
// $tracks("onset_seq").mod_remove(TJPverb_mono)
	$tracks("onset_seq").dae_rand_lfo([0.75, 1.5, $cb_dae[0], -180, 180, $cb_dae[1], 0, 45, 0], 80)

$xfade := 0.01
$overlap := 0.3
whenever prob_vect ($seg_end)
{
	@local $choose_seg := @rand_int($rec_buf1_5.dates().size()-2), $rec_buf1_5_durs := @succession(@-, $rec_buf1_5.dates()).abs()
	$tracks("onset_seq").mod_add(["Sample_play_seg", "buf", $rec_buf1_5.id(), "pos", $rec_buf1_5.dates()[$choose_seg]*48000, "dursecs", $rec_buf1_5_durs[$choose_seg], "fade", $xfade, "overlap", $overlap], "top")
	print seg_end (""+$seg_end)
	print $choose_seg
	print (""+$rec_buf1_5_durs)
}
1 $seg_end := 1

// abort prob_vect

// loop toto 0.1
// {
// 	@local $choose_seg := @rand_int($rec_buf1_5.dates().size())
// 	$tracks("onset_seq").mod_add(["Sample_play_seg", "buf", $rec_buf1_5.id(), "pos", $rec_buf1_5.dates()[$choose_seg]*48000, "dursecs", $rec_buf1_5_durs[$choose_seg]], "top")
// }

// abort toto

// $tracks("onset_seq").mod_add(["Sample_play_seg", "buf", $rec_buf1_5.id(), "pos", $rec_buf1_5.dates()[8]*48000, "dur_secs", $rec_buf1_5_durs[8]], "top")
// $Servers("server1").g_dumpTree(0, 1)
NOTE 60 1 mes_121

print mes_121
print toto
obj::crea_track_HOA("shaper_mes121_1", "group_hoa1", fade_in = 1, amp = -26, doppler = 0, in_channels = 1,[["Shaper2_mono", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 40, "amp", -3, "curvemax", 0]])
$tracks("shaper_mes121_1").traj_circ2([1, 0, 0], 1, 20) 
// $tracks("shaper_mes121_1").set(Shaper2_mono, ["freq", 50])
obj::crea_track_HOA("shaper_mes121_2", "group_hoa1", fade_in = 1, amp = -26, doppler = 0, in_channels = 1,[["Shaper2_mono", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 50, "amp", -3, "curvemax", 0]])
$tracks("shaper_mes121_2").traj_circ2([1, 180, 0], -1, 20) 
obj::crea_track_HOA("shaper_mes121_3", "group_hoa1", fade_in = 1, amp = -26, doppler = 0, in_channels = 1,[["Shaper2_mono", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 60, "amp", -3, "curvemax", 0]])
$tracks("shaper_mes121_3").traj_circ2([1, 90, 0], 1, 120) 
obj::crea_track_HOA("shaper_mes121_4", "group_hoa1", fade_in = 1, amp = -26, doppler = 0, in_channels = 1,[["Shaper2_mono", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 70, "amp", -3, "curvemax", 0]])
$tracks("shaper_mes121_4").traj_circ2([1, -90, 0], -1, 20) 

// lfo global generator
$rand_lfo_test1 := obj::rand_lfo_glob2(0, 1, 0.5, 200, "exp_in")
abort $rand_lfo_test1
$sin_lfo_test1 := obj::sin_lfo_glob(0, 1, 1)
$sin_lfo_test1.tpo(0.3)

$brown_lfo_test1 := obj::brown_lfo_glob(0, 1, 3, 0.5, "linear", 60) 

$brown_lfo_test1.add_suscriber($tracks("shaper_mes121_1"), \$u, $i.($u.d_factor(@scale_compiled($i, 0, 1, 0.5, 1.5, 1))))
abort $brown_lfo_test1
$saw_lfo_test1 := obj::saw_lfo_glob(0, 1, 0.5, 1)
abort $saw_lfo_test1

$saw_lfo_test1.add_suscriber($tracks("shaper_mes121_2"), \$u, $i.($u.d_factor(@scale_compiled($i, 0, 1, 0.5, 2, 1))))

$tri_lfo_test1 := obj::lfo_tri_glob(0, 1, 1) 
$tri_lfo_test1.add_suscriber($tracks("shaper_mes121_3"), \$u, $i.($u.d_factor(@scale_compiled($i, 0, 1, 0.5, 2, 1))))
$tri_lfo_test1.add_suscriber($tracks("shaper_mes121_3"), \$u, $i.($u.set(Shaper2_mono, [freq, @scale_compiled($i, 0, 1, 60, 100, 1)])))
$tri_lfo_test1.add_suscriber($tracks("shaper_mes121_3"), \$u, $i.($u.amp(@scale_compiled($i, 0, 1, -10, -50, 1))))

$tri_lfo_test1.tpo(10)

$tri_lfo_test1.unsuscribe($tracks("shaper_mes121_3"), amp)
$tri_lfo_test1.unsuscribe($tracks("shaper_mes121_3"), d_factor)
$tri_lfo_test1.unsuscribe($tracks("shaper_mes121_3"), set, "Shaper2_mono", "freq")

// add_suscriber, add method of track objets to modulate params with the same lfo control and differents scales 
$rand_lfo_test1.add_suscriber($tracks("shaper_mes121_1"), \$u, $i.($u.amp(@scale_compiled($i, 0, 1, -50, -20, 1))))
$rand_lfo_test1.add_suscriber($tracks("shaper_mes121_2"), \$u, $i.($u.amp(@scale_compiled($i, 0, 1, -50, -20, 1))))
$rand_lfo_test1.add_suscriber($tracks("shaper_mes121_1"), \$u, $i.($u.d_factor(@scale_compiled($i, 0, 1, 0.1, 4, 1))))
$rand_lfo_test1.add_suscriber($tracks("shaper_mes121_2"), \$u, $i.($u.d_factor(@scale_compiled($i, 0, 1, 0.1, 4, 1))))
$rand_lfo_test1.add_suscriber($tracks("shaper_mes121_1"), \$u, $i.($u.set(Shaper2_mono, [freq, @scale_compiled($i, 0, 1, 100, 40, 1)])))
$rand_lfo_test1.add_suscriber($tracks("shaper_mes121_2"), \$u, $i.($u.set(Shaper2_mono, [freq, @scale_compiled($i, 0, 1, 120, 50, 1)])))

$rand_lfo_test1.unsuscribe($tracks("shaper_mes121_1"), amp)
$rand_lfo_test1.unsuscribe($tracks("shaper_mes121_2"), amp)
$rand_lfo_test1.unsuscribe($tracks("shaper_mes121_1"), d_factor)
$rand_lfo_test1.unsuscribe($tracks("shaper_mes121_2"), d_factor)
$rand_lfo_test1.unsuscribe($tracks("shaper_mes121_1"), set, Shaper2_mono, freq)
$rand_lfo_test1.unsuscribe($tracks("shaper_mes121_2"), set, Shaper2_mono, freq)

// $tracks("shaper_mes121_1").sin_lfo(Shaper2_mono, "freq", 50, 200, 0.1) 
// $tracks("shaper_mes121_1").lfo_abort(Shaper2_mono, "freq")

print toto (""+$tracks("shaper_mes121_1"))

print commande (@extract_command(""+(\$u, $i.($u.set(Shaper2_mono, ["freq",@scale_compiled($i, 0, 1, 40, 500, 1)])))))
$toto :=  (""+(\$u, $i.($u.set(Shaper2_mono, [freq,@scale_compiled($i, 0, 1, 40, 500, 1)]))))
print commande (@extract_command($toto))
print $toto

$template_command := "set\\([ ]*([A-Za-z0-9_-]+)[ ]*,.*\\[([A-Za-z0-9_-]+)[ ]*,"

$data := [
	  "\$u, $i.($u.amp(@scale_compiled($i, 0, 1, -50, 0, 1)))",
	  "\$u, $i.($u.amp(@scale_compiled($i, 0, 1, 0, -50, 1)))",
	  "\$u, $i.($u.d_factor(@scale_compiled($i, 0, 1, 0.75, 4, 1)))",
	  "\$u, $i.($u.set(RingMod, [mod ,@scale_compiled($i, 0, 1, 40, 500, 1)])))",
	  "\$u, $i.($u.set(Shaper2_mono, [freqshift,@scale_compiled($i, 0, 1, 100, 1000, 1)]))",
	  "\$u, $i.($u.set(Shaper2_mono, [freq,@scale_compiled($i, 0, 1, 100, 1000, 1)]))"
	  ]

 forall $cmd in $data
 {
   print commande (@extract_command($cmd)) for $cmd
 }


$template_method := "\\(\\$u\\.[ ]*([A-Za-z0-9_-]+)[ ]*\\("

@r_compile($template_method, $template_method)

print (""+@r_search($template_method, "\$u, $i.($u.set(Shaper2_mono, [freq,@scale_compiled($i, 0, 1, 100, 1000, 1)]))"))
print (""+@r_search($template_method, "\$u, $i.($u.d_factor(@scale_compiled($i, 0, 1, 0.75, 4, 1)))"))
print (""+@r_search($template_method, "\$u, $i.($u.amp(@scale_compiled($i, 0, 1, 0, -50, 1)))"))

@fun_def @extract_command($s)
{
   @local $res := @r_search($template_command, $s)
   if ($res)
     { return $res.drop(1).take(2) }
   else
     { return false }
}


$rand_lfo_test1.diffuse()
abort $rand_lfo_test1

$sin_lfo_test1.diffuse()
abort $sin_lfo_test1

$nim_grain1 := NIM { 0 1, 0.25 0 "quad", 0.5 0 "quad", 0.25 1 "quad"}
$nim_grain2 := NIM { 0 0, 0.25 1 "quad", 0.25 0 "quad", 0.5 0 "quad"}
$nim_grain3 := NIM { 0 0, 0.25 0 "quad", 0.25 1 "quad", 0.25 0 "quad"}
$nim_grain4 := NIM { 0 0, 0.5 0 "quad", 0.25 1 "quad", 0.25 0 "quad"}

$nim_grain1_l := NIM { 0 1, 0.25 0 "linear", 0.5 0 "linear", 0.25 1 "linear"}
$nim_grain2_l := NIM { 0 0, 0.25 1 "linear", 0.25 0 "linear", 0.5 0 "linear"}
$nim_grain3_l := NIM { 0 0, 0.25 0 "linear", 0.25 1 "linear", 0.25 0 "linear"}
$nim_grain4_l := NIM { 0 0, 0.5 0 "linear", 0.25 1 "linear", 0.25 0 "linear"}

$rand_lfo_test1.add_suscriber($tracks("shaper_mes121_1"), \$u, $i.($u.amp(@scale_compiled($nim_grain1($i), 0, 1, -50, -26, 1))))
$rand_lfo_test1.add_suscriber($tracks("shaper_mes121_2"), \$u, $i.($u.amp(@scale_compiled($nim_grain2($i), 0, 1, -50, -26, 1))))
$rand_lfo_test1.add_suscriber($tracks("shaper_mes121_3"), \$u, $i.($u.amp(@scale_compiled($nim_grain3($i), 0, 1, -50, -26, 1))))
$rand_lfo_test1.add_suscriber($tracks("shaper_mes121_4"), \$u, $i.($u.amp(@scale_compiled($nim_grain4($i), 0, 1, -50, -26, 1))))

$sin_lfo_test1.add_suscriber($tracks("shaper_mes121_1"), \$u, $i.($u.amp(@scale_compiled($nim_grain1($i), 0, 1, -50, -26, 1))))
$sin_lfo_test1.add_suscriber($tracks("shaper_mes121_2"), \$u, $i.($u.amp(@scale_compiled($nim_grain2($i), 0, 1, -50, -26, 1))))
$sin_lfo_test1.add_suscriber($tracks("shaper_mes121_3"), \$u, $i.($u.amp(@scale_compiled($nim_grain3($i), 0, 1, -50, -26, 1))))
$sin_lfo_test1.add_suscriber($tracks("shaper_mes121_4"), \$u, $i.($u.amp(@scale_compiled($nim_grain4($i), 0, 1, -50, -26, 1))))

$sin_lfo_test1.add_suscriber($tracks("shaper_mes121_1"), \$u, $i.($u.d_factor(@scale_compiled($nim_grain1_l($i), 0, 1, 0.75, 4, 1))))
$sin_lfo_test1.add_suscriber($tracks("shaper_mes121_2"), \$u, $i.($u.d_factor(@scale_compiled($nim_grain2_l($i), 0, 1, 0.75, 4, 1))))
$sin_lfo_test1.add_suscriber($tracks("shaper_mes121_3"), \$u, $i.($u.d_factor(@scale_compiled($nim_grain3_l($i), 0, 1, 0.75, 4, 1))))
$sin_lfo_test1.add_suscriber($tracks("shaper_mes121_4"), \$u, $i.($u.d_factor(@scale_compiled($nim_grain4_l($i), 0, 1, 0.75, 4, 1))))

$sin_lfo_test1.add_suscriber($tracks("shaper_mes121_1"), \$u, $i.($u.set(Shaper2_mono, ["freq", @scale_compiled($nim_grain1($i), 0, 1, 40, 500, 1)])))
$sin_lfo_test1.add_suscriber($tracks("shaper_mes121_2"), \$u, $i.($u.set(Shaper2_mono, ["freq", @scale_compiled($nim_grain2($i), 0, 1, 50, 600, 1)])))
$sin_lfo_test1.add_suscriber($tracks("shaper_mes121_3"), \$u, $i.($u.set(Shaper2_mono, ["freq", @scale_compiled($nim_grain3($i), 0, 1, 60, 700, 1)])))
$sin_lfo_test1.add_suscriber($tracks("shaper_mes121_4"), \$u, $i.($u.set(Shaper2_mono, ["freq", @scale_compiled($nim_grain4($i), 0, 1, 70, 800, 1)])))


$rand_lfo_test1.add_suscriber($tracks("shaper_mes121_2"), \$u, $i.($u.d_factor(@scale_compiled($i, 0, 1, 0.75, 4, 1))))
$rand_lfo_test1.add_suscriber($tracks("shaper_mes121_1"), \$u, $i.($u.set(Shaper2_mono, ["freq",@scale_compiled($i, 0, 1, 40, 500, 1)])))
$rand_lfo_test1.add_suscriber($tracks("shaper_mes121_2"), \$u, $i.($u.set(Shaper2_mono, ["freq",@scale_compiled($i, 0, 1, 100, 1000, 1)])))


$sin_lfo_test1.unsuscribe($tracks("shaper_mes121_1"), amp)
$sin_lfo_test1.unsuscribe($tracks("shaper_mes121_2"), amp)
$sin_lfo_test1.unsuscribe($tracks("shaper_mes121_3"), amp)
$sin_lfo_test1.unsuscribe($tracks("shaper_mes121_4"), amp)

$sin_lfo_test1.unsuscribe($tracks("shaper_mes121_1"), d_factor)
$sin_lfo_test1.unsuscribe($tracks("shaper_mes121_2"), d_factor)
$sin_lfo_test1.unsuscribe($tracks("shaper_mes121_3"), d_factor)
$sin_lfo_test1.unsuscribe($tracks("shaper_mes121_4"), d_factor)

$rand_lfo_test1.tpo(100)
print ($nim_grain1(1.00))
print ($nim_grain2(1.00))
print ($nim_grain3(0.50))
print ($nim_grain4(0.00))

$tracks("shaper_mes121_1").xyz_rand([-1, 1, -1, 1, 0, 0.5], 0.01)
$tracks("shaper_mes121_1").xyz_rand_lfo_abort()
$tracks("shaper_mes121_1").set(Shaper2_mono, ["freq", 100])
$tracks("shaper_mes121_1").amp(-30)



$tracks("shaper_mes121_1").traj_abort() 
$tracks("shaper_mes121_2").traj_abort() 
$tracks("shaper_mes121_3").traj_abort() 
$tracks("shaper_mes121_4").traj_abort() 

$tracks("shaper_mes121_1").free()
$tracks("shaper_mes121_2").free()
$tracks("shaper_mes121_3").free()
$tracks("shaper_mes121_4").free()

obj::crea_track_HOA("shaper_mes121_1", "group_hoa1", fade_in = 1, amp = -26, doppler = 0, in_channels = 1,[["Shaper2_mono", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 40, "amp", -3, "curvemax", 0]])


loop toto 0.01
{
	$tracks("shaper_mes121_1").dae([@rand_range(0.75, 1), 0, 0])
}

abort toto

NOTE 60 1 mes_128

print mes_128

$tracks("shaper_mes121_1").amp([-26, 5, -40])
$tracks("shaper_mes121_2").amp([-26, 5, -40])


NOTE 60 1 mes_129

print mes_129


NOTE 60 1 mes_130

print mes_130


NOTE 60 1 mes_131

print mes_131


antescofo::tempo 92

NOTE 60 1 mes_132

print mes_132



$rand_note := [1600, 8525., 3525., 4050., 2900., 7400., 7125., 8875., 4600., 4300.]

$list_Shaper_names := [] // liste pour synthses
forall $note in $rand_note.size()
{
	group
	{
		@local $track_name := "note"+$note
		$list_Shaper_names.push_back($track_name)
		obj::crea_track_HOA($track_name, "group_hoa1", fade_in = 1, amp = -26, doppler = 0, in_channels = 1,[["Shaper2_mono", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", $rand_note[$note].midic2hz(), "amp", @rand_range_int(-20, -10), "sus", 20, "curvemax", 0], [TGranIn_mono, envbuf, $envs("server1")("perc"), trigRate, @rand_range(5,20), trigRateDev, 0.0, dur, 0.03999999910593]])
		// $tracks($track_name).traj_circ(@choose([-1, 1]), 5, @rand_range(1.2, 2), 1, @rand_range(-360, -180), 180, 0, 0, 60, "linear", 5) 
		$tracks($track_name).traj_circ2([1, @rand_range(-180, 180), 0], @choose([-1, 1]), @rand_range(30, 120)) 
		// $tracks($track_name).rand_lfo(TGranIn_mono, trigRate, 1, 50, 5, "linear", 80)
		// 20 $tracks($track_name).free(1)
	}
}

/// group traitements
$tracks_group_Shaper_gran := obj::tracks_group($list_Shaper_names)
$tracks_group_Shaper_gran.rand_lfo(TGranIn_mono, trigRate, 1, 50, 5, "linear", 80)
$tracks_group_Shaper_gran.rand_lfo(TGranIn_mono, dur, 0.04, 0.1, 0.04, "linear", 80)
// $tracks_group_Shaper_gran.free()
// print ($tracks_group_Shaper_gran.retrieve_param(Shaper2_mono, freq))


// cb scrub

group pvoc_cb_mes_86
{
	$rec_buf_pvoc_cb_mes195.rec($cb)
	0.1 obj::crea_track_HOA("pvco_scrub_cb_mes86", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_cb_mes195.id()], ["TJPverb_mono", t60, 0.1]]) 
	$tracks("pvco_scrub_cb_mes86").rand_lfo_dyn("TScrubPvocBuf", "pos", 0.1, "linear", 60, $rec_buf_pvoc_cb_mes195)
	$tracks("pvco_scrub_cb_mes86").traj_circ2($cb_dae, 1, 15) 
	obj::crea_track_HOA("pvco_scrub_cb_mes86_2", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_cb_mes195.id()], ["TJPverb_mono", t60, 0.1]]) 
	$tracks("pvco_scrub_cb_mes86_2").rand_lfo_dyn("TScrubPvocBuf", "pos", 0.1, "linear", 60, $rec_buf_pvoc_cb_mes195)
	$tracks("pvco_scrub_cb_mes86_2").traj_circ2($cb_dae, -1, 15) 
	// $tracks("pvco_scrub_cb_mes86_2").dae_rand_lfo([1.5, 4, $cb_dae[0], -180, 180, $cb_dae[1], 0, 45, 0], 120)
	// $tracks("pvco_scrub_cb_mes86_2").xyz_rand_lfo([-4, 4, 0, -4, 4, 0, 0, 2, 0.0], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
	$tracks("pvco_scrub_cb_mes86_2").amp(0)
}
// rand_lfo_glob($min, $max, $init_val, $type, $tpo) 
// $tracks("pvco_scrub_cb_mes86").rand_lfo_glob(0, 1, 0)

NOTE 60 1 mes_134

print mes_134

$tracks_group_Shaper_gran.lfo_abort("TGranIn_mono", "trigRate")
$tracks_group_Shaper_gran.set_list_interp(TGranIn_mono, trigRate, $tracks_group_Shaper_gran.retrieve_param(TGranIn_mono, trigRate), [ 120 | $x in 10], 5) 

// clear buffers before mes 136
$rec_buf0_05.clear()
$rec_buf1_05.clear()
$rec_buf2_05.clear()
$rec_buf3_05.clear()
$rec_buf4_05.clear()
$rec_buf5_05.clear()


obj::crea_track_HOA("mes_137_1", "group_hoa3", fade_in = 0.001, amp = -3, in_channels = 2)
$tracks("mes_137_1").dae([1., 22.5, 0, 1, -22.5, 0])

obj::crea_track_HOA("mes_137_2", "group_hoa3", fade_in = 0.001, amp = -3, in_channels = 2)
$tracks("mes_137_2").dae([1., 45.5, 0, 1, 50.5, 0])

obj::crea_track_HOA("mes_137_3", "group_hoa3", fade_in = 0.001, amp = -3, in_channels = 2)
$tracks("mes_137_3").dae([1., -45.5, 0, 1, -50.5, 0])

obj::crea_track_HOA("mes_137_4", "group_hoa3", fade_in = 0.001, amp = -3, in_channels = 2)
$tracks("mes_137_4").dae([1., 90, 0, 1, 100.5, 0])

obj::crea_track_HOA("mes_137_5", "group_hoa3", fade_in = 0.001, amp = -3, in_channels = 2)
$tracks("mes_137_5").dae([1., -95.5, 0, 1, -100.5, 0])

NOTE 60 1 mes_137

print mes_137

group freeze_desc
{


	$chop_fl_mes137_dur := 4 // amp = dur + dur*3 + dur = 5*dur
	$chop_fl_mes137_amp := -3

	// whenever fl_ampgate_mes137 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $fl))
	// {
	// 	print onset
		$rec_buf0_05.rec($fl)

		// obj::crea_track_HOA("play_env_trig_fl_mes137", "group_hoa1", fade_in = 0.0001, amp = $chop_fl_mes137_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf0_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, flampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		obj::crea_track_HOA("play_env_trig_fl_mes137", "group_hoa1", fade_in = 0.0001, amp = $chop_fl_mes137_amp, doppler = 0, in_channels = 1, [["TBufGrainI", "buf", $rec_buf0_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [TBLowShelf, freq, 10, db, -30]])
		// $tracks("play_env_trig_fl_mes137").rand_lfo(TBufGrainI, trigRate, 1, 50, 5, "linear", 80)
		// $tracks("play_env_trig_fl_mes137").lfo_abort(TBufGrainI, trigRate)
		$tracks("play_env_trig_fl_mes137").set("TBufGrainI", ["trigRate", 14])
		$tracks("play_env_trig_fl_mes137").set("TBufGrainI", [envbuf0, $envs("server1")("perc_s")])

		// $tracks("play_env_trig_fl_mes137").bpf_param("TBufGrainI", "ifac", [0, $chop_fl_mes137_dur/3, "sine", 1])
		// $tracks("play_env_trig_fl_mes137").bpf_param("TBufGrainI", "ifac", [1, $chop_fl_mes137_dur/3, "sine", 0])
		

		$tracks("play_env_trig_fl_mes137").set("TBufGrainI", ["rate", 1])
		$tracks("play_env_trig_fl_mes137").set("TBufGrainI", ["dur", 0.1])
		$tracks("play_env_trig_fl_mes137").rand_lfo(TBufGrainI, startPos, 0, 0.2, 1, "linear", 120)
		

		$tracks("play_env_trig_fl_mes137").amp([$chop_fl_mes137_amp, $chop_fl_mes137_dur, $chop_fl_mes137_amp]) //, 0.2, -60], free = 0.1, action = ["flearbuf", $rec_buf0_05])
		// $tracks("play_env_trig_fl_mes137").traj_circ_interp2($fl_dae, $trb_dae, $chop_fl_mes137_dur, 1)
		// $tracks("play_env_trig_fl_mes137").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_fl_mes137").xyz_rand_lfo([-4, 4, $fl_cart[0], -4, 4, $fl_cart[1], 0, 2, $fl_cart[2]], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
		$tracks("play_env_trig_fl_mes137").traj_circ2([1, $fl_dae[1], $fl_dae[2]], 1, 15) 
		// $tracks("play_env_trig_fl_mes137").amp(10)
		// $tracks("play_env_trig_fl_mes137").free()
		// obj::crea_track_HOA("bell_mes137_1", "group_hoa1", fade_in = 0.0001, amp = 0, doppler = 0, in_channels = 1, [[FMBell, freq, 4468.740234375, attack, 0.019999999552965, decay, 8.0, amp, -12.54058456420]])
		obj::crea_track_HOA("synth_mes137_1", "group_hoa1", fade_in = 0.8, amp = 0, doppler = 0, in_channels = 1, [[TestSynth3, freq, 1979.6645507812, fc, 2326.2600097656, rq, 0.15600000321865, bal, -1.0, width, 0.26377177238464, amp, -9]])
		$tracks("synth_mes137_1").dae($fl_dae)


		$tracks("mes_137_1").play_sample2("mes_137_E6.aif", -2)


		// obj::crea_track_HOA("bell_mes137_1", "group_hoa1", fade_in = 0.0001, amp = 0, doppler = 0, in_channels = 1, [[Cymbal_tibet, freq, 4001.3000488281, sing_switch, 0.0, lag, 0, amp, 0.0, t_trig, 1, decayscale, 10]])
		// $tracks("bell_mes137_1").set("Cymbal_tibet", ["t_trig", 1, decayscale, 10, freq, 2500.3000488281, lag, 0, amp, -22])
		// $tracks("bell_mes137_1").dae($vln_dae)
		// $tracks("synth_mes137_1").free()
	// 	abort fl_ampgate_mes137 @norec // abort juste aprs le onset
	// }	

	$chop_bsn_mes137_dur := 3.5 // amp = dur + dur*3 + dur = 5*dur
	$chop_bsn_mes137_amp := -3

	// 1 whenever bsn_ampgate_mes137 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $bsn))
	// {
	// 	print onset
		1/3 $rec_buf1_05.rec($bsn)

		// obj::crea_track_HOA("play_env_trig_bsn_mes137", "group_hoa1", fade_in = 0.0001, amp = $chop_bsn_mes137_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf1_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, bsnampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		obj::crea_track_HOA("play_env_trig_bsn_mes137", "group_hoa1", fade_in = 0.0001, amp = $chop_bsn_mes137_amp, doppler = 0, in_channels = 1, [["TBufGrainI", "buf", $rec_buf1_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_bsn_mes137").set("TBufGrainI", ["trigRate", 15])
		$tracks("play_env_trig_bsn_mes137").set("TBufGrainI", ["dur", 0.1])
		$tracks("play_env_trig_bsn_mes137").set("TBufGrainI", ["rate", 1])
		$tracks("play_env_trig_bsn_mes137").rand_lfo(TBufGrainI, startPos, 0, 0.2, 1, "linear", 120)
		$tracks("play_env_trig_bsn_mes137").set("TBufGrainI", [envbuf0, $envs("server1")("perc_s")])

		// $tracks("play_env_trig_bsn_mes137").bpf_param("TBufGrainI", "rate", [1, $chop_fl_mes137_dur, "sine", 0.5])

		// $tracks("play_env_trig_bsn_mes137").bpf_param("TBufRdEnvInterp", "impulse_rate", [11, $chop_bsn_mes137_dur, "sine", 11])
		// $tracks("play_env_trig_bsn_mes137").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_bsn_mes137_dur/3, "sine", 1])
		// $tracks("play_env_trig_bsn_mes137").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_bsn_mes137_dur, "sine", 0.5])
		$tracks("play_env_trig_bsn_mes137").amp([$chop_bsn_mes137_amp, $chop_bsn_mes137_dur, $chop_bsn_mes137_amp]) //, 0.2, -60], free = 0.1, action = ["bsnearbuf", $rec_buf1_05])
		// $tracks("play_env_trig_bsn_mes137").traj_circ_interp2($bsn_dae, $trb_dae, $chop_bsn_mes137_dur, 1)
		// $tracks("play_env_trig_bsn_mes137").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_bsn_mes137").xyz_rand_lfo([-4, 4, $bsn_cart[0], -4, 4, $bsn_cart[1], 0, 2, $bsn_cart[2]], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
		$tracks("play_env_trig_bsn_mes137").traj_circ2([1, $bsn_dae[1], $bsn_dae[2]], -1, 13) 
		// $tracks("play_env_trig_bsn_mes137").amp(10)

		obj::crea_track_HOA("synth_mes137_2", "group_hoa1", fade_in = 0.8, amp = 0, doppler = 0, in_channels = 1, [[TestSynth3, freq, 1922.0819091797, fc, 1820.3299560547, rq, 0.15600000321865, bal, -1.0, width, 0.26377177238464, amp, -16]])
		$tracks("synth_mes137_2").dae($bsn_dae)


		// obj::crea_track_HOA("bell_mes137_2", "group_hoa1", fade_in = 0.0001, amp = 0, doppler = 0, in_channels = 1, [[Cymbal_tibet, freq, 4001.3000488281, sing_switch, 0.0, lag, 0, amp, 0.0, t_trig, 1, decayscale, 10]])
		// $tracks("bell_mes137_2").set("Cymbal_tibet", ["t_trig", 1, decayscale, 10, freq, 2000.3000488281, lag, 0])
		// $tracks("bell_mes137_2").dae($bsn_dae)
		// $tracks("synth_mes137_2").free()
	// 	abort bsn_ampgate_mes137 @norec // abort juste aprs le onset
	// }	

	$chop_htb_mes137_dur := 3 // amp = dur + dur*3 + dur = 5*dur
	$chop_htb_mes137_amp := -3

	// 0.5 whenever htb_ampgate_mes137 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $htb))
	// {
	// 	print onset
		1/3 $rec_buf2_05.rec($htb)

		// obj::crea_track_HOA("play_env_trig_htb_mes137", "group_hoa1", fade_in = 0.0001, amp = $chop_htb_mes137_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf2_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, htbampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		obj::crea_track_HOA("play_env_trig_htb_mes137", "group_hoa1", fade_in = 0.0001, amp = $chop_htb_mes137_amp, doppler = 0, in_channels = 1, [["TBufGrainI", "buf", $rec_buf2_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_htb_mes137").set("TBufGrainI", ["trigRate", 11])
		$tracks("play_env_trig_htb_mes137").set("TBufGrainI", ["dur", 0.1])
		$tracks("play_env_trig_htb_mes137").set("TBufGrainI", ["rate", 1])
		$tracks("play_env_trig_htb_mes137").rand_lfo(TBufGrainI, startPos, 0, 0.2, 1, "linear", 120)
		// $tracks("play_env_trig_htb_mes137").bpf_param("TBufGrainI", "rate", [1, $chop_fl_mes137_dur, "sine", 0.5])
		$tracks("play_env_trig_htb_mes137").set("TBufGrainI", [envbuf0, $envs("server1")("perc_s")])

		// $tracks("play_env_trig_htb_mes137").bpf_param("TBufRdEnvInterp", "impulse_rate", [11, $chop_htb_mes137_dur, "sine", 11])
		// $tracks("play_env_trig_htb_mes137").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_htb_mes137_dur/3, "sine", 1])
		// $tracks("play_env_trig_htb_mes137").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_htb_mes137_dur, "sine", 0.5])
		$tracks("play_env_trig_htb_mes137").amp([$chop_htb_mes137_amp, $chop_htb_mes137_dur, $chop_htb_mes137_amp]) //, 0.2, -60], free = 0.1, action = ["htbearbuf", $rec_buf2_05])
		// $tracks("play_env_trig_htb_mes137").traj_circ_interp2($htb_dae, $trb_dae, $chop_htb_mes137_dur, 1)
		// $tracks("play_env_trig_htb_mes137").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_htb_mes137").xyz_rand_lfo([-4, 4, $htb_cart[0], -4, 4, $htb_cart[1], 0, 2, $htb_cart[2]], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
		$tracks("play_env_trig_htb_mes137").traj_circ2([1, $htb_dae[1], $htb_dae[2]], 1, 12) 
		// $tracks("play_env_trig_htb_mes137").amp(10)

		obj::crea_track_HOA("synth_mes137_3", "group_hoa1", fade_in = 0.8, amp = 0, doppler = 0, in_channels = 1, [[TestSynth3, freq, 2097.3210449219, fc, 1772.0899658203, rq, 0.15600000321865, bal, -1.0, width, 0.26377177238464, amp, -8]])
		$tracks("synth_mes137_3").dae($htb_dae)

		$tracks("mes_137_2").play_sample2("mes_137_C#6.aif", -2)

		
		// obj::crea_track_HOA("bell_mes137_3", "group_hoa1", fade_in = 0.0001, amp = 0, doppler = 0, in_channels = 1, [[Cymbal_tibet, freq, 4001.3000488281, sing_switch, 0.0, lag, 0, amp, 0.0, t_trig, 1, decayscale, 10]])
		// $tracks("bell_mes137_3").set("Cymbal_tibet", ["t_trig", 1, decayscale, 10, freq, 1750.3000488281, lag, 0])
		// $tracks("bell_mes137_3").dae($htb_dae)		
		// $tracks("synth_mes137_3").free()
	// 	abort htb_ampgate_mes137 @norec // abort juste aprs le onset
	// }	

	$chop_cl_mes137_dur := 2.5 // amp = dur + dur*3 + dur = 5*dur
	$chop_cl_mes137_amp := -3

	// 0.5 whenever cl_ampgate_mes137 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cl))
	// {
	// 	print onset
		1/3 $rec_buf3_05.rec($cl)

		// obj::crea_track_HOA("play_env_trig_cl_mes137", "group_hoa1", fade_in = 0.0001, amp = $chop_cl_mes137_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf3_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		obj::crea_track_HOA("play_env_trig_cl_mes137", "group_hoa1", fade_in = 0.0001, amp = $chop_cl_mes137_amp, doppler = 0, in_channels = 1, [["TBufGrainI", "buf", $rec_buf3_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cl_mes137").set("TBufGrainI", ["trigRate", 16])
		$tracks("play_env_trig_cl_mes137").set("TBufGrainI", ["dur", 0.08])
		$tracks("play_env_trig_cl_mes137").set("TBufGrainI", ["rate", 1])
		$tracks("play_env_trig_cl_mes137").rand_lfo(TBufGrainI, startPos, 0, 0.2, 1, "linear", 120)
		// $tracks("play_env_trig_cl_mes137").bpf_param("TBufGrainI", "rate", [1, $chop_fl_mes137_dur, "sine", 0.5])
		$tracks("play_env_trig_cl_mes137").set("TBufGrainI", [envbuf0, $envs("server1")("perc_s")])

		// $tracks("play_env_trig_cl_mes137").bpf_param("TBufRdEnvInterp", "impulse_rate", [11, $chop_cl_mes137_dur, "sine", 11])
		// $tracks("play_env_trig_cl_mes137").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cl_mes137_dur/3, "sine", 1])
		// $tracks("play_env_trig_cl_mes137").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_cl_mes137_dur, "sine", 0.5])
		$tracks("play_env_trig_cl_mes137").amp([$chop_cl_mes137_amp, $chop_cl_mes137_dur, $chop_cl_mes137_amp]) //, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf3_05])
		// $tracks("play_env_trig_cl_mes137").traj_circ_interp2($cl_dae, $trb_dae, $chop_cl_mes137_dur, 1)
		// $tracks("play_env_trig_cl_mes137").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_cl_mes137").xyz_rand_lfo([-4, 4, $cl_cart[0], -4, 4, $cl_cart[1], 0, 2, $cl_cart[2]], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
		$tracks("play_env_trig_cl_mes137").traj_circ2([1, $cl_dae[1], $cl_dae[2]], 1, 16) 
		// $tracks("play_env_trig_cl_mes137").amp(12)

		obj::crea_track_HOA("synth_mes137_4", "group_hoa1", fade_in = 0.8, amp = 0, doppler = 0, in_channels = 1, [[TestSynth3, freq, 2000.6053466797, fc, 1772.0899658203, rq, 0.15600000321865, bal, -1.0, width, 0.26377177238464, amp, -9]])
		$tracks("synth_mes137_4").dae($cl_dae)
		// obj::crea_track_HOA("bell_mes137_4", "group_hoa1", fade_in = 0.0001, amp = 0, doppler = 0, in_channels = 1, [[Cymbal_tibet, freq, 4001.3000488281, sing_switch, 0.0, lag, 0, amp, 0.0, t_trig, 1, decayscale, 10]])
		// $tracks("bell_mes137_4").set("Cymbal_tibet", ["t_trig", 1, decayscale, 10, freq, 1650.3000488281, lag, 0])
		// $tracks("bell_mes137_4").dae($cl_dae)	

		$tracks("mes_137_3").play_sample2("mes_137_B4.aif", -2)


				// $tracks("synth_mes137_4").free()
	// 	abort cl_ampgate_mes137 @norec // abort juste aprs le onset
	// }	

	$chop_vln_mes137_dur := 2 // amp = dur + dur*3 + dur = 5*dur
	$chop_vln_mes137_amp := -3

	// 0.5 whenever vln_ampgate_mes137 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vln))
	// {
	// 	print onset
		1/2 $rec_buf4_05.rec($vln)

		// obj::crea_track_HOA("play_env_trig_vln_mes137", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes137_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf4_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, vlnampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		obj::crea_track_HOA("play_env_trig_vln_mes137", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes137_amp, doppler = 0, in_channels = 1, [["TBufGrainI", "buf", $rec_buf4_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_vln_mes137").set("TBufGrainI", ["trigRate", 12])
		$tracks("play_env_trig_vln_mes137").set("TBufGrainI", ["dur", 0.1])
		$tracks("play_env_trig_vln_mes137").set("TBufGrainI", ["rate", 1])
		$tracks("play_env_trig_vln_mes137").rand_lfo(TBufGrainI, startPos, 0, 0.2, 1, "linear", 120)
		// $tracks("play_env_trig_vln_mes137").bpf_param("TBufGrainI", "rate", [1, $chop_fl_mes137_dur, "sine", 0.5])
		$tracks("play_env_trig_vln_mes137").set("TBufGrainI", [envbuf0, $envs("server1")("perc_s")])

		// $tracks("play_env_trig_vln_mes137").bpf_param("TBufRdEnvInterp", "impulse_rate", [11, $chop_vln_mes137_dur, "sine", 11])
		// $tracks("play_env_trig_vln_mes137").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_vln_mes137_dur/3, "sine", 1])
		// $tracks("play_env_trig_vln_mes137").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_vln_mes137_dur, "sine", 0.5])
		$tracks("play_env_trig_vln_mes137").amp([$chop_vln_mes137_amp, $chop_vln_mes137_dur, $chop_vln_mes137_amp]) //, 0.2, -60], free = 0.1, action = ["vlnearbuf", $rec_buf4_05])
		// $tracks("play_env_trig_vln_mes137").traj_circ_interp2($vln_dae, $trb_dae, $chop_vln_mes137_dur, 1)
		// $tracks("play_env_trig_vln_mes137").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_vln_mes137").xyz_rand_lfo([-4, 4, $vln_cart[0], -4, 4, $vln_cart[1], 0, 2, $vln_cart[2]], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
		$tracks("play_env_trig_vln_mes137").traj_circ2([1, $vln_dae[1], $vln_dae[2]], 1, 15) 
		// $tracks("play_env_trig_vln_mes137").amp(13)

		obj::crea_track_HOA("synth_mes137_5", "group_hoa1", fade_in = 0.8, amp = 0, doppler = 0, in_channels = 1, [[TestSynth3, freq, 1333.2149658203, fc, 1405.8199462891, rq, 0.15600000321865, bal, -1.0, width, 0.26377177238464, amp, -16]])
		$tracks("synth_mes137_5").dae($vln_dae)

		$tracks("mes_137_4").play_sample2("mes_137_A4b-_vln.aif", -2)


		// obj::crea_track_HOA("bell_mes137_5", "group_hoa1", fade_in = 0.0001, amp = 0, doppler = 0, in_channels = 1, [[Cymbal_tibet, freq, 4001.3000488281, sing_switch, 0.0, lag, 0, amp, 0.0, t_trig, 1, decayscale, 10]])
		// $tracks("bell_mes137_5").set("Cymbal_tibet", ["t_trig", 1, decayscale, 10, freq, 2000.3000488281, lag, 0])
		// $tracks("bell_mes137_5").dae($vln_dae)	

	// $tracks("synth_mes137_5").free()
	// 	abort vln_ampgate_mes137 @norec // abort juste aprs le onset
	// }	

	$chop_vlc_mes137_dur := 1.5 // amp = dur + dur*3 + dur = 5*dur
	$chop_vlc_mes137_amp := -3

	// 0.5 whenever vlc_ampgate_mes137 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vlc))
	// {
	// 	print onset
		1/2 $rec_buf5_05.rec($vlc)

		// obj::crea_track_HOA("play_env_trig_vlc_mes137", "group_hoa1", fade_in = 0.0001, amp = $chop_vlc_mes137_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf5_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, vlcampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		obj::crea_track_HOA("play_env_trig_vlc_mes137", "group_hoa1", fade_in = 0.0001, amp = $chop_vlc_mes137_amp, doppler = 0, in_channels = 1, [["TBufGrainI", "buf", $rec_buf5_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_vlc_mes137").set("TBufGrainI", ["trigRate", 12])
		$tracks("play_env_trig_vlc_mes137").set("TBufGrainI", ["dur", 0.1])
		$tracks("play_env_trig_vlc_mes137").set("TBufGrainI", ["rate", 1])
		$tracks("play_env_trig_vlc_mes137").rand_lfo(TBufGrainI, startPos, 0, 0.2, 1, "linear", 120)
		// $tracks("play_env_trig_vlc_mes137").bpf_param("TBufGrainI", "rate", [1, $chop_fl_mes137_dur, "sine", 0.5])
		$tracks("play_env_trig_vlc_mes137").set("TBufGrainI", [envbuf0, $envs("server1")("perc_s")])

		// $tracks("play_env_trig_vlc_mes137").bpf_param("TBufRdEnvInterp", "impulse_rate", [11, $chop_vlc_mes137_dur, "sine", 11])
		// $tracks("play_env_trig_vlc_mes137").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_vlc_mes137_dur/3, "sine", 1])
		// $tracks("play_env_trig_vlc_mes137").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_vlc_mes137_dur, "sine", 0.5])
		$tracks("play_env_trig_vlc_mes137").amp([$chop_vlc_mes137_amp, $chop_vlc_mes137_dur, $chop_vlc_mes137_amp]) //, 0.2, -60], free = 0.1, action = ["vlcearbuf", $rec_buf5_05])
		// $tracks("play_env_trig_vlc_mes137").traj_circ_interp2($vlc_dae, $trb_dae, $chop_vlc_mes137_dur, 1)
		// $tracks("play_env_trig_vlc_mes137").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_vlc_mes137").xyz_rand_lfo([-4, 4, $vlc_cart[0], -4, 4, $vlc_cart[1], 0, 2, $vlc_cart[2]], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
		$tracks("play_env_trig_vlc_mes137").traj_circ2([1, $vlc_dae[1], $vlc_dae[2]], 1, 15) 
		// $tracks("play_env_trig_vlc_mes137").amp(12.5)

		obj::crea_track_HOA("synth_mes137_6", "group_hoa1", fade_in = 0.8, amp = 0, doppler = 0, in_channels = 1, [[TestSynth3, freq, 1866.3477783203, fc, 1611.6600341797, rq, 0.15600000321865, bal, -1.0, width, 0.26377177238464, amp, -10]])
		$tracks("synth_mes137_6").dae($vlc_dae)

		$tracks("mes_137_5").play_sample2("mes_137_F#4.aif", -2)

		// obj::crea_track_HOA("bell_mes137_6", "group_hoa1", fade_in = 0.0001, amp = 0, doppler = 0, in_channels = 1, [[Cymbal_tibet, freq, 4001.3000488281, sing_switch, 0.0, lag, 0, amp, 0.0, t_trig, 1, decayscale, 10]])
		// $tracks("bell_mes137_6").set("Cymbal_tibet", ["t_trig", 1, decayscale, 10, freq, 900.3000488281, lag, 0])
		// $tracks("bell_mes137_6").dae($vlc_dae)	

		// $tracks("synth_mes137_6").free()

	// 	abort vlc_ampgate_mes137 @norec // abort juste aprs le onset
	// }	

		$chop_alto_mes137_dur := 1.5 // amp = dur + dur*3 + dur = 5*dur
		$chop_alto_mes137_amp := -3

		2/3 $rec_buf6_05.rec($alto)

		obj::crea_track_HOA("play_env_trig_alto_mes137", "group_hoa1", fade_in = 0.0001, amp = $chop_alto_mes137_amp, doppler = 0, in_channels = 1, [["TBufGrainI", "buf", $rec_buf6_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_alto_mes137").set("TBufGrainI", ["trigRate", 12])
		$tracks("play_env_trig_alto_mes137").set("TBufGrainI", ["dur", 0.1])
		$tracks("play_env_trig_alto_mes137").set("TBufGrainI", ["rate", 1])
		$tracks("play_env_trig_alto_mes137").rand_lfo(TBufGrainI, startPos, 0, 0.2, 1, "linear", 120)
		// $tracks("play_env_trig_alto_mes137").bpf_param("TBufGrainI", "rate", [1, $chop_fl_mes137_dur, "sine", 0.5])
		$tracks("play_env_trig_alto_mes137").set("TBufGrainI", [envbuf0, $envs("server1")("perc_s")])

		// $tracks("play_env_trig_alto_mes137").bpf_param("TBufRdEnvInterp", "impulse_rate", [11, $chop_alto_mes137_dur, "sine", 11])
		// $tracks("play_env_trig_alto_mes137").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_alto_mes137_dur/3, "sine", 1])
		// $tracks("play_env_trig_alto_mes137").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_alto_mes137_dur, "sine", 0.5])
		$tracks("play_env_trig_alto_mes137").amp([$chop_alto_mes137_amp, $chop_alto_mes137_dur, $chop_alto_mes137_amp]) //, 0.2, -60], free = 0.1, action = ["altoearbuf", $rec_buf5_05])
		// $tracks("play_env_trig_alto_mes137").traj_circ_interp2($alto_dae, $trb_dae, $chop_alto_mes137_dur, 1)
		// $tracks("play_env_trig_alto_mes137").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_alto_mes137").xyz_rand_lfo([-4, 4, $alto_cart[0], -4, 4, $alto_cart[1], 0, 2, $alto_cart[2]], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
		$tracks("play_env_trig_alto_mes137").traj_circ2([1, $alto_dae[1], $alto_dae[2]], 1, 15) 
		// $tracks("play_env_trig_alto_mes137").amp(12.5)

		obj::crea_track_HOA("synth_mes137_7", "group_hoa1", fade_in = 0.8, amp = 0, doppler = 0, in_channels = 1, [[TestSynth3, freq, 2222.3477783203, fc, 1611.6600341797, rq, 0.15600000321865, bal, -1.0, width, 0.26377177238464, amp, -10]])
		$tracks("synth_mes137_7").dae($vlc_dae)	

		group group_cordes_mes137
		{
			$tracks_group_cordes_mes137 := obj::tracks_group(["play_env_trig_fl_mes137", "play_env_trig_bsn_mes137", "play_env_trig_htb_mes137", "play_env_trig_cl_mes137", "play_env_trig_vln_mes137", "play_env_trig_vlc_mes137", "play_env_trig_alto_mes137"])
			// $tracks_group_cordes_mes137.set("TBufGrainI", ["dur", 0.055])
			// $tracks_group_cordes_mes137.set_list(TBufGrainI, trigRate, [ @rand_range(30, 45) | $x in $tracks_group_cordes_mes137.size()]) 
			// $tracks_group_cordes_mes137.amp_add([0, 3, -12])
			$tracks_group_cordes_mes137.set("TBufGrainI", [envbuf1, $envs("server1")("perc_acc")])

			
			2 $tracks_group_cordes_mes137.d_factor_interp(1, 2, 5)

			// 5 $tracks_group_cordes_mes136.rand_lfo_amp_param_dfactor([TBufGrainI, trigRate, 105, 0],[TBufGrainI, dur, 0.2, 0.5], [0, -20], [1, 4], 180, "linear") 
			// $tracks_group_cordes_mes136.rand_lfo_amp_param_dfactor_abort()
			/// bueno grano corto 
			// $tracks_group_cordes_mes136.rand_lfo_amp_param_dfactor([TBufGrainI, trigRate, 105, 0],[TBufGrainI, dur, 0.01, 0.1], [0, -20], [0.1, 4], 180, "exp_in") 
		}
		// $tracks_group_cordes_mes136.d_factor_interp(1, 0.1, 5)
		$tracks_group_synth_mes137 := obj::tracks_group(["synth_mes137_1", "synth_mes137_2", "synth_mes137_3", "synth_mes137_4", "synth_mes137_5", "synth_mes137_6", "synth_mes137_7"])
		$tracks_group_synth_mes137.amp_add([0, 3, 2])
		2 $tracks_group_synth_mes137.dae_rand_lfo([[$fl_dae[0], $fl_dae[0], $fl_dae[0], -180, 180, $fl_dae[1], 0, 90, 0], [$bsn_dae[0], $bsn_dae[0], $bsn_dae[0], -180, 180, $bsn_dae[1], 0, 90, 0], [$htb_dae[0], $htb_dae[0], $htb_dae[0], -180, 180, $htb_dae[1], 0, 90, 0],[$cl_dae[0], $cl_dae[0], $cl_dae[0], -180, 180, $cl_dae[1], 0, 90, 0],[$vln_dae[0], $vln_dae[0], $vln_dae[0], -180, 180, $vln_dae[1], 0, 90, 0],[$vlc_dae[0], $vlc_dae[0], $vlc_dae[0], -180, 180, $vlc_dae[1], 0, 90, 0],[$alto_dae[0], $alto_dae[0], $alto_dae[0], -180, 180, $alto_dae[1], 0, 90, 0],[$cor2_dae[0], $cor2_dae[0], $cor2_dae[0], -180, 180, $cor2_dae[1], 0, 90, 0],[$cor1_dae[0], $cor1_dae[0], $cor1_dae[0], -180, 180, $cor1_dae[1], 0, 90, 0],[$trp_dae[0], $trp_dae[0], $trp_dae[0], -180, 180, $trp_dae[1], 0, 90, 0],[$trb_dae[0], $trb_dae[0], $trb_dae[0], -180, 180, $trb_dae[1], 0, 90, 0]], 60) // list [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
		$tracks_group_synth_mes137.d_factor_interp(1, 0.4, 2)

		// $tracks_group_synth_mes137.dae_rand_lfo_abort()
		// $tracks_group_synth_mes137.traj_circ2($trp_dae, 1, 15)
		// $tracks_group_cordes_mes137.free()
}

// $tracks("play_env_trig_fl_mes136").d_factor_interp(1, 0.1, 10) // Ambitools

// $tracks_group_Shaper_gran.d_factor_interp(0.1, 1, 10)
// $tracks_group_Shaper_gran.set_list_interp(TGranIn_mono, trigRate, $tracks_group_Shaper_gran.retrieve_param(TGranIn_mono, trigRate), [ 400 | $x in 10], 5) 
// $tracks_group_Shaper_gran.d_factor_interp(1, 0.1, 5)
$tracks_group_Shaper_gran.set_list_interp(TGranIn_mono, trigRate, $tracks_group_Shaper_gran.retrieve_param(TGranIn_mono, trigRate), [ 20 | $x in 10], 5) 
// $tracks_group_Shaper_gran.amp_add([0, 1, 0])
$tracks("pvco_scrub_cb_mes86").amp_add([0, 2, -6])
$tracks("pvco_scrub_cb_mes86_2").amp_add([0, 2, -6])

// $tracks_group_Shaper_gran.d_factor_interp(1, 0.5, 5)

$tracks_group_Shaper_gran.rand_lfo_amp_param_dfactor([TGranIn_mono, trigRate, 50, 0],[TGranIn_mono, dur, 0.1, 0.01], [-7, -40], [0.75, 4], 120, "exp_in") 

// $of_gui := ::gui_oF_trajs() // send o OpenFramaworks visual

// $tracks_group_cordes_mes136.dae_rand_lfo([0.8, 2, 1, -180, 180, -90, 0, 90, 0])
// 5 $tracks_group_cordes_mes136.traj_abort()
// $tracks_group_cordes_mes136.xyz_rand_lfo([-1, 1, 0,-1, 1, 0, 0, 0.7, 0.0], 80)
// $tracks_group_cordes_mes136.xyz_rand_lfo_abort()

NOTE 60 1 mes_138

print mes_138


2 	group cuivres_mes138
{
		$amp_cuivres_mes139 := -6
		$chop_cor2_mes138_dur := 1.5 // amp = dur + dur*3 + dur = 5*dur
		$chop_cor2_mes138_amp := $amp_cuivres_mes139

		$rec_buf7_05.rec($cor2)

		0.1 obj::crea_track_HOA("play_env_trig_cor2_mes138", "group_hoa1", fade_in = 0.0001, amp = $chop_cor2_mes138_amp, doppler = 0, in_channels = 1, [["TBufGrainI", "buf", $rec_buf7_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cor2_mes138").set("TBufGrainI", ["trigRate", 12])
		$tracks("play_env_trig_cor2_mes138").set("TBufGrainI", ["dur", 0.12])
		$tracks("play_env_trig_cor2_mes138").set("TBufGrainI", ["rate", 1])
		$tracks("play_env_trig_cor2_mes138").set("TBufGrainI", [envbuf0, $envs("server1")("perc_s")])
		$tracks("play_env_trig_cor2_mes138").rand_lfo(TBufGrainI, startPos, 0, 0.2, 1, "linear", 120)
		// $tracks("play_env_trig_cor2_mes138").bpf_param("TBufGrainI", "rate", [1, $chop_fl_mes138_dur, "sine", 0.5])

		// $tracks("play_env_trig_cor2_mes138").bpf_param("TBufRdEnvInterp", "impulse_rate", [11, $chop_cor2_mes138_dur, "sine", 11])
		// $tracks("play_env_trig_cor2_mes138").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cor2_mes138_dur/3, "sine", 1])
		// $tracks("play_env_trig_cor2_mes138").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_cor2_mes138_dur, "sine", 0.5])
		$tracks("play_env_trig_cor2_mes138").amp([$chop_cor2_mes138_amp, $chop_cor2_mes138_dur, $chop_cor2_mes138_amp]) //, 0.2, -60], free = 0.1, action = ["cor2earbuf", $rec_buf5_05])
		// $tracks("play_env_trig_cor2_mes138").traj_circ_interp2($cor2_dae, $trb_dae, $chop_cor2_mes138_dur, 1)
		// $tracks("play_env_trig_cor2_mes138").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_cor2_mes138").xyz_rand_lfo([-4, 4, $cor2_cart[0], -4, 4, $cor2_cart[1], 0, 2, $cor2_cart[2]], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
		$tracks("play_env_trig_cor2_mes138").traj_circ2([1, $cor2_dae[1],$cor2_dae[2]], 1, 15) 
		// $tracks("play_env_trig_cor2_mes138").amp(15)

		obj::crea_track_HOA("synth_mes138_8", "group_hoa1", fade_in = 0.8, amp = 0, doppler = 0, in_channels = 1, [[TestSynth3, freq, 2678.3477783203, fc, 1611.6600341797, rq, 0.15600000321865, bal, -1.0, width, 0.26377177238464, amp, -10]])
		$tracks("synth_mes138_8").dae($vlc_dae)	


		$chop_cor1_mes138_dur := 1.5 // amp = dur + dur*3 + dur = 5*dur
		$chop_cor1_mes138_amp := $amp_cuivres_mes139

		1/3 $rec_buf9_05.rec($cor1)

		0.1 obj::crea_track_HOA("play_env_trig_cor1_mes138", "group_hoa1", fade_in = 0.0001, amp = $chop_cor1_mes138_amp, doppler = 0, in_channels = 1, [["TBufGrainI", "buf", $rec_buf9_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cor1_mes138").set("TBufGrainI", ["trigRate", 11])
		$tracks("play_env_trig_cor1_mes138").set("TBufGrainI", ["dur", 0.12])
		$tracks("play_env_trig_cor1_mes138").set("TBufGrainI", ["rate", 1])
		$tracks("play_env_trig_cor1_mes138").rand_lfo(TBufGrainI, startPos, 0, 0.2, 1, "linear", 120)
		$tracks("play_env_trig_cor1_mes138").set("TBufGrainI", [envbuf0, $envs("server1")("perc_s")])

		// $tracks("play_env_trig_cor1_mes138").bpf_param("TBufGrainI", "rate", [1, $chop_fl_mes138_dur, "sine", 0.5])

		// $tracks("play_env_trig_cor1_mes138").bpf_param("TBufRdEnvInterp", "impulse_rate", [11, $chop_cor1_mes138_dur, "sine", 11])
		// $tracks("play_env_trig_cor1_mes138").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cor1_mes138_dur/3, "sine", 1])
		// $tracks("play_env_trig_cor1_mes138").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_cor1_mes138_dur, "sine", 0.5])
		$tracks("play_env_trig_cor1_mes138").amp([$chop_cor1_mes138_amp, $chop_cor1_mes138_dur, $chop_cor1_mes138_amp]) //, 0.2, -60], free = 0.1, action = ["cor1earbuf", $rec_buf5_05])
		// $tracks("play_env_trig_cor1_mes138").traj_circ_interp2($cor1_dae, $trb_dae, $chop_cor1_mes138_dur, 1)
		// $tracks("play_env_trig_cor1_mes138").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_cor1_mes138").xyz_rand_lfo([-4, 4, $cor1_cart[0], -4, 4, $cor1_cart[1], 0, 2, $cor1_cart[2]], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
		$tracks("play_env_trig_cor1_mes138").traj_circ2([1, $cor1_dae[1], $cor1_dae[2]], 1, 15) 
		// $tracks("play_env_trig_cor1_mes138").amp(15)

		obj::crea_track_HOA("synth_mes138_9", "group_hoa1", fade_in = 0.8, amp = 0, doppler = 0, in_channels = 1, [[TestSynth3, freq, 3000.3477783203, fc, 1611.6600341797, rq, 0.15600000321865, bal, -1.0, width, 0.26377177238464, amp, -10]])
		$tracks("synth_mes138_9").dae($vlc_dae)	
}

NOTE 60 1 mes_139

print mes_139


group cuivres_mes139
{
		$amp_cuivres_mes139 := -6
		$chop_cor2_mes138_dur := 1.5 // amp = dur + dur*3 + dur = 5*dur
		$chop_cor2_mes138_amp := $amp_cuivres_mes139

		$rec_buf7_05.rec($cor2)

		obj::crea_track_HOA("play_env_trig_cor2_mes138", "group_hoa1", fade_in = 0.0001, amp = $chop_cor2_mes138_amp, doppler = 0, in_channels = 1, [["TBufGrainI", "buf", $rec_buf7_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cor2_mes138").set("TBufGrainI", ["trigRate", 12])
		$tracks("play_env_trig_cor2_mes138").set("TBufGrainI", ["dur", 0.12])
		$tracks("play_env_trig_cor2_mes138").set("TBufGrainI", ["rate", 1])
		$tracks("play_env_trig_cor2_mes138").set("TBufGrainI", [envbuf0, $envs("server1")("perc_s")])
		$tracks("play_env_trig_cor2_mes138").rand_lfo(TBufGrainI, startPos, 0, 0.2, 1, "linear", 120)
		// $tracks("play_env_trig_cor2_mes138").bpf_param("TBufGrainI", "rate", [1, $chop_fl_mes138_dur, "sine", 0.5])

		// $tracks("play_env_trig_cor2_mes138").bpf_param("TBufRdEnvInterp", "impulse_rate", [11, $chop_cor2_mes138_dur, "sine", 11])
		// $tracks("play_env_trig_cor2_mes138").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cor2_mes138_dur/3, "sine", 1])
		// $tracks("play_env_trig_cor2_mes138").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_cor2_mes138_dur, "sine", 0.5])
		$tracks("play_env_trig_cor2_mes138").amp([$chop_cor2_mes138_amp, $chop_cor2_mes138_dur, $chop_cor2_mes138_amp]) //, 0.2, -60], free = 0.1, action = ["cor2earbuf", $rec_buf5_05])
		// $tracks("play_env_trig_cor2_mes138").traj_circ_interp2($cor2_dae, $trb_dae, $chop_cor2_mes138_dur, 1)
		// $tracks("play_env_trig_cor2_mes138").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_cor2_mes138").xyz_rand_lfo([-4, 4, $cor2_cart[0], -4, 4, $cor2_cart[1], 0, 2, $cor2_cart[2]], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
		$tracks("play_env_trig_cor2_mes138").traj_circ2([1, $cor2_dae[1],$cor2_dae[2]], 1, 15) 
		// $tracks("play_env_trig_cor2_mes138").amp(15)

		obj::crea_track_HOA("synth_mes138_8", "group_hoa1", fade_in = 0.8, amp = 0, doppler = 0, in_channels = 1, [[TestSynth3, freq, 2678.3477783203, fc, 1611.6600341797, rq, 0.15600000321865, bal, -1.0, width, 0.26377177238464, amp, -10]])
		$tracks("synth_mes138_8").dae($vlc_dae)	


		$chop_cor1_mes138_dur := 1.5 // amp = dur + dur*3 + dur = 5*dur
		$chop_cor1_mes138_amp := $amp_cuivres_mes139

		1/3 $rec_buf9_05.rec($cor1)

		obj::crea_track_HOA("play_env_trig_cor1_mes138", "group_hoa1", fade_in = 0.0001, amp = $chop_cor1_mes138_amp, doppler = 0, in_channels = 1, [["TBufGrainI", "buf", $rec_buf9_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cor1_mes138").set("TBufGrainI", ["trigRate", 11])
		$tracks("play_env_trig_cor1_mes138").set("TBufGrainI", ["dur", 0.12])
		$tracks("play_env_trig_cor1_mes138").set("TBufGrainI", ["rate", 1])
		$tracks("play_env_trig_cor1_mes138").rand_lfo(TBufGrainI, startPos, 0, 0.2, 1, "linear", 120)
		$tracks("play_env_trig_cor1_mes138").set("TBufGrainI", [envbuf0, $envs("server1")("perc_s")])

		// $tracks("play_env_trig_cor1_mes138").bpf_param("TBufGrainI", "rate", [1, $chop_fl_mes138_dur, "sine", 0.5])

		// $tracks("play_env_trig_cor1_mes138").bpf_param("TBufRdEnvInterp", "impulse_rate", [11, $chop_cor1_mes138_dur, "sine", 11])
		// $tracks("play_env_trig_cor1_mes138").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cor1_mes138_dur/3, "sine", 1])
		// $tracks("play_env_trig_cor1_mes138").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_cor1_mes138_dur, "sine", 0.5])
		$tracks("play_env_trig_cor1_mes138").amp([$chop_cor1_mes138_amp, $chop_cor1_mes138_dur, $chop_cor1_mes138_amp]) //, 0.2, -60], free = 0.1, action = ["cor1earbuf", $rec_buf5_05])
		// $tracks("play_env_trig_cor1_mes138").traj_circ_interp2($cor1_dae, $trb_dae, $chop_cor1_mes138_dur, 1)
		// $tracks("play_env_trig_cor1_mes138").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_cor1_mes138").xyz_rand_lfo([-4, 4, $cor1_cart[0], -4, 4, $cor1_cart[1], 0, 2, $cor1_cart[2]], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
		$tracks("play_env_trig_cor1_mes138").traj_circ2([1, $cor1_dae[1], $cor1_dae[2]], 1, 15) 
		// $tracks("play_env_trig_cor1_mes138").amp(15)

		obj::crea_track_HOA("synth_mes138_9", "group_hoa1", fade_in = 0.8, amp = 0, doppler = 0, in_channels = 1, [[TestSynth3, freq, 3000.3477783203, fc, 1611.6600341797, rq, 0.15600000321865, bal, -1.0, width, 0.26377177238464, amp, -10]])
		$tracks("synth_mes138_9").dae($vlc_dae)	

		$chop_trp_mes138_dur := 1.5 // amp = dur + dur*3 + dur = 5*dur
		$chop_trp_mes138_amp := $amp_cuivres_mes139

		2/3 $rec_buf10_05.rec($trp)

		obj::crea_track_HOA("play_env_trig_trp_mes138", "group_hoa1", fade_in = 0.0001, amp = $chop_trp_mes138_amp, doppler = 0, in_channels = 1, [["TBufGrainI", "buf", $rec_buf10_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_trp_mes138").set("TBufGrainI", ["trigRate", 11.5])
		$tracks("play_env_trig_trp_mes138").set("TBufGrainI", ["dur", 0.12])
		$tracks("play_env_trig_trp_mes138").set("TBufGrainI", ["rate", 1])
		$tracks("play_env_trig_trp_mes138").rand_lfo(TBufGrainI, startPos, 0, 0.2, 1, "linear", 120)
		$tracks("play_env_trig_trp_mes138").set("TBufGrainI", [envbuf0, $envs("server1")("perc_s")])

		// $tracks("play_env_trig_trp_mes138").bpf_param("TBufGrainI", "rate", [1, $chop_fl_mes138_dur, "sine", 0.5])

		// $tracks("play_env_trig_trp_mes138").bpf_param("TBufRdEnvInterp", "impulse_rate", [11, $chop_trp_mes138_dur, "sine", 11])
		// $tracks("play_env_trig_trp_mes138").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_trp_mes138_dur/3, "sine", 1])
		// $tracks("play_env_trig_trp_mes138").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_trp_mes138_dur, "sine", 0.5])
		$tracks("play_env_trig_trp_mes138").amp([$chop_trp_mes138_amp, $chop_trp_mes138_dur, $chop_trp_mes138_amp]) //, 0.2, -60], free = 0.1, action = ["trpearbuf", $rec_buf5_05])
		// $tracks("play_env_trig_trp_mes138").traj_circ_interp2($trp_dae, $trb_dae, $chop_trp_mes138_dur, 1)
		// $tracks("play_env_trig_trp_mes138").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_trp_mes138").xyz_rand_lfo([-4, 4, $trp_cart[0], -4, 4, $trp_cart[1], 0, 2, $trp_cart[2]], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
		$tracks("play_env_trig_trp_mes138").traj_circ2([1, $trp_dae[1], $trp_dae[2]], 1, 15) 
		// $tracks("play_env_trig_trp_mes138").amp(17)

		obj::crea_track_HOA("synth_mes138_10", "group_hoa1", fade_in = 0.8, amp = 0, doppler = 0, in_channels = 1, [[TestSynth3, freq, 1800.3477783203, fc, 1611.6600341797, rq, 0.15600000321865, bal, -1.0, width, 0.26377177238464, amp, -10]])
		$tracks("synth_mes138_10").dae($vlc_dae)	

		$chop_trb_mes138_dur := 1.5 // amp = dur + dur*3 + dur = 5*dur
		$chop_trb_mes138_amp := $amp_cuivres_mes139

		1/2 $rec_buf11_05.rec($trb)

		obj::crea_track_HOA("play_env_trig_trb_mes138", "group_hoa1", fade_in = 0.0001, amp = $chop_trb_mes138_amp, doppler = 0, in_channels = 1, [["TBufGrainI", "buf", $rec_buf11_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_trb_mes138").set("TBufGrainI", ["trigRate", 13])
		$tracks("play_env_trig_trb_mes138").set("TBufGrainI", ["dur", 0.1])
		$tracks("play_env_trig_trb_mes138").set("TBufGrainI", ["rate", 1])
		$tracks("play_env_trig_trb_mes138").rand_lfo(TBufGrainI, startPos, 0, 0.2, 1, "linear", 120)
		$tracks("play_env_trig_trb_mes138").set("TBufGrainI", [envbuf0, $envs("server1")("perc_s")])

		// $tracks("play_env_trig_trb_mes138").bpf_param("TBufGrainI", "rate", [1, $chop_fl_mes138_dur, "sine", 0.5])

		// $tracks("play_env_trig_trb_mes138").bpf_param("TBufRdEnvInterp", "impulse_rate", [11, $chop_trb_mes138_dur, "sine", 11])
		// $tracks("play_env_trig_trb_mes138").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_trb_mes138_dur/3, "sine", 1])
		// $tracks("play_env_trig_trb_mes138").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_trb_mes138_dur, "sine", 0.5])
		$tracks("play_env_trig_trb_mes138").amp([$chop_trb_mes138_amp, $chop_trb_mes138_dur, $chop_trb_mes138_amp]) //, 0.2, -60], free = 0.1, action = ["trbearbuf", $rec_buf5_05])
		// $tracks("play_env_trig_trb_mes138").traj_circ_interp2($trb_dae, $trb_dae, $chop_trb_mes138_dur, 1)
		// $tracks("play_env_trig_trb_mes138").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_trb_mes138").xyz_rand_lfo([-4, 4, $trb_cart[0], -4, 4, $trb_cart[1], 0, 2, $trb_cart[2]], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
		$tracks("play_env_trig_trb_mes138").traj_circ2([1, $trb_dae[1], $trb_dae[2]], 1, 15) 
		// $tracks("play_env_trig_trb_mes138").amp(6)

		obj::crea_track_HOA("synth_mes138_11", "group_hoa1", fade_in = 0.8, amp = 0, doppler = 0, in_channels = 1, [[TestSynth3, freq, 1777.3477783203, fc, 1611.6600341797, rq, 0.15600000321865, bal, -1.0, width, 0.26377177238464, amp, -10]])
		$tracks("synth_mes138_11").dae($vlc_dae)	

		group group_cuivres_mes138
		{
			$tracks_group_cuivres_mes138 := obj::tracks_group(["play_env_trig_cor2_mes138", "play_env_trig_cor1_mes138", "play_env_trig_trp_mes138", "play_env_trig_trb_mes138"])
			$tracks_group_cuivres_mes138.set("TBufGrainI", [envbuf1, $envs("server1")("perc_acc")])



			// $tracks_group_cuivres_mes138.set_list(TBufGrainI, trigRate, [ @rand_range(30, 45) | $x in $tracks_group_cuivres_mes138.size()]) 
			// $tracks_group_cuivres_mes138.amp_add([0, 3, -12])
			// 2 $tracks_group_cuivres_mes138.d_factor_interp(1, 2, 5)

			// 5 $tracks_group_cuivres_mes138.rand_lfo_amp_param_dfactor([TBufGrainI, trigRate, 105, 0],[TBufGrainI, dur, 0.2, 0.5], [0, -20], [1, 4], 180, "linear") 
			// $tracks_group_cuivres_mes138.rand_lfo_amp_param_dfactor_abort()
			/// bueno grano corto 
			// $tracks_group_cuivres_mes138.rand_lfo_amp_param_dfactor([TBufGrainI, trigRate, 105, 0],[TBufGrainI, dur, 0.01, 0.1], [0, -20], [0.1, 4], 180, "exp_in") 

		}

		$tracks_group_synth_mes138 := obj::tracks_group(["synth_mes138_8", "synth_mes138_9", "synth_mes138_10", "synth_mes138_11"])
		$tracks_group_synth_mes138.amp_add([0, 3, 6])
		2 $tracks_group_synth_mes138.dae_rand_lfo([[$cor2_dae[0], $cor2_dae[0], $cor2_dae[0], -180, 180, $cor2_dae[1], 0, 90, 0],[$cor1_dae[0], $cor1_dae[0], $cor1_dae[0], -180, 180, $cor1_dae[1], 0, 90, 0],[$trp_dae[0], $trp_dae[0], $trp_dae[0], -180, 180, $trp_dae[1], 0, 90, 0],[$trb_dae[0], $trb_dae[0], $trb_dae[0], -180, 180, $trb_dae[1], 0, 90, 0]], 60) // list [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
		$tracks_group_synth_mes138.d_factor_interp(1, 0.3, 2)

}

NOTE 60 1 mes_140_0

print mes_140_0

$tracks_group_synth_mes137.set_list_interp(TestSynth3, freq, $tracks_group_synth_mes137.retrieve_param(TestSynth3, freq), [ $tracks_group_synth_mes137.retrieve_param(TestSynth3, freq)*0.43 | $x in $tracks_group_synth_mes137.size()], 8) 
$tracks_group_synth_mes138.set_list_interp(TestSynth3, freq, $tracks_group_synth_mes138.retrieve_param(TestSynth3, freq), [ $tracks_group_synth_mes138.retrieve_param(TestSynth3, freq)*0.33 | $x in $tracks_group_synth_mes138.size()], 8) 

NOTE 60 1 mes_140

print mes_140


$dur_int_mes140 := 5

group 
{
	$tracks("play_env_trig_fl_mes137").bpf_param("TBufGrainI", "rate", [1, $chop_fl_mes137_dur, "sine", 0.5])
	0.3 $tracks("play_env_trig_bsn_mes137").bpf_param("TBufGrainI", "rate", [1, $chop_bsn_mes137_dur, "sine", 0.5])
	0.3 $tracks("play_env_trig_htb_mes137").bpf_param("TBufGrainI", "rate", [1, $chop_htb_mes137_dur, "sine", 0.5])
	0.3 $tracks("play_env_trig_cl_mes137").bpf_param("TBufGrainI", "rate", [1, $chop_cl_mes137_dur, "sine", 0.5])
	0.3 $tracks("play_env_trig_vln_mes137").bpf_param("TBufGrainI", "rate", [1, $chop_vln_mes137_dur, "sine", 0.5])
	0.3 $tracks("play_env_trig_vlc_mes137").bpf_param("TBufGrainI", "rate", [1, $chop_vlc_mes137_dur, "sine", 0.5])
	0.3 $tracks("play_env_trig_alto_mes137").bpf_param("TBufGrainI", "rate", [1, $chop_alto_mes137_dur, "sine", 0.5])
}

0.5		obj::crea_track_HOA("play_sample_2ch_mes_140_1", "group_hoa3", fade_in = 0.001, amp = 0, in_channels = 2)
		$tracks("play_sample_2ch_mes_140_1").dae([1., 22.5, 0, 1, 30.5, 0])
		$tracks("play_sample_2ch_mes_140_1").play_sample2("gliss_02.aif", -6)
0.5		obj::crea_track_HOA("play_sample_2ch_mes_140_2", "group_hoa3", fade_in = 0.001, amp = 0, in_channels = 2)
		$tracks("play_sample_2ch_mes_140_2").dae([1., -55.5, 0, 1, -60.5, 0])
		$tracks("play_sample_2ch_mes_140_2").play_sample2("gliss_03.aif", -6)



1 group
{
	// $tracks("play_env_trig_cor2_mes138").bpf_param("TBufGrainI", "rate", [1, $dur_int_mes140, "sine", 0.36])
	// 0.3 $tracks("play_env_trig_cor1_mes138").bpf_param("TBufGrainI", "rate", [1, $dur_int_mes140, "sine", 0.4])
	// 0.3 $tracks("play_env_trig_trp_mes138").bpf_param("TBufGrainI", "rate", [1, $dur_int_mes140, "sine", 0.45])	
	// 0.3 $tracks("play_env_trig_trb_mes138").bpf_param("TBufGrainI", "rate", [1, $dur_int_mes140, "sine", 0.33])	
	$tracks_group_cuivres_mes138.set_list_interp(TBufGrainI, rate, [ 1 | $x in $tracks_group_cuivres_mes138.size()], [ @rand_range(0.33, 0.55) | $x in $tracks_group_cuivres_mes138.size()], 8) 

}

$tracks_group_cordes_mes137.set_list_interp(TBufGrainI, trigRate, $tracks_group_cordes_mes137.retrieve_param(TBufGrainI, trigRate), [ @rand_range(20, 35) | $x in $tracks_group_cordes_mes137.size() ], $dur_int_mes140)
$tracks_group_cordes_mes137.set_list_interp(TBufGrainI, dur, $tracks_group_cordes_mes137.retrieve_param(TBufGrainI, dur), [ 0.05 | $x in $tracks_group_cordes_mes137.size() ], $dur_int_mes140)

$tracks_group_cuivres_mes138.set_list_interp(TBufGrainI, trigRate, $tracks_group_cuivres_mes138.retrieve_param(TBufGrainI, trigRate), [ @rand_range(20, 35) | $x in $tracks_group_cuivres_mes138.size() ], $dur_int_mes140)
$tracks_group_cuivres_mes138.set_list_interp(TBufGrainI, dur, $tracks_group_cuivres_mes138.retrieve_param(TBufGrainI, dur), [ 0.05 | $x in $tracks_group_cuivres_mes138.size() ], $dur_int_mes140)


// $tracks_group_synth_mes138.d_factor_interp(1, 20, 4) // $start_dist, $end_dist, $dur
// $tracks_group_synth_mes138.free()

// prepare play_sample2
obj::crea_track_HOA("play_sample_2ch_mes_140_3", "group_hoa3", fade_in = 0.001, amp = 0, in_channels = 2)
$tracks("play_sample_2ch_mes_140_3").dae([1., 22.5, 0, 1, 30.5, 0])
obj::crea_track_HOA("play_sample_2ch_mes_140_4", "group_hoa3", fade_in = 0.001, amp = 0, in_channels = 2)
$tracks("play_sample_2ch_mes_140_4").dae([1., -55.5, 0, 1, -60.5, 0])
obj::crea_track_HOA("play_sample_2ch_mes_140_5", "group_hoa3", fade_in = 0.001, amp = 0, in_channels = 2)
$tracks("play_sample_2ch_mes_140_5").dae([1., 55.5, 0, 1, 60.5, 0])
obj::crea_track_HOA("play_sample_2ch_mes_140_6", "group_hoa3", fade_in = 0.001, amp = 0, in_channels = 2)
$tracks("play_sample_2ch_mes_140_6").dae([1., -45.5, 0, 1, -35.5, 0])
obj::crea_track_HOA("play_sample_2ch_mes_140_7", "group_hoa3", fade_in = 0.001, amp = 0, in_channels = 2)
$tracks("play_sample_2ch_mes_140_7").dae([1., 170.5, 0, 1, 165.5, 0])
obj::crea_track_HOA("play_sample_2ch_mes_140_8", "group_hoa3", fade_in = 0.001, amp = 0, in_channels = 2)
$tracks("play_sample_2ch_mes_140_8").dae([1., -55.5, 0, 1, -60.5, 0])

// prepare play_sample2
obj::crea_track_HOA("play_sample_2ch_mes_141_1", "group_hoa3", fade_in = 0.001, amp = 0, in_channels = 2)
$tracks("play_sample_2ch_mes_141_1").dae([1., 22.5, 0, 1, 30.5, 0])
obj::crea_track_HOA("play_sample_2ch_mes_141_2", "group_hoa3", fade_in = 0.001, amp = 0, in_channels = 2)
$tracks("play_sample_2ch_mes_141_2").dae([1., -55.5, 0, 1, -60.5, 0])
obj::crea_track_HOA("play_sample_2ch_mes_141_3", "group_hoa3", fade_in = 0.001, amp = 0, in_channels = 2)
$tracks("play_sample_2ch_mes_141_3").dae([1., 55.5, 0, 1, 60.5, 0])
obj::crea_track_HOA("play_sample_2ch_mes_141_4", "group_hoa3", fade_in = 0.001, amp = 0, in_channels = 2)
$tracks("play_sample_2ch_mes_141_4").dae([1., -45.5, 0, 1, -35.5, 0])
obj::crea_track_HOA("play_sample_2ch_mes_141_5", "group_hoa3", fade_in = 0.001, amp = 0, in_channels = 2)
$tracks("play_sample_2ch_mes_141_5").dae([1., 170.5, 0, 1, 165.5, 0])
obj::crea_track_HOA("play_sample_2ch_mes_141_6", "group_hoa3", fade_in = 0.001, amp = 0, in_channels = 2)
$tracks("play_sample_2ch_mes_141_6").dae([1., -55.5, 0, 1, -60.5, 0])


NOTE 60 1 mes_141_0

print mes_141_0

group seq_gliss
{
		
0.1		$tracks("play_sample_2ch_mes_140_3").play_sample2("gliss_04.aif", -10)
		
		
0.5		$tracks("play_sample_2ch_mes_140_4").play_sample2("gliss_05.aif", -10)
		
		
0.5		$tracks("play_sample_2ch_mes_140_5").play_sample2("gliss_2.aif", -10)
		
		
0.5		$tracks("play_sample_2ch_mes_140_6").play_sample2("gliss_01.aif", -10)
		
		
0.5		$tracks("play_sample_2ch_mes_140_7").play_sample2("gliss_2.aif", -10)
		
		
0.5		$tracks("play_sample_2ch_mes_140_8").play_sample2("gliss_1.aif", -10)
}

2 group cb_ecrase_mes141
{		
	$tracks("play_sample_2ch_mes_141_1").play_sample2("ecrase_mes141_1.aif", -6)
	0.2 $tracks("play_sample_2ch_mes_141_2").play_sample2("ecrase_mes141_2.aif", -6)
	0.1 $tracks("play_sample_2ch_mes_141_3").play_sample2("ecrase_mes141_3.aif", -6)
	0.15 $tracks("play_sample_2ch_mes_141_4").play_sample2("ecrase_mes141_4.aif", -6)
	0.09 $tracks("play_sample_2ch_mes_141_5").play_sample2("ecrase_mes141_5.aif", -6)
	0.07 $tracks("play_sample_2ch_mes_141_6").play_sample2("ecrase_mes141_6.aif", -6)
}


NOTE 60 1 mes_141

print mes_141

$tracks_group_cordes_mes137.set_list_interp(TBufGrainI, rate, [ 1 | $x in $tracks_group_cordes_mes137.size()], [ @rand_range(0.5, 0.6) | $x in $tracks_group_cordes_mes137.size()], 8) 
$tracks_group_cordes_mes137.set_list_interp(TBufGrainI, dur, [ 0.055 | $x in $tracks_group_cordes_mes137.size()], [ 0.015 | $x in $tracks_group_cordes_mes137.size()], 8)

// $tracks_group_synth_mes137.set_list_interp(TestSynth3, freq, $tracks_group_synth_mes137.retrieve_param(TestSynth3, freq), [ $tracks_group_synth_mes137.retrieve_param(TestSynth3, freq)*0.43 | $x in $tracks_group_synth_mes137.size()], 8) 
// $tracks_group_synth_mes138.set_list_interp(TestSynth3, freq, $tracks_group_synth_mes138.retrieve_param(TestSynth3, freq), [ $tracks_group_synth_mes138.retrieve_param(TestSynth3, freq)*0.33 | $x in $tracks_group_synth_mes138.size()], 8) 

$tracks_group_Shaper_gran.set_list_interp(TGranIn_mono, trigRate, $tracks_group_Shaper_gran.retrieve_param(TGranIn_mono, trigRate), [ @rand_range(15, 20) | $x in 10], 4) 
$tracks_group_Shaper_gran.set_list_interp(Shaper2_mono, freq, $tracks_group_Shaper_gran.retrieve_param(Shaper2_mono, freq), [ @midic2hz(4050) | $x in 10], 4) 

$tracks("pvco_scrub_cb_mes86").free(0.1)
$tracks("pvco_scrub_cb_mes86_2").free(0.1)

// $tracks("play_env_trig_vln_mes136").rand_lfo_amp_param_dfactor([TBufGrainI, trigRate, 0, 30], [0, -16], [0.5, 2], 60) 

// print ($tracks_group_Shaper_gran.retrieve_param(Shaper2_mono, freq))

// $tracks_group_cordes_mes136.set(TBufGrainI, [rate, 1])
		// $tracks("play_env_trig_fl_mes136").bpf_param("TBufGrainI", "ifac", [0, $chop_fl_mes136_dur/3, "sine", 1])

$tracks_group_cordes_mes137.set_list_interp(TBufGrainI, trigRate, $tracks_group_cordes_mes137.retrieve_param(TBufGrainI, trigRate), [ @rand_range(5, 10) | $x in $tracks_group_cordes_mes137.size() ], 8)

$tracks_group_cuivres_mes138.rand_lfo_amp_param_dfactor([TBufGrainI, trigRate, 30, 0],[TBufGrainI, dur, 0.05, 0.5], [10, -20], [1, 4], 180, "exp_in") 
$tracks_group_cuivres_mes138.set_list_interp(TBufGrainI, rate, [ 1 | $x in $tracks_group_cuivres_mes138.size()], [ @rand_range(0.33, 0.55) | $x in $tracks_group_cuivres_mes138.size()], 8) 


NOTE 60 1 mes_142

print mes_142

obj::crea_track_HOA("pitch_seq_mes141", "group_hoa1", fade_in = 2, amp = -4, doppler = 0, encoder = false)
$track_bus_pitch_seq_mes141 := $tracks("pitch_seq_mes141").$bus

$seq_dur := [1/3, 1/2, 1/7, 1/4, 1/5, 1/6, 1/7, 1/8]
$multi1_frac := [0.816958, 1., 1.189207, 1.373954, 1.834008, 2.]

// @proc_def ::pitch_seq_in($track, $in, $durs, $pitch, $dev, $tempo, $track_bus, $amp = 0)

$pitch_seq_cor1_mes141 := ::pitch_seq_in("pitch_seq_mes141", $cor1, $seq_dur, $multi1_frac, 0.2, 60, $track_bus_pitch_seq_mes141, 0)
$pitch_seq_cor1_mes141.$amp := 0

$pitch_seq_cor2_mes141 := ::pitch_seq_in("pitch_seq_mes141", $cor2, $seq_dur, $multi1_frac, 0.2, 60, $track_bus_pitch_seq_mes141, 0)
$pitch_seq_cor2_mes141.$amp := 0

$pitch_seq_trp_mes141 := ::pitch_seq_in("pitch_seq_mes141", $trp, $seq_dur, $multi1_frac, 0.2, 60, $track_bus_pitch_seq_mes141, 0)
$pitch_seq_trp_mes141.$amp := 0

$pitch_seq_trb_mes141 := ::pitch_seq_in("pitch_seq_mes141", $trb, $seq_dur, $multi1_frac, 0.2, 60, $track_bus_pitch_seq_mes141, 0)
$pitch_seq_trb_mes141.$amp := 0


NOTE 60 1 mes_144-synth_mes_25_3_2

print mes_144

// $tracks("play_env_trig_fl_mes136").free(0.1)
// $tracks("play_env_trig_bsn_mes136").free(0.1)
// $tracks("play_env_trig_htb_mes136").free(0.1)
// $tracks("play_env_trig_cl_mes136").free(0.1) 
// $tracks("play_env_trig_vln_mes136").free(0.1)
// $tracks("play_env_trig_vlc_mes136").free(0.1)

abort $pitch_seq_cor1_mes141
abort $pitch_seq_cor2_mes141
abort $pitch_seq_trp_mes141
abort $pitch_seq_trb_mes141

$tracks("pitch_seq_mes141").free(1)

$tracks_group_cordes_mes137.rand_lfo(TBufGrainI, trigRate, 1, 50, 5, "linear", 80)
$tracks_group_cordes_mes137.rand_lfo(TBufGrainI, dur, 0.004, 0.1, 0.04, "linear", 80)
$tracks_group_cordes_mes137.rand_lfo(TBufGrainI, ifac, 0, 1, 0, "linear", 80)

$tracks_group_cuivres_mes138.rand_lfo(TBufGrainI, trigRate, 1, 50, 5, "linear", 80)
$tracks_group_cuivres_mes138.rand_lfo(TBufGrainI, dur, 0.004, 0.1, 0.04, "linear", 80)
$tracks_group_cuivres_mes138.rand_lfo(TBufGrainI, ifac, 0, 1, 0, "linear", 80)

// $tracks_group_cordes_mes136.lfo_abort(TBufGrainI, trigRate)
// $tracks_group_cordes_mes136.lfo_abort(TBufGrainI, dur)
// $tracks_group_cordes_mes136.lfo_abort(TBufGrainI, ifac)

$tracks_group_Shaper_gran.amp_add([0, 1, -20])

obj::crea_track_HOA("synth_mes_137_1", "group_hoa3", fade_in = 0.1, amp = -23, doppler = 0, in_channels = 1, [[Bform_mono, freq, 126.68891906738, formfreq, 3765.9609375, bwfreq, 548.0, amp, -17], [TGranIn_mono, envbuf, $envs("server3")("rond"), trigRate, 15, trigRateDev, 0.0, dur, 0.03999999910593]] )
	// $tracks("synth_mes_137_1").bpf_param(TGranIn_mono, trigRate, [8.8, 7, "circ", 15])
	// $tracks("synth_mes_137_1").amp([-30, 4, -15])
		// @fun_def traj_circ($dir, $duree, $start_radio, $end_radio, $start_angle, $end_angle, $start_elev, $end_elev, $period, $type, $loop = 1) // Ambitools

	$tracks("synth_mes_137_1").traj_circ(-1, 5, 1, 1, -270, 90, 20, 20, 60, "linear", 5) 
	// $tracks("synth_mes_137_1").free()


	obj::crea_track_HOA("synth_mes_137_2", "group_hoa3", fade_in = 0.1, amp = -20, doppler = 0, in_channels = 1, [[Bform_mono, freq, 226.61645507812, formfreq, 3766.6623535156, bwfreq, 200.0, amp, -17], [TGranIn_mono, envbuf, $envs("server3")("rond"), trigRate, 18, trigRateDev, 0.0, dur, 0.035000000149012]] )
	// $tracks("synth_mes_137_2").bpf_param(TGranIn_mono, trigRate, [6.5999999, 5, "circ", 18])
	// $tracks("synth_mes_137_2").amp([-30, 3, -12])
	$tracks("synth_mes_137_2").traj_circ(-1, 5, 1, 1, -180, 180, 0, 0, 60, "linear", 5) 
	// $tracks("synth_mes_137_2").free()

	// $tracks("synth_mes_137_2").traj_circ_interp($trp_dae, $alto_dae, 4)
	// group
	// {
	// 	// $tracks("synth_mes_137_2").traj_circ_interp($trp_dae, $alto_dae, 10)
	// 	$tracks("synth_mes_137_2").dae_rand_lfo([0.8, 2, 1, -180, 180, 45, 0, 90, 0])
	// }

NOTE 60 1 mes_146

print mes_146

$tracks_group_cordes_mes136.free(0.5)

$tracks("synth_mes_137_1").free(0.2)
$tracks("synth_mes_137_2").free(0.2)

// $tracks_group_Shaper_gran.set_list_interp(Shaper2_mono, freq, $tracks_group_Shaper_gran.retrieve_param(Shaper2_mono, freq), [ 20 | $x in 10], 6) 
// $tracks_group_Shaper_gran.rand_lfo(TGranIn_mono, trigRate, 1, 50, 5, "linear", 80)

$tracks_group_Shaper_gran.set_list(Shaper2_mono, freq, @midic2hz_tab($rand_note)) 
$tracks_group_Shaper_gran.rand_lfo(TGranIn_mono, dur, 0.04, 0.1, 0.04, "linear", 80)
$tracks_group_Shaper_gran.rand_lfo(TGranIn_mono, trigRate, 1, 50, 5, "linear", 80)
$tracks_group_Shaper_gran.amp_add([-20, 0.2, 0])

NOTE 60 1 mes_147

print mes_147

$tracks_group_Shaper_gran.set_list_interp(Shaper2_mono, freq, $tracks_group_Shaper_gran.retrieve_param(Shaper2_mono, freq), [ @midic2hz(7125) | $x in 10], 4) 
$tracks_group_Shaper_gran.set_list_interp(TGranIn_mono, trigRate, $tracks_group_Shaper_gran.retrieve_param(TGranIn_mono, trigRate), [ 160 | $x in 10], 4) 


NOTE 60 1 mes_148

print mes_148

$tracks_group_Shaper_gran.amp_add([0, 0.5, -20])

obj::crea_track_HOA("synth_mes_141_1", "group_hoa3", fade_in = 0.1, amp = -23, doppler = 0, in_channels = 1, [[Bform_mono, freq, 126.68891906738, formfreq, 3765.9609375, bwfreq, 548.0, amp, -17], [TGranIn_mono, envbuf, $envs("server3")("rond"), trigRate, 15, trigRateDev, 0.0, dur, 0.03999999910593]] )
	// $tracks("synth_mes_141_1").bpf_param(TGranIn_mono, trigRate, [8.8, 7, "circ", 15])
	// $tracks("synth_mes_141_1").amp([-30, 4, -15])
		// @fun_def traj_circ($dir, $duree, $start_radio, $end_radio, $start_angle, $end_angle, $start_elev, $end_elev, $period, $type, $loop = 1) // Ambitools

	$tracks("synth_mes_141_1").traj_circ(-1, 5, 1, 1, -270, 90, 20, 20, 60, "linear", 5) 
	// $tracks("synth_mes_141_1").free()


	obj::crea_track_HOA("synth_mes_141_2", "group_hoa3", fade_in = 0.1, amp = -20, doppler = 0, in_channels = 1, [[Bform_mono, freq, 226.61645507812, formfreq, 3766.6623535156, bwfreq, 200.0, amp, -17], [TGranIn_mono, envbuf, $envs("server3")("rond"), trigRate, 18, trigRateDev, 0.0, dur, 0.035000000149012]] )
	// $tracks("synth_mes_141_2").bpf_param(TGranIn_mono, trigRate, [6.5999999, 5, "circ", 18])
	// $tracks("synth_mes_141_2").amp([-30, 3, -12])
	$tracks("synth_mes_141_2").traj_circ(-1, 5, 1, 1, -180, 180, 0, 0, 60, "linear", 5) 
	// $tracks("synth_mes_141_2").free()

// clear buffers before mes 136
$rec_buf0_05.clear()
$rec_buf1_05.clear()
$rec_buf2_05.clear()
$rec_buf3_05.clear()
$rec_buf4_05.clear()
$rec_buf5_05.clear()

NOTE 60 1 mes_150

print mes_150

$tracks("synth_mes_141_1").free()
$tracks("synth_mes_141_2").free()

$tracks_group_Shaper_gran.amp_add([-20, 0.2, 0])
$tracks_group_Shaper_gran.set_list_interp(Shaper2_mono, freq, $tracks_group_Shaper_gran.retrieve_param(Shaper2_mono, freq), @midic2hz_tab($rand_note), 7) 

group freeze_desc_mes143
{


	$chop_fl_mes143_dur := 4+3 // amp = dur + dur*3 + dur = 5*dur
	$chop_fl_mes143_amp := 16

	// whenever fl_ampgate_mes143 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $fl))
	// {
		// print onset
		$rec_buf0_05.rec($fl)

		// obj::crea_track_HOA("play_env_trig_fl_mes143", "group_hoa1", fade_in = 0.0001, amp = $chop_fl_mes143_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf0_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, flampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		obj::crea_track_HOA("play_env_trig_fl_mes143", "group_hoa1", fade_in = 0.0001, amp = $chop_fl_mes143_amp, doppler = 0, in_channels = 1, [["TBufGrainI", "buf", $rec_buf0_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [TBLowShelf, freq, 10, db, -30]])
		// $tracks("play_env_trig_fl_mes143").rand_lfo(TBufGrainI, trigRate, 1, 50, 5, "linear", 80)
		// $tracks("play_env_trig_fl_mes143").lfo_abort(TBufGrainI, trigRate)
		$tracks("play_env_trig_fl_mes143").set("TBufGrainI", ["trigRate", 14])

		// $tracks("play_env_trig_fl_mes143").bpf_param("TBufGrainI", "ifac", [0, $chop_fl_mes143_dur/3, "sine", 1])
		// $tracks("play_env_trig_fl_mes143").bpf_param("TBufGrainI", "ifac", [1, $chop_fl_mes143_dur/3, "sine", 0])
		$tracks("play_env_trig_fl_mes143").bpf_param("TBufGrainI", "rate", [1, $chop_fl_mes143_dur, "sine", 0.5])
		$tracks("play_env_trig_fl_mes143").set("TBufGrainI", ["rate", 1])
		$tracks("play_env_trig_fl_mes143").set("TBufGrainI", ["dur", 0.05])
		$tracks("play_env_trig_fl_mes143").rand_lfo(TBufGrainI, startPos, 0, 0.2, 1, "linear", 120)
		

		$tracks("play_env_trig_fl_mes143").amp([$chop_fl_mes143_amp, $chop_fl_mes143_dur, $chop_fl_mes143_amp]) //, 0.2, -60], free = 0.1, action = ["flearbuf", $rec_buf0_05])
		// $tracks("play_env_trig_fl_mes143").traj_circ_interp2($fl_dae, $trb_dae, $chop_fl_mes143_dur, 1)
		// $tracks("play_env_trig_fl_mes143").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_fl_mes143").xyz_rand_lfo([-4, 4, $fl_cart[0], -4, 4, $fl_cart[1], 0, 2, $fl_cart[2]], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
		$tracks("play_env_trig_fl_mes143").traj_circ2($fl_dae, 1, 15) 
		$tracks("play_env_trig_fl_mes143").amp(16)
		// $tracks("play_env_trig_fl_mes143").free()
		
	// 	abort fl_ampgate_mes143 @norec // abort juste aprs le onset
	// }	

	$chop_bsn_mes143_dur := 3.5+3 // amp = dur + dur*3 + dur = 5*dur
	$chop_bsn_mes143_amp := -3

	// 1 whenever bsn_ampgate_mes143 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $bsn))
	// {
	// 	print onset
		1 $rec_buf1_05.rec($bsn)

		// obj::crea_track_HOA("play_env_trig_bsn_mes143", "group_hoa1", fade_in = 0.0001, amp = $chop_bsn_mes143_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf1_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, bsnampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		obj::crea_track_HOA("play_env_trig_bsn_mes143", "group_hoa1", fade_in = 0.0001, amp = $chop_fl_mes143_amp, doppler = 0, in_channels = 1, [["TBufGrainI", "buf", $rec_buf1_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_bsn_mes143").set("TBufGrainI", ["trigRate", 12])
		$tracks("play_env_trig_bsn_mes143").set("TBufGrainI", ["dur", 0.05])
		$tracks("play_env_trig_bsn_mes143").set("TBufGrainI", ["rate", 1])
		$tracks("play_env_trig_bsn_mes143").rand_lfo(TBufGrainI, startPos, 0, 0.2, 1, "linear", 120)

		$tracks("play_env_trig_bsn_mes143").bpf_param("TBufGrainI", "rate", [1, $chop_bsn_mes143_dur, "sine", 0.5])

		// $tracks("play_env_trig_bsn_mes143").bpf_param("TBufRdEnvInterp", "impulse_rate", [11, $chop_bsn_mes143_dur, "sine", 11])
		// $tracks("play_env_trig_bsn_mes143").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_bsn_mes143_dur/3, "sine", 1])
		// $tracks("play_env_trig_bsn_mes143").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_bsn_mes143_dur, "sine", 0.5])
		$tracks("play_env_trig_bsn_mes143").amp([$chop_bsn_mes143_amp, $chop_bsn_mes143_dur, $chop_bsn_mes143_amp]) //, 0.2, -60], free = 0.1, action = ["bsnearbuf", $rec_buf1_05])
		// $tracks("play_env_trig_bsn_mes143").traj_circ_interp2($bsn_dae, $trb_dae, $chop_bsn_mes143_dur, 1)
		// $tracks("play_env_trig_bsn_mes143").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_bsn_mes143").xyz_rand_lfo([-4, 4, $bsn_cart[0], -4, 4, $bsn_cart[1], 0, 2, $bsn_cart[2]], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
		$tracks("play_env_trig_bsn_mes143").traj_circ2($bsn_dae, -1, 13) 
		$tracks("play_env_trig_bsn_mes143").amp(13)
		// $tracks("play_env_trig_bsn_mes143").free()
	// 	abort bsn_ampgate_mes143 @norec // abort juste aprs le onset
	// }	

	$chop_htb_mes143_dur := 3+3 // amp = dur + dur*3 + dur = 5*dur
	$chop_htb_mes143_amp := -3

	// 0.5 whenever htb_ampgate_mes143 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $htb))
	// {
	// 	print onset
		0.5 $rec_buf2_05.rec($htb)

		// obj::crea_track_HOA("play_env_trig_htb_mes143", "group_hoa1", fade_in = 0.0001, amp = $chop_htb_mes143_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf2_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, htbampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		obj::crea_track_HOA("play_env_trig_htb_mes143", "group_hoa1", fade_in = 0.0001, amp = $chop_fl_mes143_amp, doppler = 0, in_channels = 1, [["TBufGrainI", "buf", $rec_buf2_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_htb_mes143").set("TBufGrainI", ["trigRate", 11])
		$tracks("play_env_trig_htb_mes143").set("TBufGrainI", ["dur", 0.05])
		$tracks("play_env_trig_htb_mes143").set("TBufGrainI", ["rate", 1])
		$tracks("play_env_trig_htb_mes143").rand_lfo(TBufGrainI, startPos, 0, 0.2, 1, "linear", 120)
		$tracks("play_env_trig_htb_mes143").bpf_param("TBufGrainI", "rate", [1, $chop_htb_mes143_dur, "sine", 0.5])

		// $tracks("play_env_trig_htb_mes143").bpf_param("TBufRdEnvInterp", "impulse_rate", [11, $chop_htb_mes143_dur, "sine", 11])
		// $tracks("play_env_trig_htb_mes143").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_htb_mes143_dur/3, "sine", 1])
		// $tracks("play_env_trig_htb_mes143").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_htb_mes143_dur, "sine", 0.5])
		$tracks("play_env_trig_htb_mes143").amp([$chop_htb_mes143_amp, $chop_htb_mes143_dur, $chop_htb_mes143_amp]) //, 0.2, -60], free = 0.1, action = ["htbearbuf", $rec_buf2_05])
		// $tracks("play_env_trig_htb_mes143").traj_circ_interp2($htb_dae, $trb_dae, $chop_htb_mes143_dur, 1)
		// $tracks("play_env_trig_htb_mes143").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_htb_mes143").xyz_rand_lfo([-4, 4, $htb_cart[0], -4, 4, $htb_cart[1], 0, 2, $htb_cart[2]], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
		$tracks("play_env_trig_htb_mes143").traj_circ2($htb_dae, 1, 12) 
		$tracks("play_env_trig_htb_mes143").amp(12)
		// $tracks("play_env_trig_htb_mes143").free()
	// 	abort htb_ampgate_mes143 @norec // abort juste aprs le onset
	// }	

	$chop_cl_mes143_dur := 2.5+3 // amp = dur + dur*3 + dur = 5*dur
	$chop_cl_mes143_amp := -3

	// 0.5 whenever cl_ampgate_mes143 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $cl))
	// {
	// 	print onset
		0.5 $rec_buf3_05.rec($cl)

		// obj::crea_track_HOA("play_env_trig_cl_mes143", "group_hoa1", fade_in = 0.0001, amp = $chop_cl_mes143_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf3_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		obj::crea_track_HOA("play_env_trig_cl_mes143", "group_hoa1", fade_in = 0.0001, amp = $chop_fl_mes143_amp, doppler = 0, in_channels = 1, [["TBufGrainI", "buf", $rec_buf3_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_cl_mes143").set("TBufGrainI", ["trigRate", 16])
		$tracks("play_env_trig_cl_mes143").set("TBufGrainI", ["dur", 0.05])
		$tracks("play_env_trig_cl_mes143").set("TBufGrainI", ["rate", 1])
		$tracks("play_env_trig_cl_mes143").rand_lfo(TBufGrainI, startPos, 0, 0.2, 1, "linear", 120)
		$tracks("play_env_trig_cl_mes143").bpf_param("TBufGrainI", "rate", [1, $chop_cl_mes143_dur, "sine", 0.5])

		// $tracks("play_env_trig_cl_mes143").bpf_param("TBufRdEnvInterp", "impulse_rate", [11, $chop_cl_mes143_dur, "sine", 11])
		// $tracks("play_env_trig_cl_mes143").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cl_mes143_dur/3, "sine", 1])
		// $tracks("play_env_trig_cl_mes143").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_cl_mes143_dur, "sine", 0.5])
		$tracks("play_env_trig_cl_mes143").amp([$chop_cl_mes143_amp, $chop_cl_mes143_dur, $chop_cl_mes143_amp]) //, 0.2, -60], free = 0.1, action = ["clearbuf", $rec_buf3_05])
		// $tracks("play_env_trig_cl_mes143").traj_circ_interp2($cl_dae, $trb_dae, $chop_cl_mes143_dur, 1)
		// $tracks("play_env_trig_cl_mes143").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_cl_mes143").xyz_rand_lfo([-4, 4, $cl_cart[0], -4, 4, $cl_cart[1], 0, 2, $cl_cart[2]], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
		$tracks("play_env_trig_cl_mes143").traj_circ2($cl_dae, 1, 16) 
		$tracks("play_env_trig_cl_mes143").amp(15)
				// $tracks("play_env_trig_cl_mes143").free()
	// 	abort cl_ampgate_mes143 @norec // abort juste aprs le onset
	// }	

	$chop_vln_mes143_dur := 2+3 // amp = dur + dur*3 + dur = 5*dur
	$chop_vln_mes143_amp := -3

	// 0.5 whenever vln_ampgate_mes143 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vln))
	// {
	// 	print onset
		0.5 $rec_buf4_05.rec($vln)

		// obj::crea_track_HOA("play_env_trig_vln_mes143", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes143_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf4_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, vlnampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		obj::crea_track_HOA("play_env_trig_vln_mes143", "group_hoa1", fade_in = 0.0001, amp = $chop_fl_mes143_amp, doppler = 0, in_channels = 1, [["TBufGrainI", "buf", $rec_buf4_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_vln_mes143").set("TBufGrainI", ["trigRate", 12])
		$tracks("play_env_trig_vln_mes143").set("TBufGrainI", ["dur", 0.1])
		$tracks("play_env_trig_vln_mes143").set("TBufGrainI", ["rate", 1])
		$tracks("play_env_trig_vln_mes143").rand_lfo(TBufGrainI, startPos, 0, 0.2, 1, "linear", 120)
		$tracks("play_env_trig_vln_mes143").bpf_param("TBufGrainI", "rate", [1, $chop_vln_mes143_dur, "sine", 0.5])

		// $tracks("play_env_trig_vln_mes143").bpf_param("TBufRdEnvInterp", "impulse_rate", [11, $chop_vln_mes143_dur, "sine", 11])
		// $tracks("play_env_trig_vln_mes143").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_vln_mes143_dur/3, "sine", 1])
		// $tracks("play_env_trig_vln_mes143").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_vln_mes143_dur, "sine", 0.5])
		$tracks("play_env_trig_vln_mes143").amp([$chop_vln_mes143_amp, $chop_vln_mes143_dur, $chop_vln_mes143_amp]) //, 0.2, -60], free = 0.1, action = ["vlnearbuf", $rec_buf4_05])
		// $tracks("play_env_trig_vln_mes143").traj_circ_interp2($vln_dae, $trb_dae, $chop_vln_mes143_dur, 1)
		// $tracks("play_env_trig_vln_mes143").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_vln_mes143").xyz_rand_lfo([-4, 4, $vln_cart[0], -4, 4, $vln_cart[1], 0, 2, $vln_cart[2]], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
		$tracks("play_env_trig_vln_mes143").traj_circ2($vln_dae, 1, 15) 
		$tracks("play_env_trig_vln_mes143").amp(16)
	// $tracks("play_env_trig_vln_mes143").free()
	// 	abort vln_ampgate_mes143 @norec // abort juste aprs le onset
	// }	

	$chop_vlc_mes143_dur := 1.5+3 // amp = dur + dur*3 + dur = 5*dur
	$chop_vlc_mes143_amp := -3

	// 0.5 whenever vlc_ampgate_mes143 (($ampgatedetect[0] == "server5") && ($ampgatedetect[1] == $vlc))
	// {
	// 	print onset
		0.5 $rec_buf5_05.rec($vlc)

		// obj::crea_track_HOA("play_env_trig_vlc_mes143", "group_hoa1", fade_in = 0.0001, amp = $chop_vlc_mes143_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf5_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, vlcampTime,  0.0019, relaxTime, 0.0028], [TBLowShelf, freq, 10, db, -30]])
		obj::crea_track_HOA("play_env_trig_vlc_mes143", "group_hoa1", fade_in = 0.0001, amp = $chop_fl_mes143_amp, doppler = 0, in_channels = 1, [["TBufGrainI", "buf", $rec_buf5_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))], [TBLowShelf, freq, 10, db, -30]])
		$tracks("play_env_trig_vlc_mes143").set("TBufGrainI", ["trigRate", 12])
		$tracks("play_env_trig_vlc_mes143").set("TBufGrainI", ["dur", 0.1])
		$tracks("play_env_trig_vlc_mes143").set("TBufGrainI", ["rate", 1])
		$tracks("play_env_trig_vlc_mes143").rand_lfo(TBufGrainI, startPos, 0, 0.2, 1, "linear", 120)
		$tracks("play_env_trig_vlc_mes143").bpf_param("TBufGrainI", "rate", [1, $chop_vlc_mes143_dur, "sine", 0.5])

		// $tracks("play_env_trig_vlc_mes143").bpf_param("TBufRdEnvInterp", "impulse_rate", [11, $chop_vlc_mes143_dur, "sine", 11])
		// $tracks("play_env_trig_vlc_mes143").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_vlc_mes143_dur/3, "sine", 1])
		// $tracks("play_env_trig_vlc_mes143").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_vlc_mes143_dur, "sine", 0.5])
		$tracks("play_env_trig_vlc_mes143").amp([$chop_vlc_mes143_amp, $chop_vlc_mes143_dur, $chop_vlc_mes143_amp]) //, 0.2, -60], free = 0.1, action = ["vlcearbuf", $rec_buf5_05])
		// $tracks("play_env_trig_vlc_mes143").traj_circ_interp2($vlc_dae, $trb_dae, $chop_vlc_mes143_dur, 1)
		// $tracks("play_env_trig_vlc_mes143").set(CompressorD, [thresh, 0.3])
		// $tracks("play_env_trig_vlc_mes143").xyz_rand_lfo([-4, 4, $vlc_cart[0], -4, 4, $vlc_cart[1], 0, 2, $vlc_cart[2]], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
		$tracks("play_env_trig_vlc_mes143").traj_circ2($vlc_dae, 1, 15) 
		$tracks("play_env_trig_vlc_mes143").amp(15)
		// $tracks("play_env_trig_vlc_mes143").free()

	// 	abort vlc_ampgate_mes143 @norec // abort juste aprs le onset
	// }	
}

NOTE 60 1 mes_151

print mes_151

$tracks_group_Shaper_gran.free(0.1)

NOTE 60 1 mes_152

print mes_152

$tracks("play_env_trig_fl_mes143").free(0.5)
$tracks("play_env_trig_bsn_mes143").free(0.5)
$tracks("play_env_trig_htb_mes143").free(0.5)
$tracks("play_env_trig_cl_mes143").free(0.5)
$tracks("play_env_trig_vln_mes143").free(0.5)
$tracks("play_env_trig_vlc_mes143").free(0.5)


NOTE 60 1 mes_153

print mes_153

NOTE 60 1 mes_156

print mes_156

NOTE 60 1 mes_159

print mes_159

NOTE 60 1 waveshaping_synth

// create a waveshaping buffer
$tab_sin := [ @sin(@scale($x, 0, 1025, (-1*$pi/2), ($pi/2), 1)) | $x in (1025) ] // create tab	
$tab_sin_2 := []
forall $x in $tab_sin
{
	@local $x_new
	$x_new := (@cos(@scale($x, -1, 1, 0, $pi*50, 1)*0.08) / 4) + 0.3
	$tab_sin_2.push_back($x*$x_new)
}
$tab_sin_2 := @normalize($tab_sin_2, -1, 1) // normalize signal between -1 and 1

// print (""+$tab_sin_2)
// send result to sc server buffer
::asWavetableNoWrapTab("server1", "wt_shaper1", $tab_sin_2) // "wt_shaper1" name in dictionary to store the buffer ID

print buffer_id ($WavetableNoWrapTab("wt_shaper1"))

obj::mix_group("group4", "server1")
obj::mix_group("group4_ste", "server1", 2) // stereo track

obj::crea_track("track5", "group4", fade_in = 5, amp = -10, [["Shaper2", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 111, "amp", 1]])
obj::crea_track("track5_ste", "group4_ste", fade_in = 5, amp = -10, [["Shaper2", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 111, "amp", 1]])
$tracks("track5_ste").mod_add(["Shaper2", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 40, "amp", -3, "sus", 10, "curvemax", 0])

$tracks("track5").mod_add(["Shaper2", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 40, "amp", -3, "sus", 60, "curvemax", 0])
$tracks("track5").mod_add(["TAddic_15_8"])
$tracks("track5").free(1)
$tracks("track5").mod_add(["Shaper2", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 40, "amp", -3, "sus", 66, "curvemax", 0])
$tracks("track5").mod_add(["Shaper2", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 50, "amp", -3, "sus", 10, "curvemax", 0])
$tracks("track5").mod_add(["Shaper2", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 63, "amp", -3, "sus", 10, "curvemax", 0])
$tracks("track5").mod_add(["Shaper2", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 150, "amp", 1, "sus", 10])

$tracks("track5").mod_add(["Shaper2", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 43.653529, "amp", -3, "sus", 66, "curvemax", 0])
$tracks("track5").mod_add(["Shaper2", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 46, "amp", -3, "sus", 66, "curvemax", 0])
$tracks("track5").mod_add(["Shaper2", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 58.27047, "amp", -6, "sus", 66, "curvemax", 0])
$tracks("track5").mod_add(["Shaper2", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 60., "amp", -6, "sus", 66, "curvemax", 0])
$tracks("track5").mod_add(["Shaper2", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 65.406391, "amp", -8, "sus", 66, "curvemax", 0])
$tracks("track5").mod_add(["Shaper2", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 66, "amp", -8, "sus", 66, "curvemax", 0])
$tracks("track5").mod_add(["Shaper2", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 87.307058, "amp", -10, "sus", 66, "curvemax", 0])
$tracks("track5").mod_add(["Shaper2", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 88, "amp", -10, "sus", 66, "curvemax", 0])


$tracks("track5").mod_add([["Shaper2", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 41.203445, "amp", -10, "sus", 66, "curvemax", 0], [TGranIn_mono, envbuf, $envs("server3")("rond"), trigRate, 15, trigRateDev, 0.0, dur, 0.03999999910593]])



loop drone0 7
{	
	$number_notes := 20
	$rand_note := [ @rand_range_int(5, 120) + (@rand_int(4) * 0.25) | $x in ($number_notes)] * 100 // * 100 -> midicents
	print $rand_note
	forall $note in $rand_note
	{
		$tracks("track5").mod_add(["Shaper2", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", $note.midic2hz(), "amp", @rand_range_int(-20, -10), "sus", 1, "curvemax", 0])
	}
}

loop drone0 4
{	
	$number_notes := 11
	$rand_note := [ @rand_range_int(28, 97) + (@rand_int(4) * 0.25) | $x in ($number_notes)] * 100 // * 100 -> midicents
	$rand_note.push_front(1600)
	$rand_amp := [ @rand_range_int(-25, -15) | $x in ($number_notes+1)]
	print $rand_note
	print $rand_amp
	to_bach "/notes" $rand_note
	to_bach "/amps" $rand_amp
	forall $note in $rand_note.size()
	{
		$tracks("track5").mod_add(["Shaper2", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", $rand_note[$note].midic2hz(), "amp", $rand_amp[$note], "sus", 3, "curvemax", 0])
	}
}
to_bach toto 
abort drone0
print (""+@rand_range_int(28, 91))
/*print: [1600, 7425., 6700., 6475., 7050., 7300., 6025., 7050., 7000., 7175., 6925., 6675.]
print: [-19, -22, -25, -16, -23, -19, -21, -17, -18, -16, -17, -20]

print: [1600, 7275., 7100., 7325., 6300., 6475., 6475., 6800., 6425., 6075., 6575., 7050.]
print: [-23, -22, -16, -17, -16, -19, -17, -21, -23, -21, -21, -23]

print: [1600, 6375., 7200., 7450., 6700., 6150., 7050., 6375., 6725., 7025., 6500., 7250.]
print: [-18, -24, -21, -18, -24, -22, -22, -25, -18, -19, -20, -17]

print: [1600, 6300., 6650., 7350., 6275., 6250., 7325., 7325., 6425., 6825., 7400., 6525.]
print: [-23, -25, -16, -24, -18, -24, -25, -21, -19, -20, -16, -22]*/


/*print: 10448824.0 ms - 1600 8150. 9925. 5625. 6400. 3475. 5325. 6225. 5150. 7500.
print: 10448824.0 ms - -29 -30 -21 -21 -25 -21 -22 -24 -24 -22
print: 10773825.4 ms - 1600 7125. 6650. 6800. 6475. 7475. 7450. 6625. 7000. 6050. 6100. 7125.
print: 10773825.4 ms - -19 -20 -25 -17 -16 -17 -19 -23 -24 -16 -16 -22
print: 10797825.3 ms - 1600 7075. 6175. 6525. 6800. 6000. 6525. 6925. 6650. 7475. 7125. 6700.
print: 10797825.3 ms - -24 -25 -22 -19 -25 -19 -24 -19 -21 -16 -18 -19
print: 10821828.0 ms - 1600 6625. 7425. 7350. 7350. 6550. 6525. 7475. 6300. 6625. 6525. 6450.
print: 10821828.0 ms - -20 -25 -20 -20 -22 -21 -18 -21 -16 -18 -22 -21
print: 10857826.2 ms - 1600 6950. 7350. 6300. 6775. 7400. 7250. 6325. 7400. 7075. 6375. 7375.
print: 10857826.2 ms - -23 -17 -25 -16 -22 -22 -21 -17 -23 -18 -23 -18
print: 10881826.7 ms - 1600 6200. 6600. 6875. 6800. 7375. 6375. 7100. 6725. 6050. 6350. 7375.
print: 10881826.7 ms - -25 -19 -25 -23 -20 -18 -19 -19 -19 -25 -23 -16
print: 10977820.7 ms - 1600 6900. 6725. 6050. 6325. 7075. 7100. 6075. 6375. 6900. 6950. 6675.
print: 10977820.7 ms - -24 -22 -18 -17 -16 -18 -16 -18 -24 -16 -19 -20
print: 10989824.2 ms - 1600 6875. 6275. 6825. 7000. 6975. 7175. 6925. 7150. 7050. 7100. 6550.
print: 10989824.2 ms - -25 -22 -19 -17 -19 -19 -19 -25 -25 -18 -24 -17*/


loop drone0 40
{	
	$number_notes := 20
	$rand_note := [ @rand_range_int(5, 20) + (@rand_int(4) * 0.25) | $x in ($number_notes)] * 100 // * 100 -> midicents
	print $rand_note
	forall $note in $rand_note
	{
		$tracks("track5").mod_add(["Shaper2", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", $note.midic2hz(), "amp", @rand_range_int(-20, -10), "sus", 20, "curvemax", 0])
	}
}

// print: 5425. 6575. 5600. 5575. 4450. 6875. 3975. 5975. 1625. 500. 925. 5825. 2500. 3500. 725. 2250. 3975. 1800. 4400. 4450.
// print: 2725. 5375. 2925. 1425. 3250. 2825. 6275. 6725. 4900. 5725. 2275. 4850. 3425. 2550. 4200. 4225. 6750. 1475. 3025. 5400.

$rand_note := [5425., 6575., 5600., 5575., 4450., 6875., 3975., 5975., 1625., 500., 925., 5825., 2500., 3500., 725., 2250., 3975., 1800., 4400., 4450.]

$rand_note := [1600., 3600., 3800., 5675., 5700., 7125., 8100., 8500., 8525., 8700.]
$rand_amp := [-25., -27., -25., -22., -30., -25., -28., -23., -26., -22.]
forall $note in $rand_note.size()
{
	$tracks("track5").mod_add(["Shaper2", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", $rand_note[$note].midic2hz(), "amp", $rand_amp[$note], "sus", 20, "curvemax", 0])
}

$rand_note := [1600, 5425., 3925., 6925., 5775., 6650., 3650., 6925., 9800., 4750.]
$rand_note := [1600, 9675., 9725., 9050., 9800., 7200., 4425., 3050., 7050., 6925.]
$rand_note := [1600, 8375., 7900., 7350., 4525., 8050., 4000., 8775., 8525., 8800.]

$rand_note := [1600, 8525., 3525., 4050., 2900., 7400., 7125., 8875., 4600., 4300.]
$rand_note := [1600,2900]
forall $note in $rand_note
{
	$tracks("track5").mod_add(["Shaper2", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", $note.midic2hz(), "amp", @rand_range_int(-3, -3), "sus", 20, "curvemax", 0])
}

obj::mix_group_HOA("group4", "server1")

$tracks("track5").mod_add([["Shaper2_mono", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 100, "amp", -20, "sus", 66, "curvemax", 0]])
obj::crea_track_HOA("track6", "group_hoa1", fade_in = 5, amp = -10, [["Shaper2_mono", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 2900, "amp", -10, "sus", 5, "curvemax", 0], [TGranIn_mono, envbuf, $envs("server1")("rond"), trigRate, 15, trigRateDev, 0.0, dur, 0.03999999910593]])
$tracks("track6").mod_add([["Shaper2_mono", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 55, "amp", -20, "sus", 66, "curvemax", 0]])


$rand_note := [4000]
$rand_note := [1600, 8525., 3525., 4050., 2900., 7400., 7125., 8875., 4600., 4300.]

$list_Shaper_names := []
forall $note in $rand_note.size()
{
	group
	{
		@local $track_name := "note"+$note
		$list_Shaper_names.push_back($track_name)
		obj::crea_track_HOA($track_name, "group_hoa1", fade_in = 1, amp = -26, doppler = 0, in_channels = 1,[["Shaper2_mono", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", $rand_note[$note].midic2hz(), "amp", @rand_range_int(-20, -10), "sus", 20, "curvemax", 0], [TGranIn_mono, envbuf, $envs("server1")("perc"), trigRate, @rand_range(5,20), trigRateDev, 0.0, dur, 0.03999999910593]])
		// $tracks($track_name).traj_circ(@choose([-1, 1]), 5, @rand_range(1.2, 2), 1, @rand_range(-360, -180), 180, 0, 0, 60, "linear", 5) 
		$tracks($track_name).traj_circ2([1, @rand_range(-180, 180), 0], @choose([-1, 1]), @rand_range(30, 120)) 
		// $tracks($track_name).rand_lfo(TGranIn_mono, trigRate, 1, 50, 5, "linear", 80)
		// 20 $tracks($track_name).free(1)
	}
}

	// @fun_def traj_circ2($start_coords, $clockwise, $tpo = 60) // Ambitools


$rand_note := [1600, 2900]
forall $note in $rand_note
{
	$tracks("track5").mod_add(["Shaper2", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", $note.midic2hz(), "amp", @rand_range_int(-3, -3), "sus", 20, "curvemax", 0])
}

///// qued aqui hacer interpolation gliss acompaado con accel granos
$tracks_group_Shaper_gran := obj::tracks_group($list_Shaper_names)
$tracks_group_Shaper_gran.rand_lfo(TGranIn_mono, trigRate, 1, 50, 5, "linear", 80)
$tracks_group_Shaper_gran.rand_lfo(TGranIn_mono, dur, 0.04, 0.1, 0.04, "linear", 80)
// $tracks_group_Shaper_gran.free(2)
$tracks_group_Shaper_gran.amp_add([0, 5, 6])
print (""+$tracks_group_Shaper_gran.retrieve_param(TGranIn_mono, trigRate))
print (""+$tracks_group_Shaper_gran.retrieve_param(Shaper2_mono, freq))

$tracks_group_Shaper_gran.lfo_abort("TGranIn_mono", "trigRate")
$tracks_group_Shaper_gran.set_list_interp(TGranIn_mono, trigRate, $tracks_group_Shaper_gran.retrieve_param(TGranIn_mono, trigRate), [ 160 | $x in 10], 5) 

$tracks("pvco_scrub_cb_mes86").free(0.1)
$tracks("pvco_scrub_cb_mes86_2").free(0.1)


$tracks_group_Shaper_gran.set_list_interp(TGranIn_mono, trigRate, $tracks_group_Shaper_gran.retrieve_param(TGranIn_mono, trigRate), [ @rand_range(15, 20) | $x in 10], 5) 
$tracks_group_Shaper_gran.set_list_interp(Shaper2_mono, freq, $tracks_group_Shaper_gran.retrieve_param(Shaper2_mono, freq), [ 20 | $x in 10], 5) 


$tracks_group_Shaper_gran.traj_abort()

print (""+[ 50 | $x in 10])
// [ @rand_range(20, 40) | $x in (6)]
print $list_Shaper_names
$of_gui := ::gui_oF_trajs() // send o OpenFramaworks visual

print (""+@midic2hz_tab([1600, 8525., 3525., 4050., 2900., 7400., 7125., 8875., 4600., 4300.]))
// [1600, 5425., 3925., 6925., 5775., 6650., 3650., 6925., 9800., 4750.]
// [1600, 9675., 9725., 9050., 9800., 7200., 4425., 3050., 7050., 6925.]
// [1600, 8525., 3525., 4050., 2900., 7400., 7125., 8875., 4600., 4300.]

$Servers("server1").g_dumpTree(0, 1)
abort drone0

loop drone1 9
{
	$rand_note := [ @rand_range(20, 40) | $x in (6)] * 100 // * 100 -> midicents
	forall $note in $rand_note
	{
		$tracks("track5").mod_add(["Shaper2", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", $note.midic2hz(), "amp", @rand_range_int(-20, -10), "sus", 10, "curvemax", 0])
	}
}

		group pvoc_cb_mes_86
		{
			$rec_buf_pvoc_cb_mes195.rec($cb)
			0.1 obj::crea_track_HOA("pvco_scrub_cb_mes86", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_cb_mes195.id()], ["TJPverb_mono", t60, 0.1]]) 
			$tracks("pvco_scrub_cb_mes86").rand_lfo_dyn("TScrubPvocBuf", "pos", 0.1, "linear", 60, $rec_buf_pvoc_cb_mes195)
			$tracks("pvco_scrub_cb_mes86").traj_circ2($cb_dae, 1, 15) 
			obj::crea_track_HOA("pvco_scrub_cb_mes86_2", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_cb_mes195.id()], ["TJPverb_mono", t60, 0.1]]) 
			$tracks("pvco_scrub_cb_mes86_2").rand_lfo_dyn("TScrubPvocBuf", "pos", 0.1, "linear", 60, $rec_buf_pvoc_cb_mes195)
			$tracks("pvco_scrub_cb_mes86_2").traj_circ2($cb_dae, 1, 15) 
			// $tracks("pvco_scrub_cb_mes86_2").dae_rand_lfo([1.5, 4, $cb_dae[0], -180, 180, $cb_dae[1], 0, 45, 0], 120)
			// $tracks("pvco_scrub_cb_mes86_2").xyz_rand_lfo([-4, 4, 0, -4, 4, 0, 0, 2, 0.0], 120) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol									
			$tracks("pvco_scrub_cb_mes86_2").amp(0)
		}
$tracks("pvco_scrub_cb_mes86").free()
abort drone1

NOTE 60 1 mes_50

print mes_50


// $rec_buf6_1.id()

// $Servers("server1").b_getn(96, 10, 20)

// $onset_vlc.thresh(0.1)

// $tracks("chop_vlc_mes47_3").free()
// $Servers("server1").g_dumpTree(0, 1)
// abort chop_vlc

/*
$inc_chop_piano := 0
1.1 whenever chop_piano (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $piano))
{
	group //@tight
	{
		@local $nom_track
		
		$nom_track := ("chop_piano"+$inc_chop_piano)

		obj::crea_track_HOA($nom_track, "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, [["AudioInput", "input", $piano, "amp", 0], ["TCortaExt", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
		$tracks($nom_track).set("TCortaExt", [t_trig, 1]) // trigger chop
		$tracks($nom_track).rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 30, "linear")
		$tracks($nom_track).bpf_param("TCortaExt", "trig_time", [10, 2, 15])
		$tracks($nom_track).amp([0, 2, 0, 2, -50, 2, -120])
		2/5 $tracks($nom_track).set("TCortaExt", [ingain, 0.])
		$tracks($nom_track).free()

	}
	$inc_chop_piano += 1
}
*/

obj::crea_track_HOA("gran_track1", "group_hoa1", amp = -6, encoder = false) // track for receive encoded HOA (granulation, etc)

// @obj_def HOA_grainIN_xyz_rand_fix_track($in, $envbuf0, $envbuf1, $env_interp, $del_min, $del_max, $env_dur_min, $env_dur_max, $x_min, $x_max, $y_min, $y_max, $z_min, $z_max, $amp, $track_HOA_NE, $grain_group) 

$obj_granIn := obj::HOA_grainIN_xyz_rand_fix_track($htb, "rond", "carre", -1, 0, 0, 1, 1, -1, 1, 0, 1, 0, 1, 0, "gran_track1") 

$obj_granIn.add()
$obj_granIn.remove()
$obj_granIn.del(0, 0)
$obj_granIn.del(0, 1)

$obj_granIn.env_dur_min(0.1)
$obj_granIn.env_dur_max(0.5)

abort $obj_granIn

print (""+$envs("server1")("rond"))
$Servers("server1").g_dumpTree(0, 1)

//// real time granulation

$rec_buf2.rec($alto, loop = 1, doneAction = 0)

$rec_buf2.rec_loop(1)
// $rec_buf1.stop_record()

// $rec_buf1.free()
print ($rec_buf2.id())

obj::crea_track_HOA("gran_track2", "group_hoa1", amp = -6, encoder = false) // track for receive encoded HOA (granulation, etc)
// $tracks("gran_track2").master_vst("FdnReverb")
// $tracks("gran_track2").gui("FdnReverb")

// @proc_def 		  HOA_grain_xyz_rand_fix_track($buf, $envbuf, $rate_min, $rate_max, $pos_min, $pos_max, $ryth_min, $ryth_max, $env_dur_min, $env_dur_max, $x_min, $x_max, $y_min, $y_max, $z_min, $z_max, $amp, $track_no_decoder, $grain_group)
$test_gran_proc1 := obj::HOA_grain_xyz_rand_fix_track_buf($rec_buf2.id(), "pointe", 0.9, 1.1, 0, 1, 0.002, 0.02, 0.05, 0.1, 0.5, 0.6, 0.5, 0.6, 0, 0.6, -12, "gran_track2", 1)
// $test_gran_proc1.buf("Raggi-p3-concat.aif")
$test_gran_proc1.amp(-20)
$test_gran_proc1.xyz_interpol([[0.5, 0.6, 0.5, 0.6, 0.4, 0.6], 5, "linear", [-0.8, -0.8, 0.7, 0.7, 0., 1], 4, "exp_in", [-0.5, -0.6, -0.5, -0.6, 0.3, 0.3], 3, [0.6, 0.6, -0.6, -0.6, 0.5, 0.5], 4, "circ_in_out", [0.5, 0.6, 0.5, 0.6, 0.4, 0.8]], 10)
$nim_grain := NIM { 0 10, 9 120 "sine", 15 30 "linear"}
Curve @grain 0.01, @action {$test_gran_proc1.tempo_grain($gr_temp) } { $gr_temp : $nim_grain}

$test_gran_proc1.tempo_grain(300)
// $test_gran_proc1.tempo_loop(60)

// $test_gran_proc2.xyz_interpol_stop()

abort $test_gran_proc1 

/////
NOTE 60 1 gran1

$rec_buf0 := obj::rec_buf("server1", duree = 5)
$rec_buf0.rec_loop(0)
$rec_buf0.rec(0, loop = 0)
$Servers("server1").g_dumpTree(0, 1)
print ($rec_buf0.id())
print ($rec_buf0.dur())
// $rec_buf0.free()

obj::crea_track_HOA("onset_seq", "group_hoa1", amp = 0, doppler = 0)
//playsegments($buf_id, $segment_tab, $ryth_loop, $dur_secs, $ampli = 0, $loop = 0) // hacer map con samplers tocados para stop
$tracks("onset_seq").playsegments($rec_buf0.id(), $flu_onset(onset_1), 1, 0)
// [ "/cmd", "FluidBufOnsetSlice", "FluidBufOnsetSlice/processNew", 9207, 43, 0, -1, 0, -1, 44, 9, 0.13, 2, 5, 0, 1024, -1, -1, 1024, 1, DATA[40] ]
 						  	// [ "/cmd",  "FluidBufOnsetSlice/processNew", 2128, 845, 0, -1, 0, -1, 0, 9, 0.1, 2, 5, 0, 1024, -1, -1, 1 ]
// $Servers("server1").cmd(["FluidBufOnsetSlice/processNew", 4822, 25, 0, -1, 0, -1, 26, 9, 0.1, 2, 5, 0, 1024, -1, -1, 1024, 1 ])

//onsetSlice($server_name, $source_buf, $startFrame = 0, $numFrames = -1, $startChan = 0, $numChans = -1, $indices_buf = 0, $metric = 9, $threshold = 0.5, $minSliceLength = 2, $filterSize = 5, $frameDelta = 0, $windowSize = 1024, $hopSize = -1, $fftSize = -1, $freeWhenDone = "true")
::onsetSlice("server1", onset_1, $rec_buf0, 0, -1, 0, -1, @buff_gran("server1"), 5, 0.55, 300, 5, 0, 2048, -1, -1)

print (""+$flu_onset(onset_1))

$Servers("server1").b_getn(11, 0, 4)

$Servers("server1").b_query(9)

$Servers("server1").b_write($rec_buf0.id(), "/Users/josephfernandez/Documents/projet-Ircam/buffers/b0.aif")

obj::crea_track_HOA("lfo_rot12_rev", "group_hoa1", amp = -3, encoder = false) // track for receive encoded HOA (granulation, etc)
//@obj_def HOA_grain_polar_vol_rand_pos2($buf, $envbuf, $rate_min, $rate_max, $ryth_min, $ryth_max, $env_dur_min, $env_dur_max, $radio_min, $radio_max, $theta_min, $theta_max, $phi_min, $phi_max, $pos_min, $pos_max, $amp, $track_HOA_NE, $grain_group, $spk_radius = 1.07) 
$gran_rand_pos3 := obj::HOA_grain_polar_vol_rand_pos2($rec_buf21_05.id(), "perc", 0.9, 1.1, 0.001, 0.05, 0.01, 0.1, 0.01, 0.6, -100, -80, 0, 360, 0., 1., -10, "lfo_rot12_rev", 3)
// $groups("group_hoa3").group_ambi_translation_z_rand_lfo(-2, 2, 0, 120, "linear")
$tracks("lfo_rot12_rev").rand_lfo_basic_track_pos_z(-2, 2, 0, 120, "linear") 
$gran_rand_pos3.envbuf(perc)
$gran_rand_pos3.env_dur_min(0.5)
$gran_rand_pos3.env_dur_max(1.2)
$gran_rand_pos3.ryth_min(0.01)
$gran_rand_pos3.ryth_max(0.05)
$gran_rand_pos3.rate_min(1)
$gran_rand_pos3.rate_max(1)
$gran_rand_pos3.amp(10)
$tracks("lfo_rot12_rev").amp(-3)

$tracks("lfo_rot12_rev").free()
abort $gran_rand_pos3

$tracks("lfo_rot12_rev").master_vst("FdnReverb")
$tracks("lfo_rot12_rev").vst_gui("FdnReverb", 1) // open vst editor
$tracks("lfo_rot12_rev").mod_remove("FdnReverb", 5) 

NOTE 60 1 gran2

// $buff_gran_t2 := @buff_gran("server1") // utilise un buffer dj cre

// prepare record buffer objet
$rec_buf1 := obj::rec_buf("server1", duree = 1)

$rec_buf1.rec($alto, loop = 1)

$rec_buf1.rec_loop(1)
$rec_buf1.stop_record()

$rec_buf1.free()
print ($rec_buf1.id())
// obj::crea_track("gran_htb", "group_hoa1", fade_in = 0.001, amp = 0, [["AudioInput", "input", $htb], ["TRecBuffOnset", "rec_dur", 0.7, "buf", $buff_gran_t2]]) 

obj::crea_track_HOA("gran_buffer", "group_hoa1", amp = -70, encoder = false) // track without encoder 

$tracks("gran_buffer").mod_add(["Gran_3e_7", "soundBuf", $rec_buf21_05.id(), "posLo", 0.2, "posHi", 0.5, "posRateE", -1, "posRateM", 0.8, "overlap", 10, "trigRate", 45, "rate", 0.7, "bpRQ", 0.15, "bpLo", 900, "bpHi", 5000])
$tracks("gran_buffer").set("Gran_3e_7", ["x", [-0.099807, 0.274596, -0.666343, -0.317539, 0.931805, 0.969184, 0.130535, -0.155927, -0.91281, 0.369354]])
$tracks("gran_buffer").set("Gran_3e_7", ["y", [-0.876938, 0.41847, -0.180007, 0.900403, 0.395949, -0.081855, -0.400696, 0.62292, 0.932034, -0.597324]])
$tracks("gran_buffer").set("Gran_3e_7", ["z", [0.59037, -0.990099, 0.347693, -0.062238, 0.170005, 0.697988, 0.354898, -0.612149, 0.978246, -0.989027]])
$tracks("gran_buffer").rand_lfo("Gran_3e_7", "pos", 0.01, 0.99, 0.6, "linear", 200)
$tracks("gran_buffer").amp([-70, 1, "cubic_out", -3])
$tracks("gran_buffer").amp(15)
$tracks("gran_buffer").set("Gran_3e_7", [rate, 1, trigRate, 30, tratedev, 5, overlap, 5])
$tracks("gran_buffer").free()

///// New granulator scsynth
obj::crea_track_HOA("gran_buffer", "group_hoa2", amp = 0, encoder = false) // track without encoder 
$tracks("gran_buffer").master_vst("FdnReverb")
$tracks("gran_buffer").master_vst("EnergyVisualizer")

$tracks("gran_buffer").gui("FdnReverb")
$tracks("gran_buffer").gui("EnergyVisualizer")
$tracks("gran_buffer").mod_remove("FdnReverb")
$tracks("gran_buffer").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("Raggi-p3-concat-mono.aif"), "posLo", 0.2, "posHi", 0.5, "posRateE", -1, "posRateM", 0.8, "overlap", 10, "trigRate", 45, "rate", 1, "bpRQ", 0.15, "bpLo", 900, "bpHi", 5000])
$tracks("gran_buffer").set("Gran_multi_trig_7", [rate, 1, trigRate, 1, tratedev, 0, overlap, 10])

// $tracks("gran_buffer").set("Gran_multi_trig_7", [coords, [1., 22.5, 0, 1, -22.5, 0, 1, -67.5, 0, 0.1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1., 10.5, 0, 1, -10.5, 0]])
$tracks("gran_buffer").set("Gran_multi_trig_7", [posLo, 0.1])
$tracks("gran_buffer").set("Gran_multi_trig_7", [posHi, 0.5])
$tracks("gran_buffer").set("Gran_multi_trig_7", [posRate, 35])
$tracks("gran_buffer").set("Gran_multi_trig_7", [posDev, 1.1])
$tracks("gran_buffer").set("Gran_multi_trig_7", [trigRate, 20.1])
$tracks("gran_buffer").set("Gran_multi_trig_7", [trigRateDev, 100])
$tracks("gran_buffer").set("Gran_multi_trig_7", [dur, 0.05])
$tracks("gran_buffer").set("Gran_multi_trig_7", [durDev, 0.04])
$tracks("gran_buffer").set("Gran_multi_trig_7", [rate, 1.0])
$tracks("gran_buffer").set("Gran_multi_trig_7", [x0, 2.0])
$tracks("gran_buffer").set("Gran_multi_trig_7", [x1, -2.0])
$tracks("gran_buffer").set("Gran_multi_trig_7", [y0, 1])
$tracks("gran_buffer").set("Gran_multi_trig_7", [y1, 0])
// $tracks("gran_buffer").set("Gran_multi_trig_7", [overlap, 100])
$tracks("gran_buffer").set("Gran_multi_trig_7", [buf, $SF_map("server2")("Raggi-p3-concat-mono.aif")])
$tracks("gran_buffer").set("Gran_multi_trig_7", [buf, $SF_map("server2")("trp_bisb_si4.aif")])
$tracks("gran_buffer").set("Gran_multi_trig_7", [buf, $SF_map("server2")("cb-pizz-bartok-grain1-tenuto.aif")])
$tracks("gran_buffer").set("Gran_multi_trig_7", [buf, $SF_map("server2")("Tam  small.aif")])
$tracks("gran_buffer").set("Gran_multi_trig_7", [buf, $SF_map("server2")("Woodblock-Do3.aif")])
$tracks("gran_buffer").set("Gran_multi_trig_7", [buf, $SF_map("server2")("clikc1-mono.aif")])
$tracks("gran_buffer").set("Gran_multi_trig_7", [buf, $SF_map("server2")("boronzon-re5-mono.aif")])
$tracks("gran_buffer").amp(-6)
$tracks("gran_buffer").free()

print ($SF_map("server2")("Raggi-p3-concat.aif"))

obj::crea_track_HOA("gran_buffer", "group_hoa2", amp = 0, encoder = false) // track without encoder 

$tracks("gran_buffer").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("boronzon-re5-mono.aif"), "posLo", 0.2, "posHi", 0.5, "posRateE", -1, "posRateM", 0.8, "overlap", 10, "trigRate", 45, "rate", 1, "bpRQ", 0.15, "bpLo", 900, "bpHi", 5000])
$tracks("gran_buffer").set("Gran_multi_trig_7", [posLo, 0.1])
$tracks("gran_buffer").set("Gran_multi_trig_7", [posHi, 0.5])
$tracks("gran_buffer").set("Gran_multi_trig_7", [posRate, 35])
$tracks("gran_buffer").set("Gran_multi_trig_7", [posDev, 1.1])
$tracks("gran_buffer").set("Gran_multi_trig_7", [trigRate, 20.1])
$tracks("gran_buffer").set("Gran_multi_trig_7", [trigRateDev, 100])
$tracks("gran_buffer").set("Gran_multi_trig_7", [dur, 0.05])
$tracks("gran_buffer").set("Gran_multi_trig_7", [durDev, 0.04])
$tracks("gran_buffer").set("Gran_multi_trig_7", [rate, 1.0])
$tracks("gran_buffer").rand_lfo("Gran_multi_trig_7", x0, -1, 1, 1, "linear", 90)
$tracks("gran_buffer").rand_lfo("Gran_multi_trig_7", x1, -1, 1, 1, "linear", 90)
$tracks("gran_buffer").rand_lfo("Gran_multi_trig_7", y0, -1, 1, 1, "linear", 90)
$tracks("gran_buffer").rand_lfo("Gran_multi_trig_7", y1, -1, 1, 1, "linear", 90)
$tracks("gran_buffer").amp(-6)
curve
@Grain := 5 ms //0.01s 
@action :=  { 
// $map_granulations("gran_cor2_fa3").rate_min($val1)
// $map_granulations("gran_cor2_fa3").rate_max($val1)
$tracks("gran_buffer").set("Gran_multi_trig_7", [x0, $val1])
$tracks("gran_buffer").set("Gran_multi_trig_7", [x1, $val1])
}
{ $val1 {
         	{1 	} @type := "linear"
         3 	{-1 } 
       	}
}

obj::crea_track_HOA("gran_buffer2", "group_hoa2", amp = 0, encoder = false) // track without encoder 

$tracks("gran_buffer2").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("boronzon-si4-mono.aif"), "posLo", 0.2, "posHi", 0.5, "posRateE", -1, "posRateM", 0.8, "overlap", 10, "trigRate", 45, "rate", 1, "bpRQ", 0.15, "bpLo", 900, "bpHi", 5000])
$tracks("gran_buffer2").set("Gran_multi_trig_7", [posLo, 0.1])
$tracks("gran_buffer2").set("Gran_multi_trig_7", [posHi, 0.5])
$tracks("gran_buffer2").set("Gran_multi_trig_7", [posRate, 35])
$tracks("gran_buffer2").set("Gran_multi_trig_7", [posDev, 1.1])
$tracks("gran_buffer2").set("Gran_multi_trig_7", [trigRate, 20.1])
$tracks("gran_buffer2").set("Gran_multi_trig_7", [trigRateDev, 100])
$tracks("gran_buffer2").set("Gran_multi_trig_7", [dur, 0.05])
$tracks("gran_buffer2").set("Gran_multi_trig_7", [durDev, 0.04])
$tracks("gran_buffer2").set("Gran_multi_trig_7", [rate, 1.0])
$tracks("gran_buffer2").rand_lfo("Gran_multi_trig_7", x0, -1, 1, 1, "linear", 90)
$tracks("gran_buffer2").rand_lfo("Gran_multi_trig_7", x1, -1, 1, 1, "linear", 90)
$tracks("gran_buffer2").rand_lfo("Gran_multi_trig_7", y0, -1, 1, 1, "linear", 90)
$tracks("gran_buffer2").rand_lfo("Gran_multi_trig_7", y1, -1, 1, 1, "linear", 90)
$tracks("gran_buffer2").amp(-6)
curve
@Grain := 5 ms //0.01s 
@action :=  { 
// $map_granulations("gran_cor2_fa3").rate_min($val1)
// $map_granulations("gran_cor2_fa3").rate_max($val1)
$tracks("gran_buffer2").set("Gran_multi_trig_7", [x0, $val1])
$tracks("gran_buffer2").set("Gran_multi_trig_7", [x1, $val1])
}
{ $val1 {
         	{1 	} @type := "linear"
         3 	{-1 } 
       	}
}

obj::crea_track_HOA("gran_buffer3", "group_hoa2", amp = 0, encoder = false) // track without encoder 

$tracks("gran_buffer3").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("boronzon-sol4-mono.aif"), "posLo", 0.2, "posHi", 0.5, "posRateE", -1, "posRateM", 0.8, "overlap", 10, "trigRate", 45, "rate", 1, "bpRQ", 0.15, "bpLo", 900, "bpHi", 5000])
$tracks("gran_buffer3").set("Gran_multi_trig_7", [posLo, 0.1])
$tracks("gran_buffer3").set("Gran_multi_trig_7", [posHi, 0.5])
$tracks("gran_buffer3").set("Gran_multi_trig_7", [posRate, 35])
$tracks("gran_buffer3").set("Gran_multi_trig_7", [posDev, 1.1])
$tracks("gran_buffer3").set("Gran_multi_trig_7", [trigRate, 20.1])
$tracks("gran_buffer3").set("Gran_multi_trig_7", [trigRateDev, 100])
$tracks("gran_buffer3").set("Gran_multi_trig_7", [dur, 0.05])
$tracks("gran_buffer3").set("Gran_multi_trig_7", [durDev, 0.04])
$tracks("gran_buffer3").set("Gran_multi_trig_7", [rate, 1.0])
$tracks("gran_buffer3").rand_lfo("Gran_multi_trig_7", x0, -1, 1, 1, "linear", 90)
$tracks("gran_buffer3").rand_lfo("Gran_multi_trig_7", x1, -1, 1, 1, "linear", 90)
$tracks("gran_buffer3").rand_lfo("Gran_multi_trig_7", y0, -1, 1, 1, "linear", 90)
$tracks("gran_buffer3").rand_lfo("Gran_multi_trig_7", y1, -1, 1, 1, "linear", 90)
$tracks("gran_buffer3").amp(-6)
curve
@Grain := 5 ms //0.01s 
@action :=  { 
// $map_granulations("gran_cor2_fa3").rate_min($val1)
// $map_granulations("gran_cor2_fa3").rate_max($val1)
$tracks("gran_buffer3").set("Gran_multi_trig_7", [x0, $val1])
$tracks("gran_buffer3").set("Gran_multi_trig_7", [x1, $val1])
}
{ $val1 {
         	{1 	} @type := "linear"
         3 	{-1 } 
       	}
}


obj::crea_track_HOA("gran_buffer", "group_hoa2", amp = -70, encoder = false) // track without encoder 

$tracks("gran_buffer").mod_add(["Gran_3e_7", "soundBuf", $SF_map("server2")("Raggi-p3-concat-mono.aif"), "posLo", 0.2, "posHi", 0.5, "posRateE", -1, "posRateM", 0.8, "overlap", 10, "trigRate", 45, "rate", 0.7, "bpRQ", 0.15, "bpLo", 900, "bpHi", 5000])
$tracks("gran_buffer").set("Gran_3e_7", ["x", [-0.099807, 0.274596, -0.666343, -0.317539, 0.931805, 0.969184, 0.130535, -0.155927, -0.91281, 0.369354]])
$tracks("gran_buffer").set("Gran_3e_7", ["y", [-0.876938, 0.41847, -0.180007, 0.900403, 0.395949, -0.081855, -0.400696, 0.62292, 0.932034, -0.597324]])
$tracks("gran_buffer").set("Gran_3e_7", ["z", [0.59037, -0.990099, 0.347693, -0.062238, 0.170005, 0.697988, 0.354898, -0.612149, 0.978246, -0.989027]])
$tracks("gran_buffer").rand_lfo("Gran_3e_7", "pos", 0.01, 0.99, 0.6, "linear", 200)
$tracks("gran_buffer").amp([-70, 1, "cubic_out", -3])
$tracks("gran_buffer").set("Gran_3e_7", [rate, 1, trigRate, 3, tratedev, 5, overlap, 10])
$tracks("gran_buffer").set("Gran_3e_7", [soundBuf, $SF_map("server2")("Woodblock-Do3.aif")])

$tracks("gran_buffer").free()


NOTE 60 1 granulation1

obj::crea_track_HOA("gran_track2", "group_hoa3", amp = -6, encoder = false) // track for receive encoded HOA (granulation, etc)
$tracks("gran_track2").master_vst("FdnReverb")
$tracks("gran_track2").master_vst("MultiEQ")
$tracks("gran_track2").master_vst("EnergyVisualizer", "after", "MultiEQ")

$tracks("gran_track2").gui("FdnReverb")
$tracks("gran_track2").gui("MultiEQ")
$tracks("gran_track2").gui("EnergyVisualizer")
$tracks("gran_track1").free()
// @proc_def 		  HOA_grain_xyz_rand_fix_track($buf, $envbuf, $rate_min, $rate_max, $pos_min, $pos_max, $ryth_min, $ryth_max, $env_dur_min, $env_dur_max, $x_min, $x_max, $y_min, $y_max, $z_min, $z_max, $amp, $track_no_decoder, $grain_group)
$test_gran_proc1 := obj::HOAmbi_grain_xyz_rand_fix_track_buf($rec_buf6_05.id(), "pointe", 0.9, 1.1, 0, 1, 0.002, 0.02, 0.05, 0.1, 0.5, 0.6, 0.5, 0.6, 0, 0.6, -12, "gran_track1", 1)
$test_gran_proc1 := obj::HOAmbi_grain_xyz_rand_fix_track_buf_list([$rec_buf27_05.id(), $rec_buf15_05.id(), $rec_buf4_05.id(), $rec_buf21_05.id(), $rec_buf6_05.id(), $rec_buf5_05.id(), $rec_buf3_05.id()], "pointe", 0.9, 1.1, 0, 1, 0.002, 0.02, 0.05, 0.1, 0.5, 0.6, 0.5, 0.6, 0, 0.6, -12, "gran_track1", 1)
$test_gran_proc1.buf($rec_buf6_05.id())
$test_gran_proc1.envbuf(perc)
$test_gran_proc1.rate_min(1)
$test_gran_proc1.rate_max(1)
$test_gran_proc1.pos_min(0)
$test_gran_proc1.pos_max(0.8)
$test_gran_proc1.ryth_min(0.01)
$test_gran_proc1.ryth_max(0.01)
$test_gran_proc1.env_dur_min(0.5)
$test_gran_proc1.env_dur_max(0.6)
$test_gran_proc1.amp(6)
$test_gran_proc1.xyz_interpol([[0.5, 0.6, 0.5, 0.6, 0.4, 0.6], 5, "linear", [-0.8, -0.8, 0.7, 0.7, 0., 1], 4, "exp_in", [-0.5, -0.6, -0.5, -0.6, 0.3, 0.3], 3, [0.6, 0.6, -0.6, -0.6, 0.5, 0.5], 4, "circ_in_out", [0.5, 0.6, 0.5, 0.6, 0.4, 0.8]], 10)
$nim_grain := NIM { 0 10, 9 120 "sine", 15 30 "linear"}
Curve @grain 0.01, @action {$test_gran_proc1.tempo_grain($gr_temp) } { $gr_temp : $nim_grain}

$Servers("server1").dumpOSC(0)
$Servers("server3").dumpOSC(0)
$Servers("server2").g_dumpTree(0, 1)
$Servers("server3").g_dumpTree(0, 1)
$test_gran_proc1.tempo_grain(150)
// $test_gran_proc1.tempo_loop(60)
abort $test_gran_proc1
// $test_gran_proc2.xyz_interpol_stop() 
print ($SF_map("server3")("Raggi-p3-concat.aif"))

$test_gran_proc2 := obj::HOA_grain_xyz_rand_fix_track("hang2-3-Eq009.aif", "perc", 0.9, 1.1, 0, 1, 0.002, 0.02, 0.05, 0.1, -0.5, -0.6, 0.5, 0.6, 0, 0.6, 6, "gran_track1", 2)
$test_gran_proc2 := obj::HOAmbi_grain_xyz_rand_fix_track_buf_list([$SF_map("server3")("Raggi-p3-concat.aif")], "perc", 0.9, 1.1, 0, 1, 0.002, 0.02, 0.05, 0.1, -0.5, -0.6, 0.5, 0.6, 0, 0.6, 6, "gran_track2", 2)
$test_gran_proc2 := obj::HOAmbi_grain_xyz_rand_fix_track_buf_list([$rec_buf27_05.id(), $rec_buf15_05.id(), $rec_buf4_05.id(), $rec_buf21_05.id(), $rec_buf6_05.id(), $rec_buf5_05.id(), $rec_buf3_05.id()], "pointe", 0.9, 1.1, 0, 1, 0.002, 0.02, 0.05, 0.1, 0.5, 0.6, 0.5, 0.6, 0, 0.6, -12, "gran_track1", 1)

$test_gran_proc2.xyz_interpol([[-0.8, -0.8, 0.7, 0.7, 0., 1], 5, "linear", [0.5, 0.6, 0.5, 0.6, 0.4, 0.8], 4, "exp_in", [-0.5, -0.6, -0.5, -0.6, 0.3, 0.3], 4, "circ_in_out", [0.5, 0.6, -0.5, -0.6, 0.3, 0.3], 5, [-0.8, -0.8, 0.7, 0.7, 0., 1]], 10)
$test_gran_proc2.amp(6)
$test_gran_proc2.env_dur_min(0.1)
$test_gran_proc2.env_dur_max(0.2)
$test_gran_proc2.buf([$SF_map("server3")("papillon-souffle-01.aif")])
$test_gran_proc2.envbuf(perc)

$test_gran_proc1.free(3)
$test_gran_proc2.free(3)

NOTE 60 1 granulation2

obj::crea_track_HOA("gran_track2", "group_hoa3", amp = -6, encoder = false) // track for receive encoded HOA (granulation, etc)
$tracks("gran_track2").master_vst("FdnReverb")
$tracks("gran_track2").gui("FdnReverb")
						    // HOA_grain_xyz_rand_pos_mod2_track($buf, $envbuf, $rate_min, $rate_max, $pos_min, $pos_max, $ryth_min, $ryth_max, $env_dur_min, $env_dur_max, $x_min, $x_max, $y_min, $y_max, $z_min, $z_max, $rand_lfo_x_min, $rand_lfo_x_max, $rand_lfo_y_min, $rand_lfo_y_max, $rand_lfo_z_min, $rand_lfo_z_max, $pos_lfo_min, $pos_lfo_max, $amp, $track_HOA_NE, $grain_group) 
	$test_gran_obj1 := obj::HOA_grain_xyz_rand_pos_mod2_track("conformal1-1_4.aif", "rond", 1, 1.01, 0.01, 0.5, 0.02, 0.1, 0.1, 0.2, -0.05, 0.05, -0.05, 0.05, 0, 0.6, -1., 1., -1., 1., 0, 1.5, 0., 1., -23, "gran_track2", 3)
	$test_gran_obj1.ryth_min(0.01)
	$test_gran_obj1.ryth_max(0.03)

	// $test_gran_obj1.buf("harm-trem-A5-c3-2.aif")
	// $test_gran_obj1.buf("Crash-inv-out6.aif")
	// $test_gran_obj1.buf("Tom-18p-1coup.aif")
	// $test_gran_obj1.buf("Japanese_Block1.aif")
	// $test_gran_obj1.buf("thundersheet-large+bow.aif")
	// $test_gran_obj1.buf("iso_rimshot.aif")
	// $test_gran_obj1.buf("Para-gran2-materia.aif")	
	$test_gran_obj1.envbuf("rond")
	$test_gran_obj1.envbuf("perc")
	$test_gran_obj1.buf("thundersheet-large+bow.aif", 3)
	$test_gran_obj1.buf("conformal1-1_4.aif", 10)
	$test_gran_obj1.buf_prob(0.5)	
	$test_gran_obj1.env_dur_min(0.01)
	$test_gran_obj1.env_dur_max(0.1)	
	$test_gran_obj1.amp(0)

	// $test_gran_obj1.tpo(0)

	$test_gran_obj2 := obj::HOA_grain_xyz_rand_pos_mod2_track("comedien-2.aif", "rond", 0.9, 1.1, 0, 0.7, 0.02, 0.1, 0.2, 0.15, -0.05, 0.05, -0.05, 0.05, 0, 0.6, -1., 1., -1., 1., 0, 1.5, 0., 1., 0, "gran_track2", 4)
	$test_gran_obj2.ryth_min(0.01)
	$test_gran_obj2.ryth_max(0.05)
	$test_gran_obj2.pos_min(0.)
	$test_gran_obj2.pos_max(0.9)	
	$test_gran_obj2.envbuf("m2")
	$test_gran_obj2.envbuf("perc")
	$test_gran_obj2.envbuf("rond")
	$test_gran_obj2.env_dur_min(0.1)
	$test_gran_obj2.env_dur_max(0.5)
	$test_gran_obj2.amp(0)
	// $test_gran_obj2.buf("Acc-rit-nois-mes-105-agu.aif")
	// $test_gran_obj2.buf("tamtam+bow1.aif")
	// $test_gran_obj2.buf("cymbals-crash+bow1.aif")
	// $test_gran_obj2.buf("comedien-2.aif")	
	// $test_gran_obj2.buf("Raggi-p3-concat.aif")
	// $test_gran_obj2.amp(5)
	$test_gran_obj1.free(3)	
	$test_gran_obj2.free(3)
	$tracks("gran_track1").mod_remove("FdnReverb")
	$tracks("gran_track2").mod_remove("FdnReverb")

NOTE 60 1 vst_HOA_plugins

obj::crea_track_HOA("vst_test2", "group_hoa2", amp = 0, encoder = false) // track for receive encoded HOA (granulation, etc)
obj::crea_track_HOA("vst_test2", "group_hoa2", amp = 0, doppler = 0, in_channels = 2) 

$tracks("vst_test2").xyz([@rand_range(-0.5, 0.5), @rand_range(-0.5, 0.5), @rand_range(-0.5, 0.5)])


$tracks("vst_test2").play_sample2("Raggi-p3-concat.aif", 0, 1)

$tracks("vst_test2").mod_add(["Unfiltered Audio Silo", "preset", "preset1"])
$tracks("vst_test2").gui("Unfiltered Audio Silo")


$tracks("vst_test2").mod_add("GranularEncoder")
$tracks("vst_test2").vst_gui("GranularEncoder", 1) // open vst editor

$tracks("vst_test2").mod_remove("GranularEncoder", 1)

$tracks("vst_test2").master_vst("FdnReverb")
$tracks("vst_test2").master_vst("EnergyVisualizer")

$tracks("vst_test2").gui("FdnReverb")
$tracks("vst_test2").gui("EnergyVisualizer")

$tracks("vst_test2").play_sample_stop("Raggi-p3-concat.aif", 1)

$tracks("vst_test2").free()


NOTE 60 1 granulation_tour_ambitools

obj::crea_track_HOA("gran_track2", "group_hoa3", amp = -6, encoder = false) // track for receive encoded HOA (granulation, etc)
$tracks("gran_track2").master_vst("FdnReverb")
$tracks("gran_track2").master_vst("MultiEQ")
$tracks("gran_track2").master_vst("MultiBandCompressor")
$tracks("gran_track2").master_vst("RoomEncoder")
$tracks("gran_track2").gui("FdnReverb")
$tracks("gran_track2").gui("MultiEQ")
$tracks("gran_track2").gui("MultiBandCompressor")
$tracks("gran_track2").gui("RoomEncoder")
$test_gran_proc2 := obj::HOAmbi_grain_xyz_rand_fix_track_buf_list([$SF_map("server3")("Raggi-p3-concat.aif")], "perc", 0.9, 1.1, 0, 1, 0.002, 0.02, 0.05, 0.1, -0.5, -0.6, 0.5, 0.6, 0, 0.6, -6, "gran_track2", 1)
$test_gran_proc2 := obj::HOAmbi_grain_xyz_rand_fix_track_buf_list([$SF_map("server3")("trb-la3+.aif")], "perc", 0.9, 1.1, 0, 1, 0.002, 0.02, 0.05, 0.1, -0.5, -0.6, 0.5, 0.6, 0, 0.6, -6, "gran_track2", 1)
$test_gran_proc2 := obj::HOAmbi_grain_xyz_rand_fix_track_buf_list([$SF_map("server3")("trb-sol2.aif")], "perc", 0.9, 1.1, 0, 1, 0.002, 0.02, 0.05, 0.1, -0.5, -0.6, 0.5, 0.6, 0, 0.6, -6, "gran_track2", 1)
// $test_gran_proc2 := obj::HOAmbi_grain_xyz_rand_fix_track_buf_list([$rec_buf27_05.id(), $rec_buf15_05.id(), $rec_buf4_05.id(), $rec_buf21_05.id(), $rec_buf6_05.id(), $rec_buf5_05.id(), $rec_buf3_05.id()], "pointe", 0.9, 1.1, 0, 1, 0.002, 0.02, 0.05, 0.1, 0.5, 0.6, 0.5, 0.6, 0, 0.6, -12, "gran_track1", 1)
print toto
$test_gran_proc2.xyz_interpol([[-1.8, -1.8, 1.7, 1.7, 0., 1], 5, "linear", [0.5, 0.6, 0.5, 0.6, 0.4, 0.8], 4, "exp_in", [-0.5, -0.6, -0.5, -0.6, 0.3, 0.3], 4, "circ_in_out", [0.5, 0.6, -0.5, -0.6, 0.3, 0.3], 5, [-0.8, -0.8, 0.7, 0.7, 0., 1]], 10)
$test_gran_proc2.amp(6)
$test_gran_proc2.env_dur_min(0.05)
$test_gran_proc2.env_dur_max(0.1)
$test_gran_proc2.buf([$SF_map("server3")("papillon-souffle-01.aif")])
$test_gran_proc2.buf([$SF_map("server3")("comedien-2.aif")])
$test_gran_proc2.buf([$SF_map("server3")("comedien-2.aif"), $SF_map("server3")("papillon-souffle-01.aif"), $SF_map("server3")("Raggi-p3-concat.aif")])
$test_gran_proc2.envbuf(carre)
$test_gran_proc2.rate_min(1)
$test_gran_proc2.rate_max(1)
$test_gran_proc2.pos_min(0)
$test_gran_proc2.pos_max(1)
$test_gran_proc2.pos_min(0)
$test_gran_proc2.pos_max(0)
$test_gran_proc2.ryth_min(0.1)
$test_gran_proc2.ryth_max(0.1)
$test_gran_proc2.ryth_min(1)
$test_gran_proc2.ryth_max(1.5)
$test_gran_proc2.env_dur_min(2)
$test_gran_proc2.env_dur_max(2.6)
$test_gran_proc2.env_dur_min(0.1)
$test_gran_proc2.env_dur_max(0.1)
$test_gran_proc2.amp(6)
$test_gran_proc2.rand_x_min(-1)
$test_gran_proc2.rand_x_max(1)
$test_gran_proc2.rand_y_min(-1)
$test_gran_proc2.rand_y_max(1)
$test_gran_proc2.rand_z_min(0)
$test_gran_proc2.rand_z_max(1)
$test_gran_proc2.free(3)
$test_gran_proc2.xyz_interpol([[$trb_cart[0],$trb_cart[0], $trb_cart[1],$trb_cart[1], 0., 1], 5, "linear", [$trp_cart[0],$trp_cart[0], $trp_cart[1],$trp_cart[1], 0., 1]], 1)


$test_gran_obj2 := obj::HOAmbi_grain_xyz_rand_pos_mod2_track([$SF_map("server3")("comedien-2.aif")], "rond", 0.9, 1.1, 0, 0.7, 0.02, 0.1, 0.2, 0.15, -0.05, 0.05, -0.05, 0.05, 0, 0.6, -1., 1., -1., 1., 0, 1.5, 0., 1., 0, "gran_track2", 2)
$test_gran_obj2.ryth_min(0.01)
$test_gran_obj2.ryth_max(0.05)
$test_gran_obj2.pos_min(0.)
$test_gran_obj2.pos_max(0.9)	
$test_gran_obj2.envbuf("m2")
$test_gran_obj2.envbuf("perc")
$test_gran_obj2.envbuf("rond")
$test_gran_obj2.env_dur_min(0.1)
$test_gran_obj2.env_dur_max(0.5)
$test_gran_obj2.amp(16)
$test_gran_obj2.buf([$SF_map("server3")("comedien-2.aif"), $SF_map("server3")("papillon-souffle-01.aif"), $SF_map("server3")("Raggi-p3-concat.aif")])
$test_gran_obj2.free(3)

// @obj_def HOAmbi_grain_polar_vol_rand_pos2($buf_list, $envbuf, $rate_min, $rate_max, $ryth_min, $ryth_max, $env_dur_min, $env_dur_max, $radio_min, $radio_max, $theta_min, $theta_max, $phi_min, $phi_max, $pos_min, $pos_max, $amp, $track_HOA_NE, $grain_group, $spk_radius = 1.07) 

// $gran_rand_pos3 := obj::HOAmbi_grain_polar_vol_rand_pos2("042_TAM-trama1.aif", "perc", 0.9, 1.1, 0.001, 0.05, 0.01, 0.1, 0.01, 0.6, -100, -80, 0, 360, 0., 1., -10, "lfo_rot12_rev", 3)
$gran_rand_pos1 := obj::HOAmbi_grain_polar_vol_rand_pos2([$SF_map("server3")("papillon-souffle-01.aif")], "perc", 0.9, 1.1, 0.001, 0.05, 0.01, 0.1, 0.01, 0.6, 0, 90, 0, 360, 0., 1., 0, "gran_track2", 3)
print (""+$SF_map("server3")("Laconicism-(-1.aif"))
$gran_rand_pos1.buf([$SF_map("server3")("Laconicism-(-1.aif")])
$gran_rand_pos1.amp(0)

$gran_rand_pos1.free(3)

// @obj_def HOAmbi_grain_rot_rand_lfo2($buf, $envbuf, $rate_min, $rate_max, $ryth_min, $ryth_max, $env_dur_min, $env_dur_max, $pos_min, $pos_max, $dir, $duree, $radio, $start_angle, $start_elev, $end_angle, $end_elev, $period, $type, $id, $amp, $track_HOA_NE, $grain_group) 
$gran_rand_lfo_rot1 := obj::HOAmbi_grain_rot_rand_lfo2([$SF_map("server3")("ballets_1-out012.aif")], "perc", 0.8, 1.2, 0.05, 0.13, 0.2, 0.3, 0.01, 0.2, 1, 3, 0.6, -180, 0, 180, 0, 60, "linear", 0, -15, "gran_track2", 4)
$gran_rand_lfo_rot1.free(3)
print (""+$SF_map("server3")("ballets_1-out012.aif"))

obj::crea_track_HOA("rota_psycho1", "group_hoa3", amp = -6, encoder = false) // track for receive encoded HOA (granulation, etc)
$rota_psycho1 := obj::HOAmbi_grain_rot_rand_lfo2([$SF_map("server3")("Japanese_Block1.aif")], "perc", 1., 1.05, 0.04, 0.1, 0.07, 0.07, 0.01, 0.15, 1, 3, 0.7, 0, 10, 360, 10, 60, "linear", 0, 3, "rota_psycho1", 1) // amp -16
$rota_psycho1 := obj::HOAmbi_grain_rot_rand_lfo2([$SF_map("server3")("ballets_1-out012.aif")], "perc", 1., 1.05, 0.04, 0.1, 0.07, 0.07, 0.01, 0.15, 1, 3, 0.7, 0, 10, 360, 10, 60, "linear", 0, 3, "rota_psycho1", 1) // amp -16
$rota_psycho1 := obj::HOAmbi_grain_rot_rand_lfo2([$SF_map("server3")("cb_ord-re+1.aif")], "perc", 1., 1.05, 0.04, 0.1, 0.07, 0.07, 0.01, 0.15, 1, 3, 0.7, 0, 10, 360, 10, 60, "linear", 0, 3, "rota_psycho1", 1) // amp -16
$tracks("rota_psycho1").amp(10)
// $rota_psycho1.dir(-1)
// $rota_psycho1.radio(0.5)
// $rota_psycho1.ryth_min(0.04)
// $rota_psycho1.ryth_max(0.1)
$rota_psycho1.rate_min(1.)
$rota_psycho1.rate_max(1.)
$rota_psycho1.pos_min(0.2)
$rota_psycho1.pos_max(0.5)
$rota_psycho1.env_dur_min(0.2)
$rota_psycho1.env_dur_max(0.3)
$rota_psycho1.buf([$SF_map("server3")("cb_ord-re+1.aif")])
$rota_psycho1.period(30)
$rota_psycho1.free(3)
// "cb_ord-re+1.aif"
$tracks("rota_psycho1").master_vst("FdnReverb")
$tracks("rota_psycho1").master_vst("MultiEQ")
$tracks("rota_psycho1").master_vst("MultiBandCompressor")
$tracks("rota_psycho1").master_vst("RoomEncoder")
$tracks("rota_psycho1").gui("FdnReverb")
$tracks("rota_psycho1").gui("MultiEQ")

NOTE 60 1 notas_electronicas

obj::crea_track_HOA("notas_elec", "group_hoa2", amp = -6, encoder = false) // track for receive encoded HOA (granulation, etc)
obj::crea_track_HOA("notas_elec_ste", "group_hoa2", amp = -6, in_channels = 2) // track for receive encoded HOA (granulation, etc)
obj::crea_track_HOA("samples_ste", "group_hoa3", amp = -6, in_channels = 2) // track for receive encoded HOA (granulation, etc)
obj::crea_track_HOA("track_waveshaping", "group_hoa3", amp = -10, encoder = false) // synth
obj::crea_track_HOA("gran_proc", "group_hoa3", amp = -6, encoder = false) // track for receive encoded HOA (granulation, etc)

$tracks("notas_elec_ste").dae([1., -90, 0, 1, 90, 0])
$tracks("notas_elec").master_vst("FdnReverb")
$tracks("gran_proc").master_vst("FdnReverb")

// $tracks("notas_elec").amp(4)
// @proc_def HOAmbi_grain_xyz_track_buf($buf, $envbuf, $rate, $dur, $pos, $coords, $amp, $track_HOA_NE) 

// $tracks("notas_elec_ste").play_sample2("Laco15_ruido+Silo_extremophile.aif", -3)

// $tracks("notas_elec").play_sample_ste_HOA("segLaco15_ruido+Silo_extremophile.1.aif", -3, [1, -90, 0, 1, 90, 0])
print (""+$SF_map("server2")("N_artic_do4.aif"))
::HOAmbi_grain_xyz_track_buf([$SF_map("server2")("N_artic_do4.aif")], carre, 1, 0.2, 0.0, [1, 45, 0], 0, "notas_elec") 
::HOAmbi_grain_xyz_track_buf([$SF_map("server2")("synth_agu4.aif")], carre, 1, 0.2, 0.0, [1, -45, 0], 0, "notas_elec") 
::HOAmbi_grain_xyz_track_buf([$SF_map("server2")("synth_perc_139.aif")], carre, 1, 0.2, 0.0, [1, 90, 0], 0, "notas_elec") 
// ::HOAmbi_grain_xyz_track_buf([$SF_map("server3")("cb_ord-re+1.aif")], carre, 1, 0.2, 0.0, [1, -90, 0], 10, "notas_elec") 
// ::HOAmbi_grain_xyz_track_buf([$SF_map("server3")("cb_ord-re+1.aif")], carre, 1, 0.2, 0.0, [1, -90, 0], 10, "notas_elec") 
// $tracks("track_waveshaping").mod_add([["Shaper2_HOAambi7", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 50, "amp", -20, "sus", 3, "curvemax", 0, "globTBus", $tracks("track_waveshaping").$bus, "coords", [1, 90, 0]]], fade_in = 0.001)
$tracks("track_waveshaping").mod_add([["Shaper2_HOAambi7", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", 50, "amp", -20, "atk", 0.001, "sus", 1, "rel", 1, "c1", -10, "doneAction", 2, "globTBus", $tracks("track_waveshaping").$bus, "coords", [1, -90, 0], "lpf_freq", 5, "curvemax", 0]])

// print ($tracks("track_waveshaping").$bus)
bpm 92
// print $RT_TEMPO
// $RT_TEMPO := 92

antescofo::tempo 92

// $hoa_bus := $tracks("track_waveshaping").$bus // retrieve HOA bus

$map_granulations := map{}
whenever electro($electro==$electro)
{
	switch ($electro[0])
	{
		case "electro":
		::HOAmbi_grain_xyz_track_buf([$SF_map("server2")($electro[3]+".aif")], $electro[4], @transratio($electro[1]-6000), ($electro[2]/1000), 0.0, [$electro[5], $electro[6], $electro[7]], $electro[8], "notas_elec") 
		case "samples":
			group
			{	
				$tracks("notas_elec").play_sample_ste_HOA($electro[3], $electro.last(), [$electro[5], $electro[6], $electro[7], $electro[8], $electro[9], $electro[10]])
			}
		case "samples2":
			group
			{	
				@local $sf_name
				$sf_name := $electro[3]
				print sf_name ($electro[3])
				print time ($electro[2]/1000)
				$tracks("notas_elec").play_sample_ste_HOA($sf_name, $electro.last(), [$electro[5], $electro[6], $electro[7], $electro[8], $electro[9], $electro[10]])
				($electro[2]/1000)s $tracks("notas_elec").play_sampleHOA_stop($sf_name)
			}			
		case "synth":
			switch ($electro[3])
			{
				case "wavetable1":
				$rand_note := [1600, 8525., 3525., 4050., 2900., 7400., 7125., 8875., 4600., 4300.] // $rand_note := [1600,2900]
				$rand_amp := [-24, -30, -22, -30, -23, -28, -21, -29, -29, -27]
				case "wavetable2":
				$rand_note := [1600, 9675., 4100., 8350., 7525., 5550., 5850., 9625., 9025., 7050.]
				$rand_amp := [-21, -25, -21, -21, -27, -29, -26, -21, -25, -24]
				case "wavetable3":
				$rand_note := [1600, 6400., 7375., 8500., 3225., 7500., 4025., 4700., 4950., 8575.]
				$rand_amp := [-21, -25, -21, -21, -27, -29, -26, -21, -25, -24]
				case "wavetable4":
				$rand_note := [1600, 6875., 6275., 6825., 7000., 6975., 7175., 6925., 7150., 7050., 7100., 6550.]
				$rand_amp := [-25, -22, -19, -17, -19, -19, -19, -25, -25, -18, -24, -17]
				case "wavetable5":
				$rand_note := [1600, 6900., 6725., 6050., 6325., 7075., 7100., 6075., 6375., 6900., 6950., 6675.]
				$rand_amp := [-24, -22, -18, -17, -16, -18, -16, -18, -24, -16, -19, -20]
				case "wavetable6":
				$rand_note := [1600, 7425., 6700., 6475., 7050., 7300., 6025., 7050., 7000., 7175., 6925., 6675.]
				$rand_amp := [-19, -22, -25, -16, -23, -19, -21, -17, -18, -16, -17, -20]
				case "wavetable7":
				$rand_note := [1600, 7275., 7100., 7325., 6300., 6475., 6475., 6800., 6425., 6075., 6575., 7050.]
				$rand_amp := [-23, -22, -16, -17, -16, -19, -17, -21, -23, -21, -21, -23]
				case "wavetable8":
				$rand_note := [1600, 6375., 7200., 7450., 6700., 6150., 7050., 6375., 6725., 7025., 6500., 7250.]
				$rand_amp := [-18, -24, -21, -18, -24, -22, -22, -25, -18, -19, -20, -17]
				case "wavetable9":
				$rand_note := [1600, 6300., 6650., 7350., 6275., 6250., 7325., 7325., 6425., 6825., 7400., 6525.]
				$rand_amp := [-23, -25, -16, -24, -18, -24, -25, -21, -19, -20, -16, -22]
				case "wavetable10":
				$rand_note := [1600., 4775., 4825., 4950., 5225., 5425., 6050., 6225., 7400., 7875., 9150., 9600.]
				$rand_amp := [-23, -25, -16, -24, -18, -24, -25, -21, -19, -20, -16, -22]
			}
			forall $note in $rand_note.size()
			{
				$tracks("track_waveshaping").mod_add(["Shaper2_HOAambi7", "buf", $WavetableNoWrapTab("wt_shaper1"), "freq", $rand_note[$note].midic2hz(), "amp", $rand_amp[$note]+$electro.last(), "atk", 0.01, "sus", ($electro[2]/1000), "rel", 0.1, "curvemax", 0, "globTBus", $tracks("track_waveshaping").$bus, "coords", [1, (360/$rand_note.size()*$note)-180, 0]], fade_in = 0.001)
			}	
		case "proc":
			switch ($electro[3])
			{
				case "gran_cor_trp1":
					group 
					{
						// @local $gran_proc
						// $gran_proc := obj::HOAmbi_grain_xyz_rand_fix_track_buf_list([$SF_map("server3")("trb-la3+.aif"), $SF_map("server3")("trp-fa5.aif")], "carre", 1, 1, 0, 0, 0.07, 0.07, 0.1, 0.1, -1, 1, -1, 1, 0, 0.6, $electro.last(), "gran_proc", 1)
						if($map_granulations("gran_cor_trp1").is_undef())
						{
							$map_granulations.add_pair("gran_cor_trp1", obj::HOAmbi_grain_xyz_rand_fix_track_buf_list([$SF_map("server3")("trb-la3+.aif"), $SF_map("server3")("trp-fa5.aif")], "carre", 1, 1, 0, 0, 0.07, 0.07, 0.1, 0.1, -1, 1, -1, 1, 0, 0.6, $electro.last(), "gran_proc", 1))
							($electro[2])ms $map_granulations("gran_cor_trp1").free(10)
							5.1 $map_granulations.remove("gran_cor_trp1")
						}

					}

			}
		case "proc2":
			switch ($electro[3])
			{		
				case "wavetable_amp9_desc":
				$tracks("track_waveshaping").amp([-10, 6, -15]) //-10 base
				case "wavetable_amp9_asc":
				$tracks("track_waveshaping").amp([-15, 10, -7]) //-10 base				
				case "gliss1":
				{
					group @tempo $RT_TEMPO
					{
						obj::crea_track_HOA("add_gliss1", "group_hoa3", fade_in = 0.1, amp = $electro.last(), [TAddic_20_8, transp, 2.607, amp, -25, d, 4.3000001907349, shift, 0.0, distor, 0.0, lfnoise_amp, 0.0010000000474975, lag, 0.0010000000474975, width, 2.0, lag_spat, 0.20000000298023, freqs, [ 808.28002929688, 870.34002685547, 870.34002685547, 1009.1400146484, 1297.7600097656, 1460.8499755859, 1460.8499755859, 1573.0200195312, 1573.0200195312, 1693.8100585938, 1693.8100585938, 1693.8100585938, 2451.9899902344, 2451.9899902344, 2451.9899902344, 3061.330078125, 3822.1000976562, 4115.6000976562, 3701.5100097656, 6765.3798828125 ], amps, [ 0.40000000596046, 1.1599999666214, 0.75999999046326, 1.2699999809265, 1.3899999856949, 0.87999999523163, 1.0499999523163, 1.8799999952316, 1.0099999904633, 0.37000000476837, 1.4700000286102, 0.54000002145767, 1.0499999523163, 1.5499999523163, 1.0800000429153, 0.28999999165535, 1.9700000286102, 0.25999999046326, 1.5299999713898, 1.8600000143051 ], pos, [ 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05 ]]) // track for receive encoded HOA (granulation, etc)
						$tracks("add_gliss1").bpf_param(TAddic_20_8, transp, [2.607, 8, "circ_in", 0.165])
						8 $tracks("add_gliss1").free(0.1)
					}
				}
				case "gliss2":
				{
					group 
					{
						obj::crea_track_HOA("add_gliss2", "group_hoa3", fade_in = 0.1, amp = $electro.last(), [TAddic_20_8, transp, 2.607, amp, -25, d, 10, shift, -0.1, distor, 0.2, lfnoise_amp, 0.0010000000474975, lag, 0.0010000000474975, width, 2.0, lag_spat, 0.20000000298023, freqs, [ 808.28002929688, 870.34002685547, 870.34002685547, 1009.1400146484, 1297.7600097656, 1460.8499755859, 1460.8499755859, 1573.0200195312, 1573.0200195312, 1693.8100585938, 1693.8100585938, 1693.8100585938, 2451.9899902344, 2451.9899902344, 2451.9899902344, 3061.330078125, 3822.1000976562, 4115.6000976562, 3701.5100097656, 6765.3798828125 ], amps, [ 0.40000000596046, 1.1599999666214, 0.75999999046326, 1.2699999809265, 1.3899999856949, 0.87999999523163, 1.0499999523163, 1.8799999952316, 1.0099999904633, 0.37000000476837, 1.4700000286102, 0.54000002145767, 1.0499999523163, 1.5499999523163, 1.0800000429153, 0.28999999165535, 1.9700000286102, 0.25999999046326, 1.5299999713898, 1.8600000143051 ], pos, [ 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05 ]]) // track for receive encoded HOA (granulation, etc)
						$tracks("add_gliss2").bpf_param(TAddic_20_8, transp, [2.9, 4, "circ_in", 0.165])
						4 $tracks("add_gliss2").free(0.1)
					}
				}				
				case "gran_cor_trp1_gliss":
				{
					group @tempo $RT_TEMPO
					{
						@local $val1, $val2, $amp1
						curve
				      	@Grain := 10 ms //0.01s 
				      	@action :=  { 
				        // $gran_proc.rate_min($val)
						// $gran_proc.rate_max($val)
						$map_granulations("gran_cor_trp1").rate_min($val1)
						$map_granulations("gran_cor_trp1").rate_max($val1)
						$map_granulations("gran_cor_trp1").pos_min($val2)
						$map_granulations("gran_cor_trp1").pos_max($val2)
				        }
				        { $val1, $val2	{
				                 	{1,		0  } @type := "circ_in"
				                 8 	{0.23,	0.5} 
				               	}
				        }	
						curve
				      	@Grain := 10 ms //0.01s 
				      	@action :=  { 
						$map_granulations("gran_cor_trp1").amp($amp1)
				        }
				        { $amp1	{
				                 	{-6} @type := "linear"
				                 8 	{0} 
				               	}
				        }					        

					}

				}
				case "gran_trb1":
					group @tempo $RT_TEMPO
					{
						// @local $gran_proc
						// $gran_proc := obj::HOAmbi_grain_xyz_rand_fix_track_buf_list([$SF_map("server3")("trb-la3+.aif"), $SF_map("server3")("trp-fa5.aif")], "carre", 1, 1, 0, 0, 0.07, 0.07, 0.1, 0.1, -1, 1, -1, 1, 0, 0.6, $electro.last(), "gran_proc", 1)
						if($map_granulations("gran_trb1").is_undef())
						{
							$map_granulations.add_pair("gran_trb1", obj::HOAmbi_grain_xyz_rand_fix_track_buf_list([$SF_map("server3")("trb-sol2.aif")], "carre", 0.99, 1.01, 0.3, 0.8, 0.08, 0.1, 0.1, 0.1, $trb_cart[0],$trb_cart[0], $trb_cart[1],$trb_cart[1], 0., 1, $electro.last(), "gran_proc", 2))
							$map_granulations("gran_trb1").xyz_interpol([[$trb_cart[0],$trb_cart[0], $trb_cart[1],$trb_cart[1], 0., 1], 10, "linear", [$trp_cart[0],$trp_cart[0], $trp_cart[1],$trp_cart[1], 0., 1]], 1)
							16 $map_granulations("gran_trb1").free(3)
							$map_granulations.remove("gran_trb1")
						}
					}
				case "gran_cor2_fa3":	
					group @tempo $RT_TEMPO
					{					
						if($map_granulations("gran_cor2_fa3").is_undef())
						{
							$map_granulations.add_pair("gran_cor2_fa3", obj::HOAmbi_grain_xyz_rand_fix_track_buf_list([$SF_map("server3")("cor-fa3.aif")], "perc_rond", 0.99, 1.01, 0.1, 0.5, 0.07, 0.07, 0.2, 0.2, $cor1_cart[0],$cor1_cart[0], $cor1_cart[1],$cor1_cart[1], 0., 1, $electro.last(), "gran_proc", 1))
							$map_granulations("gran_cor2_fa3").xyz_interpol([[$cor2_cart[0],$cor2_cart[0], $cor2_cart[1],$cor2_cart[1], 0., 1], 8, "linear", [$cor1_cart[0],$cor1_cart[0], $cor1_cart[1],$cor1_cart[1], 0., 1]], 1)
							curve
					      	@Grain := 5 ms //0.01s 
					      	@action :=  { 
							// $map_granulations("gran_cor2_fa3").rate_min($val1)
							// $map_granulations("gran_cor2_fa3").rate_max($val1)
							$map_granulations("gran_cor2_fa3").env_dur_min($val1)
							$map_granulations("gran_cor2_fa3").env_dur_max($val1)
				        }
				        { $val1 {
				                 	{0.2 	} @type := "circ_in"
				                 3 	{0.06 } 
				               	}
				        }
							12 $map_granulations("gran_cor2_fa3").free(3)
							$map_granulations.remove("gran_cor2_fa3")
						}
					}		
				case "trp_bisb_si4":	
					group @tempo $RT_TEMPO
					{			
						@local $val1 := 0.2
						if($map_granulations("trp_bisb_si4").is_undef())
						{
							$map_granulations.add_pair("trp_bisb_si4", obj::HOAmbi_grain_xyz_rand_fix_track_buf_list([$SF_map("server3")("trp_bisb_si4.aif")], "perc_rond", 0.99, 1.01, 0.1, 0.5, 0.07, 0.07, 0.2, 0.2, $trp_cart[0],$trp_cart[0], $trp_cart[1],$trp_cart[1], 0., 1, $electro.last(), "gran_proc", 1))
							$map_granulations("trp_bisb_si4").xyz_interpol([[$trp_cart[0],$trp_cart[0], $trp_cart[1],$trp_cart[1], 0., 1], 8, "linear", [$cor2_cart[0],$cor2_cart[0], $cor2_cart[1],$cor2_cart[1], 0., 1]], 1)
							curve
					      	@Grain := 5 ms //0.01s 
					      	@action :=  { 
							// $map_granulations("trp_bisb_si4").rate_min($val1)
							// $map_granulations("trp_bisb_si4").rate_max($val1)
							$map_granulations("trp_bisb_si4").env_dur_min($val1)
							$map_granulations("trp_bisb_si4").env_dur_max($val1)
				        }
				        { $val1 {
				                 	{0.2 	} @type := "circ_in"
				                 3 	{0.06 } 
				               	}
				        }
							12 $map_granulations("trp_bisb_si4").free(3)
							$map_granulations.remove("trp_bisb_si4")
						}
					}			
					obj::crea_track_HOA("gran_buffer_trp_bisb_si4", "group_hoa2", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_trp_bisb_si4").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("trp_bisb_si4.aif"), "posLo", 0.2, "posHi", 0.5, "trigRate", 45, "rate", 1, trigRate, 17.3, dur, 0.25])
					group @tempo $RT_TEMPO
					{
						$tracks("gran_buffer_trp_bisb_si4").bpf_param("Gran_multi_trig_7", x0, [$trp_cart[0], 3, $cor2_cart[0]-2, 2, $vlc_cart[0]+1, 6, -0.7, 4, 0.1]) //$vlc_cart[0], 10, -8])
						$tracks("gran_buffer_trp_bisb_si4").bpf_param("Gran_multi_trig_7", x1, [$trp_cart[0], 3, $cor2_cart[0]-2, 2,           0 , 6, -0.7, 4, -0.1]) //          0 , 10, -8])
						$tracks("gran_buffer_trp_bisb_si4").bpf_param("Gran_multi_trig_7", y0, [$trp_cart[1], 3, $cor2_cart[1]+0.5, 2, $vlc_cart[1]+0.8, 6, -1, 4, 0.2]) //$vlc_cart[1], 10, -10])
						$tracks("gran_buffer_trp_bisb_si4").bpf_param("Gran_multi_trig_7", y1, [$trp_cart[1], 3, $cor2_cart[1]-0.5, 2, $vlc_cart[1]+1.2, 6, -1, 4, 0.5]) //$vlc_cart[1], 10, -10])
						// $tracks("gran_buffer_trp_bisb_si4").rand_lfo("Gran_multi_trig_7", x0, -1, 1, 1, "linear", 150)
						$tracks("gran_buffer_trp_bisb_si4").rand_lfo("Gran_multi_trig_7", posRate, 0.8, 1.2, 1, "linear", 150)
					}
					20 $tracks("gran_buffer_trp_bisb_si4").free(1)					
				case "cor2_bisb_do5":	
					group @tempo $RT_TEMPO
					{			
						@local $val1 := 0.2
						if($map_granulations("cor2_bisb_do5").is_undef())
						{
							$map_granulations.add_pair("cor2_bisb_do5", obj::HOAmbi_grain_xyz_rand_fix_track_buf_list([$SF_map("server3")("cor2_bisb_do5.aif")], "perc_rond", 0.99, 1.01, 0.1, 0.5, 0.07, 0.07, 0.2, 0.2, $cor2_cart[0],$cor2_cart[0], $cor2_cart[1],$cor2_cart[1], 0., 1, $electro.last(), "gran_proc", 1))
							$map_granulations("cor2_bisb_do5").xyz_interpol([[$cor2_cart[0],$cor2_cart[0], $cor2_cart[1],$cor2_cart[1], 0., 1], 8, "linear", [$cor1_cart[0],$cor1_cart[0], $cor1_cart[1],$cor1_cart[1], 0., 1]], 1)
							curve
					      	@Grain := 5 ms //0.01s 
					      	@action :=  { 
							// $map_granulations("cor2_bisb_do5").rate_min($val1)
							// $map_granulations("cor2_bisb_do5").rate_max($val1)
							$map_granulations("cor2_bisb_do5").env_dur_min($val1)
							$map_granulations("cor2_bisb_do5").env_dur_max($val1)
				        }
				        { $val1 {
				                 	{0.2 	} @type := "circ_in"
				                 3 	{0.06 } 
				               	}
				        }
							12 $map_granulations("cor2_bisb_do5").free(0.01)
							$map_granulations.remove("cor2_bisb_do5")
						}
					}
					obj::crea_track_HOA("gran_buffer_cor2_bisb_do5", "group_hoa2", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_cor2_bisb_do5").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("cor2_bisb_do5.aif"), "posLo", 0.1, "posHi", 0.6, "trigRate", 45, "rate", 1, trigRate, 17.3, dur, 0.32])
					group @tempo $RT_TEMPO
					{
						$tracks("gran_buffer_cor2_bisb_do5").bpf_param("Gran_multi_trig_7", x0, [$cor2_cart[0], 4, $cor1_cart[0]-1, 6, $trp_cart[0]+1, 5.5, -0.8, 2.5, 0.2]) // $trp_cart[0], 8, -3
						$tracks("gran_buffer_cor2_bisb_do5").bpf_param("Gran_multi_trig_7", x1, [$cor2_cart[0], 4, $cor1_cart[0]-1.2, 6, $trp_cart[0]+1.2, 5.5, -1.5, 2.5, 0.5]) // $trp_cart[0], 8, -3
						$tracks("gran_buffer_cor2_bisb_do5").bpf_param("Gran_multi_trig_7", y0, [$cor2_cart[1], 4, $cor1_cart[1], 6, $trp_cart[1]-1, 5.5, 0.8, 2.5, -0.2]) // $trp_cart[1], 8, 10
						$tracks("gran_buffer_cor2_bisb_do5").bpf_param("Gran_multi_trig_7", y1, [$cor2_cart[1], 4, $cor1_cart[1], 6, $trp_cart[1]-1.2, 5.5, 1.2, 2.5, 0.2]) // $trp_cart[1], 8, 10
						$tracks("gran_buffer_cor2_bisb_do5").rand_lfo("Gran_multi_trig_7", posRate, 15, 20, 18.1, "linear", 150)
					}					
					18 $tracks("gran_buffer_cor2_bisb_do5").free(1)					
				case "cor1_bisb_lab-4":	
					group @tempo $RT_TEMPO
					{			
						@local $val1 := 0.2
						if($map_granulations("cor1_bisb_lab-4").is_undef())
						{
							$map_granulations.add_pair("cor1_bisb_lab-4", obj::HOAmbi_grain_xyz_rand_fix_track_buf_list([$SF_map("server3")("cor1_bisb_lab-4.aif")], "perc_rond", 0.99, 1.01, 0.1, 0.5, 0.07, 0.07, 0.2, 0.2, $cor1_cart[0],$cor1_cart[0], $cor1_cart[1],$cor1_cart[1], 0., 1, $electro.last(), "gran_proc", 1))
							$map_granulations("cor1_bisb_lab-4").xyz_interpol([[$cor1_cart[0],$cor1_cart[0], $cor1_cart[1],$cor1_cart[1], 0., 1], 8, "linear", [$trb_cart[0],$trb_cart[0], $trb_cart[1],$trb_cart[1], 0., 1]], 1)
							curve
					      	@Grain := 5 ms //0.01s 
					      	@action :=  { 
							// $map_granulations("cor1_bisb_lab-4").rate_min($val1)
							// $map_granulations("cor1_bisb_lab-4").rate_max($val1)
							$map_granulations("cor1_bisb_lab-4").env_dur_min($val1)
							$map_granulations("cor1_bisb_lab-4").env_dur_max($val1)
				        }
				        { $val1 {
				                 	{0.2 	} @type := "circ_in"
				                 3 	{0.06 } 
				               	}
				        }
							12 $map_granulations("cor1_bisb_lab-4").free(0.01)
							$map_granulations.remove("cor1_bisb_lab-4")
						}
					}			
					obj::crea_track_HOA("gran_buffer_cor1_bisb_lab", "group_hoa2", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_cor1_bisb_lab").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("cor1_bisb_lab-4.aif"), "posLo", 0.1, "posHi", 0.6, "trigRate", 18.1, "rate", 1, trigRate, 17.3, dur, 0.46])
					group @tempo $RT_TEMPO
					{
						$tracks("gran_buffer_cor1_bisb_lab").bpf_param("Gran_multi_trig_7", x0, [$cor1_cart[0], 4, $trb_cart[0], 8, -0.3, 4, 0.1])
						$tracks("gran_buffer_cor1_bisb_lab").bpf_param("Gran_multi_trig_7", x1, [$cor1_cart[0], 4, $trb_cart[0], 8, -0.3, 4, -0.1])
						$tracks("gran_buffer_cor1_bisb_lab").bpf_param("Gran_multi_trig_7", y0, [$cor1_cart[1], 4, $trb_cart[1], 8, 2.57, 4, -4])
						$tracks("gran_buffer_cor1_bisb_lab").bpf_param("Gran_multi_trig_7", y1, [$cor1_cart[1], 4, $trb_cart[1], 8, 2.57, 4, -4])
						$tracks("gran_buffer_cor1_bisb_lab").rand_lfo("Gran_multi_trig_7", posRate, 15, 20, 18.1, "linear", 150)
					}							
					12.5 $tracks("gran_buffer_cor1_bisb_lab").free(1)
				case "trb-mib2":	
					group @tempo $RT_TEMPO
					{			
						@local $val1 := 0.2, $val2 := 1
						if($map_granulations("trb-mib2").is_undef())
						{
							$map_granulations.add_pair("trb-mib2", obj::HOAmbi_grain_xyz_rand_fix_track_buf_list([$SF_map("server3")("trb-mib2.aif")], "perc_rond", 0.99, 1.01, 0.1, 0.5, 0.07, 0.07, 0.2, 0.2, $trb_cart[0],$trb_cart[0], $trb_cart[1],$trb_cart[1], 0., 1, $electro.last(), "gran_proc", 1))
							$map_granulations("trb-mib2").xyz_interpol([[$trb_cart[0],$trb_cart[0], $trb_cart[1],$trb_cart[1], 0., 0.5], 14, "linear", [$trp_cart[0],$trp_cart[0], $trp_cart[1],$trp_cart[1], 0., 0.5]], 1)
							curve
					      	@Grain := 5 ms //0.01s 
					      	@action :=  { 
							// $map_granulations("trb-mib2").rate_min($val1)
							// $map_granulations("trb-mib2").rate_max($val1)
							$map_granulations("trb-mib2").env_dur_min($val1)
							$map_granulations("trb-mib2").env_dur_max($val1)
							$map_granulations("trb-mib2").rate_min($val2)
							$map_granulations("trb-mib2").rate_max($val2)
				        }
				        { $val1, $val2 {
				                 	{0.3,	1} @type := "circ_in"
				                 4 	{0.1, 0.8 } 
				               	}
				        }
							12 $map_granulations("trb-mib2").free(3)
							$map_granulations.remove("trb-mib2")
						}
					}		
					obj::crea_track_HOA("gran_buffer_trb-mib2", "group_hoa2", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_trb-mib2").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("trb-mib2.aif"), "posLo", 0.1, "posHi", 0.5, posRate, 7.2, "trigRate", 8, trigRateDev, 0, dur, 0.5, "rate", 1])
					group @tempo 92
					{
						$tracks("gran_buffer_trb-mib2").bpf_param("Gran_multi_trig_7", x0, [$trb_cart[0], 4, 0.0, 4.5, $cor1_cart[0], 2, $cor2_cart[0], 2, 0.1]) // $cor1_cart[0], 4, $cor2_cart[0]
						$tracks("gran_buffer_trb-mib2").bpf_param("Gran_multi_trig_7", x1, [$trb_cart[0], 4, 0.0, 4.5, $cor1_cart[0], 2, $cor2_cart[0], 2, -0.1]) // $cor1_cart[0], 4, $cor2_cart[0]
						$tracks("gran_buffer_trb-mib2").bpf_param("Gran_multi_trig_7", y0, [$trb_cart[1], 4, 2.5, 4.5, $cor1_cart[1], 2, $cor2_cart[1], 2, 0.1]) // $cor1_cart[1], 4, $cor2_cart[1]
						$tracks("gran_buffer_trb-mib2").bpf_param("Gran_multi_trig_7", y1, [$trb_cart[1], 4, 2.5, 4.5, $cor1_cart[1], 2, $cor2_cart[1], 2, -0.1]) // $cor1_cart[1], 4, $cor2_cart[1]
						$tracks("gran_buffer_trb-mib2").bpf_param("Gran_multi_trig_7", rate, [1, 4, 0.98, 4.5, 1, 4, 0.98])
						$tracks("gran_buffer_trb-mib2").bpf_param("Gran_multi_trig_7", trigRate, [2, 4, 38, 4.5, 100, 4, 19])
						$tracks("gran_buffer_trb-mib2").rand_lfo("Gran_multi_trig_7", posRate, 5, 10, 7.2, "linear", 150)
					}					
					12.5 $tracks("gran_buffer_trb-mib2").free(1)		
				case "cresc_3_gran_center":	
				print trig cresc_3_gran_center
					group @tempo $RT_TEMPO
					{			
						@local $val1 := 0.2, $val2 := 0.2
						if($map_granulations("cor1_bisb_lab-4_cresc").is_undef())
						{
							$map_granulations.add_pair("cor1_bisb_lab-4_cresc", obj::HOAmbi_grain_xyz_rand_fix_track_buf_list([$SF_map("server3")("cor1_bisb_lab-4.aif")], "perc_rond", 0.99, 1.01, 0.1, 0.3, 0.07, 0.07, 0.2, 0.2, $cor1_cart[0],$cor1_cart[0], $cor1_cart[1],$cor1_cart[1], 0., 1, 0, "gran_proc", 1))
							$map_granulations("cor1_bisb_lab-4_cresc").xyz_interpol([[$cor1_cart[0],$cor1_cart[0], $cor1_cart[1],$cor1_cart[1], 0., 0.5], 9, "linear", [0,0, 0,0, 0., 0.5]], 1)
							$map_granulations("cor1_bisb_lab-4_cresc").rate_min(2)
							$map_granulations("cor1_bisb_lab-4_cresc").rate_max(2)
							curve
					      	@Grain := 5 ms //0.01s 
					      	@action :=  { 

							$map_granulations("cor1_bisb_lab-4_cresc").env_dur_min($val1)
							$map_granulations("cor1_bisb_lab-4_cresc").env_dur_max($val1)
							// $map_granulations("cor1_bisb_lab-4_cresc").ryth_min(0.02)
							// $map_granulations("cor1_bisb_lab-4_cresc").ryth_max(0.02)
					        }
					        { $val1 {
					                 	{0.04 	} @type := "circ_in"
					                 3 	{0.04 } 
					               	}
					        }
							curve
					      	@Grain := 5 ms //0.01s 
					      	@action :=  { 
							$map_granulations("cor1_bisb_lab-4_cresc").ryth_min($val2)
							$map_granulations("cor1_bisb_lab-4_cresc").ryth_max($val2)
					        }
					        { $val2 {
					                 	{0.2 	} @type := "quad_in"
					                 5 	{0.02 } 
					               	}
					        }				        
						9 $map_granulations("cor1_bisb_lab-4_cresc").free(0.01)
						$map_granulations.remove("cor1_bisb_lab-4_cresc")
						print off
						}
					}
					group @tempo $RT_TEMPO
					{			
						@local $val1 := 0.2, $val2 := 0.2
						if($map_granulations("cor2_bisb_do5_cresc").is_undef())
						{
							$map_granulations.add_pair("cor2_bisb_do5_cresc", obj::HOAmbi_grain_xyz_rand_fix_track_buf_list([$SF_map("server3")("cor2_bisb_do5.aif")], "perc_rond", 0.99, 1.01, 0.1, 0.3, 0.07, 0.07, 0.2, 0.2, $cor2_cart[0],$cor2_cart[0], $cor2_cart[1],$cor2_cart[1], 0., 1, $electro.last(), "gran_proc", 2))
							$map_granulations("cor2_bisb_do5_cresc").xyz_interpol([[$cor2_cart[0],$cor2_cart[0], $cor2_cart[1],$cor2_cart[1], 0., 0.5], 9, "linear", [0,0, 0,0, 0., 0.5]], 1)
							curve
					      	@Grain := 5 ms //0.01s 
					      	@action :=  { 
							$map_granulations("cor2_bisb_do5_cresc").rate_min(2)
							$map_granulations("cor2_bisb_do5_cresc").rate_max(2)
							$map_granulations("cor2_bisb_do5_cresc").env_dur_min($val1)
							$map_granulations("cor2_bisb_do5_cresc").env_dur_max($val1)
							$map_granulations("cor2_bisb_do5_cresc").ryth_min(0.02)
							$map_granulations("cor2_bisb_do5_cresc").ryth_max(0.02)
					        }
					        { $val1 {
					                 	{0.04 	} @type := "circ_in"
					                 3 	{0.04 } 
					               	}
					        }
							curve
					      	@Grain := 5 ms //0.01s 
					      	@action :=  { 
							$map_granulations("cor2_bisb_do5_cresc").ryth_min($val2)
							$map_granulations("cor2_bisb_do5_cresc").ryth_max($val2)
					        }
					        { $val2 {
					                 	{0.2 	} @type := "quad_in"
					                 5 	{0.02 } 
					               	}
					        }					        
						9 $map_granulations("cor2_bisb_do5_cresc").free(0.01)
						$map_granulations.remove("cor2_bisb_do5_cresc")
						}
					}
					group @tempo $RT_TEMPO
					{			
						@local $val1 := 0.2, $val2 := 0.2
						if($map_granulations("trp_bisb_si4_cresc").is_undef())
						{
							$map_granulations.add_pair("trp_bisb_si4_cresc", obj::HOAmbi_grain_xyz_rand_fix_track_buf_list([$SF_map("server3")("trp_bisb_si4.aif")], "perc_rond", 0.99, 1.01, 0.1, 0.3, 0.07, 0.07, 0.2, 0.2, $trp_cart[0],$trp_cart[0], $trp_cart[1],$trp_cart[1], 0., 1, $electro.last(), "gran_proc", 3))
							$map_granulations("trp_bisb_si4_cresc").xyz_interpol([[$trp_cart[0],$trp_cart[0], $trp_cart[1],$trp_cart[1], 0., 0.5], 9, "linear", [0,0, 0,0, 0., 0.5]], 1)
							curve
					      	@Grain := 5 ms //0.01s 
					      	@action :=  { 
							$map_granulations("trp_bisb_si4_cresc").rate_min(2)
							$map_granulations("trp_bisb_si4_cresc").rate_max(2)
							$map_granulations("trp_bisb_si4_cresc").env_dur_min($val1)
							$map_granulations("trp_bisb_si4_cresc").env_dur_max($val1)
							$map_granulations("trp_bisb_si4_cresc").ryth_min(0.02)
							$map_granulations("trp_bisb_si4_cresc").ryth_max(0.02)							
					        }
					        { $val1 {
					                 	{0.04 	} @type := "circ_in"
					                 3 	{0.04 } 
					               	}
					        }
							curve
					      	@Grain := 5 ms //0.01s 
					      	@action :=  { 
							$map_granulations("trp_bisb_si4_cresc").ryth_min($val2)
							$map_granulations("trp_bisb_si4_cresc").ryth_max($val2)
					        }
					        { $val2 {
					                 	{0.2 	} @type := "quad_in"
					                 5 	{0.02 } 
					               	}
					        }						        
						9 $map_granulations("trp_bisb_si4_cresc").free(3)
						$map_granulations.remove("trp_bisb_si4_cresc")
						}
					}	
				case "synth_sol_si_re":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer1", "group_hoa2", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer1").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("boronzon-re5-mono.aif"), "posLo", 0.2, "posHi", 0.5, "posRateE", -1, "posRateM", 0.8, "overlap", 10, "trigRate", 45, "rate", 1])

					obj::crea_track_HOA("gran_buffer2", "group_hoa2", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer2").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("boronzon-si4-mono.aif"), "posLo", 0.2, "posHi", 0.5, "posRateE", -1, "posRateM", 0.8, "overlap", 10, "trigRate", 45, "rate", 1])

					obj::crea_track_HOA("gran_buffer3", "group_hoa2", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer3").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("boronzon-sol4-mono.aif"), "posLo", 0.2, "posHi", 0.5, "posRateE", -1, "posRateM", 0.8, "overlap", 10, "trigRate", 45, "rate", 1])

					// for group params
					$tracks_group_gran_buffer_m181 := obj::tracks_group(["gran_buffer1", "gran_buffer2", "gran_buffer3"])

					$tracks_group_gran_buffer_m181.set("Gran_multi_trig_7", [posLo, 0.1])
					$tracks_group_gran_buffer_m181.set("Gran_multi_trig_7", [posHi, 0.5])
					$tracks_group_gran_buffer_m181.set("Gran_multi_trig_7", [posRate, 35])
					$tracks_group_gran_buffer_m181.set("Gran_multi_trig_7", [posDev, 1.1])
					$tracks_group_gran_buffer_m181.set("Gran_multi_trig_7", [trigRate, 20.1])
					$tracks_group_gran_buffer_m181.set("Gran_multi_trig_7", [trigRateDev, 100])
					$tracks_group_gran_buffer_m181.set("Gran_multi_trig_7", [dur, 0.05])
					$tracks_group_gran_buffer_m181.set("Gran_multi_trig_7", [durDev, 0.04])
					$tracks_group_gran_buffer_m181.set("Gran_multi_trig_7", [rate, 1.0])
					$tracks_group_gran_buffer_m181.rand_lfo("Gran_multi_trig_7", x0, -1, 1, 1, "linear", 90)
					$tracks_group_gran_buffer_m181.rand_lfo("Gran_multi_trig_7", x1, -1, 1, 1, "linear", 90)
					$tracks_group_gran_buffer_m181.rand_lfo("Gran_multi_trig_7", y0, -1, 1, 1, "linear", 90)
					$tracks_group_gran_buffer_m181.rand_lfo("Gran_multi_trig_7", y1, -1, 1, 1, "linear", 90)
					$tracks_group_gran_buffer_m181.rand_lfo("Gran_multi_trig_7", z0, 0, 0.7, 0, "linear", 90)
					$tracks_group_gran_buffer_m181.rand_lfo("Gran_multi_trig_7", z1, 0, 0.7, 0, "linear", 90)						
					$tracks_group_gran_buffer_m181.amp([-10, 12, -16])			
							
				43 group 
				{
					$tracks_group_gran_buffer_m181.lfo_abort("Gran_multi_trig_7", x0)
					$tracks_group_gran_buffer_m181.lfo_abort("Gran_multi_trig_7", x1)
					$tracks_group_gran_buffer_m181.lfo_abort("Gran_multi_trig_7", y0)
					$tracks_group_gran_buffer_m181.lfo_abort("Gran_multi_trig_7", y1)
					$tracks_group_gran_buffer_m181.lfo_abort("Gran_multi_trig_7", z0)
					$tracks_group_gran_buffer_m181.lfo_abort("Gran_multi_trig_7", z1)

					$tracks_group_gran_buffer_m181.set_list_interp("Gran_multi_trig_7", dur, $tracks_group_gran_buffer_m181.retrieve_param("Gran_multi_trig_7", dur), [ 0.01 | $x in 3], 14, "exp_in") 
					$tracks_group_gran_buffer_m181.set_list_interp("Gran_multi_trig_7", durDev, $tracks_group_gran_buffer_m181.retrieve_param("Gran_multi_trig_7", durDev), [ 0.01 | $x in 3], 14, "exp_in") 
					$tracks_group_gran_buffer_m181.set_list_interp("Gran_multi_trig_7", trigRate, [ 20.1 | $x in 3], [ 60 | $x in 3], 14) 
					$tracks_group_gran_buffer_m181.set_list_interp("Gran_multi_trig_7", trigRateDev, $tracks_group_gran_buffer_m181.retrieve_param("Gran_multi_trig_7", trigRateDev), [ 0 | $x in 3], 14) 
					$tracks_group_gran_buffer_m181.set_list_interp("Gran_multi_trig_7", posRate, $tracks_group_gran_buffer_m181.retrieve_param("Gran_multi_trig_7", posRate), [10, 15, 20], 14) 

					$tracks_group_gran_buffer_m181.set_list_interp("Gran_multi_trig_7", x0, $tracks_group_gran_buffer_m181.retrieve_param("Gran_multi_trig_7", x0), [-1.86, 1.86, 0], 14) 
					$tracks_group_gran_buffer_m181.set_list_interp("Gran_multi_trig_7", x1, $tracks_group_gran_buffer_m181.retrieve_param("Gran_multi_trig_7", x1), [-1.86, 1.86, 0], 14) 
					$tracks_group_gran_buffer_m181.set_list_interp("Gran_multi_trig_7", y0, $tracks_group_gran_buffer_m181.retrieve_param("Gran_multi_trig_7", y0), [1.57, 0.9, -1.57], 14) 
					$tracks_group_gran_buffer_m181.set_list_interp("Gran_multi_trig_7", y1, $tracks_group_gran_buffer_m181.retrieve_param("Gran_multi_trig_7", y1), [1.57, 0.9, -1.57], 14) 
					$tracks_group_gran_buffer_m181.set_list_interp("Gran_multi_trig_7", z0, $tracks_group_gran_buffer_m181.retrieve_param("Gran_multi_trig_7", z0), [0, 0, 0], 14) 
					$tracks_group_gran_buffer_m181.set_list_interp("Gran_multi_trig_7", z1, $tracks_group_gran_buffer_m181.retrieve_param("Gran_multi_trig_7", z1), [0, 0, 0], 14) 

					$tracks_group_gran_buffer_m181.amp([-16, 12, "exp_in", 6])

				}

				20 $tracks_group_gran_buffer_m181.free(3)

				}
				case "gran_buffer_hit_accel":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_hit", "group_hoa2", amp = 0, encoder = false, fade_in = 0.2) // track without encoder 
					$tracks("gran_buffer_hit").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("hit-corto1.aif"), "posLo", 0.0, "posHi", 0.01, posRate, 0, "trigRate", 0, trigRateDev, 0, "rate", 1, dur, 0.1, durDev, 0.0, x0, 10, x1, 10, y0, 0.5, y1, -0.5, amp, -120])
					$tracks("gran_buffer_hit").bpf_param("Gran_multi_trig_7", x0, [10, 10, -10])
					$tracks("gran_buffer_hit").bpf_param("Gran_multi_trig_7", x1, [9, 10, -9])
					$tracks("gran_buffer_hit").bpf_param("Gran_multi_trig_7", trigRate, [0, 0.2, 20, 5, "exp_in", 100, 5, "exp_out", 0.8])
					$tracks("gran_buffer_hit").bpf_param("Gran_multi_trig_7", amp, [-120, 0.2, -120, 0.1, 0])
					$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [posRate, 0.04])
					12 $tracks("gran_buffer_hit").free(0.1)
				}

				case "gran_buffer_hit_accel2":
				group @tempo $RT_TEMPO
				{	
					obj::crea_track_HOA("gran_buffer_hit2", "group_hoa3", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_hit2").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("hit-corto2_6.aif"), "posLo", 0.2, "posHi", 0.5, posRate, 0.04, "trigRate", 0, trigRateDev, 0, "rate", 1, dur, 0.25, durDev, 0.0, x0, 1, x1, -1, y0, 10, y1, 9, amp, -120])

					// $tracks("gran_buffer_hit2").set("Gran_multi_trig_7", [buf, $SF_map("server3")("hit-corto2_6.aif")])
					$tracks("gran_buffer_hit2").bpf_param("Gran_multi_trig_7", y0, [10, 8, -10])
					$tracks("gran_buffer_hit2").bpf_param("Gran_multi_trig_7", y1, [9, 8, -9])
					$tracks("gran_buffer_hit2").bpf_param("Gran_multi_trig_7", trigRate, [20, 4, "exp_in", 90, 4, "exp_out", 0.8])
					$tracks("gran_buffer_hit2").bpf_param("Gran_multi_trig_7", rate, [1, 4, "exp_in", 0.98, 4, "exp_out", 0.97])
					$tracks("gran_buffer_hit2").bpf_param("Gran_multi_trig_7", amp, [-120, 0.2, -120, 0.1, 0])
					10 $tracks("gran_buffer_hit2").free(0.1)
				}
				case "gran_buffer_hit_accel3":
				group @tempo $RT_TEMPO
				{	
					obj::crea_track_HOA("gran_buffer_hit3", "group_hoa3", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_hit3").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("hit-corto2_6.aif"), "posLo", 0.2, "posHi", 0.5, posRate, 0.04, "trigRate", 0, trigRateDev, 0, "rate", 1, dur, 0.25, durDev, 0.0, x0, 1, x1, -1, y0, 10, y1, 9, amp, -120])

					// $tracks("gran_buffer_hit3").set("Gran_multi_trig_7", [buf, $SF_map("server3")("hit-corto2_6.aif")])
					$tracks("gran_buffer_hit3").bpf_param("Gran_multi_trig_7", y0, [10, 2.5, 0.1])
					$tracks("gran_buffer_hit3").bpf_param("Gran_multi_trig_7", y1, [9, 2.5, -0.1])
					$tracks("gran_buffer_hit3").bpf_param("Gran_multi_trig_7", trigRate, [20, 2.5, "exp_in", 50, 4, "exp_out", 20])
					$tracks("gran_buffer_hit3").bpf_param("Gran_multi_trig_7", rate, [1.7, 2.5, "exp_in", 0.98, 4, "exp_out", 0.9])
					$tracks("gran_buffer_hit3").bpf_param("Gran_multi_trig_7", amp, [-120, 0.2, -120, 0.1, 0])
					7 $tracks("gran_buffer_hit3").free(0.1)
				}		
				case "gran_buffer_hit_accel4":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_hit4", "group_hoa2", amp = 0, encoder = false, fade_in = 0.2) // track without encoder 
					$tracks("gran_buffer_hit4").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("hit-corto1.aif"), "posLo", 0.0, "posHi", 0.01, posRate, 0, "trigRate", 0, trigRateDev, 0, "rate", 1, dur, 0.1, durDev, 0.0, x0, 0.5, x1, -0.5, y0, -10, y1, -9, amp, -120])
					$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", y0, [-10, 5, 10])
					$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", y1, [-9, 5, 9])
					$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", trigRate, [0, 0.2, 20, 2.5, "exp_in", 100, 2.5, "exp_out", 0.8])
					$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", amp, [-120, 0.2, -120, 0.1, 0])
					$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [posRate, 0.04])
					5 $tracks("gran_buffer_hit4").free(0.1)
				}				
				case "gran_buffer_hourglass_do6":
				group @tempo $RT_TEMPO // v2
				{
					obj::crea_track_HOA("gran_buffer_hourglass_do6", "group_hoa4", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_hourglass_do6").mod_add(["Gran_multi_trig_7", buf, $SF_map("server4")("hourglass_do6.aif"), "posLo", 0.0072, "posHi", 0.0073, "trigRate", 20.3, "rate", 3.0, x0, 1, x1, -1, amp, -120])
					$tracks("gran_buffer_hourglass_do6").bpf_param("Gran_multi_trig_7", y0, [5, 5, 0, 5, -5])
					$tracks("gran_buffer_hourglass_do6").bpf_param("Gran_multi_trig_7", y1, [4, 5, 0, 5, -5])
					$tracks("gran_buffer_hourglass_do6").bpf_param("Gran_multi_trig_7", trigRate, [10, 5, "linear", 20, 4, 30])
					$tracks("gran_buffer_hourglass_do6").bpf_param("Gran_multi_trig_7", amp, [-120, 1, -20, 0.1, 0])
					9 $tracks("gran_buffer_hourglass_do6").free()
				}
				case "gran_buffer_hourglass_mi6":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_hourglass_mi6", "group_hoa2", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_hourglass_mi6").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("hourglass_mi6.aif"), "posLo", 0.0072, "posHi", 0.0073, "trigRate", 20.3, "rate", 3.0, x0, 1, x1, -1, amp, -120])
					$tracks("gran_buffer_hourglass_mi6").bpf_param("Gran_multi_trig_7", x0, [5, 7, "exp_in", 0, 5, -2, 3, 1])
					$tracks("gran_buffer_hourglass_mi6").bpf_param("Gran_multi_trig_7", x1, [4, 7, "exp_in", 0, 5, -1, 3, 1.5])	
					$tracks("gran_buffer_hourglass_mi6").bpf_param("Gran_multi_trig_7", y0, [5, 7, "exp_in", 0, 5, -2, 3, 0])
					$tracks("gran_buffer_hourglass_mi6").bpf_param("Gran_multi_trig_7", y1, [4, 7, "exp_in", 0, 5, -1, 3, 1])
					$tracks("gran_buffer_hourglass_mi6").bpf_param("Gran_multi_trig_7", trigRate, [10, 5, "linear", 20, 4, 30])
					$tracks("gran_buffer_hourglass_mi6").bpf_param("Gran_multi_trig_7", amp, [-120, 1, -20, 2, 10])
					15 $tracks("gran_buffer_hourglass_mi6").free()
				}
				case "gran_buffer_30_hourglass":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_30_hourglass", "group_hoa3", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_30_hourglass").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("30_hourglass-mono.aif"), "posLo", 0.0072, "posHi", 0.0073, "trigRate", 20.3, "rate", 1.0, x0, 1, x1, -1, amp, -120])
					$tracks("gran_buffer_30_hourglass").bpf_param("Gran_multi_trig_7", y0, [5, 5, 0, 10, -5])
					$tracks("gran_buffer_30_hourglass").bpf_param("Gran_multi_trig_7", y1, [4, 5, 0, 10, -5])
					$tracks("gran_buffer_30_hourglass").bpf_param("Gran_multi_trig_7", rate, [1, 5, 1, 10, 0.8])										
					$tracks("gran_buffer_30_hourglass").bpf_param("Gran_multi_trig_7", trigRate, [10, 5, "linear", 20, 10, 30])
					$tracks("gran_buffer_30_hourglass").bpf_param("Gran_multi_trig_7", amp, [-120, 1, -20, 0.1, 0])
					16 $tracks("gran_buffer_30_hourglass").free()
				}					
				case "gran_buffer_31_hourglass":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_31_hourglass", "group_hoa4", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_31_hourglass").mod_add(["Gran_multi_trig_7", buf, $SF_map("server4")("31_hourglass-mono.aif"), "posLo", 0.0072, "posHi", 0.0073, "trigRate", 20.3, "rate", 2.0, y0, 1, y1, -1, amp, -120])
					$tracks("gran_buffer_31_hourglass").bpf_param("Gran_multi_trig_7", x0, [-4, 10, 3])
					$tracks("gran_buffer_31_hourglass").bpf_param("Gran_multi_trig_7", x1, [-4, 10, 2])
					$tracks("gran_buffer_31_hourglass").bpf_param("Gran_multi_trig_7", rate, [2, 5, 2, 10, 2.1])															
					$tracks("gran_buffer_31_hourglass").bpf_param("Gran_multi_trig_7", trigRate, [3, 5, "linear", 20, 10, 3])
					$tracks("gran_buffer_31_hourglass").bpf_param("Gran_multi_trig_7", amp, [-120, 1, -20, 0.1, 0])
					16 $tracks("gran_buffer_31_hourglass").free()
				}						
				case "gran_buffer_33_hourglass":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_32_hourglass", "group_hoa2", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_32_hourglass").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("32_hourglass-mono.aif"), "posLo", 0.0072, "posHi", 0.0073, "trigRate", 20.3, "rate", 3.0, x0, 1, x1, -1, amp, -120])
					$tracks("gran_buffer_32_hourglass").bpf_param("Gran_multi_trig_7", y0, [5, 5, 0, 10, -5])
					$tracks("gran_buffer_32_hourglass").bpf_param("Gran_multi_trig_7", y1, [4, 5, 0, 10, -5])
					$tracks("gran_buffer_32_hourglass").bpf_param("Gran_multi_trig_7", trigRate, [10, 5, "linear", 20, 10, 30])
					$tracks("gran_buffer_32_hourglass").bpf_param("Gran_multi_trig_7", amp, [-120, 1, -20, 0.1, 0])
					16 $tracks("gran_buffer_32_hourglass").free()
				}		
				case "gran_buffer_37_hourglass":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_37_hourglass", "group_hoa3", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_37_hourglass").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("37_hourglass-mono.aif"), "posLo", 0.0072, "posHi", 0.0073, "trigRate", 20.3, "rate", 3.0, x0, 1, x1, -1, amp, -120])
					$tracks("gran_buffer_37_hourglass").bpf_param("Gran_multi_trig_7", y0, [5, 5, 0, 10, -5])
					$tracks("gran_buffer_37_hourglass").bpf_param("Gran_multi_trig_7", y1, [4, 5, 0, 10, -5])
					$tracks("gran_buffer_37_hourglass").bpf_param("Gran_multi_trig_7", trigRate, [10, 5, "linear", 20, 10, 30])
					$tracks("gran_buffer_37_hourglass").bpf_param("Gran_multi_trig_7", amp, [-120, 1, -20, 0.1, 0])
					16 $tracks("gran_buffer_37_hourglass").free()
				}	
				case "gran_buffer_20_hourglass":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_20_hourglass", "group_hoa4", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_20_hourglass").mod_add(["Gran_multi_trig_7", buf, $SF_map("server4")("20_hourglass-mono.aif"), "posLo", 0.0072, "posHi", 0.0073, "trigRate", 20.3, "rate", 3.0, x0, 1, x1, -1, amp, -120])
					$tracks("gran_buffer_20_hourglass").bpf_param("Gran_multi_trig_7", y0, [5, 5, 0, 10, -5])
					$tracks("gran_buffer_20_hourglass").bpf_param("Gran_multi_trig_7", y1, [4, 5, 0, 10, -5])
					$tracks("gran_buffer_20_hourglass").bpf_param("Gran_multi_trig_7", rate, [3, 5, 2.9, 10, 2.5])					
					$tracks("gran_buffer_20_hourglass").bpf_param("Gran_multi_trig_7", trigRate, [10, 5, "linear", 20, 10, 30])
					$tracks("gran_buffer_20_hourglass").bpf_param("Gran_multi_trig_7", amp, [-120, 1, -20, 0.1, 0])
					16 $tracks("gran_buffer_20_hourglass").free()
				}						
				case "gran_buffer_18_hourglass":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_18_hourglass", "group_hoa4", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_18_hourglass").mod_add(["Gran_multi_trig_7", buf, $SF_map("server4")("18_hourglass-mono.aif"), "posLo", 0.0072, "posHi", 0.0073, "trigRate", 20.3, "rate", 3.0, x0, 1, x1, -1, amp, -120])
					$tracks("gran_buffer_18_hourglass").bpf_param("Gran_multi_trig_7", y0, [5, 5, 0, 10, -5])
					$tracks("gran_buffer_18_hourglass").bpf_param("Gran_multi_trig_7", y1, [4, 5, 0, 10, -5])
					$tracks("gran_buffer_18_hourglass").bpf_param("Gran_multi_trig_7", rate, [3, 5, 2.9, 10, 2.5])
					$tracks("gran_buffer_18_hourglass").bpf_param("Gran_multi_trig_7", trigRate, [10, 5, "linear", 20, 10, 30])
					$tracks("gran_buffer_18_hourglass").bpf_param("Gran_multi_trig_7", amp, [-120, 1, -20, 0.1, 0])
					16 $tracks("gran_buffer_18_hourglass").free()
				}	
				case "gran_buffer_alf1":
				group @tempo $RT_TEMPO
				{	
					obj::crea_track_HOA("gran_buffer_alfi1", "group_hoa3", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_alfi1").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("alfi1.aif"), "posLo", 0.0001, "posHi", 0.02, posRate, 1.0, "trigRate", 0, trigRateDev, 0, "rate", 1, dur, 0.1, durDev, 0.0, x0, 1, x1, -1, y0, 10, y1, 9, amp, -120])

					// $tracks("gran_buffer_alfi1").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_6.aif")])
					$tracks("gran_buffer_alfi1").bpf_param("Gran_multi_trig_7", y0, [10, 4.5, 0, 4, -10])
					$tracks("gran_buffer_alfi1").bpf_param("Gran_multi_trig_7", y1, [9, 4.5, 0, 4, -9])
					$tracks("gran_buffer_alfi1").bpf_param("Gran_multi_trig_7", z0, [0, 4.5, 1])
					$tracks("gran_buffer_alfi1").bpf_param("Gran_multi_trig_7", z1, [0, 4.5, 1])
					$tracks("gran_buffer_alfi1").bpf_param("Gran_multi_trig_7", trigRate, [1, 4.5, "exp_in", 40, 4, "exp_out", 0.8])
					$tracks("gran_buffer_alfi1").bpf_param("Gran_multi_trig_7", rate, [4, 4.5, "exp_in", 0.9, 4, "exp_out", 0.87])
					$tracks("gran_buffer_alfi1").bpf_param("Gran_multi_trig_7", amp, [-120, 0.2, -120, 0.1, 0, 4.5, 3])
					9 $tracks("gran_buffer_alfi1").free(1)
				}
				case "gran_buffer_alf2":
				group @tempo $RT_TEMPO
				{	
					obj::crea_track_HOA("gran_buffer_alfi2", "group_hoa3", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_alfi2").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("alfi1.aif"), "posLo", 0.0001, "posHi", 0.02, posRate, 1.0, "trigRate", 0, trigRateDev, 0, "rate", 1, dur, 0.1, durDev, 0.0, x0, 1, x1, -1, y0, 10, y1, 9, z0, 0.7, z1, 1, amp, -120])

					// $tracks("gran_buffer_alfi2").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_6.aif")])
					$tracks("gran_buffer_alfi2").bpf_param("Gran_multi_trig_7", y0, [10, 8, -10])
					$tracks("gran_buffer_alfi2").bpf_param("Gran_multi_trig_7", y1, [9, 8, -9])
					$tracks("gran_buffer_alfi2").bpf_param("Gran_multi_trig_7", trigRate, [10, 5, "sine_in", 50, 4, "exp_out", 3])
					$tracks("gran_buffer_alfi2").bpf_param("Gran_multi_trig_7", rate, [3, 5, "sine_in", 2, 4, "exp_out", 1.5])
					$tracks("gran_buffer_alfi2").bpf_param("Gran_multi_trig_7", amp, [-120, 0.2, 0, 5, 3, 4, 2])
					9 $tracks("gran_buffer_alfi2").free(0.1)
				}		
				case "gran_buffer_29_hourglass":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_29_hourglass", "group_hoa2", amp = 6, encoder = false) // track without encoder 
					$tracks("gran_buffer_29_hourglass").mod_add(["GranBufPos_multi_7", buf, $SF_map("server2")("29_hourglass-mono.aif"), envbuf, $envs("server2")("perc"), "startPos", 0, centerDev, 0, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $htb_cart[0]-1.5, x1, $htb_cart[0]-1.5, y0, $htb_cart[1], y1, $htb_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
					// $tracks("gran_buffer_29_hourglass").set("GranBufPos_multi_7", [envbuf, $envs("server2")("rond")])
					$tracks("gran_buffer_29_hourglass").bpf_param("GranBufPos_multi_7", trigRate, [20, 2.5, "exp_in", 20, 2.5, 8])
					$tracks("gran_buffer_29_hourglass").bpf_param("GranBufPos_multi_7", rate, [1.5, 2.5, "exp_in", 1, 2.5, 0.8])
					$tracks("gran_buffer_29_hourglass").bpf_param("GranBufPos_multi_7", dur, [0.5, 2.5, "exp_in", 0.1, 2.5, 0.1])
					$tracks("gran_buffer_29_hourglass").bpf_param("GranBufPos_multi_7", x0, [$htb_cart[0]+1.5, 2.5, "linear", 1.2, 2.5, $fl_cart[0]])
					$tracks("gran_buffer_29_hourglass").bpf_param("GranBufPos_multi_7", x1, [$htb_cart[0]+1.5, 2.5, "linear", -1.2, 2.5, $fl_cart[0]])	
					$tracks("gran_buffer_29_hourglass").bpf_param("GranBufPos_multi_7", y0, [$htb_cart[1], 2.5, "linear", 1.2, 2.5, $fl_cart[1]])
					$tracks("gran_buffer_29_hourglass").bpf_param("GranBufPos_multi_7", y1, [$htb_cart[1], 2.5, "linear", -1.2, 2.5, $fl_cart[1]])
					$tracks("gran_buffer_29_hourglass").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 4, 2.5, 6])
					4 $tracks("gran_buffer_29_hourglass").free(0.1)
				}						
				case "gran_buffer_cuivre_mes208":		
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_cor1-fa5", "group_hoa2", amp = 3, encoder = false) // track without encoder 
					$tracks("gran_buffer_cor1-fa5").mod_add(["Gran_multi_trig_v2_7", buf, $SF_map("server2")("cor1-fa5.aif"), envbuf, $envs("server2")("perc"), "posLo", 0.5, "posHi", 0.6, "trigRate", 10, "rate", 1.0, x0, $cor1_cart[0]-1.5, x1, $cor1_cart[0]-1.5, y0, $cor1_cart[1], y1, $cor1_cart[1], posDev, 6.0, amp, -120])
					$tracks("gran_buffer_cor1-fa5").bpf_param("Gran_multi_trig_v2_7", trigRate, [15, 1.2, "exp_in", 60, 4, 0.3])
					$tracks("gran_buffer_cor1-fa5").bpf_param("Gran_multi_trig_v2_7", rate, [1, 1.2, "exp_in", 1.2, 4.5, 1, 4, 0.98])
					$tracks("gran_buffer_cor1-fa5").bpf_param("Gran_multi_trig_v2_7", dur, [0.04, 1.2, "exp_in", 0.02, 10, 0.1])
					$tracks("gran_buffer_cor1-fa5").bpf_param("Gran_multi_trig_v2_7", x0, [$cor1_cart[0]+1.5, 1.2, "exp_in", 0.8, 10, 0, 3])
					$tracks("gran_buffer_cor1-fa5").bpf_param("Gran_multi_trig_v2_7", x1, [$cor1_cart[0]+1.5, 1.2, "exp_in", -0.8, 10, 0, 3])	
					$tracks("gran_buffer_cor1-fa5").bpf_param("Gran_multi_trig_v2_7", y0, [$cor1_cart[1], 1.2, "exp_in", 0.8, 10, 10, 3])
					$tracks("gran_buffer_cor1-fa5").bpf_param("Gran_multi_trig_v2_7", y1, [$cor1_cart[1], 1.2, "exp_in", -0.8, 10, 10, 3])
					$tracks("gran_buffer_cor1-fa5").bpf_param("Gran_multi_trig_v2_7", amp, [-120, 0.1, 0, 1, 0])
					15 $tracks("gran_buffer_cor1-fa5").free()
				}

				0.05 group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_cor2-mi5", "group_hoa2", amp = 3, encoder = false) // track without encoder 
					$tracks("gran_buffer_cor2-mi5").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("cor2-mi5.aif"), envbuf, $envs("server2")("perc"), "posLo", 0.5, "posHi", 0.6, "trigRate", 10, "rate", 1.0, x0, $cor1_cart[0]-1.5, x1, $cor1_cart[0]-1.5, y0, $cor1_cart[1], y1, $cor1_cart[1], posDev, 6.0, amp, -120])
					$tracks("gran_buffer_cor2-mi5").bpf_param("Gran_multi_trig_7", trigRate, [15, 1.2, "exp_in", 60, 4, 0.3])
					$tracks("gran_buffer_cor2-mi5").bpf_param("Gran_multi_trig_7", rate, [1, 1.2, "exp_in", 1.2, 4.5, 1, 4, 0.98])
					$tracks("gran_buffer_cor2-mi5").bpf_param("Gran_multi_trig_7", dur, [0.04, 1.2, "exp_in", 0.02, 10, 0.1])
					$tracks("gran_buffer_cor2-mi5").bpf_param("Gran_multi_trig_7", x0, [$cor2_cart[0]-1.5, 1.2, "exp_in", 0.8, 10, 0, 3])
					$tracks("gran_buffer_cor2-mi5").bpf_param("Gran_multi_trig_7", x1, [$cor2_cart[0]-1.5, 1.2, "exp_in", -0.8, 10, 0, 3])	
					$tracks("gran_buffer_cor2-mi5").bpf_param("Gran_multi_trig_7", y0, [$cor2_cart[1], 1.2, "exp_in", 0.8, 10, 10, 3])
					$tracks("gran_buffer_cor2-mi5").bpf_param("Gran_multi_trig_7", y1, [$cor2_cart[1], 1.2, "exp_in", -0.8, 10, 10, 3])
					$tracks("gran_buffer_cor2-mi5").bpf_param("Gran_multi_trig_7", amp, [-120, 0.1, 0, 1, 0])
					15 $tracks("gran_buffer_cor2-mi5").free()
				}

				0.05 group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_trp-la5", "group_hoa2", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_trp-la5").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("trp-la5.aif"), envbuf, $envs("server2")("perc"), "posLo", 0.5, "posHi", 0.6, "trigRate", 10, "rate", 1.0, x0, $cor1_cart[0]-1.5, x1, $cor1_cart[0]-1.5, y0, $cor1_cart[1], y1, $cor1_cart[1], posDev, 6.0, amp, -120])
					$tracks("gran_buffer_trp-la5").bpf_param("Gran_multi_trig_7", trigRate, [25, 1.2, "exp_in", 60, 4, 0.3])
					$tracks("gran_buffer_trp-la5").bpf_param("Gran_multi_trig_7", rate, [1, 1.2, "exp_in", 1.2, 4.5, 1, 4, 0.98])
					$tracks("gran_buffer_trp-la5").bpf_param("Gran_multi_trig_7", dur, [0.04, 1.2, "exp_in", 0.02, 10, 0.1])
					$tracks("gran_buffer_trp-la5").bpf_param("Gran_multi_trig_7", x0, [$trp_cart[0]+1.5, 1.2, "exp_in", 0.8, 10, 0, 3])
					$tracks("gran_buffer_trp-la5").bpf_param("Gran_multi_trig_7", x1, [$trp_cart[0]+1.5, 1.2, "exp_in", -0.8, 10, 0, 3])	
					$tracks("gran_buffer_trp-la5").bpf_param("Gran_multi_trig_7", y0, [$trp_cart[1], 1.2, "exp_in", 0.8, 10, 10, 3])
					$tracks("gran_buffer_trp-la5").bpf_param("Gran_multi_trig_7", y1, [$trp_cart[1], 1.2, "exp_in", -0.8, 10, 10, 3])
					$tracks("gran_buffer_trp-la5").bpf_param("Gran_multi_trig_7", amp, [-120, 0.1, 0, 1, 0])
					15 $tracks("gran_buffer_trp-la5").free()
				}

				0.05 group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_trb-fa#4", "group_hoa2", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_trb-fa#4").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("trb-fa#4.aif"), envbuf, $envs("server2")("perc"), "posLo", 0.5, "posHi", 0.6, "trigRate", 10, "rate", 1.0, x0, $cor1_cart[0]-1.5, x1, $cor1_cart[0]-1.5, y0, $cor1_cart[1], y1, $cor1_cart[1], posDev, 6.0, amp, -120])
					$tracks("gran_buffer_trb-fa#4").bpf_param("Gran_multi_trig_7", trigRate, [15, 1.2, "exp_in", 60, 4, 0.3])
					$tracks("gran_buffer_trb-fa#4").bpf_param("Gran_multi_trig_7", rate, [1, 1.2, "exp_in", 1.2, 4.5, 1, 4, 0.98])
					$tracks("gran_buffer_trb-fa#4").bpf_param("Gran_multi_trig_7", dur, [0.04, 1.2, "exp_in", 0.02, 10, 0.1])
					$tracks("gran_buffer_trb-fa#4").bpf_param("Gran_multi_trig_7", x0, [$trb_cart[0]-1.5, 1.2, "exp_in", 0.8, 10, 0, 3])
					$tracks("gran_buffer_trb-fa#4").bpf_param("Gran_multi_trig_7", x1, [$trb_cart[0]-1.5, 1.2, "exp_in", -0.8, 10, 0, 3])	
					$tracks("gran_buffer_trb-fa#4").bpf_param("Gran_multi_trig_7", y0, [$trb_cart[1], 1.2, "exp_in", 0.8, 10, 10, 3])
					$tracks("gran_buffer_trb-fa#4").bpf_param("Gran_multi_trig_7", y1, [$trb_cart[1], 1.2, "exp_in", -0.8, 10, 10, 3])
					$tracks("gran_buffer_trb-fa#4").bpf_param("Gran_multi_trig_7", amp, [-120, 0.1, 0, 1, 0])
					15 $tracks("gran_buffer_trb-fa#4").free()
				}
			case "gran_buffer_bois_mes209":
				group @tempo $RT_TEMPO 
				{ 
					obj::crea_track_HOA("gran_buffer_fl-la6", "group_hoa3", amp = 3, encoder = false) // track without encoder 
					$tracks("gran_buffer_fl-la6").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("fl-la6.aif"), envbuf, $envs("server3")("perc_rond"), "posLo", 0.5, "posHi", 0.6, "trigRate", 10, "rate", 1.0, x0, $cor1_cart[0]-1.5, x1, $cor1_cart[0]-1.5, y0, $cor1_cart[1], y1, $cor1_cart[1], posDev, 6.0, amp, -120])
					$tracks("gran_buffer_fl-la6").bpf_param("Gran_multi_trig_7", trigRate, [60, 2.5, "exp_in", 10, 0.5, 6])
					$tracks("gran_buffer_fl-la6").bpf_param("Gran_multi_trig_7", rate, [2, 2.5, "exp_in", 1, 4.5, 1, 0.5, 1])
					$tracks("gran_buffer_fl-la6").bpf_param("Gran_multi_trig_7", dur, [0.04, 2.5, "exp_in", 0.02, 0.5, 0.1])
					$tracks("gran_buffer_fl-la6").bpf_param("Gran_multi_trig_7", x0, [$fl_cart[0]-1.5, 2.5, "exp_in", 0.8, 0.5, 0])
					$tracks("gran_buffer_fl-la6").bpf_param("Gran_multi_trig_7", x1, [$fl_cart[0]-1.5, 2.5, "exp_in", -0.8, 0.5, 0])	
					$tracks("gran_buffer_fl-la6").bpf_param("Gran_multi_trig_7", y0, [$fl_cart[1], 2.5, "exp_in", 0.8, 0.5, 10])
					$tracks("gran_buffer_fl-la6").bpf_param("Gran_multi_trig_7", y1, [$fl_cart[1], 2.5, "exp_in", -0.8, 0.5, 10])
					$tracks("gran_buffer_fl-la6").bpf_param("Gran_multi_trig_7", amp, [-120, 0.1, 0, 1, 0])
					3.0 $tracks("gran_buffer_fl-la6").free()
				}

				group @tempo $RT_TEMPO 
				{ 
					obj::crea_track_HOA("gran_buffer_htb-do#6", "group_hoa3", amp = 3, encoder = false) // track without encoder 
					$tracks("gran_buffer_htb-do#6").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("htb-do#6.aif"), envbuf, $envs("server3")("perc"), "posLo", 0.5, "posHi", 0.6, "trigRate", 10, "rate", 1.0, x0, $cor1_cart[0]-1.5, x1, $cor1_cart[0]-1.5, y0, $cor1_cart[1], y1, $cor1_cart[1], posDev, 6.0, amp, -120])
					$tracks("gran_buffer_htb-do#6").bpf_param("Gran_multi_trig_7", trigRate, [60, 3, "exp_in", 10, 0.1, 6])
					$tracks("gran_buffer_htb-do#6").bpf_param("Gran_multi_trig_7", rate, [2, 3, "exp_in", 1, 4.5, 1, 0.1, 1])
					$tracks("gran_buffer_htb-do#6").bpf_param("Gran_multi_trig_7", dur, [0.04, 3, "exp_in", 0.02, 0.1, 0.1])
					$tracks("gran_buffer_htb-do#6").bpf_param("Gran_multi_trig_7", x0, [$htb_cart[0]-1.5, 3, "exp_in", 0.8, 0.1, 0])
					$tracks("gran_buffer_htb-do#6").bpf_param("Gran_multi_trig_7", x1, [$htb_cart[0]-1.5, 3, "exp_in", -0.8, 0.1, 0])	
					$tracks("gran_buffer_htb-do#6").bpf_param("Gran_multi_trig_7", y0, [$htb_cart[1], 3, "exp_in", 0.8, 0.1, 10])
					$tracks("gran_buffer_htb-do#6").bpf_param("Gran_multi_trig_7", y1, [$htb_cart[1], 3, "exp_in", -0.8, 0.1, 10])
					$tracks("gran_buffer_htb-do#6").bpf_param("Gran_multi_trig_7", amp, [-120, 0.1, 0, 1, 0])
					3.0 $tracks("gran_buffer_htb-do#6").free()
				}

				group @tempo $RT_TEMPO 
				{ 
					obj::crea_track_HOA("gran_buffer_cl-mib6", "group_hoa3", amp = 3, encoder = false) // track without encoder 
					$tracks("gran_buffer_cl-mib6").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("cl-mib6.aif"), envbuf, $envs("server3")("perc"), "posLo", 0.5, "posHi", 0.6, "trigRate", 10, "rate", 1.0, x0, $cor1_cart[0]-1.5, x1, $cor1_cart[0]-1.5, y0, $cor1_cart[1], y1, $cor1_cart[1], posDev, 6.0, amp, -120])
					$tracks("gran_buffer_cl-mib6").bpf_param("Gran_multi_trig_7", trigRate, [60, 3, "exp_in", 10, 0.1, 6])
					$tracks("gran_buffer_cl-mib6").bpf_param("Gran_multi_trig_7", rate, [2, 3, "exp_in", 1, 4.5, 1, 0.1, 1])
					$tracks("gran_buffer_cl-mib6").bpf_param("Gran_multi_trig_7", dur, [0.04, 3, "exp_in", 0.02, 0.1, 0.1])
					$tracks("gran_buffer_cl-mib6").bpf_param("Gran_multi_trig_7", x0, [$cl_cart[0]-1.5, 3, "exp_in", 0.8, 0.1, 0])
					$tracks("gran_buffer_cl-mib6").bpf_param("Gran_multi_trig_7", x1, [$cl_cart[0]-1.5, 3, "exp_in", -0.8, 0.1, 0])	
					$tracks("gran_buffer_cl-mib6").bpf_param("Gran_multi_trig_7", y0, [$cl_cart[1], 3, "exp_in", 0.8, 0.1, 10])
					$tracks("gran_buffer_cl-mib6").bpf_param("Gran_multi_trig_7", y1, [$cl_cart[1], 3, "exp_in", -0.8, 0.1, 10])
					$tracks("gran_buffer_cl-mib6").bpf_param("Gran_multi_trig_7", amp, [-120, 0.1, 0, 1, 0])
					3.0 $tracks("gran_buffer_cl-mib6").free()
				}

				group @tempo $RT_TEMPO 
				{ 
					obj::crea_track_HOA("gran_buffer_bsn-do5", "group_hoa3", amp = 3, encoder = false) // track without encoder 
					$tracks("gran_buffer_bsn-do5").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("bsn-do5.aif"), envbuf, $envs("server3")("perc"), "posLo", 0.5, "posHi", 0.6, "trigRate", 10, "rate", 1.0, x0, $cor1_cart[0]-1.5, x1, $cor1_cart[0]-1.5, y0, $cor1_cart[1], y1, $cor1_cart[1], posDev, 6.0, amp, -120])
					$tracks("gran_buffer_bsn-do5").bpf_param("Gran_multi_trig_7", trigRate, [60, 3, "exp_in", 10, 0.1, 6])
					$tracks("gran_buffer_bsn-do5").bpf_param("Gran_multi_trig_7", rate, [2, 3, "exp_in", 1, 4.5, 1, 0.1, 1])
					$tracks("gran_buffer_bsn-do5").bpf_param("Gran_multi_trig_7", dur, [0.04, 3, "exp_in", 0.02, 0.1, 0.1])
					$tracks("gran_buffer_bsn-do5").bpf_param("Gran_multi_trig_7", x0, [$bsn_cart[0]-1.5, 3, "exp_in", 0.8, 0.1, 0])
					$tracks("gran_buffer_bsn-do5").bpf_param("Gran_multi_trig_7", x1, [$bsn_cart[0]-1.5, 3, "exp_in", -0.8, 0.1, 0])	
					$tracks("gran_buffer_bsn-do5").bpf_param("Gran_multi_trig_7", y0, [$bsn_cart[1], 3, "exp_in", 0.8, 0.1, 10])
					$tracks("gran_buffer_bsn-do5").bpf_param("Gran_multi_trig_7", y1, [$bsn_cart[1], 3, "exp_in", -0.8, 0.1, 10])
					$tracks("gran_buffer_bsn-do5").bpf_param("Gran_multi_trig_7", amp, [-120, 0.1, 0, 1, 0])
					3.0 $tracks("gran_buffer_bsn-do5").free()
				}	
				case "gran_buffer_bois_mes209_2":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_fl-sol6", "group_hoa4", amp = 3, encoder = false) // track without encoder 
					$tracks("gran_buffer_fl-sol6").mod_add(["Gran_multi_trig_7", buf, $SF_map("server4")("fl-sol6.aif"), envbuf, $envs("server4")("pointe"), "posLo", 0.5, "posHi", 0.6, "trigRate", 10, "rate", 1.0, x0, $cor1_cart[0]-1.5, x1, $cor1_cart[0]-1.5, y0, $cor1_cart[1], y1, $cor1_cart[1], posDev, 6.0, amp, -120])
					$tracks("gran_buffer_fl-sol6").bpf_param("Gran_multi_trig_7", trigRate, [10, 4, "quad_out", 60, 4, 0.3])
					$tracks("gran_buffer_fl-sol6").bpf_param("Gran_multi_trig_7", rate, [1, 0.5, 1, 4, "quad_out", 1, 4.5, 0.7, 4, 0.5])
					$tracks("gran_buffer_fl-sol6").bpf_param("Gran_multi_trig_7", dur, [0.04, 4, "quad_out", 0.02, 10, 0.1])
					$tracks("gran_buffer_fl-sol6").bpf_param("Gran_multi_trig_7", x0, [$fl_cart[0]+1.5, 4, "quad_out", 0.8, 10, 0, 3])
					$tracks("gran_buffer_fl-sol6").bpf_param("Gran_multi_trig_7", x1, [$fl_cart[0]+1.5, 4, "quad_out", -0.8, 10, 0, 3])	
					$tracks("gran_buffer_fl-sol6").bpf_param("Gran_multi_trig_7", y0, [$fl_cart[1], 4, "quad_out", 0.8, 10, 10, 3])
					$tracks("gran_buffer_fl-sol6").bpf_param("Gran_multi_trig_7", y1, [$fl_cart[1], 4, "quad_out", -0.8, 10, 10, 3])
					$tracks("gran_buffer_fl-sol6").bpf_param("Gran_multi_trig_7", amp, [-120, 0.1, 0, 1, 0])
					15 $tracks("gran_buffer_fl-sol6").free()
				}

				0.05 group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_htb-mib6", "group_hoa4", amp = 3, encoder = false) // track without encoder 
					$tracks("gran_buffer_htb-mib6").mod_add(["Gran_multi_trig_7", buf, $SF_map("server4")("htb-mib6.aif"), envbuf, $envs("server4")("perc"), "posLo", 0.5, "posHi", 0.6, "trigRate", 10, "rate", 1.0, x0, $cor1_cart[0]-1.5, x1, $cor1_cart[0]-1.5, y0, $cor1_cart[1], y1, $cor1_cart[1], posDev, 6.0, amp, -120])
					$tracks("gran_buffer_htb-mib6").bpf_param("Gran_multi_trig_7", trigRate, [8, 4, "quad_out", 60, 4, 0.3])
					$tracks("gran_buffer_htb-mib6").bpf_param("Gran_multi_trig_7", rate, [1, 0.5, 1, 4, "quad_out", 1, 4.5, 1, 4, 0.98])
					$tracks("gran_buffer_htb-mib6").bpf_param("Gran_multi_trig_7", dur, [0.04, 4, "quad_out", 0.02, 10, 0.1])
					$tracks("gran_buffer_htb-mib6").bpf_param("Gran_multi_trig_7", x0, [$htb_cart[0]-1.5, 4, "quad_out", 0.8, 10, 0, 3])
					$tracks("gran_buffer_htb-mib6").bpf_param("Gran_multi_trig_7", x1, [$htb_cart[0]-1.5, 4, "quad_out", -0.8, 10, 0, 3])	
					$tracks("gran_buffer_htb-mib6").bpf_param("Gran_multi_trig_7", y0, [$htb_cart[1], 4, "quad_out", 0.8, 10, 10, 3])
					$tracks("gran_buffer_htb-mib6").bpf_param("Gran_multi_trig_7", y1, [$htb_cart[1], 4, "quad_out", -0.8, 10, 10, 3])
					$tracks("gran_buffer_htb-mib6").bpf_param("Gran_multi_trig_7", amp, [-120, 0.1, 0, 1, 0])
					15 $tracks("gran_buffer_htb-mib6").free()
				}

				0.05 group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_cl-fa6", "group_hoa4", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_cl-fa6").mod_add(["Gran_multi_trig_7", buf, $SF_map("server4")("cl-fa6.aif"), envbuf, $envs("server4")("perc"), "posLo", 0.5, "posHi", 0.6, "trigRate", 10, "rate", 1.0, x0, $cor1_cart[0]-1.5, x1, $cor1_cart[0]-1.5, y0, $cor1_cart[1], y1, $cor1_cart[1], posDev, 6.0, amp, -120])
					$tracks("gran_buffer_cl-fa6").bpf_param("Gran_multi_trig_7", trigRate, [7, 4, "quad_out", 60, 4, 0.3])
					$tracks("gran_buffer_cl-fa6").bpf_param("Gran_multi_trig_7", rate, [1, 0.5, 1, 4, "quad_out", 1, 4.5, 1, 4, 0.98])
					$tracks("gran_buffer_cl-fa6").bpf_param("Gran_multi_trig_7", dur, [0.04, 4, "quad_out", 0.02, 10, 0.1])
					$tracks("gran_buffer_cl-fa6").bpf_param("Gran_multi_trig_7", x0, [$cl_cart[0]+1.5, 4, "quad_out", 0.8, 10, 0, 3])
					$tracks("gran_buffer_cl-fa6").bpf_param("Gran_multi_trig_7", x1, [$cl_cart[0]+1.5, 4, "quad_out", -0.8, 10, 0, 3])	
					$tracks("gran_buffer_cl-fa6").bpf_param("Gran_multi_trig_7", y0, [$cl_cart[1], 4, "quad_out", 0.8, 10, 10, 3])
					$tracks("gran_buffer_cl-fa6").bpf_param("Gran_multi_trig_7", y1, [$cl_cart[1], 4, "quad_out", -0.8, 10, 10, 3])
					$tracks("gran_buffer_cl-fa6").bpf_param("Gran_multi_trig_7", amp, [-120, 0.1, 0, 1, 0])
					15 $tracks("gran_buffer_cl-fa6").free()
				}

				0.05 group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_bsn-la4", "group_hoa4", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_bsn-la4").mod_add(["Gran_multi_trig_7", buf, $SF_map("server4")("bsn-la4.aif"), envbuf, $envs("server4")("perc"), "posLo", 0.5, "posHi", 0.6, "trigRate", 10, "rate", 1.0, x0, $cor1_cart[0]-1.5, x1, $cor1_cart[0]-1.5, y0, $cor1_cart[1], y1, $cor1_cart[1], posDev, 6.0, amp, -120])
					$tracks("gran_buffer_bsn-la4").bpf_param("Gran_multi_trig_7", trigRate, [9, 4, "quad_out", 60, 4, 0.3])
					$tracks("gran_buffer_bsn-la4").bpf_param("Gran_multi_trig_7", rate, [1, 0.5, 1, 4, "quad_out", 1, 4.5, 1, 4, 0.98])
					$tracks("gran_buffer_bsn-la4").bpf_param("Gran_multi_trig_7", dur, [0.04, 4, "quad_out", 0.02, 10, 0.1])
					$tracks("gran_buffer_bsn-la4").bpf_param("Gran_multi_trig_7", x0, [$bsn_cart[0]-1.5, 4, "quad_out", 0.8, 10, 0, 3])
					$tracks("gran_buffer_bsn-la4").bpf_param("Gran_multi_trig_7", x1, [$bsn_cart[0]-1.5, 4, "quad_out", -0.8, 10, 0, 3])	
					$tracks("gran_buffer_bsn-la4").bpf_param("Gran_multi_trig_7", y0, [$bsn_cart[1], 4, "quad_out", 0.8, 10, 10, 3])
					$tracks("gran_buffer_bsn-la4").bpf_param("Gran_multi_trig_7", y1, [$bsn_cart[1], 4, "quad_out", -0.8, 10, 10, 3])
					$tracks("gran_buffer_bsn-la4").bpf_param("Gran_multi_trig_7", amp, [-120, 0.1, 0, 1, 0])
					15 $tracks("gran_buffer_bsn-la4").free()
				}	
				case "gran_buffer_cuivre_mes210":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_cor1-mi5", "group_hoa3", amp = 3, encoder = false) // track without encoder 
					$tracks("gran_buffer_cor1-mi5").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("cor1-mi5.aif"), envbuf, $envs("server3")("pointe"), "posLo", 0.5, "posHi", 0.6, "trigRate", 10, "rate", 1.0, x0, $cor1_cart[0]-1.5, x1, $cor1_cart[0]-1.5, y0, $cor1_cart[1], y1, $cor1_cart[1], posDev, 6.0, amp, -120])
					$tracks("gran_buffer_cor1-mi5").bpf_param("Gran_multi_trig_7", trigRate, [15, 4, "exp_in", 35, 4, 0.3])
					$tracks("gran_buffer_cor1-mi5").bpf_param("Gran_multi_trig_7", rate, [1, 4, "exp_in", 0.8, 4.5, 0.7, 4, 0.5])
					$tracks("gran_buffer_cor1-mi5").bpf_param("Gran_multi_trig_7", dur, [0.03, 4, "exp_in", 0.02, 10, 0.1])
					$tracks("gran_buffer_cor1-mi5").bpf_param("Gran_multi_trig_7", x0, [$fl_cart[0]+1.5, 4, "exp_in", 0.8, 10, 0, 3])
					$tracks("gran_buffer_cor1-mi5").bpf_param("Gran_multi_trig_7", x1, [$fl_cart[0]+1.5, 4, "exp_in", -0.8, 10, 0, 3])	
					$tracks("gran_buffer_cor1-mi5").bpf_param("Gran_multi_trig_7", y0, [$fl_cart[1], 4, "exp_in", 0.8, 10, 10, 3])
					$tracks("gran_buffer_cor1-mi5").bpf_param("Gran_multi_trig_7", y1, [$fl_cart[1], 4, "exp_in", -0.8, 10, 10, 3])
					$tracks("gran_buffer_cor1-mi5").bpf_param("Gran_multi_trig_7", amp, [-120, 0.1, 0, 1, 0])
					15 $tracks("gran_buffer_cor1-mi5").free()
				}

				0.05 group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_cor2-mib5", "group_hoa3", amp = 3, encoder = false) // track without encoder 
					$tracks("gran_buffer_cor2-mib5").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("cor2-mib5.aif"), envbuf, $envs("server3")("perc"), "posLo", 0.5, "posHi", 0.6, "trigRate", 10, "rate", 1.0, x0, $cor1_cart[0]-1.5, x1, $cor1_cart[0]-1.5, y0, $cor1_cart[1], y1, $cor1_cart[1], posDev, 6.0, amp, -120])
					$tracks("gran_buffer_cor2-mib5").bpf_param("Gran_multi_trig_7", trigRate, [13, 4, "exp_in", 30, 4, 0.3])
					$tracks("gran_buffer_cor2-mib5").bpf_param("Gran_multi_trig_7", rate, [1, 4, "exp_in", 0.8, 4.5, 1, 4, 0.98])
					$tracks("gran_buffer_cor2-mib5").bpf_param("Gran_multi_trig_7", dur, [0.03, 4, "exp_in", 0.02, 10, 0.1])
					$tracks("gran_buffer_cor2-mib5").bpf_param("Gran_multi_trig_7", x0, [$htb_cart[0]-1.5, 4, "exp_in", 0.8, 10, 0, 3])
					$tracks("gran_buffer_cor2-mib5").bpf_param("Gran_multi_trig_7", x1, [$htb_cart[0]-1.5, 4, "exp_in", -0.8, 10, 0, 3])	
					$tracks("gran_buffer_cor2-mib5").bpf_param("Gran_multi_trig_7", y0, [$htb_cart[1], 4, "exp_in", 0.8, 10, 10, 3])
					$tracks("gran_buffer_cor2-mib5").bpf_param("Gran_multi_trig_7", y1, [$htb_cart[1], 4, "exp_in", -0.8, 10, 10, 3])
					$tracks("gran_buffer_cor2-mib5").bpf_param("Gran_multi_trig_7", amp, [-120, 0.1, 0, 1, 0])
					15 $tracks("gran_buffer_cor2-mib5").free()
				}

				0.05 group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_trp-sol#5", "group_hoa3", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_trp-sol#5").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("trp-sol#5.aif"), envbuf, $envs("server3")("perc"), "posLo", 0.5, "posHi", 0.6, "trigRate", 10, "rate", 1.0, x0, $cor1_cart[0]-1.5, x1, $cor1_cart[0]-1.5, y0, $cor1_cart[1], y1, $cor1_cart[1], posDev, 6.0, amp, -120])
					$tracks("gran_buffer_trp-sol#5").bpf_param("Gran_multi_trig_7", trigRate, [16, 4, "exp_in", 33, 4, 0.3])
					$tracks("gran_buffer_trp-sol#5").bpf_param("Gran_multi_trig_7", rate, [1, 4, "exp_in", 0.8, 4.5, 1, 4, 0.98])
					$tracks("gran_buffer_trp-sol#5").bpf_param("Gran_multi_trig_7", dur, [0.02, 4, "exp_in", 0.02, 10, 0.1])
					$tracks("gran_buffer_trp-sol#5").bpf_param("Gran_multi_trig_7", x0, [$cl_cart[0]+1.5, 4, "exp_in", 0.8, 10, 0, 3])
					$tracks("gran_buffer_trp-sol#5").bpf_param("Gran_multi_trig_7", x1, [$cl_cart[0]+1.5, 4, "exp_in", -0.8, 10, 0, 3])	
					$tracks("gran_buffer_trp-sol#5").bpf_param("Gran_multi_trig_7", y0, [$cl_cart[1], 4, "exp_in", 0.8, 10, 10, 3])
					$tracks("gran_buffer_trp-sol#5").bpf_param("Gran_multi_trig_7", y1, [$cl_cart[1], 4, "exp_in", -0.8, 10, 10, 3])
					$tracks("gran_buffer_trp-sol#5").bpf_param("Gran_multi_trig_7", amp, [-120, 0.1, 3, 1, 3])
					15 $tracks("gran_buffer_trp-sol#5").free()
				}

				0.05 group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_trb-sol", "group_hoa3", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_trb-sol").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("trb-sol.aif"), envbuf, $envs("server3")("perc"), "posLo", 0.5, "posHi", 0.6, "trigRate", 10, "rate", 1.0, x0, $cor1_cart[0]-1.5, x1, $cor1_cart[0]-1.5, y0, $cor1_cart[1], y1, $cor1_cart[1], posDev, 6.0, amp, -120])
					$tracks("gran_buffer_trb-sol").bpf_param("Gran_multi_trig_7", trigRate, [20, 4, "exp_in", 40, 4, 0.3])
					$tracks("gran_buffer_trb-sol").bpf_param("Gran_multi_trig_7", rate, [1, 4, "exp_in", 0.8, 4.5, 1, 4, 0.98])
					$tracks("gran_buffer_trb-sol").bpf_param("Gran_multi_trig_7", dur, [0.02, 4, "exp_in", 0.01, 10, 0.1])
					$tracks("gran_buffer_trb-sol").bpf_param("Gran_multi_trig_7", x0, [$bsn_cart[0]-1.5, 4, "exp_in", 0.8, 10, 0, 3])
					$tracks("gran_buffer_trb-sol").bpf_param("Gran_multi_trig_7", x1, [$bsn_cart[0]-1.5, 4, "exp_in", -0.8, 10, 0, 3])	
					$tracks("gran_buffer_trb-sol").bpf_param("Gran_multi_trig_7", y0, [$bsn_cart[1], 4, "exp_in", 0.8, 10, 10, 3])
					$tracks("gran_buffer_trb-sol").bpf_param("Gran_multi_trig_7", y1, [$bsn_cart[1], 4, "exp_in", -0.8, 10, 10, 3])
					$tracks("gran_buffer_trb-sol").bpf_param("Gran_multi_trig_7", amp, [-120, 0.1, 0, 1, 0])
					15 $tracks("gran_buffer_trb-sol").free()
				}

				case "gran_buffer_cuivre_mes212":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_cor1-do5-long", "group_hoa4", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_cor1-do5-long").mod_add(["GranBuf_multi_trig_7", buf, $SF_map("server4")("cor1-do5-long.aif"), envbuf, $envs("server4")("carre"), "posLo", 0.1, "posHi", 0.6, "trigRate", 10, "rate", 1.0, x0, $cor1_cart[0]-1.5, x1, $cor1_cart[0]-1.5, y0, $cor1_cart[1], y1, $cor1_cart[1], z0, 0, z1, 0.5, posDev, 6.0, amp, -120])
					$tracks("gran_buffer_cor1-do5-long").bpf_param("GranBuf_multi_trig_7", trigRate, [15, 0.8, "exp_in", 35, 2, 0.3])
					$tracks("gran_buffer_cor1-do5-long").bpf_param("GranBuf_multi_trig_7", rate, [1, 1.5, "exp_in", 1, 2, 0.8,])
					$tracks("gran_buffer_cor1-do5-long").bpf_param("GranBuf_multi_trig_7", dur, [0.03, 1.5, "exp_in", 0.02])
					$tracks("gran_buffer_cor1-do5-long").bpf_param("GranBuf_multi_trig_7", x0, [$fl_cart[0]+1.5, 1.5, "exp_in", 0.8, 2, 0])
					$tracks("gran_buffer_cor1-do5-long").bpf_param("GranBuf_multi_trig_7", x1, [$fl_cart[0]+1.5, 1.5, "exp_in", -0.8, 2, 0])	
					$tracks("gran_buffer_cor1-do5-long").bpf_param("GranBuf_multi_trig_7", y0, [$fl_cart[1], 1.5, "exp_in", 0.8, 2])
					$tracks("gran_buffer_cor1-do5-long").bpf_param("GranBuf_multi_trig_7", y1, [$fl_cart[1], 1.5, "exp_in", -0.8, 2])
					$tracks("gran_buffer_cor1-do5-long").bpf_param("GranBuf_multi_trig_7", amp, [-120, 0.1, 0, 1, 0])
					3.1 $tracks("gran_buffer_cor1-do5-long").free()
				}

				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_cor2-si4-long", "group_hoa4", amp = 3, encoder = false) // track without encoder 
					$tracks("gran_buffer_cor2-si4-long").mod_add(["GranBuf_multi_trig_7", buf, $SF_map("server4")("cor2-si4-long.aif"), envbuf, $envs("server4")("perc"), "posLo", 0.5, "posHi", 0.6, "trigRate", 10, "rate", 1.0, x0, $cor1_cart[0]-1.5, x1, $cor1_cart[0]-1.5, y0, $cor1_cart[1], y1, $cor1_cart[1], z0, 0, z1, 0.5, posDev, 6.0, amp, -120])
					$tracks("gran_buffer_cor2-si4-long").bpf_param("GranBuf_multi_trig_7", trigRate, [13, 1.5, "exp_in", 30, 2, 0.3])
					$tracks("gran_buffer_cor2-si4-long").bpf_param("GranBuf_multi_trig_7", rate, [1, 1.5, "exp_in", 1, 2, 0.75])
					$tracks("gran_buffer_cor2-si4-long").bpf_param("GranBuf_multi_trig_7", dur, [0.03, 1.5, "exp_in", 0.02])
					$tracks("gran_buffer_cor2-si4-long").bpf_param("GranBuf_multi_trig_7", x0, [$htb_cart[0]-1.5, 1.5, "exp_in", 0.8, 2, 0])
					$tracks("gran_buffer_cor2-si4-long").bpf_param("GranBuf_multi_trig_7", x1, [$htb_cart[0]-1.5, 1.5, "exp_in", -0.8, 2, 0])	
					$tracks("gran_buffer_cor2-si4-long").bpf_param("GranBuf_multi_trig_7", y0, [$htb_cart[1], 1.5, "exp_in", 0.8, 2, 4])
					$tracks("gran_buffer_cor2-si4-long").bpf_param("GranBuf_multi_trig_7", y1, [$htb_cart[1], 1.5, "exp_in", -0.8, 2, 4])
					$tracks("gran_buffer_cor2-si4-long").bpf_param("GranBuf_multi_trig_7", amp, [-120, 0.1, 0, 1, 0])
					3.1 $tracks("gran_buffer_cor2-si4-long").free()
				}

				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_trp-re5-long", "group_hoa4", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_trp-re5-long").mod_add(["GranBuf_multi_trig_7", buf, $SF_map("server4")("trp-re5-long.aif"), envbuf, $envs("server4")("perc"), "posLo", 0.5, "posHi", 0.6, "trigRate", 10, "rate", 1.0, x0, $cor1_cart[0]-1.5, x1, $cor1_cart[0]-1.5, y0, $cor1_cart[1], y1, $cor1_cart[1], z0, 0, z1, 0.5, posDev, 6.0, amp, -120])
					$tracks("gran_buffer_trp-re5-long").bpf_param("GranBuf_multi_trig_7", trigRate, [16, 1.7, "exp_in", 33, 1.8, 1])
					$tracks("gran_buffer_trp-re5-long").bpf_param("GranBuf_multi_trig_7", rate, [1, 1.7, "exp_in", 1, 1.8, 0.8])
					$tracks("gran_buffer_trp-re5-long").bpf_param("GranBuf_multi_trig_7", dur, [0.02, 1.7, "exp_in", 0.02, 1.8, 0.1])
					$tracks("gran_buffer_trp-re5-long").bpf_param("GranBuf_multi_trig_7", x0, [$cl_cart[0]+1.5, 1.7, "exp_in", 0.8, 1.8, 0])
					$tracks("gran_buffer_trp-re5-long").bpf_param("GranBuf_multi_trig_7", x1, [$cl_cart[0]+1.5, 1.7, "exp_in", -0.8, 1.8, 0])	
					$tracks("gran_buffer_trp-re5-long").bpf_param("GranBuf_multi_trig_7", y0, [$cl_cart[1], 1.7, "exp_in", 0.8, 1.8, 4])
					$tracks("gran_buffer_trp-re5-long").bpf_param("GranBuf_multi_trig_7", y1, [$cl_cart[1], 1.7, "exp_in", -0.8, 1.8, 4])
					$tracks("gran_buffer_trp-re5-long").bpf_param("GranBuf_multi_trig_7", amp, [-120, 0.1, 3, 1, 3])
					3.1 $tracks("gran_buffer_trp-re5-long").free()
				}

				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_trb-lab3-long", "group_hoa4", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_trb-lab3-long").mod_add(["GranBuf_multi_trig_7", buf, $SF_map("server4")("trb-lab3-long.aif"), envbuf, $envs("server4")("perc"), "posLo", 0.5, "posHi", 0.6, "trigRate", 10, "rate", 1.0, x0, $cor1_cart[0]-1.5, x1, $cor1_cart[0]-1.5, y0, $cor1_cart[1], y1, $cor1_cart[1], z0, 0, z1, 0.5, posDev, 6.0, amp, -120])
					$tracks("gran_buffer_trb-lab3-long").bpf_param("GranBuf_multi_trig_7", trigRate, [20, 1.8, "exp_in", 40, 1.7, 0.3])
					$tracks("gran_buffer_trb-lab3-long").bpf_param("GranBuf_multi_trig_7", rate, [1, 1.8, "exp_in", 1, 1.7, 0.8])
					$tracks("gran_buffer_trb-lab3-long").bpf_param("GranBuf_multi_trig_7", dur, [0.02, 1.8, "exp_in", 0.03, 1.7, 0.2])
					$tracks("gran_buffer_trb-lab3-long").bpf_param("GranBuf_multi_trig_7", x0, [$bsn_cart[0]-1.5, 1.8, "exp_in", 0.8, 1.7, 0])
					$tracks("gran_buffer_trb-lab3-long").bpf_param("GranBuf_multi_trig_7", x1, [$bsn_cart[0]-1.5, 1.8, "exp_in", -0.8, 1.7, 0])	
					$tracks("gran_buffer_trb-lab3-long").bpf_param("GranBuf_multi_trig_7", y0, [$bsn_cart[1], 1.8, "exp_in", 0.8, 10, 1.7])
					$tracks("gran_buffer_trb-lab3-long").bpf_param("GranBuf_multi_trig_7", y1, [$bsn_cart[1], 1.8, "exp_in", -0.8, 10, 1.7])
					$tracks("gran_buffer_trb-lab3-long").bpf_param("GranBuf_multi_trig_7", amp, [-120, 0.1, 0, 1, 0])
					3.1 $tracks("gran_buffer_trb-lab3-long").free()
				}	

				case "gran_buffer_cuivre_mes213":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_trp-trill-G#5", "group_hoa2", amp = 6, encoder = false) // track without encoder 
					$tracks("gran_buffer_trp-trill-G#5").mod_add(["GranBuf_multi_trig_7", buf, $SF_map("server2")("trp-trill-G#5.aif"), envbuf, $envs("server2")("perc"), "posLo", 0.1, "posHi", 0.7, "trigRate", 10, dur, 0.1, durDev, 0.4, "rate", 1.0, x0, $cor1_cart[0]-1.5, x1, $cor1_cart[0]-1.5, y0, $cor1_cart[1], y1, $cor1_cart[1], z0, 0, z1, 0.5, posRate, 1.1, amp, -120])
					$tracks("gran_buffer_trp-trill-G#5").bpf_param("GranBuf_multi_trig_7", trigRate, [20, 2, "exp_in", 20, 2.5, 8])
					$tracks("gran_buffer_trp-trill-G#5").bpf_param("GranBuf_multi_trig_7", rate, [1, 2, "exp_in", 1, 2.5, 0.8])
					$tracks("gran_buffer_trp-trill-G#5").bpf_param("GranBuf_multi_trig_7", dur, [0.05, 2, "exp_in", 0.01, 2.5, 0.1])
					$tracks("gran_buffer_trp-trill-G#5").bpf_param("GranBuf_multi_trig_7", x0, [$trp_cart[0]+1.5, 2, "exp_in", 0.2, 2.5, $trb_cart[0]])
					$tracks("gran_buffer_trp-trill-G#5").bpf_param("GranBuf_multi_trig_7", x1, [$trp_cart[0]+1.5, 2, "exp_in", -0.2, 2.5, $trb_cart[0]])	
					$tracks("gran_buffer_trp-trill-G#5").bpf_param("GranBuf_multi_trig_7", y0, [$trp_cart[1], 2, "exp_in", 0.2, 2.5, $trb_cart[1]])
					$tracks("gran_buffer_trp-trill-G#5").bpf_param("GranBuf_multi_trig_7", y1, [$trp_cart[1], 2, "exp_in", -0.2, 2.5, $trb_cart[1]])
					$tracks("gran_buffer_trp-trill-G#5").bpf_param("GranBuf_multi_trig_7", amp, [-120, 0.1, 4, 2, 6])
					5 $tracks("gran_buffer_trp-trill-G#5").free(0.1)
				}
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_Fl-trill-G#6", "group_hoa2", amp = 6, encoder = false) // track without encoder 
					$tracks("gran_buffer_Fl-trill-G#6").mod_add(["GranBuf_multi_trig_7", buf, $SF_map("server2")("Fl-trill-G#6.aif"), envbuf, $envs("server2")("perc"), "posLo", 0.5, "posHi", 0.6, "trigRate", 10, "rate", 1.0, x0, $cor1_cart[0]-1.5, x1, $cor1_cart[0]-1.5, y0, $cor1_cart[1], y1, $cor1_cart[1], posDev, 6.0, amp, -120])
					$tracks("gran_buffer_Fl-trill-G#6").bpf_param("GranBuf_multi_trig_7", trigRate, [13, 2, "exp_in", 40, 2.5, 8])
					$tracks("gran_buffer_Fl-trill-G#6").bpf_param("GranBuf_multi_trig_7", rate, [1, 2, "exp_in", 1, 1.5, 1, 1.5, 0.98])
					$tracks("gran_buffer_Fl-trill-G#6").bpf_param("GranBuf_multi_trig_7", dur, [0.1, 2, "exp_in", 0.05, 2.5, 0.1])
					$tracks("gran_buffer_Fl-trill-G#6").bpf_param("GranBuf_multi_trig_7", x0, [$fl_cart[0]+1.5, 2, "exp_in", 0.2, 2.5, $htb_cart[0]])
					$tracks("gran_buffer_Fl-trill-G#6").bpf_param("GranBuf_multi_trig_7", x1, [$fl_cart[0]+1.5, 2, "exp_in", -0.2, 2.5, $htb_cart[0]])	
					$tracks("gran_buffer_Fl-trill-G#6").bpf_param("GranBuf_multi_trig_7", y0, [$fl_cart[1], 2, "exp_in", 0.2, 2.5, $htb_cart[1]])
					$tracks("gran_buffer_Fl-trill-G#6").bpf_param("GranBuf_multi_trig_7", y1, [$fl_cart[1], 2, "exp_in", -0.2, 2.5, $htb_cart[1]])
					$tracks("gran_buffer_Fl-trill-G#6").bpf_param("GranBuf_multi_trig_7", amp, [-120, 0.1, 4, 2, 6])
					4.5 $tracks("gran_buffer_Fl-trill-G#6").free(0.1)
				}
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_vln-trill-C#6", "group_hoa2", amp = 6, encoder = false) // track without encoder 
					$tracks("gran_buffer_vln-trill-C#6").mod_add(["GranBuf_multi_trig_7", buf, $SF_map("server2")("vln-trill-C#6.aif"), envbuf, $envs("server2")("perc"), "posLo", 0.5, "posHi", 0.6, "trigRate", 10, "rate", 1.0, x0, $cor1_cart[0]-1.5, x1, $cor1_cart[0]-1.5, y0, $cor1_cart[1], y1, $cor1_cart[1], posDev, 6.0, amp, -120])
					$tracks("gran_buffer_vln-trill-C#6").bpf_param("GranBuf_multi_trig_7", trigRate, [16, 2, "exp_in", 25, 2.5, 8])
					$tracks("gran_buffer_vln-trill-C#6").bpf_param("GranBuf_multi_trig_7", rate, [1, 2, "exp_in", 0.8, 2.5, 0.7])
					$tracks("gran_buffer_vln-trill-C#6").bpf_param("GranBuf_multi_trig_7", dur, [0.04, 2, "exp_in", 0.05, 2.5, 0.3])
					$tracks("gran_buffer_vln-trill-C#6").bpf_param("GranBuf_multi_trig_7", x0, [$alto_cart[0]+1.5, 2, "exp_in", 0.2, 2.5, $vln_cart[0]])
					$tracks("gran_buffer_vln-trill-C#6").bpf_param("GranBuf_multi_trig_7", x1, [$alto_cart[0]+1.5, 2, "exp_in", -0.2, 2.5, $vln_cart[0]])
					$tracks("gran_buffer_vln-trill-C#6").bpf_param("GranBuf_multi_trig_7", y0, [$alto_cart[1], 2, "exp_in", 0.2, 2.5, $vln_cart[1]])
					$tracks("gran_buffer_vln-trill-C#6").bpf_param("GranBuf_multi_trig_7", y1, [$alto_cart[1], 2, "exp_in", -0.2, 2.5, $vln_cart[1]])
					$tracks("gran_buffer_vln-trill-C#6").bpf_param("GranBuf_multi_trig_7", amp, [-120, 0.1, 4, 2, 6])
					5 $tracks("gran_buffer_vln-trill-C#6").free()
				}	
				case "gran_buffer_perc-accord-mes214":
				group @tempo $RT_TEMPO
				{	
					obj::crea_track_HOA("gran_buffer_perc-accord-mes214", "group_hoa3", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_perc-accord-mes214").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("perc-accord-mes214.aif"), "posLo", 0.0001, "posHi", 0.02, posRate, 1.0, "trigRate", 0, trigRateDev, 0, "rate", 1, dur, 0.1, durDev, 0.0, x0, 1, x1, -1, y0, 10, y1, 9, z0, 0.7, z1, 1, amp, -120])

					// $tracks("gran_buffer_perc-accord-mes214").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_6.aif")])
					$tracks("gran_buffer_perc-accord-mes214").bpf_param("Gran_multi_trig_7", y0, [10, 6, -10])
					$tracks("gran_buffer_perc-accord-mes214").bpf_param("Gran_multi_trig_7", y1, [9, 6, -9])
					$tracks("gran_buffer_perc-accord-mes214").bpf_param("Gran_multi_trig_7", trigRate, [1, 3, "sine_in", 40, 4, "exp_out", 0.8])
					$tracks("gran_buffer_perc-accord-mes214").bpf_param("Gran_multi_trig_7", rate, [4, 3, "sine_in", 1, 4, "exp_out", 0.87])
					$tracks("gran_buffer_perc-accord-mes214").bpf_param("Gran_multi_trig_7", x0, [$alto_cart[0]+1.5, 3, "exp_in", 0.2, 2.5, $vln_cart[0]])
					$tracks("gran_buffer_perc-accord-mes214").bpf_param("Gran_multi_trig_7", x1, [$alto_cart[0]+1.5, 3, "exp_in", -0.2, 2.5, $vln_cart[0]])
					$tracks("gran_buffer_perc-accord-mes214").bpf_param("Gran_multi_trig_7", y0, [$alto_cart[1], 3, "exp_in", 0.2, 2.5, $vln_cart[1]])
					$tracks("gran_buffer_perc-accord-mes214").bpf_param("Gran_multi_trig_7", y1, [$alto_cart[1], 3, "exp_in", -0.2, 2.5, $vln_cart[1]])					
					$tracks("gran_buffer_perc-accord-mes214").bpf_param("Gran_multi_trig_7", amp, [-120, 0.2, -120, 0.1, 0])
					6 $tracks("gran_buffer_perc-accord-mes214").free(1)
				}			
				case "gran_buffer_perc-accord-mes214-2-bass":
				group @tempo $RT_TEMPO
				{	
					obj::crea_track_HOA("gran_buffer_perc-accord-mes214-2-bass", "group_hoa3", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_perc-accord-mes214-2-bass").mod_add(["GranBuf_multi_trig_7", buf, $SF_map("server3")("perc-accord-mes214-2-bass.aif"), envbuf, $envs("server3")("perc"), "posLo", 0.0001, "posHi", 0.02, posRate, 1.0, "trigRate", 0, trigRateDev, 0, "rate", 1, dur, 0.1, durDev, 0.0, x0, 1, x1, -1, y0, 10, y1, 9, z0, 0.0, z1, 0.5, amp, -120])

					// $tracks("gran_buffer_perc-accord-mes214-2-bass").set("GranBuf_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_6.aif")])
					$tracks("gran_buffer_perc-accord-mes214-2-bass").bpf_param("GranBuf_multi_trig_7", y0, [10, 6, -10])
					$tracks("gran_buffer_perc-accord-mes214-2-bass").bpf_param("GranBuf_multi_trig_7", y1, [9, 6, -9])
					$tracks("gran_buffer_perc-accord-mes214-2-bass").bpf_param("GranBuf_multi_trig_7", trigRate, [1, 3, "sine_in", 40, 4, "exp_out", 0.8])
					$tracks("gran_buffer_perc-accord-mes214-2-bass").bpf_param("GranBuf_multi_trig_7", rate, [5, 3, "sine_in", 1, 4, "exp_out", 0.87])
					$tracks("gran_buffer_perc-accord-mes214-2-bass").bpf_param("GranBuf_multi_trig_7", x0, [$trb_cart[0]+1.5, 3, "exp_in", 0.2, 2.5, $cb_cart[0]])
					$tracks("gran_buffer_perc-accord-mes214-2-bass").bpf_param("GranBuf_multi_trig_7", x1, [$trb_cart[0]+1.5, 3, "exp_in", -0.2, 2.5, $cb_cart[0]])
					$tracks("gran_buffer_perc-accord-mes214-2-bass").bpf_param("GranBuf_multi_trig_7", y0, [$trb_cart[1], 3, "exp_in", 0.2, 2.5, $cb_cart[1]])
					$tracks("gran_buffer_perc-accord-mes214-2-bass").bpf_param("GranBuf_multi_trig_7", y1, [$trb_cart[1], 3, "exp_in", -0.2, 2.5, $cb_cart[1]])					
					$tracks("gran_buffer_perc-accord-mes214-2-bass").bpf_param("GranBuf_multi_trig_7", amp, [-120, 0.2, -120, 0.1, 0])
					3 $tracks("gran_buffer_perc-accord-mes214-2-bass").set("GranBuf_multi_trig_7", [trigRateDev, 100])
					$tracks("gran_buffer_perc-accord-mes214-2-bass").bpf_param("GranBuf_multi_trig_7", x0, [$cb_cart[0], 3, "exp_in", 1.2, 4, $vlc_cart[0]])
					$tracks("gran_buffer_perc-accord-mes214-2-bass").bpf_param("GranBuf_multi_trig_7", x1, [$cb_cart[0], 3, "exp_in", -1.2, 4, $vlc_cart[0]])
					$tracks("gran_buffer_perc-accord-mes214-2-bass").bpf_param("GranBuf_multi_trig_7", y0, [$cb_cart[1], 3, "exp_in", 1.2, 4, $vlc_cart[1]])
					$tracks("gran_buffer_perc-accord-mes214-2-bass").bpf_param("GranBuf_multi_trig_7", y1, [$cb_cart[1], 3, "exp_in", -1.2, 4, $vlc_cart[1]])	
					7 $tracks("gran_buffer_perc-accord-mes214-2-bass").free(1)
				}	
				case "gran_buffer_seg-mes215":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_htb-seg-mes214", "group_hoa2", amp = 6, encoder = false) // track without encoder 
					$tracks("gran_buffer_htb-seg-mes214").mod_add(["GranBufPos_multi_7", buf, $SF_map("server2")("htb-seg-mes214.aif"), envbuf, $envs("server2")("perc"), "startPos", 0.4, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $htb_cart[0]-1.5, x1, $htb_cart[0]-1.5, y0, $htb_cart[1], y1, $htb_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
					// $tracks("gran_buffer_htb-seg-mes214").set("GranBufPos_multi_7", [envbuf, $envs("server2")("rond")])
					$tracks("gran_buffer_htb-seg-mes214").bpf_param("GranBufPos_multi_7", trigRate, [20, 2, "exp_in", 30, 2.5, 8])
					$tracks("gran_buffer_htb-seg-mes214").bpf_param("GranBufPos_multi_7", rate, [1, 2, "exp_in", 1, 2.5, 0.8])
					$tracks("gran_buffer_htb-seg-mes214").bpf_param("GranBufPos_multi_7", dur, [0.1, 2, "exp_in", 0.2, 2.5, 0.1])
					$tracks("gran_buffer_htb-seg-mes214").bpf_param("GranBufPos_multi_7", x0, [$htb_cart[0]+1.5, 2, "linear", 1.2, 2.5, $fl_cart[0]])
					$tracks("gran_buffer_htb-seg-mes214").bpf_param("GranBufPos_multi_7", x1, [$htb_cart[0]+1.5, 2, "linear", -1.2, 2.5, $fl_cart[0]])	
					$tracks("gran_buffer_htb-seg-mes214").bpf_param("GranBufPos_multi_7", y0, [$htb_cart[1], 2, "linear", 1.2, 2.5, $fl_cart[1]])
					$tracks("gran_buffer_htb-seg-mes214").bpf_param("GranBufPos_multi_7", y1, [$htb_cart[1], 2, "linear", -1.2, 2.5, $fl_cart[1]])
					$tracks("gran_buffer_htb-seg-mes214").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 4, 2, 6])
					5 $tracks("gran_buffer_htb-seg-mes214").free(0.1)
				}

				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_trb-seg-mes214", "group_hoa3", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_trb-seg-mes214").mod_add(["GranBufPos_multi_7", buf, $SF_map("server3")("trb-seg-mes214.aif"), envbuf, $envs("server3")("rond"), "startPos", 0.4, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $trb_cart[0]-1.5, x1, $trb_cart[0]-1.5, y0, $trb_cart[1], y1, $trb_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
					// $tracks("gran_buffer_trb-seg-mes214").set("GranBufPos_multi_7", [envbuf, $envs("server2")("rond")])
					$tracks("gran_buffer_trb-seg-mes214").bpf_param("GranBufPos_multi_7", trigRate, [20, 2, "exp_in", 30, 2.5, 8])
					$tracks("gran_buffer_trb-seg-mes214").bpf_param("GranBufPos_multi_7", rate, [1, 2, "exp_in", 1, 2.5, 0.8])
					$tracks("gran_buffer_trb-seg-mes214").bpf_param("GranBufPos_multi_7", dur, [0.1, 2, "exp_in", 0.2, 2.5, 0.1])
					$tracks("gran_buffer_trb-seg-mes214").bpf_param("GranBufPos_multi_7", x0, [$trb_cart[0]+1.5, 2, "linear", 1.2, 2.5, $cor1_cart[0]])
					$tracks("gran_buffer_trb-seg-mes214").bpf_param("GranBufPos_multi_7", x1, [$trb_cart[0]+1.5, 2, "linear", -1.2, 2.5, $cor1_cart[0]])	
					$tracks("gran_buffer_trb-seg-mes214").bpf_param("GranBufPos_multi_7", y0, [$trb_cart[1], 2, "linear", 1.2, 2.5, $cor1_cart[1]])
					$tracks("gran_buffer_trb-seg-mes214").bpf_param("GranBufPos_multi_7", y1, [$trb_cart[1], 2, "linear", -1.2, 2.5, $cor1_cart[1]])
					$tracks("gran_buffer_trb-seg-mes214").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 0, 2, 0])
					5 $tracks("gran_buffer_trb-seg-mes214").free(0.1)
				}

				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_vln-seg-mes214", "group_hoa4", amp = 6, encoder = false) // track without encoder 
					$tracks("gran_buffer_vln-seg-mes214").mod_add(["GranBufPos_multi_7", buf, $SF_map("server4")("vln-seg-mes214.aif"), envbuf, $envs("server4")("perc"), "startPos", 0.4, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $vln_cart[0]-1.5, x1, $vln_cart[0]-1.5, y0, $vln_cart[1], y1, $vln_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
					// $tracks("gran_buffer_vln-seg-mes214").set("GranBufPos_multi_7", [envbuf, $envs("server2")("rond")])
					$tracks("gran_buffer_vln-seg-mes214").bpf_param("GranBufPos_multi_7", trigRate, [20, 2, "exp_in", 30, 2.5, 8])
					$tracks("gran_buffer_vln-seg-mes214").bpf_param("GranBufPos_multi_7", rate, [1, 2, "exp_in", 1, 2.5, 0.8])
					$tracks("gran_buffer_vln-seg-mes214").bpf_param("GranBufPos_multi_7", dur, [1.2, 2, "exp_in", 0.2, 2.5, 0.1])
					$tracks("gran_buffer_vln-seg-mes214").bpf_param("GranBufPos_multi_7", x0, [$htb_cart[0]+1.5, 2, "linear", 1.2, 2.5, $fl_cart[0]])
					$tracks("gran_buffer_vln-seg-mes214").bpf_param("GranBufPos_multi_7", x1, [$htb_cart[0]+1.5, 2, "linear", -1.2, 2.5, $fl_cart[0]])	
					$tracks("gran_buffer_vln-seg-mes214").bpf_param("GranBufPos_multi_7", y0, [$htb_cart[1], 2, "linear", 1.2, 2.5, $fl_cart[1]])
					$tracks("gran_buffer_vln-seg-mes214").bpf_param("GranBufPos_multi_7", y1, [$htb_cart[1], 2, "linear", -1.2, 2.5, $fl_cart[1]])
					$tracks("gran_buffer_vln-seg-mes214").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 4, 2, 6])
					5 $tracks("gran_buffer_vln-seg-mes214").free(0.1)
				}
				case "gran_buffer_trio-mes216":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_fl-tril-F6", "group_hoa2", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_fl-tril-F6").mod_add(["GranBufPos_multi_7", buf, $SF_map("server2")("fl-tril-F6.aif"), envbuf, $envs("server2")("perc"), "startPos", 0.4, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $fl_cart[0]-1.5, x1, $fl_cart[0]-1.5, y0, $fl_cart[1], y1, $fl_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
					// $tracks("gran_buffer_fl-tril-F6").set("GranBufPos_multi_7", [envbuf, $envs("server2")("rond")])
					$tracks("gran_buffer_fl-tril-F6").bpf_param("GranBufPos_multi_7", trigRate, [20, 2, "exp_in", 30, 2.5, 8])
					$tracks("gran_buffer_fl-tril-F6").bpf_param("GranBufPos_multi_7", rate, [1, 2, "exp_in", 1, 2.5, 1.5])
					$tracks("gran_buffer_fl-tril-F6").bpf_param("GranBufPos_multi_7", dur, [0.1, 2, "exp_in", 0.5, 2.5, 0.1])
					$tracks("gran_buffer_fl-tril-F6").bpf_param("GranBufPos_multi_7", x0, [$fl_cart[0]+1.5, 2, "linear", 1.2, 2.5, $vlc_cart[0]])
					$tracks("gran_buffer_fl-tril-F6").bpf_param("GranBufPos_multi_7", x1, [$fl_cart[0]+1.5, 2, "linear", -1.2, 2.5, $vlc_cart[0]])	
					$tracks("gran_buffer_fl-tril-F6").bpf_param("GranBufPos_multi_7", y0, [$fl_cart[1], 2, "linear", 1.2, 2.5, $vlc_cart[1]])
					$tracks("gran_buffer_fl-tril-F6").bpf_param("GranBufPos_multi_7", y1, [$fl_cart[1], 2, "linear", -1.2, 2.5, $vlc_cart[1]])
					$tracks("gran_buffer_fl-tril-F6").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 2, 2, 4])
					5 $tracks("gran_buffer_fl-tril-F6").free(0.1)
				}
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_trp-trill-la5", "group_hoa3", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_trp-trill-la5").mod_add(["GranBufPos_multi_7", buf, $SF_map("server3")("trp-trill-la5.aif"), envbuf, $envs("server3")("baleine"), "startPos", 0.1, centerDev, 0.9, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $trp_cart[0]-1.5, x1, $trp_cart[0]-1.5, y0, $trp_cart[1], y1, $trp_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
					// $tracks("gran_buffer_trp-trill-la5").set("GranBufPos_multi_7", [envbuf, $envs("server3")("rond")])
					$tracks("gran_buffer_trp-trill-la5").bpf_param("GranBufPos_multi_7", trigRate, [10, 1, "exp_in", 30, 2.5, 8])
					$tracks("gran_buffer_trp-trill-la5").bpf_param("GranBufPos_multi_7", rate, [1, 1, "exp_in", 1, 2.5, 1.2])
					$tracks("gran_buffer_trp-trill-la5").bpf_param("GranBufPos_multi_7", dur, [0.1, 1, "exp_in", 0.2, 2.5, 0.1])
					$tracks("gran_buffer_trp-trill-la5").bpf_param("GranBufPos_multi_7", x0, [$trp_cart[0]+1.5, 1, "linear", 1.2, 2.5, $vlc_cart[0]])
					$tracks("gran_buffer_trp-trill-la5").bpf_param("GranBufPos_multi_7", x1, [$trp_cart[0]+1.5, 1, "linear", -1.2, 2.5, $vlc_cart[0]])	
					$tracks("gran_buffer_trp-trill-la5").bpf_param("GranBufPos_multi_7", y0, [$trp_cart[1], 1, "linear", 1.2, 2.5, $vlc_cart[1]])
					$tracks("gran_buffer_trp-trill-la5").bpf_param("GranBufPos_multi_7", y1, [$trp_cart[1], 1, "linear", -1.2, 2.5, $vlc_cart[1]])
					$tracks("gran_buffer_trp-trill-la5").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 0, 1, 0])
					5 $tracks("gran_buffer_trp-trill-la5").free(0.1)
				}

				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_cor1-trill-C5", "group_hoa4", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_cor1-trill-C5").mod_add(["GranBufPos_multi_7", buf, $SF_map("server4")("cor1-trill-C5.aif"), envbuf, $envs("server4")("perc"), "startPos", 0.4, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $cor1_cart[0]-1.5, x1, $cor1_cart[0]-1.5, y0, $cor1_cart[1], y1, $cor1_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
					// $tracks("gran_buffer_cor1-trill-C5").set("GranBufPos_multi_7", [envbuf, $envs("server4")("rond")])
					$tracks("gran_buffer_cor1-trill-C5").bpf_param("GranBufPos_multi_7", trigRate, [20, 1, "exp_in", 80, 2.5, 8])
					$tracks("gran_buffer_cor1-trill-C5").bpf_param("GranBufPos_multi_7", rate, [1, 1, "exp_in", 1, 2.5, 1.3])
					$tracks("gran_buffer_cor1-trill-C5").bpf_param("GranBufPos_multi_7", dur, [0.4, 1, "exp_in", 0.2, 2.5, 0.1])
					$tracks("gran_buffer_cor1-trill-C5").bpf_param("GranBufPos_multi_7", x0, [$cor1_cart[0]+1.5, 1, "linear", 1.2, 2.5, $vlc_cart[0]])
					$tracks("gran_buffer_cor1-trill-C5").bpf_param("GranBufPos_multi_7", x1, [$cor1_cart[0]+1.5, 1, "linear", -1.2, 2.5, $vlc_cart[0]])	
					$tracks("gran_buffer_cor1-trill-C5").bpf_param("GranBufPos_multi_7", y0, [$cor1_cart[1], 1, "linear", 1.2, 2.5, $vlc_cart[1]])
					$tracks("gran_buffer_cor1-trill-C5").bpf_param("GranBufPos_multi_7", y1, [$cor1_cart[1], 1, "linear", -1.2, 2.5, $vlc_cart[1]])
					$tracks("gran_buffer_cor1-trill-C5").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 2, 1, 5])
					5 $tracks("gran_buffer_cor1-trill-C5").free(0.1)
				}			
				case "gran_buffer_duo_cl+vln-mes217":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_cl-seg-mes217", "group_hoa2", amp = 6, encoder = false) // track without encoder 
					$tracks("gran_buffer_cl-seg-mes217").mod_add(["GranBufPos_multi_7", buf, $SF_map("server2")("cl-seg-mes217.aif"), envbuf, $envs("server2")("perc"), "startPos", 0.4, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $cl_cart[0], x1, $cl_cart[0], y0, $cl_cart[1], y1, $cl_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
					// $tracks("gran_buffer_cl-seg-mes217").set("GranBufPos_multi_7", [envbuf, $envs("server2")("rond")])
					$tracks("gran_buffer_cl-seg-mes217").bpf_param("GranBufPos_multi_7", trigRate, [20, 2, "exp_in", 30, 2.5, 8])
					$tracks("gran_buffer_cl-seg-mes217").bpf_param("GranBufPos_multi_7", rate, [1, 2, "exp_in", 1, 2.5, 0.8])
					$tracks("gran_buffer_cl-seg-mes217").bpf_param("GranBufPos_multi_7", dur, [1.2, 2, "exp_in", 0.2, 2.5, 0.1])
					$tracks("gran_buffer_cl-seg-mes217").bpf_param("GranBufPos_multi_7", x0, [$cl_cart[0], 2, "linear", $cor1_cart[0]])
					$tracks("gran_buffer_cl-seg-mes217").bpf_param("GranBufPos_multi_7", x1, [$cl_cart[0], 2, "linear", $cor1_cart[0]])	
					$tracks("gran_buffer_cl-seg-mes217").bpf_param("GranBufPos_multi_7", y0, [$cl_cart[1], 2, "linear", 1.2, 2.5, $cor1_cart[1]])
					$tracks("gran_buffer_cl-seg-mes217").bpf_param("GranBufPos_multi_7", y1, [$cl_cart[1], 2, "linear", -1.2, 2.5, $cor1_cart[1]])
					$tracks("gran_buffer_cl-seg-mes217").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 4, 2, 6])
					5 $tracks("gran_buffer_cl-seg-mes217").free(0.1)
				}

				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_vln-seg-mes217", "group_hoa3", amp = 6, encoder = false) // track without encoder 
					$tracks("gran_buffer_vln-seg-mes217").mod_add(["GranBufPos_multi_7", buf, $SF_map("server3")("vln-seg-mes217.aif"), envbuf, $envs("server3")("perc"), "startPos", 0.4, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $vln_cart[0], x1, $vln_cart[0], y0, $vln_cart[1], y1, $vln_cart[1], z0, 0, z1, 0.1, posRate, 0, amp, -120])
					// $tracks("gran_buffer_vln-seg-mes217").set("GranBufPos_multi_7", [envbuf, $envs("server3")("rond")])
					$tracks("gran_buffer_vln-seg-mes217").bpf_param("GranBufPos_multi_7", trigRate, [20, 2, "exp_in", 30, 2.5, 8])
					$tracks("gran_buffer_vln-seg-mes217").bpf_param("GranBufPos_multi_7", rate, [1, 2, "exp_in", 1, 2.5, 0.8])
					$tracks("gran_buffer_vln-seg-mes217").bpf_param("GranBufPos_multi_7", dur, [1.2, 2, "exp_in", 0.2, 2.5, 0.1])
					$tracks("gran_buffer_vln-seg-mes217").bpf_param("GranBufPos_multi_7", x0, [$vln_cart[0], 2, "linear", $htb_cart[0]])
					$tracks("gran_buffer_vln-seg-mes217").bpf_param("GranBufPos_multi_7", x1, [$vln_cart[0], 2, "linear", $htb_cart[0]])	
					$tracks("gran_buffer_vln-seg-mes217").bpf_param("GranBufPos_multi_7", y0, [$vln_cart[1], 2, "linear", 1.2, 2.5, $htb_cart[1]])
					$tracks("gran_buffer_vln-seg-mes217").bpf_param("GranBufPos_multi_7", y1, [$vln_cart[1], 2, "linear", -1.2, 2.5, $htb_cart[1]])
					$tracks("gran_buffer_vln-seg-mes217").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 4, 2, 6])
					5 $tracks("gran_buffer_vln-seg-mes217").free(0.1)
				}
				case "gran_buffer_duo_htb+cor1-mes217":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_htb-seg-mes217-2", "group_hoa4", amp = 6, encoder = false) // track without encoder 
					$tracks("gran_buffer_htb-seg-mes217-2").mod_add(["GranBufPos_multi_7", buf, $SF_map("server4")("htb-seg-mes217-2.aif"), envbuf, $envs("server4")("perc"), "startPos", 0.4, centerDev, 0.6, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $htb_cart[0], x1, $htb_cart[0], y0, $htb_cart[1], y1, $htb_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
					// $tracks("gran_buffer_htb-seg-mes217-2").set("GranBufPos_multi_7", [envbuf, $envs("server4")("rond")])
					$tracks("gran_buffer_htb-seg-mes217-2").bpf_param("GranBufPos_multi_7", trigRate, [20, 1, "exp_in", 30, 2.5, 8])
					$tracks("gran_buffer_htb-seg-mes217-2").bpf_param("GranBufPos_multi_7", rate, [1, 1, "exp_in", 1, 2.5, 1.2])
					$tracks("gran_buffer_htb-seg-mes217-2").bpf_param("GranBufPos_multi_7", dur, [1.2, 1, "exp_in", 0.2, 2.5, 0.1])
					$tracks("gran_buffer_htb-seg-mes217-2").bpf_param("GranBufPos_multi_7", x0, [$htb_cart[0], 1, "linear", $cor2_cart[0]])
					$tracks("gran_buffer_htb-seg-mes217-2").bpf_param("GranBufPos_multi_7", x1, [$htb_cart[0], 1, "linear", $cor2_cart[0]])	
					$tracks("gran_buffer_htb-seg-mes217-2").bpf_param("GranBufPos_multi_7", y0, [$htb_cart[1], 1, "linear", 1.2, 2.5, $cor2_cart[1]])
					$tracks("gran_buffer_htb-seg-mes217-2").bpf_param("GranBufPos_multi_7", y1, [$htb_cart[1], 1, "linear", -1.2, 2.5, $cor2_cart[1]])
					$tracks("gran_buffer_htb-seg-mes217-2").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 4, 1, 6])
					5 $tracks("gran_buffer_htb-seg-mes217-2").free(0.1)
				}

				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_cor1-seg-mes217-2", "group_hoa2", amp = 6, encoder = false) // track without encoder 
					$tracks("gran_buffer_cor1-seg-mes217-2").mod_add(["GranBufPos_multi_7", buf, $SF_map("server2")("cor1-seg-mes217-2.aif"), envbuf, $envs("server2")("perc"), "startPos", 0.4, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $cor1_cart[0], x1, $cor1_cart[0], y0, $cor1_cart[1], y1, $cor1_cart[1], z0, 0, z1, 0.1, posRate, 0, amp, -120])
					// $tracks("gran_buffer_cor1-seg-mes217-2").set("GranBufPos_multi_7", [envbuf, $envs("server2")("rond")])
					$tracks("gran_buffer_cor1-seg-mes217-2").bpf_param("GranBufPos_multi_7", trigRate, [20, 1, "exp_in", 30, 2.5, 8])
					$tracks("gran_buffer_cor1-seg-mes217-2").bpf_param("GranBufPos_multi_7", rate, [1, 1, "exp_in", 1, 2.5, 1.2])
					$tracks("gran_buffer_cor1-seg-mes217-2").bpf_param("GranBufPos_multi_7", dur, [1.2, 1, "exp_in", 0.2, 2.5, 0.1])
					$tracks("gran_buffer_cor1-seg-mes217-2").bpf_param("GranBufPos_multi_7", x0, [$cor1_cart[0], 1, "linear", $fl_cart[0]])
					$tracks("gran_buffer_cor1-seg-mes217-2").bpf_param("GranBufPos_multi_7", x1, [$cor1_cart[0], 1, "linear", $fl_cart[0]])	
					$tracks("gran_buffer_cor1-seg-mes217-2").bpf_param("GranBufPos_multi_7", y0, [$cor1_cart[1], 1, "linear", 1.2, 2.5, $fl_cart[1]])
					$tracks("gran_buffer_cor1-seg-mes217-2").bpf_param("GranBufPos_multi_7", y1, [$cor1_cart[1], 1, "linear", -1.2, 2.5, $fl_cart[1]])
					$tracks("gran_buffer_cor1-seg-mes217-2").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 4, 1, 6])
					5 $tracks("gran_buffer_cor1-seg-mes217-2").free(0.1)
				}	
				case "gran_buffer_duo_fl+cor2-mes218":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_fl-seg-mes218", "group_hoa3", amp = 6, encoder = false) // track without encoder 
					$tracks("gran_buffer_fl-seg-mes218").mod_add(["GranBufPos_multi_7", buf, $SF_map("server3")("fl-seg-mes218.aif"), envbuf, $envs("server3")("perc"), "startPos", 0.4, centerDev, 0.6, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $fl_cart[0], x1, $fl_cart[0], y0, $fl_cart[1], y1, $fl_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
					// $tracks("gran_buffer_fl-seg-mes218").set("GranBufPos_multi_7", [envbuf, $envs("server3")("rond")])
					$tracks("gran_buffer_fl-seg-mes218").bpf_param("GranBufPos_multi_7", trigRate, [20, 0.5, "exp_in", 30, 0.5, 8])
					$tracks("gran_buffer_fl-seg-mes218").bpf_param("GranBufPos_multi_7", rate, [1, 0.5, "exp_in", 1, 0.5, 1.2])
					$tracks("gran_buffer_fl-seg-mes218").bpf_param("GranBufPos_multi_7", dur, [1.2, 0.5, "exp_in", 0.7, 0.5, 0.7])
					$tracks("gran_buffer_fl-seg-mes218").bpf_param("GranBufPos_multi_7", x0, [$fl_cart[0], 0.5, "linear", $trp_cart[0]])
					$tracks("gran_buffer_fl-seg-mes218").bpf_param("GranBufPos_multi_7", x1, [$fl_cart[0], 0.5, "linear", $trp_cart[0]])	
					$tracks("gran_buffer_fl-seg-mes218").bpf_param("GranBufPos_multi_7", y0, [$fl_cart[1], 0.5, "linear", $trp_cart[1]])
					$tracks("gran_buffer_fl-seg-mes218").bpf_param("GranBufPos_multi_7", y1, [$fl_cart[1], 0.5, "linear", $trp_cart[1]])
					$tracks("gran_buffer_fl-seg-mes218").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 4, 0.5, 6])
					2 $tracks("gran_buffer_fl-seg-mes218").free(1)
				}

				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_cor2-seg-mes218", "group_hoa4", amp = 6, encoder = false) // track without encoder 
					$tracks("gran_buffer_cor2-seg-mes218").mod_add(["GranBufPos_multi_7", buf, $SF_map("server4")("cor2-seg-mes218.aif"), envbuf, $envs("server4")("perc"), "startPos", 0.4, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $cor2_cart[0], x1, $cor2_cart[0], y0, $cor2_cart[1], y1, $cor2_cart[1], z0, 0, z1, 0.1, posRate, 0, amp, -120])
					// $tracks("gran_buffer_cor2-seg-mes218").set("GranBufPos_multi_7", [envbuf, $envs("server4")("rond")])
					$tracks("gran_buffer_cor2-seg-mes218").bpf_param("GranBufPos_multi_7", trigRate, [20, 1, "exp_in", 30, 0.5, 8])
					$tracks("gran_buffer_cor2-seg-mes218").bpf_param("GranBufPos_multi_7", rate, [1, 1, "exp_in", 1, 0.5, 1.2])
					$tracks("gran_buffer_cor2-seg-mes218").bpf_param("GranBufPos_multi_7", dur, [1.2, 1, "exp_in", 0.7, 0.5, 0.8])
					$tracks("gran_buffer_cor2-seg-mes218").bpf_param("GranBufPos_multi_7", x0, [$cor2_cart[0], 1, "linear", $cb_cart[0]])
					$tracks("gran_buffer_cor2-seg-mes218").bpf_param("GranBufPos_multi_7", x1, [$cor2_cart[0], 1, "linear", $cb_cart[0]])	
					$tracks("gran_buffer_cor2-seg-mes218").bpf_param("GranBufPos_multi_7", y0, [$cor2_cart[1], 1, "linear", $cb_cart[1]])
					$tracks("gran_buffer_cor2-seg-mes218").bpf_param("GranBufPos_multi_7", y1, [$cor2_cart[1], 1, "linear", $cb_cart[1]])
					$tracks("gran_buffer_cor2-seg-mes218").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 4, 1, 6])
					2 $tracks("gran_buffer_cor2-seg-mes218").free(0.1)
				}			
				case "gran_buffer_duo_trp+cb-mes218":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_trp-seg-ribatt-mes218-2", "group_hoa2", amp = 6, encoder = false) // track without encoder 
					$tracks("gran_buffer_trp-seg-ribatt-mes218-2").mod_add(["GranBufPos_multi_7", buf, $SF_map("server2")("trp-seg-ribatt-mes218-2.aif"), envbuf, $envs("server2")("perc"), "startPos", 0.4, centerDev, 0.6, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $trp_cart[0], x1, $trp_cart[0], y0, $trp_cart[1], y1, $trp_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
					// $tracks("gran_buffer_trp-seg-ribatt-mes218-2").set("GranBufPos_multi_7", [envbuf, $envs("server2")("rond")])
					$tracks("gran_buffer_trp-seg-ribatt-mes218-2").bpf_param("GranBufPos_multi_7", trigRate, [20, 0.5, "exp_in", 40, 2, 8])
					$tracks("gran_buffer_trp-seg-ribatt-mes218-2").bpf_param("GranBufPos_multi_7", rate, [1, 0.5, "exp_in", 1, 0.5, 1.2])
					$tracks("gran_buffer_trp-seg-ribatt-mes218-2").bpf_param("GranBufPos_multi_7", dur, [1.2, 0.5, "exp_in", 1.7, 0.5, 0.9])
					$tracks("gran_buffer_trp-seg-ribatt-mes218-2").bpf_param("GranBufPos_multi_7", x0, [$trp_cart[0], 2, "linear", 0])
					$tracks("gran_buffer_trp-seg-ribatt-mes218-2").bpf_param("GranBufPos_multi_7", x1, [$trp_cart[0], 2, "linear", 0])	
					$tracks("gran_buffer_trp-seg-ribatt-mes218-2").bpf_param("GranBufPos_multi_7", y0, [$trp_cart[1], 2, "linear", 5])
					$tracks("gran_buffer_trp-seg-ribatt-mes218-2").bpf_param("GranBufPos_multi_7", y1, [$trp_cart[1], 2, "linear", 5])
					$tracks("gran_buffer_trp-seg-ribatt-mes218-2").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 8, 0.5, 10])
					5 $tracks("gran_buffer_trp-seg-ribatt-mes218-2").free(3)
				}

				group @tempo $RT_TEMPO
				{	
					obj::crea_track_HOA("gran_buffer_hit2", "group_hoa3", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_hit2").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("cb-re2+_bartok-mes218-2.aif"), "posLo", 0.0, "posHi", 0.1, posRate, 0.04, "trigRate", 0, trigRateDev, 0, "rate", 1, dur, 0.25, durDev, 0.0, x0, 1, x1, -1, y0, 10, y1, 9, amp, -120])

					// $tracks("gran_buffer_hit2").set("Gran_multi_trig_7", [buf, $SF_map("server3")("hit-corto2_6.aif")])
					$tracks("gran_buffer_hit2").bpf_param("Gran_multi_trig_7", y0, [10, 8, -10])
					$tracks("gran_buffer_hit2").bpf_param("Gran_multi_trig_7", y1, [9, 8, -9])
					$tracks("gran_buffer_hit2").bpf_param("Gran_multi_trig_7", trigRate, [20, 4, "exp_in", 90, 4, "exp_out", 0.8])
					$tracks("gran_buffer_hit2").bpf_param("Gran_multi_trig_7", rate, [1, 4, "exp_in", 0.98, 4, "exp_out", 0.97])
					$tracks("gran_buffer_hit2").bpf_param("Gran_multi_trig_7", amp, [-120, 0.2, -120, 0.1, 0])
					8 $tracks("gran_buffer_hit2").free(0.1)
				}

				case "gran_buffer_duo_bsn+alto-mes219":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_bsn-seg-desc-mes219", "group_hoa4", amp = 6, encoder = false) // track without encoder 
					$tracks("gran_buffer_bsn-seg-desc-mes219").mod_add(["GranBufPos_multi_7", buf, $SF_map("server4")("bsn-seg-desc-mes219.aif"), envbuf, $envs("server4")("perc"), "startPos", 0.4, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $htb_cart[0]-1.5, x1, $htb_cart[0]-1.5, y0, $htb_cart[1], y1, $htb_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
					// $tracks("gran_buffer_bsn-seg-desc-mes219").set("GranBufPos_multi_7", [envbuf, $envs("server2")("rond")])
					$tracks("gran_buffer_bsn-seg-desc-mes219").bpf_param("GranBufPos_multi_7", trigRate, [20, 2, "exp_in", 25, 2.5, 15])
					$tracks("gran_buffer_bsn-seg-desc-mes219").bpf_param("GranBufPos_multi_7", rate, [1, 2, "exp_in", 1, 2.5, 0.8])
					$tracks("gran_buffer_bsn-seg-desc-mes219").bpf_param("GranBufPos_multi_7", dur, [0.7, 2, "exp_in", 0.9, 2.5, 0.5])
					$tracks("gran_buffer_bsn-seg-desc-mes219").bpf_param("GranBufPos_multi_7", x0, [$htb_cart[0]+1.5, 2, "linear", 1.2, 2.5, $fl_cart[0]])
					$tracks("gran_buffer_bsn-seg-desc-mes219").bpf_param("GranBufPos_multi_7", x1, [$htb_cart[0]+1.5, 2, "linear", -1.2, 2.5, $fl_cart[0]])	
					$tracks("gran_buffer_bsn-seg-desc-mes219").bpf_param("GranBufPos_multi_7", y0, [$htb_cart[1], 2, "linear", 1.2, 2.5, $fl_cart[1]])
					$tracks("gran_buffer_bsn-seg-desc-mes219").bpf_param("GranBufPos_multi_7", y1, [$htb_cart[1], 2, "linear", -1.2, 2.5, $fl_cart[1]])
					$tracks("gran_buffer_bsn-seg-desc-mes219").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 0, 2, 2, 2.5, 2, 2, -60])
					8 $tracks("gran_buffer_bsn-seg-desc-mes219").free(0.1)
				}

				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_alto-seg-desc-mes219", "group_hoa2", amp = 6, encoder = false) // track without encoder 
					$tracks("gran_buffer_alto-seg-desc-mes219").mod_add(["GranBufPos_multi_7", buf, $SF_map("server2")("alto-seg-desc-mes219.aif"), envbuf, $envs("server2")("pointe"), "startPos", 0.4, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $htb_cart[0]-1.5, x1, $htb_cart[0]-1.5, y0, $htb_cart[1], y1, $htb_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
					// $tracks("gran_buffer_alto-seg-desc-mes219").set("GranBufPos_multi_7", [envbuf, $envs("server2")("rond")])
					$tracks("gran_buffer_alto-seg-desc-mes219").bpf_param("GranBufPos_multi_7", trigRate, [20, 2, "exp_in", 25, 2.5, 15])
					$tracks("gran_buffer_alto-seg-desc-mes219").bpf_param("GranBufPos_multi_7", rate, [1, 2, "exp_in", 1, 2.5, 0.8])
					$tracks("gran_buffer_alto-seg-desc-mes219").bpf_param("GranBufPos_multi_7", dur, [0.5, 2, "exp_in", 0.4, 2.5, 0.5])
					$tracks("gran_buffer_alto-seg-desc-mes219").bpf_param("GranBufPos_multi_7", x0, [$htb_cart[0]+1.5, 2, "linear", 1.2, 2.5, $fl_cart[0]])
					$tracks("gran_buffer_alto-seg-desc-mes219").bpf_param("GranBufPos_multi_7", x1, [$htb_cart[0]+1.5, 2, "linear", -1.2, 2.5, $fl_cart[0]])	
					$tracks("gran_buffer_alto-seg-desc-mes219").bpf_param("GranBufPos_multi_7", y0, [$htb_cart[1], 2, "linear", 1.2, 2.5, $fl_cart[1]])
					$tracks("gran_buffer_alto-seg-desc-mes219").bpf_param("GranBufPos_multi_7", y1, [$htb_cart[1], 2, "linear", -1.2, 2.5, $fl_cart[1]])
					$tracks("gran_buffer_alto-seg-desc-mes219").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 0, 2, 2, 2.5, 2, 2, -60])
					8 $tracks("gran_buffer_alto-seg-desc-mes219").free(0.1)
				}
				case "gliss3":
				{
					group @tempo $RT_TEMPO
					{
						obj::crea_track_HOA("add_gliss3", "group_hoa3", fade_in = 0.1, amp = $electro.last(), [TAddic_20_8, transp, 2., amp, -25, d, 4.3000001907349, shift, 0.5, distor, 0.5, lfnoise_amp, 0.0010000000474975, width, 2.0, lag_spat, 0.20000000298023, freqs, [ 808.28002929688, 870.34002685547, 870.34002685547, 1009.1400146484, 1297.7600097656, 1460.8499755859, 1460.8499755859, 1573.0200195312, 1573.0200195312, 1693.8100585938, 1693.8100585938, 1693.8100585938, 2451.9899902344, 2451.9899902344, 2451.9899902344, 3061.330078125, 3822.1000976562, 4115.6000976562, 3701.5100097656, 6765.3798828125 ], amps, [ 0.40000000596046, 1.1599999666214, 0.75999999046326, 1.2699999809265, 1.3899999856949, 0.87999999523163, 1.0499999523163, 1.8799999952316, 1.0099999904633, 0.37000000476837, 1.4700000286102, 0.54000002145767, 1.0499999523163, 1.5499999523163, 1.0800000429153, 0.28999999165535, 1.9700000286102, 0.25999999046326, 1.5299999713898, 1.8600000143051 ], pos, [ 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05 ]]) // track for receive encoded HOA (granulation, etc)
						$tracks("add_gliss3").bpf_param(TAddic_20_8, transp, [2., 3, "quart_in", 0.2])
						3 $tracks("add_gliss3").free(0.1)
					}
				}
				case "gliss4":
				{
					group @tempo $RT_TEMPO
					{
						obj::crea_track_HOA("add_gliss4", "group_hoa3", fade_in = 0.1, amp = 0, [TAddic_20_8, transp, 2., amp, -25, d, 4.3000001907349, shift, 0.5, distor, 0.5, lfnoise_amp, 0.0010000000474975, width, 2.0, lag_spat, 0.20000000298023, freqs, [ 808.28002929688, 870.34002685547, 870.34002685547, 1009.1400146484, 1297.7600097656, 1460.8499755859, 1460.8499755859, 1573.0200195312, 1573.0200195312, 1693.8100585938, 1693.8100585938, 1693.8100585938, 2451.9899902344, 2451.9899902344, 2451.9899902344, 3061.330078125, 3822.1000976562, 4115.6000976562, 3701.5100097656, 6765.3798828125 ], amps, [ 0.40000000596046, 1.1599999666214, 0.75999999046326, 1.2699999809265, 1.3899999856949, 0.87999999523163, 1.0499999523163, 1.8799999952316, 1.0099999904633, 0.37000000476837, 1.4700000286102, 0.54000002145767, 1.0499999523163, 1.5499999523163, 1.0800000429153, 0.28999999165535, 1.9700000286102, 0.25999999046326, 1.5299999713898, 1.8600000143051 ], pos, [ 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05 ]]) // track for receive encoded HOA (granulation, etc)
						$tracks("add_gliss4").nim_multi_param(TAddic_20_8, "gliss4", free = 1) 
					}
				}									
				case "gran_buffer_hit_accel_mes219":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_hit_mes219", "group_hoa3", amp = 0, encoder = false, fade_in = 0.2) // track without encoder 
					$tracks("gran_buffer_hit_mes219").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("hit-corto1.aif"), "posLo", 0.0, "posHi", 0.01, posRate, 0, "trigRate", 0, trigRateDev, 0, "rate", 1, dur, 0.1, durDev, 0.0, x0, 10, x1, 10, y0, 0.5, y1, -0.5, amp, -120])
					$tracks("gran_buffer_hit_mes219").bpf_param("Gran_multi_trig_7", x0, [10, 1.5, 0, 2.5, -10])
					$tracks("gran_buffer_hit_mes219").bpf_param("Gran_multi_trig_7", x1, [9, 1.5, 0, 2.5, -9])
					$tracks("gran_buffer_hit_mes219").bpf_param("Gran_multi_trig_7", rate, [1.2, 1.5, "exp_in", 1.2, 2.5, 0.8])
					$tracks("gran_buffer_hit_mes219").bpf_param("Gran_multi_trig_7", trigRate, [20, 1.5, "exp_in", 100, 3, "exp_out", 10])
					$tracks("gran_buffer_hit_mes219").bpf_param("Gran_multi_trig_7", amp, [-120, 0.2, -120, 0.1, 0, 2.7, 2])
					$tracks("gran_buffer_hit_mes219").set("Gran_multi_trig_7", [posRate, 0.04])
					7 $tracks("gran_buffer_hit_mes219").free(0.1)
				}
				case "gran_buffer_hit_hourglass_21-23_mes220":
				group @tempo $RT_TEMPO
				{	
					obj::crea_track_HOA("gran_buffer_hourglass_21-23-mono", "group_hoa4", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_hourglass_21-23-mono").mod_add(["Gran_multi_trig_7", buf, $SF_map("server4")("hourglass_21-23-mono.aif"), "posLo", 0.0, "posHi", 0.1, posRate, 0.04, "trigRate", 0, trigRateDev, 0, "rate", 1, dur, 0.25, durDev, 0.0, x0, 1, x1, -1, y0, 10, y1, 9, amp, -120])

					// $tracks("gran_buffer_hourglass_21-23-mono").set("Gran_multi_trig_7", [buf, $SF_map("server4")("hit-corto2_6.aif")])
					$tracks("gran_buffer_hourglass_21-23-mono").bpf_param("Gran_multi_trig_7", y0, [-10, 4, 10])
					$tracks("gran_buffer_hourglass_21-23-mono").bpf_param("Gran_multi_trig_7", y1, [-9, 4, 9])
					$tracks("gran_buffer_hourglass_21-23-mono").bpf_param("Gran_multi_trig_7", trigRate, [8, 2, "exp_in", 20, 2, "exp_out", 0.8])
					$tracks("gran_buffer_hourglass_21-23-mono").bpf_param("Gran_multi_trig_7", rate, [1, 2, "exp_in", 0.98, 2, "exp_out", 0.97])
					$tracks("gran_buffer_hourglass_21-23-mono").bpf_param("Gran_multi_trig_7", dur, [0.4, 2, "exp_in", 0.3, 5, 0.8])	
					$tracks("gran_buffer_hourglass_21-23-mono").bpf_param("Gran_multi_trig_7", amp, [-120, 0.2, -120, 0.1, 0])
					4 $tracks("gran_buffer_hourglass_21-23-mono").free(1)
				}		
				case "gran_buffer_duo_fl+cor2-mes220":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_fl-seg-mes220", "group_hoa2", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_fl-seg-mes220").mod_add(["GranBufPos_multi_7", buf, $SF_map("server2")("fl-seg-mes220.aif"), envbuf, $envs("server2")("perc"), "startPos", 0.4, centerDev, 0.6, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $fl_cart[0], x1, $fl_cart[0], y0, $fl_cart[1], y1, $fl_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
					// $tracks("gran_buffer_fl-seg-mes220").set("GranBufPos_multi_7", [envbuf, $envs("server2")("rond")])
					$tracks("gran_buffer_fl-seg-mes220").bpf_param("GranBufPos_multi_7", trigRate, [20, 2.5, "exp_in", 30, 2.5, 8])
					$tracks("gran_buffer_fl-seg-mes220").bpf_param("GranBufPos_multi_7", rate, [1, 2.5, "exp_in", 1, 2.5, 1.2])
					$tracks("gran_buffer_fl-seg-mes220").bpf_param("GranBufPos_multi_7", dur, [1.2, 2.5, "exp_in", 1.5, 2.5, 0.7])
					$tracks("gran_buffer_fl-seg-mes220").bpf_param("GranBufPos_multi_7", x0, [$fl_cart[0], 2.5, "linear", 1, 2.5, $trp_cart[0]])
					$tracks("gran_buffer_fl-seg-mes220").bpf_param("GranBufPos_multi_7", x1, [$fl_cart[0], 2.5, "linear", -1, 2.5, $trp_cart[0]])	
					$tracks("gran_buffer_fl-seg-mes220").bpf_param("GranBufPos_multi_7", y0, [$fl_cart[1], 2.5, "linear", 1, 2.5, $trp_cart[1]])
					$tracks("gran_buffer_fl-seg-mes220").bpf_param("GranBufPos_multi_7", y1, [$fl_cart[1], 2.5, "linear", -1, 2.5, $trp_cart[1]])
					$tracks("gran_buffer_fl-seg-mes220").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 0, 2.5, 0])
					2 $tracks("gran_buffer_fl-seg-mes220").free(1)
				}
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_cor2-seg-mes220", "group_hoa3", amp = 10, encoder = false) // track without encoder 
					$tracks("gran_buffer_cor2-seg-mes220").mod_add(["GranBufPos_multi_7", buf, $SF_map("server3")("cor2-seg-mes220.aif"), envbuf, $envs("server3")("perc"), "startPos", 0.4, centerDev, 0.6, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $trp_cart[0], x1, $trp_cart[0], y0, $trp_cart[1], y1, $trp_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
					// $tracks("gran_buffer_cor2-seg-mes220").set("GranBufPos_multi_7", [envbuf, $envs("server3")("rond")])
					$tracks("gran_buffer_cor2-seg-mes220").bpf_param("GranBufPos_multi_7", trigRate, [10, 0.5, "exp_in", 20, 2, 8])
					$tracks("gran_buffer_cor2-seg-mes220").bpf_param("GranBufPos_multi_7", rate, [1, 0.5, "exp_in", 1, 0.5, 1.2])
					$tracks("gran_buffer_cor2-seg-mes220").bpf_param("GranBufPos_multi_7", dur, [0.2, 0.5, "exp_in", 0.1, 0.5, 0.2])
					$tracks("gran_buffer_cor2-seg-mes220").bpf_param("GranBufPos_multi_7", x0, [$trp_cart[0], 2, "linear", 0])
					$tracks("gran_buffer_cor2-seg-mes220").bpf_param("GranBufPos_multi_7", x1, [$trp_cart[0], 2, "linear", 0])	
					$tracks("gran_buffer_cor2-seg-mes220").bpf_param("GranBufPos_multi_7", y0, [$trp_cart[1], 2, "linear", 5])
					$tracks("gran_buffer_cor2-seg-mes220").bpf_param("GranBufPos_multi_7", y1, [$trp_cart[1], 2, "linear", 5])
					$tracks("gran_buffer_cor2-seg-mes220").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 8, 0.5, 10])
					5 $tracks("gran_buffer_cor2-seg-mes220").free(3)
				}	
				case "gran_buffer_duo_trb+vlc-mes221":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_trb-seg-mes221", "group_hoa4", amp = 15, encoder = false) // track without encoder 
					$tracks("gran_buffer_trb-seg-mes221").mod_add(["GranBufPos_multi_7", buf, $SF_map("server4")("trb-seg-mes221.aif"), envbuf, $envs("server4")("perc"), "startPos", 0.0, centerDev, 1, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $trb_cart[0], x1, $trb_cart[0], y0, $trb_cart[1], y1, $trb_cart[1], z0, 0, z1, 0.5, posRate, 0, amp, -120])
					// $tracks("gran_buffer_trb-seg-mes221").set("GranBufPos_multi_7", [envbuf, $envs("server4")("rond")])
					$tracks("gran_buffer_trb-seg-mes221").bpf_param("GranBufPos_multi_7", trigRate, [20, 2.5, "exp_in", 30, 2.5, 8])
					$tracks("gran_buffer_trb-seg-mes221").bpf_param("GranBufPos_multi_7", rate, [1, 2.5, "exp_in", 1, 2.5, 1.2])
					$tracks("gran_buffer_trb-seg-mes221").bpf_param("GranBufPos_multi_7", dur, [1.2, 2.5, "exp_in", 1.5, 2.5, 0.7])
					$tracks("gran_buffer_trb-seg-mes221").bpf_param("GranBufPos_multi_7", x0, [$trb_cart[0], 5, "linear", 0.1])
					$tracks("gran_buffer_trb-seg-mes221").bpf_param("GranBufPos_multi_7", x1, [$trb_cart[0], 5, "linear", 0.1])	
					$tracks("gran_buffer_trb-seg-mes221").bpf_param("GranBufPos_multi_7", y0, [$trb_cart[1], 5, "linear", -5])
					$tracks("gran_buffer_trb-seg-mes221").bpf_param("GranBufPos_multi_7", y1, [$trb_cart[1], 5, "linear", -5])
					$tracks("gran_buffer_trb-seg-mes221").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 3, 2.5, 5])
					5 $tracks("gran_buffer_trb-seg-mes221").free(1)
				}

				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_vlc-seg-mes221", "group_hoa2", amp = 15, encoder = false) // track without encoder 
					$tracks("gran_buffer_vlc-seg-mes221").mod_add(["GranBufPos_multi_7", buf, $SF_map("server2")("vlc-seg-mes221.aif"), envbuf, $envs("server2")("perc"), "startPos", 0.0, centerDev, 0, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $vlc_cart[0], x1, $vlc_cart[0], y0, $vlc_cart[1], y1, $vlc_cart[1], z0, 0, z1, 0.5, posRate, 0, amp, -120])
					// $tracks("gran_buffer_vlc-seg-mes221").set("GranBufPos_multi_7", [envbuf, $envs("server2")("rond")])
					$tracks("gran_buffer_vlc-seg-mes221").bpf_param("GranBufPos_multi_7", startPos, [1, 2.5, "exp_in", 0.5, 2.5, 0])
					$tracks("gran_buffer_vlc-seg-mes221").bpf_param("GranBufPos_multi_7", trigRate, [20, 2.5, "exp_in", 50, 2.5, 8])
					$tracks("gran_buffer_vlc-seg-mes221").bpf_param("GranBufPos_multi_7", rate, [1, 2.5, "exp_in", 1, 2.5, 1.2])
					$tracks("gran_buffer_vlc-seg-mes221").bpf_param("GranBufPos_multi_7", dur, [0.5, 2.5, "exp_in", 0.5, 2.5, 0.7])
					$tracks("gran_buffer_vlc-seg-mes221").bpf_param("GranBufPos_multi_7", x0, [$vlc_cart[0], 5, "linear", 0.1])
					$tracks("gran_buffer_vlc-seg-mes221").bpf_param("GranBufPos_multi_7", x1, [$vlc_cart[0], 5, "linear", 0.1])	
					$tracks("gran_buffer_vlc-seg-mes221").bpf_param("GranBufPos_multi_7", y0, [$vlc_cart[1], 5, "linear", -5])
					$tracks("gran_buffer_vlc-seg-mes221").bpf_param("GranBufPos_multi_7", y1, [$vlc_cart[1], 5, "linear", -5])
					$tracks("gran_buffer_vlc-seg-mes221").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 3, 2.5, 5])
					5 $tracks("gran_buffer_vlc-seg-mes221").free(1)
				}		
				case "gran_buffer_seq_mes223":
				group 
				{

					// cl+vln-mes223.aif
					group @tempo $RT_TEMPO
					{
						obj::crea_track_HOA("gran_buffer_cl+vln-mes223", "group_hoa3", amp = 6, encoder = false) // track without encoder 
						$tracks("gran_buffer_cl+vln-mes223").mod_add(["GranBufPos_multi_7", buf, $SF_map("server3")("cl+vln-mes223.aif"), envbuf, $envs("server3")("perc"), "startPos", 0.0, centerDev, 1, "trigRate", 5, trigRateDev, 5, dur, 0.1, durDev, 0.07, "rate", 1.0, x0, $fl_cart[0], x1, $fl_cart[0], y0, $fl_cart[1], y1, $fl_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
						// $tracks("gran_buffer_cl+vln-mes223").set("GranBufPos_multi_7", [envbuf, $envs("server3")("rond")])
						$tracks("gran_buffer_cl+vln-mes223").bpf_param("GranBufPos_multi_7", trigRate, [5, 3, "exp_in", 10, 2.5, 30])
						$tracks("gran_buffer_cl+vln-mes223").bpf_param("GranBufPos_multi_7", rate, [1, 3, "exp_in", 1, 2.5, 1.02])
						$tracks("gran_buffer_cl+vln-mes223").bpf_param("GranBufPos_multi_7", dur, [0.5, 3, "exp_in", 1.5, 2.5, 2])
						$tracks("gran_buffer_cl+vln-mes223").bpf_param("GranBufPos_multi_7", x0, [$cl_cart[0], 3, "linear", $alto_cart[0]])
						$tracks("gran_buffer_cl+vln-mes223").bpf_param("GranBufPos_multi_7", x1, [$vln_cart[0], 3, "linear", $bsn_cart[0]])	
						$tracks("gran_buffer_cl+vln-mes223").bpf_param("GranBufPos_multi_7", y0, [$cl_cart[1], 3, "linear", $alto_cart[1]])
						$tracks("gran_buffer_cl+vln-mes223").bpf_param("GranBufPos_multi_7", y1, [$vln_cart[1], 3, "linear", $bsn_cart[1]])
						$tracks("gran_buffer_cl+vln-mes223").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 0, 2.9, 6])
						5.5 $tracks("gran_buffer_cl+vln-mes223").free(1)
					}
					// trb+vlc-mes223.aif
					0.25 group @tempo $RT_TEMPO
					{
						obj::crea_track_HOA("gran_buffer_trb+vlc-mes223", "group_hoa3", amp = 6, encoder = false) // track without encoder 
						$tracks("gran_buffer_trb+vlc-mes223").mod_add(["GranBufPos_multi_7", buf, $SF_map("server3")("trb+vlc-mes223.aif"), envbuf, $envs("server3")("perc"), "startPos", 0.0, centerDev, 1, "trigRate", 5, trigRateDev, 5, dur, 0.1, durDev, 0.07, "rate", 1.0, x0, $fl_cart[0], x1, $fl_cart[0], y0, $fl_cart[1], y1, $fl_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
						// $tracks("gran_buffer_trb+vlc-mes223").set("GranBufPos_multi_7", [envbuf, $envs("server3")("rond")])
						$tracks("gran_buffer_trb+vlc-mes223").bpf_param("GranBufPos_multi_7", trigRate, [5, 2.75, "exp_in", 10, 2.5, 30])
						$tracks("gran_buffer_trb+vlc-mes223").bpf_param("GranBufPos_multi_7", rate, [1, 2.75, "exp_in", 1, 2.5, 1.02])
						$tracks("gran_buffer_trb+vlc-mes223").bpf_param("GranBufPos_multi_7", dur, [0.5, 2.75, "exp_in", 1.5, 2.5, 2])
						$tracks("gran_buffer_trb+vlc-mes223").bpf_param("GranBufPos_multi_7", x0, [$trb_cart[0], 2.75, "linear", $alto_cart[0]])
						$tracks("gran_buffer_trb+vlc-mes223").bpf_param("GranBufPos_multi_7", x1, [$vlc_cart[0], 2.75, "linear", $bsn_cart[0]])	
						$tracks("gran_buffer_trb+vlc-mes223").bpf_param("GranBufPos_multi_7", y0, [$trb_cart[1], 2.75, "linear", $alto_cart[1]])
						$tracks("gran_buffer_trb+vlc-mes223").bpf_param("GranBufPos_multi_7", y1, [$vlc_cart[1], 2.75, "linear", $bsn_cart[1]])
						$tracks("gran_buffer_trb+vlc-mes223").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 0, 2.65, 6])
						5.25 $tracks("gran_buffer_trb+vlc-mes223").free(1)
					}
					// htb+cor1-mes223.aif
					0.25 group @tempo $RT_TEMPO
					{
						obj::crea_track_HOA("gran_buffer_htb+cor1-mes223", "group_hoa3", amp = 6, encoder = false) // track without encoder 
						$tracks("gran_buffer_htb+cor1-mes223").mod_add(["GranBufPos_multi_7", buf, $SF_map("server3")("htb+cor1-mes223.aif"), envbuf, $envs("server3")("perc"), "startPos", 0.0, centerDev, 1, "trigRate", 5, trigRateDev, 5, dur, 0.1, durDev, 0.07, "rate", 1.0, x0, $fl_cart[0], x1, $fl_cart[0], y0, $fl_cart[1], y1, $fl_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
						// $tracks("gran_buffer_htb+cor1-mes223").set("GranBufPos_multi_7", [envbuf, $envs("server3")("rond")])
						$tracks("gran_buffer_htb+cor1-mes223").bpf_param("GranBufPos_multi_7", trigRate, [5, 2.5, "exp_in", 10, 2.5, 30])
						$tracks("gran_buffer_htb+cor1-mes223").bpf_param("GranBufPos_multi_7", rate, [1, 2.5, "exp_in", 1, 2.5, 1.02])
						$tracks("gran_buffer_htb+cor1-mes223").bpf_param("GranBufPos_multi_7", dur, [0.5, 2.5, "exp_in", 1.5, 2.5, 2])
						$tracks("gran_buffer_htb+cor1-mes223").bpf_param("GranBufPos_multi_7", x0, [$trb_cart[0], 2.5, "linear", $alto_cart[0]])
						$tracks("gran_buffer_htb+cor1-mes223").bpf_param("GranBufPos_multi_7", x1, [$vlc_cart[0], 2.5, "linear", $bsn_cart[0]])	
						$tracks("gran_buffer_htb+cor1-mes223").bpf_param("GranBufPos_multi_7", y0, [$trb_cart[1], 2.5, "linear", $alto_cart[1]])
						$tracks("gran_buffer_htb+cor1-mes223").bpf_param("GranBufPos_multi_7", y1, [$vlc_cart[1], 2.5, "linear", $bsn_cart[1]])
						$tracks("gran_buffer_htb+cor1-mes223").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 0, 2.4, 6])
						5 $tracks("gran_buffer_htb+cor1-mes223").free(1)
					}
					// fl+cor2-mes223.aif
					0.25 group @tempo $RT_TEMPO
					{
						obj::crea_track_HOA("gran_buffer_fl+cor2-mes223", "group_hoa3", amp = 6, encoder = false) // track without encoder 
						$tracks("gran_buffer_fl+cor2-mes223").mod_add(["GranBufPos_multi_7", buf, $SF_map("server3")("fl+cor2-mes223.aif"), envbuf, $envs("server3")("perc"), "startPos", 0.0, centerDev, 1, "trigRate", 5, trigRateDev, 5, dur, 0.1, durDev, 0.07, "rate", 1.0, x0, $fl_cart[0], x1, $fl_cart[0], y0, $fl_cart[1], y1, $fl_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
						// $tracks("gran_buffer_fl+cor2-mes223").set("GranBufPos_multi_7", [envbuf, $envs("server3")("rond")])
						$tracks("gran_buffer_fl+cor2-mes223").bpf_param("GranBufPos_multi_7", trigRate, [5, 2.25, "exp_in", 10, 2.5, 30])
						$tracks("gran_buffer_fl+cor2-mes223").bpf_param("GranBufPos_multi_7", rate, [1, 2.25, "exp_in", 1, 2.5, 1.02])
						$tracks("gran_buffer_fl+cor2-mes223").bpf_param("GranBufPos_multi_7", dur, [0.5, 2.25, "exp_in", 1.5, 2.5, 2])
						$tracks("gran_buffer_fl+cor2-mes223").bpf_param("GranBufPos_multi_7", x0, [$trb_cart[0], 2.25, "linear", $alto_cart[0]])
						$tracks("gran_buffer_fl+cor2-mes223").bpf_param("GranBufPos_multi_7", x1, [$vlc_cart[0], 2.25, "linear", $bsn_cart[0]])	
						$tracks("gran_buffer_fl+cor2-mes223").bpf_param("GranBufPos_multi_7", y0, [$trb_cart[1], 2.25, "linear", $alto_cart[1]])
						$tracks("gran_buffer_fl+cor2-mes223").bpf_param("GranBufPos_multi_7", y1, [$vlc_cart[1], 2.25, "linear", $bsn_cart[1]])
						$tracks("gran_buffer_fl+cor2-mes223").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 0, 2.15, 6])
						4.75 $tracks("gran_buffer_fl+cor2-mes223").free(1)
					}
					// trp+cb-mes223.aif
					0.25 group @tempo $RT_TEMPO
					{
						obj::crea_track_HOA("gran_buffer_trp+cb-mes223", "group_hoa3", amp = 6, encoder = false) // track without encoder 
						$tracks("gran_buffer_trp+cb-mes223").mod_add(["GranBufPos_multi_7", buf, $SF_map("server3")("trp+cb-mes223.aif"), envbuf, $envs("server3")("perc"), "startPos", 0.0, centerDev, 1, "trigRate", 5, trigRateDev, 5, dur, 0.1, durDev, 0.07, "rate", 1.0, x0, $fl_cart[0], x1, $fl_cart[0], y0, $fl_cart[1], y1, $fl_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
						// $tracks("gran_buffer_trp+cb-mes223").set("GranBufPos_multi_7", [envbuf, $envs("server3")("rond")])
						$tracks("gran_buffer_trp+cb-mes223").bpf_param("GranBufPos_multi_7", trigRate, [5, 2, "exp_in", 10, 2.5, 30])
						$tracks("gran_buffer_trp+cb-mes223").bpf_param("GranBufPos_multi_7", rate, [1, 2, "exp_in", 1, 2.5, 1.02])
						$tracks("gran_buffer_trp+cb-mes223").bpf_param("GranBufPos_multi_7", dur, [0.5, 2, "exp_in", 1.5, 2.5, 2])
						$tracks("gran_buffer_trp+cb-mes223").bpf_param("GranBufPos_multi_7", x0, [$trb_cart[0], 2, "linear", $alto_cart[0]])
						$tracks("gran_buffer_trp+cb-mes223").bpf_param("GranBufPos_multi_7", x1, [$vlc_cart[0], 2, "linear", $bsn_cart[0]])	
						$tracks("gran_buffer_trp+cb-mes223").bpf_param("GranBufPos_multi_7", y0, [$trb_cart[1], 2, "linear", $alto_cart[1]])
						$tracks("gran_buffer_trp+cb-mes223").bpf_param("GranBufPos_multi_7", y1, [$vlc_cart[1], 2, "linear", $bsn_cart[1]])
						$tracks("gran_buffer_trp+cb-mes223").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 0, 1.9, 6])
						4.5 $tracks("gran_buffer_trp+cb-mes223").free(1)
					}
					// bsn+alto-mes223.aif
					0.25 group @tempo $RT_TEMPO
					{
						obj::crea_track_HOA("gran_buffer_bsn+alto-mes223", "group_hoa3", amp = 6, encoder = false) // track without encoder 
						$tracks("gran_buffer_bsn+alto-mes223").mod_add(["GranBufPos_multi_7", buf, $SF_map("server3")("bsn+alto-mes223.aif"), envbuf, $envs("server3")("perc"), "startPos", 0.0, centerDev, 1, "trigRate", 5, trigRateDev, 5, dur, 0.1, durDev, 0.07, "rate", 1.0, x0, $fl_cart[0], x1, $fl_cart[0], y0, $fl_cart[1], y1, $fl_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
						// $tracks("gran_buffer_bsn+alto-mes223").set("GranBufPos_multi_7", [envbuf, $envs("server3")("rond")])
						$tracks("gran_buffer_bsn+alto-mes223").bpf_param("GranBufPos_multi_7", trigRate, [5, 1.75, "exp_in", 10, 2.5, 30])
						$tracks("gran_buffer_bsn+alto-mes223").bpf_param("GranBufPos_multi_7", rate, [1, 1.75, "exp_in", 1, 2.5, 1.02])
						$tracks("gran_buffer_bsn+alto-mes223").bpf_param("GranBufPos_multi_7", dur, [0.5, 1.75, "exp_in", 1.5, 2.5, 2])
						$tracks("gran_buffer_bsn+alto-mes223").bpf_param("GranBufPos_multi_7", x0, [$trb_cart[0], 1.75, "linear", $alto_cart[0]])
						$tracks("gran_buffer_bsn+alto-mes223").bpf_param("GranBufPos_multi_7", x1, [$vlc_cart[0], 1.75, "linear", $bsn_cart[0]])	
						$tracks("gran_buffer_bsn+alto-mes223").bpf_param("GranBufPos_multi_7", y0, [$trb_cart[1], 1.75, "linear", $alto_cart[1]])
						$tracks("gran_buffer_bsn+alto-mes223").bpf_param("GranBufPos_multi_7", y1, [$vlc_cart[1], 1.75, "linear", $bsn_cart[1]])
						$tracks("gran_buffer_bsn+alto-mes223").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 0, 1.65, 6])
						4.25 $tracks("gran_buffer_bsn+alto-mes223").free(1)
					}
				}
				case "gran_buffer_vlc_bartok_mes222":
				group @tempo $RT_TEMPO
				{	
					obj::crea_track_HOA("gran_buffer_vlc-sol2-bartok", "group_hoa3", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_vlc-sol2-bartok").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("vlc-sol2-bartok.aif"), "posLo", 0.0, "posHi", 0.05, posRate, 0.04, "trigRate", 0, trigRateDev, 0, "rate", 1, dur, 0.25, durDev, 0.0, x0, $alto_cart[0], x1, $bsn_cart[0], y0, 10, y1, 9, amp, -120])

					// $tracks("gran_buffer_vlc-sol2-bartok").set("Gran_multi_trig_7", [buf, $SF_map("server3")("hit-corto2_6.aif")])
					$tracks("gran_buffer_vlc-sol2-bartok").bpf_param("Gran_multi_trig_7", y0, [10, 8, -10])
					$tracks("gran_buffer_vlc-sol2-bartok").bpf_param("Gran_multi_trig_7", y1, [9, 8, -9])
					$tracks("gran_buffer_vlc-sol2-bartok").bpf_param("Gran_multi_trig_7", trigRate, [20, 4, "exp_in", 50, 4, "exp_out", 0.8])
					$tracks("gran_buffer_vlc-sol2-bartok").bpf_param("Gran_multi_trig_7", rate, [1., 4, "exp_in", 2.4, 4, "exp_out", 0.97])
					$tracks("gran_buffer_vlc-sol2-bartok").bpf_param("Gran_multi_trig_7", amp, [-120, 0.2, -120, 0.1, 0])
					10 $tracks("gran_buffer_vlc-sol2-bartok").free(0.1)
				}				
				case "gran_buffer_vlc_bartok_mes223":
				group @tempo $RT_TEMPO
				{	
					obj::crea_track_HOA("gran_buffer_vlc-sol2-bartok", "group_hoa3", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_vlc-sol2-bartok").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("vlc-sol2-bartok.aif"), "posLo", 0.0, "posHi", 0.05, posRate, 0.04, "trigRate", 0, trigRateDev, 0, "rate", 1, dur, 0.25, durDev, 0.0, x0, $alto_cart[0], x1, $bsn_cart[0], y0, 10, y1, 9, amp, -120])

					// $tracks("gran_buffer_vlc-sol2-bartok").set("Gran_multi_trig_7", [buf, $SF_map("server3")("hit-corto2_6.aif")])
					$tracks("gran_buffer_vlc-sol2-bartok").bpf_param("Gran_multi_trig_7", y0, [10, 8, -10])
					$tracks("gran_buffer_vlc-sol2-bartok").bpf_param("Gran_multi_trig_7", y1, [9, 8, -9])
					$tracks("gran_buffer_vlc-sol2-bartok").bpf_param("Gran_multi_trig_7", trigRate, [20, 4, "exp_in", 200, 4, "exp_out", 0.8])
					$tracks("gran_buffer_vlc-sol2-bartok").bpf_param("Gran_multi_trig_7", rate, [1.3, 4, "exp_in", 0.98, 4, "exp_out", 0.97])
					$tracks("gran_buffer_vlc-sol2-bartok").bpf_param("Gran_multi_trig_7", amp, [-120, 0.2, -120, 0.1, 0])
					10 $tracks("gran_buffer_vlc-sol2-bartok").free(0.1)
				}

				case "gran_buffer_cl+vln_mes222":				
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_vln-seg-mes223", "group_hoa4", amp = 6, encoder = false) // track without encoder 
					$tracks("gran_buffer_vln-seg-mes223").mod_add(["GranBufPos_multi_7", buf, $SF_map("server4")("vln-seg-mes223.aif"), envbuf, $envs("server4")("perc"), "startPos", 0.0, centerDev, 0.05, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $vln_cart[0]-1.5, x1, $vln_cart[0]-1.5, y0, $vln_cart[1], y1, $vln_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
					// $tracks("gran_buffer_vln-seg-mes223").set("GranBufPos_multi_7", [envbuf, $envs("server4")("rond")])
					$tracks("gran_buffer_vln-seg-mes223").bpf_param("GranBufPos_multi_7", startPos, [0, 4, 0.3, 4, 0.7])
					$tracks("gran_buffer_vln-seg-mes223").bpf_param("GranBufPos_multi_7", trigRate, [20, 2, "exp_in", 30, 7, 40])
					$tracks("gran_buffer_vln-seg-mes223").bpf_param("GranBufPos_multi_7", rate, [1, 9, "sine_in", 2])
					$tracks("gran_buffer_vln-seg-mes223").bpf_param("GranBufPos_multi_7", dur, [0.8, 2, "exp_in", 0.5, 7, 0.8])
					// $tracks("gran_buffer_vln-seg-mes223").bpf_param("GranBufPos_multi_7", x0, [$vln_cart[0], 2, "linear", 1.2, 7, $fl_cart[0]])
					// $tracks("gran_buffer_vln-seg-mes223").bpf_param("GranBufPos_multi_7", x1, [$vln_cart[0], 2, "linear", -1.2, 7, $fl_cart[0]])	
					$tracks("gran_buffer_vln-seg-mes223").bpf_param("GranBufPos_multi_7", y0, [$vln_cart[1]+2, 8, "linear", $vln_cart[1]-1.2])
					$tracks("gran_buffer_vln-seg-mes223").bpf_param("GranBufPos_multi_7", y1, [$vln_cart[1]+2, 8, "linear", $vln_cart[1]-1.1])
					$tracks("gran_buffer_vln-seg-mes223").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 6, 2, 6, 4, 0, 2, -6, 2, -20])
					13 $tracks("gran_buffer_vln-seg-mes223").free(1)
				}
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_cl-seg-mes223", "group_hoa4", amp = 6, encoder = false) // track without encoder 
					$tracks("gran_buffer_cl-seg-mes223").mod_add(["GranBufPos_multi_7", buf, $SF_map("server4")("cl-seg-mes223.aif"), envbuf, $envs("server4")("perc"), "startPos", 0.0, centerDev, 0.05, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $cl_cart[0]-1.5, x1, $cl_cart[0]-1.5, y0, $cl_cart[1], y1, $cl_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
					// $tracks("gran_buffer_cl-seg-mes223").set("GranBufPos_multi_7", [envbuf, $envs("server4")("rond")])
					$tracks("gran_buffer_cl-seg-mes223").bpf_param("GranBufPos_multi_7", startPos, [0, 4, 0.3, 4, 0.7])
					$tracks("gran_buffer_cl-seg-mes223").bpf_param("GranBufPos_multi_7", trigRate, [20, 2, "exp_in", 30, 7, 30])
					$tracks("gran_buffer_cl-seg-mes223").bpf_param("GranBufPos_multi_7", rate, [1, 9, "sine_in", 0.5])
					$tracks("gran_buffer_cl-seg-mes223").bpf_param("GranBufPos_multi_7", dur, [0.8, 2, "exp_in", 0.5, 7, 0.8])
					// $tracks("gran_buffer_cl-seg-mes223").bpf_param("GranBufPos_multi_7", x0, [$cl_cart[0]+1.5, 2, "linear", 1.2, 7, $fl_cart[0]])
					// $tracks("gran_buffer_cl-seg-mes223").bpf_param("GranBufPos_multi_7", x1, [$cl_cart[0]+1.5, 2, "linear", -1.2, 7, $fl_cart[0]])	
					$tracks("gran_buffer_cl-seg-mes223").bpf_param("GranBufPos_multi_7", y0, [$cl_cart[1], 8, "linear", $cl_cart[1]-1.2])
					$tracks("gran_buffer_cl-seg-mes223").bpf_param("GranBufPos_multi_7", y1, [$cl_cart[1], 8, "linear", $cl_cart[1]-1.1])
					$tracks("gran_buffer_cl-seg-mes223").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 6, 2, 6, 4, 0, 2, -6, 2, -20])
					13 $tracks("gran_buffer_cl-seg-mes223").free(1)
				}
				case "gran_buffer_hourglass_agu1-2-mono":
				group @tempo $RT_TEMPO
				{	
					obj::crea_track_HOA("gran_buffer_hourglass_agu1-2-mono", "group_hoa3", amp = 0, encoder = false) // track without encoder 
					$tracks("gran_buffer_hourglass_agu1-2-mono").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("hourglass_agu1-2-mono.aif"), "posLo", 0.0, "posHi", 0.05, posRate, 0.04, "trigRate", 0, trigRateDev, 0, "rate", 1, dur, 0.25, durDev, 0.0, x0, $cl_cart[0], x1, $vln_cart[0], y0, 10, y1, 9, amp, -120])

					// $tracks("gran_buffer_hourglass_agu1-2-mono").set("Gran_multi_trig_7", [buf, $SF_map("server3")("hit-corto2_6.aif")])
					$tracks("gran_buffer_hourglass_agu1-2-mono").bpf_param("Gran_multi_trig_7", y0, [-10, 5, 10])
					$tracks("gran_buffer_hourglass_agu1-2-mono").bpf_param("Gran_multi_trig_7", y1, [-9, 5, 9])
					$tracks("gran_buffer_hourglass_agu1-2-mono").bpf_param("Gran_multi_trig_7", trigRate, [20, 2.5, "exp_in", 150, 2.5, "exp_out", 0.8])
					$tracks("gran_buffer_hourglass_agu1-2-mono").bpf_param("Gran_multi_trig_7", rate, [1, 2.5, "exp_in", 0.98, 2.5, "exp_out", 0.97])
					$tracks("gran_buffer_hourglass_agu1-2-mono").bpf_param("Gran_multi_trig_7", amp, [-120, 0.1, -120, 0.1, -3])
					5 $tracks("gran_buffer_hourglass_agu1-2-mono").free(0.1)
				}
				case "gran_buffer_mes227":
				group
				{
					// trp-ev1-mes227.aif
					group @tempo $RT_TEMPO
					{
						obj::crea_track_HOA("gran_buffer_trp-ev1-mes227", "group_hoa2", amp = 6, encoder = false) // track without encoder 
						$tracks("gran_buffer_trp-ev1-mes227").mod_add(["GranBufPos_multi_7", buf, $SF_map("server2")("trp-ev1-mes227.aif"), envbuf, $envs("server2")("perc"), "startPos", 0.0, centerDev, 1, "trigRate", 5, trigRateDev, 5, dur, 0.1, durDev, 0.07, "rate", 1.0, x0, $fl_cart[0], x1, $fl_cart[0], y0, $fl_cart[1], y1, $fl_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
						// $tracks("gran_buffer_trp-ev1-mes227").set("GranBufPos_multi_7", [envbuf, $envs("server2")("rond")])
						$tracks("gran_buffer_trp-ev1-mes227").bpf_param("GranBufPos_multi_7", trigRate, [5, 4, "exp_in", 10, 2.5, 30])
						$tracks("gran_buffer_trp-ev1-mes227").bpf_param("GranBufPos_multi_7", rate, [1, 4, "exp_in", 1, 2.5, 1.02, 30.5, 1.02, 3, 0.5])
						$tracks("gran_buffer_trp-ev1-mes227").bpf_param("GranBufPos_multi_7", dur, [0.5, 4, "exp_in", 1., 2.5, 2])
						$tracks("gran_buffer_trp-ev1-mes227").bpf_param("GranBufPos_multi_7", x0, [$cl_cart[0], 4, "linear", $alto_cart[0], 4,$cl_cart[0]])
						$tracks("gran_buffer_trp-ev1-mes227").bpf_param("GranBufPos_multi_7", x1, [$vln_cart[0], 4, "linear", $bsn_cart[0], 4,$vln_cart[0]])	
						$tracks("gran_buffer_trp-ev1-mes227").bpf_param("GranBufPos_multi_7", y0, [$cl_cart[1], 4, "linear", $alto_cart[1], 4,$cl_cart[1]])
						$tracks("gran_buffer_trp-ev1-mes227").bpf_param("GranBufPos_multi_7", y1, [$vln_cart[1], 4, "linear", $bsn_cart[1], 4,$vln_cart[1]])
						$tracks("gran_buffer_trp-ev1-mes227").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 0, 4, 0, 4, -6, 5, 0, 2.9, -10])
						(16+11) $tracks("gran_buffer_trp-ev1-mes227").free(1)
					}
					// cb-ev1-mes227.aif
					// pizz
					0.25 group @tempo $RT_TEMPO
					{	
						obj::crea_track_HOA("gran_buffer_cb-ev1-mes227", "group_hoa3", amp = 0, encoder = false) // track without encoder 
						$tracks("gran_buffer_cb-ev1-mes227").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("cb-ev1-mes227.aif"), "posLo", 0.0, "posHi", 0.01, posRate, 0.04, "trigRate", 0, trigRateDev, 00.1, "rate", 1, dur, 0.25, durDev, 0.0, x0, 0.5, x1, 0.5, y0, 10, y1, 9, amp, -120])

						// $tracks("gran_buffer_cb-ev1-mes227").set("Gran_multi_trig_7", [buf, $SF_map("server3")("hit-corto2_6.aif")])
						$tracks("gran_buffer_cb-ev1-mes227").bpf_param("Gran_multi_trig_7", y0, [-2, 8, 2])
						$tracks("gran_buffer_cb-ev1-mes227").bpf_param("Gran_multi_trig_7", y1, [-3, 8, 3])
						$tracks("gran_buffer_cb-ev1-mes227").bpf_param("Gran_multi_trig_7", trigRate, [20, 4, "exp_in", 30, 4, "exp_out", 0.8])
						$tracks("gran_buffer_cb-ev1-mes227").bpf_param("Gran_multi_trig_7", rate, [1, 4, "exp_in", 1, 4, "exp_out", 0.98])
						$tracks("gran_buffer_cb-ev1-mes227").bpf_param("Gran_multi_trig_7", dur, [0.7, 4, "exp_in", 0.5, 2.5, 0.2])
						$tracks("gran_buffer_cb-ev1-mes227").bpf_param("Gran_multi_trig_7", amp, [-120, 0.5, -120, 0.2, 0, 3.6, -4])
						10 $tracks("gran_buffer_cb-ev1-mes227").free(0.1)
					}
					// fl+cor2-ev2-mes227
					0.25 group @tempo $RT_TEMPO
					{
						obj::crea_track_HOA("gran_buffer_fl+cor2-ev2-mes227", "group_hoa4", amp = 6, encoder = false) // track without encoder 
						$tracks("gran_buffer_fl+cor2-ev2-mes227").mod_add(["GranBufPos_multi_7", buf, $SF_map("server4")("fl+cor2-ev2-mes227.aif"), envbuf, $envs("server4")("perc"), "startPos", 0.0, centerDev, 1, "trigRate", 5, trigRateDev, 5, dur, 0.1, durDev, 0.07, "rate", 1.0, x0, $fl_cart[0], x1, $fl_cart[0], y0, $fl_cart[1], y1, $fl_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
						// $tracks("gran_buffer_fl+cor2-ev2-mes227").set("GranBufPos_multi_7", [envbuf, $envs("server4")("rond")])
						$tracks("gran_buffer_fl+cor2-ev2-mes227").bpf_param("GranBufPos_multi_7", trigRate, [5, 3.75, "exp_in", 10, 2.5, 30])
						$tracks("gran_buffer_fl+cor2-ev2-mes227").bpf_param("GranBufPos_multi_7", rate, [1, 3.75, "exp_in", 1, 2.5, 1.02, 24.25, 1.02, 3, 0.5])
						$tracks("gran_buffer_fl+cor2-ev2-mes227").bpf_param("GranBufPos_multi_7", dur, [0.5, 3.75, "exp_in", 1.5, 2.5, 2])
						$tracks("gran_buffer_fl+cor2-ev2-mes227").bpf_param("GranBufPos_multi_7", x0, [$fl_cart[0], 3.75, "linear", $alto_cart[0]])
						$tracks("gran_buffer_fl+cor2-ev2-mes227").bpf_param("GranBufPos_multi_7", x1, [$cor2_cart[0], 3.75, "linear", $bsn_cart[0]])	
						$tracks("gran_buffer_fl+cor2-ev2-mes227").bpf_param("GranBufPos_multi_7", y0, [$fl_cart[1], 3.75, "linear", $alto_cart[1]])
						$tracks("gran_buffer_fl+cor2-ev2-mes227").bpf_param("GranBufPos_multi_7", y1, [$cor2_cart[1], 3.75, "linear", $bsn_cart[1]])
						$tracks("gran_buffer_fl+cor2-ev2-mes227").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 0, 2.5, 0])
						(15.5+11) $tracks("gran_buffer_fl+cor2-ev2-mes227").free(1)
					}
					// htb+cor1-ev3-mes227.aif
					0.25 group @tempo $RT_TEMPO
					{
						obj::crea_track_HOA("gran_buffer_htb+cor1-ev3-mes227", "group_hoa2", amp = 6, encoder = false) // track without encoder 
						$tracks("gran_buffer_htb+cor1-ev3-mes227").mod_add(["GranBufPos_multi_7", buf, $SF_map("server2")("htb+cor1-ev3-mes227.aif"), envbuf, $envs("server2")("perc"), "startPos", 0.0, centerDev, 1, "trigRate", 5, trigRateDev, 5, dur, 0.1, durDev, 0.07, "rate", 1.0, x0, $fl_cart[0], x1, $fl_cart[0], y0, $fl_cart[1], y1, $fl_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
						// $tracks("gran_buffer_htb+cor1-ev3-mes227").set("GranBufPos_multi_7", [envbuf, $envs("server2")("rond")])
						$tracks("gran_buffer_htb+cor1-ev3-mes227").bpf_param("GranBufPos_multi_7", trigRate, [5, 3.5, "exp_in", 10, 2.5, 30])
						$tracks("gran_buffer_htb+cor1-ev3-mes227").bpf_param("GranBufPos_multi_7", rate, [1, 3.5, "exp_in", 1, 2.5, 1.02, 24.25, 1.02, 3, 0.5])
						$tracks("gran_buffer_htb+cor1-ev3-mes227").bpf_param("GranBufPos_multi_7", dur, [0.5, 3.5, "exp_in", 1.5, 2.5, 2])
						$tracks("gran_buffer_htb+cor1-ev3-mes227").bpf_param("GranBufPos_multi_7", x0, [$htb_cart[0], 3.5, "linear", $alto_cart[0]])
						$tracks("gran_buffer_htb+cor1-ev3-mes227").bpf_param("GranBufPos_multi_7", x1, [$cor1_cart[0], 3.5, "linear", $bsn_cart[0]])	
						$tracks("gran_buffer_htb+cor1-ev3-mes227").bpf_param("GranBufPos_multi_7", y0, [$htb_cart[1], 3.5, "linear", $alto_cart[1]])
						$tracks("gran_buffer_htb+cor1-ev3-mes227").bpf_param("GranBufPos_multi_7", y1, [$cor1_cart[1], 3.5, "linear", $bsn_cart[1]])
						$tracks("gran_buffer_htb+cor1-ev3-mes227").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 0, 2.5, 0])
						(15.25+11) $tracks("gran_buffer_htb+cor1-ev3-mes227").free(1)
					}

					// vlc-ev4-mes227.aif
					// pizz
					0.25 group @tempo $RT_TEMPO
					{	
						obj::crea_track_HOA("gran_buffer_vlc-ev4-mes227", "group_hoa3", amp = 0, encoder = false) // track without encoder 
						$tracks("gran_buffer_vlc-ev4-mes227").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("vlc-ev4-mes227.aif"), "posLo", 0.0, "posHi", 0.01, posRate, 0.04, "trigRate", 0, trigRateDev, 00.1, "rate", 1, dur, 0.25, durDev, 0.0, x0, $vlc_cart[0], x1, $vlc_cart[0]+2, y0, 10, y1, 9, amp, -120])

						// $tracks("gran_buffer_vlc-ev4-mes227").set("Gran_multi_trig_7", [buf, $SF_map("server3")("hit-corto2_6.aif")])
						$tracks("gran_buffer_vlc-ev4-mes227").bpf_param("Gran_multi_trig_7", y0, [-2, 8, 2])
						$tracks("gran_buffer_vlc-ev4-mes227").bpf_param("Gran_multi_trig_7", y1, [-3, 8, 3])
						$tracks("gran_buffer_vlc-ev4-mes227").bpf_param("Gran_multi_trig_7", trigRate, [20, 4, "exp_in", 50, 4, "exp_out", 0.8])
						$tracks("gran_buffer_vlc-ev4-mes227").bpf_param("Gran_multi_trig_7", rate, [1, 4, "exp_in", 1, 4, "exp_out", 0.98])
						$tracks("gran_buffer_vlc-ev4-mes227").bpf_param("Gran_multi_trig_7", dur, [0.7, 4, "exp_in", 0.1, 2.5, 0.2])
						$tracks("gran_buffer_vlc-ev4-mes227").bpf_param("Gran_multi_trig_7", amp, [-120, 0.4, -120, 0.1, 0])
						10 $tracks("gran_buffer_vlc-ev4-mes227").free(0.1)
					}
					// trb-ev4-mes227
					0.25 group @tempo $RT_TEMPO
					{
						obj::crea_track_HOA("gran_buffer_trb-ev4-mes227", "group_hoa4", amp = 6, encoder = false) // track without encoder 
						$tracks("gran_buffer_trb-ev4-mes227").mod_add(["GranBufPos_multi_7", buf, $SF_map("server4")("trb-ev4-mes227.aif"), envbuf, $envs("server4")("perc"), "startPos", 0.0, centerDev, 1, "trigRate", 5, trigRateDev, 5, dur, 0.1, durDev, 0.07, "rate", 1.0, x0, $fl_cart[0], x1, $fl_cart[0], y0, $fl_cart[1], y1, $fl_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
						// $tracks("gran_buffer_trb-ev4-mes227").set("GranBufPos_multi_7", [envbuf, $envs("server4")("rond")])
						$tracks("gran_buffer_trb-ev4-mes227").bpf_param("GranBufPos_multi_7", trigRate, [5, 3.25, "exp_in", 10, 2.5, 30])
						$tracks("gran_buffer_trb-ev4-mes227").bpf_param("GranBufPos_multi_7", rate, [1, 3.25, "exp_in", 1, 2.5, 1.02, 24, 1.02, 3, 0.5])
						$tracks("gran_buffer_trb-ev4-mes227").bpf_param("GranBufPos_multi_7", dur, [0.5, 3.25, "exp_in", 1.5, 2.5, 2])
						$tracks("gran_buffer_trb-ev4-mes227").bpf_param("GranBufPos_multi_7", x0, [$trb_cart[0], 3.25, "linear", $alto_cart[0]])
						$tracks("gran_buffer_trb-ev4-mes227").bpf_param("GranBufPos_multi_7", x1, [$vlc_cart[0], 3.25, "linear", $bsn_cart[0]])	
						$tracks("gran_buffer_trb-ev4-mes227").bpf_param("GranBufPos_multi_7", y0, [$trb_cart[1], 3.25, "linear", $alto_cart[1]])
						$tracks("gran_buffer_trb-ev4-mes227").bpf_param("GranBufPos_multi_7", y1, [$vlc_cart[1], 3.25, "linear", $bsn_cart[1]])
						$tracks("gran_buffer_trb-ev4-mes227").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 0, 2.5, 0])
						(14.75+11) $tracks("gran_buffer_trb-ev4-mes227").free(1)
					}
					// htb+trp-ev5-mes227.aif
					0.25 group @tempo $RT_TEMPO
					{
						obj::crea_track_HOA("gran_buffer_htb+trp-ev5-mes227", "group_hoa2", amp = 6, encoder = false) // track without encoder 
						$tracks("gran_buffer_htb+trp-ev5-mes227").mod_add(["GranBufPos_multi_7", buf, $SF_map("server2")("htb+trp-ev5-mes227.aif"), envbuf, $envs("server2")("perc"), "startPos", 0.0, centerDev, 1, "trigRate", 5, trigRateDev, 5, dur, 0.1, durDev, 0.07, "rate", 1.0, x0, $fl_cart[0], x1, $fl_cart[0], y0, $fl_cart[1], y1, $fl_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
						// $tracks("gran_buffer_htb+trp-ev5-mes227").set("GranBufPos_multi_7", [envbuf, $envs("server2")("rond")])
						$tracks("gran_buffer_htb+trp-ev5-mes227").bpf_param("GranBufPos_multi_7", trigRate, [5, 3, "exp_in", 10, 2.5, 30])
						$tracks("gran_buffer_htb+trp-ev5-mes227").bpf_param("GranBufPos_multi_7", rate, [1, 3, "exp_in", 1, 2.5, 1.02, 24, 1.02, 3, 0.5])
						$tracks("gran_buffer_htb+trp-ev5-mes227").bpf_param("GranBufPos_multi_7", dur, [0.5, 3, "exp_in", 1.5, 2.5, 2])
						$tracks("gran_buffer_htb+trp-ev5-mes227").bpf_param("GranBufPos_multi_7", x0, [$htb_cart[0], 3, "linear", $alto_cart[0]])
						$tracks("gran_buffer_htb+trp-ev5-mes227").bpf_param("GranBufPos_multi_7", x1, [$trp_cart[0], 3, "linear", $bsn_cart[0]])	
						$tracks("gran_buffer_htb+trp-ev5-mes227").bpf_param("GranBufPos_multi_7", y0, [$htb_cart[1], 3, "linear", $alto_cart[1]])
						$tracks("gran_buffer_htb+trp-ev5-mes227").bpf_param("GranBufPos_multi_7", y1, [$trp_cart[1], 3, "linear", $bsn_cart[1]])
						$tracks("gran_buffer_htb+trp-ev5-mes227").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 0, 2.5, 0])
						(14.5+11) $tracks("gran_buffer_htb+trp-ev5-mes227").free(1)
					}
					// vlc-ev6-mes227.aif
					// pizz
					0.25 group @tempo $RT_TEMPO
					{	
						obj::crea_track_HOA("gran_buffer_vlc-ev6-mes227", "group_hoa3", amp = 0, encoder = false) // track without encoder 
						$tracks("gran_buffer_vlc-ev6-mes227").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("vlc-ev6-mes227.aif"), "posLo", 0.0, "posHi", 0.01, posRate, 0.04, "trigRate", 0, trigRateDev, 00.1, "rate", 1, dur, 0.25, durDev, 0.0, x0, $vlc_cart[0], x1, $vlc_cart[0]+2, y0, 10, y1, 9, amp, -120])

						// $tracks("gran_buffer_vlc-ev6-mes227").set("Gran_multi_trig_7", [buf, $SF_map("server3")("hit-corto2_6.aif")])
						$tracks("gran_buffer_vlc-ev6-mes227").bpf_param("Gran_multi_trig_7", y0, [2, 8, -2])
						$tracks("gran_buffer_vlc-ev6-mes227").bpf_param("Gran_multi_trig_7", y1, [3, 8, -3])
						$tracks("gran_buffer_vlc-ev6-mes227").bpf_param("Gran_multi_trig_7", trigRate, [20, 4, "exp_in", 50, 4, "exp_out", 0.8])
						$tracks("gran_buffer_vlc-ev6-mes227").bpf_param("Gran_multi_trig_7", rate, [1, 4, "exp_in", 1, 4, "exp_out", 0.98])
						$tracks("gran_buffer_vlc-ev6-mes227").bpf_param("Gran_multi_trig_7", dur, [0.7, 4, "exp_in", 0.1, 2.5, 0.2])
						$tracks("gran_buffer_vlc-ev6-mes227").bpf_param("Gran_multi_trig_7", amp, [-120, 0.1, -120, 0.1, 0])
						10 $tracks("gran_buffer_vlc-ev6-mes227").free(0.1)
					}
					// trb-ev6-mes227.aif
					0.25 group @tempo $RT_TEMPO
					{
						obj::crea_track_HOA("gran_buffer_trb-ev6-mes227", "group_hoa4", amp = 6, encoder = false) // track without encoder 
						$tracks("gran_buffer_trb-ev6-mes227").mod_add(["GranBufPos_multi_7", buf, $SF_map("server4")("trb-ev6-mes227.aif"), envbuf, $envs("server4")("perc"), "startPos", 0.0, centerDev, 1, "trigRate", 5, trigRateDev, 5, dur, 0.1, durDev, 0.07, "rate", 1.0, x0, $fl_cart[0], x1, $fl_cart[0], y0, $fl_cart[1], y1, $fl_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
						// $tracks("gran_buffer_trb-ev6-mes227").set("GranBufPos_multi_7", [envbuf, $envs("server4")("rond")])
						$tracks("gran_buffer_trb-ev6-mes227").bpf_param("GranBufPos_multi_7", trigRate, [5, 2.75, "exp_in", 10, 2.5, 30])
						$tracks("gran_buffer_trb-ev6-mes227").bpf_param("GranBufPos_multi_7", rate, [1, 2.75, "exp_in", 1, 2.5, 1.02, 23.75, 1.02, 3, 0.5])
						$tracks("gran_buffer_trb-ev6-mes227").bpf_param("GranBufPos_multi_7", dur, [0.5, 2.75, "exp_in", 1.5, 2.5, 2])
						$tracks("gran_buffer_trb-ev6-mes227").bpf_param("GranBufPos_multi_7", x0, [$trb_cart[0], 2.75, "linear", $alto_cart[0]])
						$tracks("gran_buffer_trb-ev6-mes227").bpf_param("GranBufPos_multi_7", x1, [$vlc_cart[0], 2.75, "linear", $bsn_cart[0]])	
						$tracks("gran_buffer_trb-ev6-mes227").bpf_param("GranBufPos_multi_7", y0, [$trb_cart[1], 2.75, "linear", $alto_cart[1]])
						$tracks("gran_buffer_trb-ev6-mes227").bpf_param("GranBufPos_multi_7", y1, [$vlc_cart[1], 2.75, "linear", $bsn_cart[1]])
						$tracks("gran_buffer_trb-ev6-mes227").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 0, 2.5, 0])
						(14+11) $tracks("gran_buffer_trb-ev6-mes227").free(1)
					}
					// cb-ev7-mes227
					//pizz
					0.25 group @tempo $RT_TEMPO
					{	
						obj::crea_track_HOA("gran_buffer_cb-ev7-mes227", "group_hoa2", amp = 0, encoder = false) // track without encoder 
						$tracks("gran_buffer_cb-ev7-mes227").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("cb-ev7-mes227.aif"), "posLo", 0.0, "posHi", 0.01, posRate, 0.04, "trigRate", 0, trigRateDev, 00.1, "rate", 1, dur, 0.25, durDev, 0.0, x0, $cb_cart[0], x1, $trp_cart[0], y0, 10, y1, 9, amp, -120])

						// $tracks("gran_buffer_cb-ev7-mes227").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_6.aif")])
						$tracks("gran_buffer_cb-ev7-mes227").bpf_param("Gran_multi_trig_7", y0, [2, 8, -2])
						$tracks("gran_buffer_cb-ev7-mes227").bpf_param("Gran_multi_trig_7", y1, [3, 8, -3])
						$tracks("gran_buffer_cb-ev7-mes227").bpf_param("Gran_multi_trig_7", trigRate, [20, 4, "exp_in", 30, 4, "exp_out", 0.8])
						$tracks("gran_buffer_cb-ev7-mes227").bpf_param("Gran_multi_trig_7", rate, [1, 4, "exp_in", 1, 4, "exp_out", 0.98])
						$tracks("gran_buffer_cb-ev7-mes227").bpf_param("Gran_multi_trig_7", dur, [0.7, 4, "exp_in", 0.5, 2.5, 0.2])
						$tracks("gran_buffer_cb-ev7-mes227").bpf_param("Gran_multi_trig_7", amp, [-120, 0.1, -120, 0.1, 3])
						10 $tracks("gran_buffer_cb-ev7-mes227").free(0.1)
					}
					// cor1-ev7-mes227.aif
					0.25 group @tempo $RT_TEMPO
					{
						obj::crea_track_HOA("gran_buffer_cor1-ev7-mes227", "group_hoa3", amp = 6, encoder = false) // track without encoder 
						$tracks("gran_buffer_cor1-ev7-mes227").mod_add(["GranBufPos_multi_7", buf, $SF_map("server3")("cor1-ev7-mes227.aif"), envbuf, $envs("server3")("perc"), "startPos", 0.0, centerDev, 1, "trigRate", 5, trigRateDev, 5, dur, 0.1, durDev, 0.07, "rate", 1.0, x0, $fl_cart[0], x1, $fl_cart[0], y0, $fl_cart[1], y1, $fl_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
						// $tracks("gran_buffer_cor1-ev7-mes227").set("GranBufPos_multi_7", [envbuf, $envs("server3")("rond")])
						$tracks("gran_buffer_cor1-ev7-mes227").bpf_param("GranBufPos_multi_7", trigRate, [5, 3.75, "exp_in", 10, 2.5, 30])
						$tracks("gran_buffer_cor1-ev7-mes227").bpf_param("GranBufPos_multi_7", rate, [1, 3.75, "exp_in", 1, 2.5, 1.02, 22.25, 1.02, 3, 0.5])
						$tracks("gran_buffer_cor1-ev7-mes227").bpf_param("GranBufPos_multi_7", dur, [0.5, 3.75, "exp_in", 1.5, 2.5, 2])
						$tracks("gran_buffer_cor1-ev7-mes227").bpf_param("GranBufPos_multi_7", x0, [$cl_cart[0], 3.75, "linear", $alto_cart[0]])
						$tracks("gran_buffer_cor1-ev7-mes227").bpf_param("GranBufPos_multi_7", x1, [$vln_cart[0], 3.75, "linear", $bsn_cart[0]])	
						$tracks("gran_buffer_cor1-ev7-mes227").bpf_param("GranBufPos_multi_7", y0, [$cl_cart[1], 3.75, "linear", $alto_cart[1]])
						$tracks("gran_buffer_cor1-ev7-mes227").bpf_param("GranBufPos_multi_7", y1, [$vln_cart[1], 3.75, "linear", $bsn_cart[1]])
						$tracks("gran_buffer_cor1-ev7-mes227").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 0, 2.5, 0])
						(13.5+11) $tracks("gran_buffer_cor1-ev7-mes227").free(1)
					}
					// fl+htb-ev8-mes227.aif
					0.25 group @tempo $RT_TEMPO
					{
						obj::crea_track_HOA("gran_buffer_fl+htb-ev8-mes227", "group_hoa4", amp = 6, encoder = false) // track without encoder 
						$tracks("gran_buffer_fl+htb-ev8-mes227").mod_add(["GranBufPos_multi_7", buf, $SF_map("server4")("fl+htb-ev8-mes227.aif"), envbuf, $envs("server4")("perc"), "startPos", 0.0, centerDev, 0, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $fl_cart[0], x1, $fl_cart[0], y0, $fl_cart[1], y1, $fl_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
						// $tracks("gran_buffer_fl+htb-ev8-mes227").set("GranBufPos_multi_7", [envbuf, $envs("server4")("rond")])
						$tracks("gran_buffer_fl+htb-ev8-mes227").bpf_param("GranBufPos_multi_7", startPos, [1, 2.5, "exp_in", 0.5, 2.5, 0])
						$tracks("gran_buffer_fl+htb-ev8-mes227").bpf_param("GranBufPos_multi_7", trigRate, [20, 2.5, "exp_in", 50, 2.5, 8])
						$tracks("gran_buffer_fl+htb-ev8-mes227").bpf_param("GranBufPos_multi_7", rate, [1, 2.5, "exp_in", 1, 2.5, 1.2, 23.25, 1.2, 3, 0.5])
						$tracks("gran_buffer_fl+htb-ev8-mes227").bpf_param("GranBufPos_multi_7", dur, [0.5, 2.5, "exp_in", 0.5, 2.5, 0.7])
						$tracks("gran_buffer_fl+htb-ev8-mes227").bpf_param("GranBufPos_multi_7", x0, [$fl_cart[0], 2.5, "linear", 1, 2.5, $trp_cart[0]])
						$tracks("gran_buffer_fl+htb-ev8-mes227").bpf_param("GranBufPos_multi_7", x1, [$fl_cart[0], 2.5, "linear", -1, 2.5, $trp_cart[0]])	
						$tracks("gran_buffer_fl+htb-ev8-mes227").bpf_param("GranBufPos_multi_7", y0, [$fl_cart[1], 2.5, "linear", 1, 2.5, $trp_cart[1]])
						$tracks("gran_buffer_fl+htb-ev8-mes227").bpf_param("GranBufPos_multi_7", y1, [$fl_cart[1], 2.5, "linear", -1, 2.5, $trp_cart[1]])
						$tracks("gran_buffer_fl+htb-ev8-mes227").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 0, 2.5, 0])
						(13.25+11) $tracks("gran_buffer_fl+htb-ev8-mes227").free(1)
					}
					// cl+vln-asc-ev9-mes227
					0.25 group @tempo $RT_TEMPO
					{
						obj::crea_track_HOA("gran_buffer_cl+vln-asc-ev9-mes227", "group_hoa2", amp = 6, encoder = false) // track without encoder 
						$tracks("gran_buffer_cl+vln-asc-ev9-mes227").mod_add(["GranBufPos_multi_7", buf, $SF_map("server2")("cl+vln-asc-ev9-mes227.aif"), envbuf, $envs("server2")("perc"), "startPos", 0.4, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $htb_cart[0]-1.5, x1, $htb_cart[0]-1.5, y0, $htb_cart[1], y1, $htb_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
						// $tracks("gran_buffer_cl+vln-asc-ev9-mes227").set("GranBufPos_multi_7", [envbuf, $envs("server2")("rond")])
						$tracks("gran_buffer_cl+vln-asc-ev9-mes227").bpf_param("GranBufPos_multi_7", trigRate, [20, 4, "exp_in", 30, 2.5, 8])
						$tracks("gran_buffer_cl+vln-asc-ev9-mes227").bpf_param("GranBufPos_multi_7", rate, [1, 4, "exp_in", 1, 2.5, 0.8, 15.5, 0.8, 3, 0.5])
						$tracks("gran_buffer_cl+vln-asc-ev9-mes227").bpf_param("GranBufPos_multi_7", dur, [1.2, 4, "exp_in", 0.2, 2.5, 0.1])
						$tracks("gran_buffer_cl+vln-asc-ev9-mes227").bpf_param("GranBufPos_multi_7", x0, [$htb_cart[0]+1.5, 4, "linear", 1.2, 2.5, $fl_cart[0]])
						$tracks("gran_buffer_cl+vln-asc-ev9-mes227").bpf_param("GranBufPos_multi_7", x1, [$htb_cart[0]+1.5, 4, "linear", -1.2, 2.5, $fl_cart[0]])	
						$tracks("gran_buffer_cl+vln-asc-ev9-mes227").bpf_param("GranBufPos_multi_7", y0, [$htb_cart[1], 4, "linear", 1.2, 2.5, $fl_cart[1]])
						$tracks("gran_buffer_cl+vln-asc-ev9-mes227").bpf_param("GranBufPos_multi_7", y1, [$htb_cart[1], 4, "linear", -1.2, 2.5, $fl_cart[1]])
						$tracks("gran_buffer_cl+vln-asc-ev9-mes227").bpf_param("GranBufPos_multi_7", amp, [-120, 0.1, 4, 4, 6])
						(7+11) $tracks("gran_buffer_cl+vln-asc-ev9-mes227").free(0.1)
					}
				}
				case "test_vezer":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_hit_mes219", "group_hoa3", amp = 0, encoder = false, fade_in = 0.2) // track without encoder 
					$tracks("gran_buffer_hit_mes219").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("hit-corto1.aif"), "posLo", 0.0, "posHi", 0.01, posRate, 0, "trigRate", 0, trigRateDev, 0, "rate", 1, dur, 0.1, durDev, 0.0, x0, 10, x1, 10, y0, 0.5, y1, -0.5, amp, -120])
					$tracks("gran_buffer_hit_mes219").bpf_param("Gran_multi_trig_7", x0, [10, 1.5, 0, 2.5, -10])
					$tracks("gran_buffer_hit_mes219").bpf_param("Gran_multi_trig_7", x1, [9, 1.5, 0, 2.5, -9])
					$tracks("gran_buffer_hit_mes219").bpf_param("Gran_multi_trig_7", rate, [1.2, 1.5, "exp_in", 1.2, 2.5, 0.8])
					$tracks("gran_buffer_hit_mes219").bpf_param("Gran_multi_trig_7", trigRate, [20, 1.5, "exp_in", 100, 3, "exp_out", 10])
					$tracks("gran_buffer_hit_mes219").bpf_param("Gran_multi_trig_7", amp, [-120, 0.2, -120, 0.1, 0, 2.7, 2])
					$tracks("gran_buffer_hit_mes219").set("Gran_multi_trig_7", [posRate, 0.04])
					7 $tracks("gran_buffer_hit_mes219").free(0.1)
				}
				case "gran_buffer_hit_accel_mes234":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_hit_mes234", "group_hoa3", amp = 0, encoder = false, fade_in = 0.2) // track without encoder 
					$tracks("gran_buffer_hit_mes234").mod_add(["Gran_multi_trig_7", buf, $SF_map("server3")("hit-corto1.aif"), "posLo", 0.0, "posHi", 0.01, posRate, 0.04, "trigRate", 0, trigRateDev, 0, "rate", 1, dur, 0.1, durDev, 0.0, x0, 10, x1, 10, y0, 0.5, y1, -0.5, amp, -120])
					$tracks("gran_buffer_hit_mes234").nim_multi_param(Gran_multi_trig_7, "gran_buffer_hit_mes234", free = 0.5) 
				}				
				case "gran_buffer_cuivre_mes234":				
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_cuivre_mes234", "group_hoa4", amp = 6, encoder = false) // track without encoder 
					$tracks("gran_buffer_cuivre_mes234").mod_add([GranBufPos_multi_7, buf, $SF_map("server4")("cuivre_mes234.aif"), envbuf, $envs("server4")("perc"), "startPos", 0.0, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $vln_cart[0]-1.5, x1, $vln_cart[0]-1.5, y0, $vln_cart[1], y1, $vln_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
					$tracks("gran_buffer_cuivre_mes234").nim_multi_param(GranBufPos_multi_7, "cuivre_mes234", free = 0.5) 
				}
				case "gran_buffer_vents_mes235":				
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_vents_mes235", "group_hoa4", amp = 6, encoder = false) // track without encoder 
					$tracks("gran_buffer_vents_mes235").mod_add([GranBufPos_multi_7, buf, $SF_map("server4")("vents_mes235.aif"), envbuf, $envs("server4")("perc"), "startPos", 0.0, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $vln_cart[0]-1.5, x1, $vln_cart[0]-1.5, y0, $vln_cart[1], y1, $vln_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
					$tracks("gran_buffer_vents_mes235").nim_multi_param(GranBufPos_multi_7, "vents_mes235", free = 0.5) 
				}
				case "gran_buffer_instr-desc_mes236":				
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_instr-desc_mes236", "group_hoa3", amp = 6, encoder = false) // track without encoder 
					$tracks("gran_buffer_instr-desc_mes236").mod_add([GranBufPos_multi_7, buf, $SF_map("server3")("instr-desc_mes236.aif"), envbuf, $envs("server3")("perc"), "startPos", 0.0, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $vln_cart[0]-1.5, x1, $vln_cart[0]-1.5, y0, $vln_cart[1], y1, $vln_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
					$tracks("gran_buffer_instr-desc_mes236").nim_multi_param(GranBufPos_multi_7, "instr-desc_mes236", free = 0.5) 
				}			
				case "gran_buffer_instr-desc_mes237":				
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_instr-desc_mes237", "group_hoa2", amp = 6, encoder = false) // track without encoder 
					$tracks("gran_buffer_instr-desc_mes237").mod_add([GranBufPos_multi_7, buf, $SF_map("server2")("instr-desc_mes237.aif"), envbuf, $envs("server2")("perc"), "startPos", 0.0, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $vln_cart[0]-1.5, x1, $vln_cart[0]-1.5, y0, $vln_cart[1], y1, $vln_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
					$tracks("gran_buffer_instr-desc_mes237").nim_multi_param(GranBufPos_multi_7, "instr-desc_mes237", free = 0.5) 
				}
				case "gran_buffer_instr-desc_mes238":				
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buffer_instr-desc_mes238", "group_hoa3", amp = 6, encoder = false) // track without encoder 
					$tracks("gran_buffer_instr-desc_mes238").mod_add([GranBufPos_multi_7, buf, $SF_map("server3")("instr-desc_mes238.aif"), envbuf, $envs("server3")("perc"), "startPos", 0.0, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $vln_cart[0]-1.5, x1, $vln_cart[0]-1.5, y0, $vln_cart[1], y1, $vln_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120])
					$tracks("gran_buffer_instr-desc_mes238").nim_multi_param(GranBufPos_multi_7, "instr-desc_mes238", free = 0.01) 
				}
				case "gran_buffer_instr-asc_mes240":				
				group @tempo $RT_TEMPO
				{
					// obj::crea_track_HOA("gran_buffer_instr-asc_fl_mes240", "group_hoa4", amp = 0, encoder = false, [GranBufPos_multi_7, buf, $SF_map("server4")("fl-do6.aif"), envbuf, $envs("server4")("perc"), "startPos", 0.0, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $vln_cart[0]-1.5, x1, $vln_cart[0]-1.5, y0, $vln_cart[1], y1, $vln_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120]) // track without encoder 
					// $tracks("gran_buffer_instr-asc_fl_mes240").nim_multi_param(GranBufPos_multi_7, "fl-mes240", free = 0.01) 

					// obj::crea_track_HOA("gran_buffer_instr-asc_htb_mes240", "group_hoa4", amp = 0, encoder = false, [GranBufPos_multi_7, buf, $SF_map("server4")("htb-sol4.aif"), envbuf, $envs("server4")("perc"), "startPos", 0.0, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $vln_cart[0]-1.5, x1, $vln_cart[0]-1.5, y0, $vln_cart[1], y1, $vln_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120]) // track without encoder 
					// $tracks("gran_buffer_instr-asc_htb_mes240").nim_multi_param(GranBufPos_multi_7, "htb-mes240", free = 0.01) 

					// obj::crea_track_HOA("gran_buffer_instr-asc_cl_mes240", "group_hoa4", amp = 0, encoder = false, [GranBufPos_multi_7, buf, $SF_map("server4")("cl-sol+5.aif"), envbuf, $envs("server4")("perc"), "startPos", 0.0, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $vln_cart[0]-1.5, x1, $vln_cart[0]-1.5, y0, $vln_cart[1], y1, $vln_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120]) // track without encoder 
					// $tracks("gran_buffer_instr-asc_cl_mes240").nim_multi_param(GranBufPos_multi_7, "cl-mes240", free = 0.01) 

					// obj::crea_track_HOA("gran_buffer_instr-asc_bsn_mes240", "group_hoa4", amp = 0, encoder = false, [GranBufPos_multi_7, buf, $SF_map("server4")("bsn-mi+3.aif"), envbuf, $envs("server4")("perc"), "startPos", 0.0, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $vln_cart[0]-1.5, x1, $vln_cart[0]-1.5, y0, $vln_cart[1], y1, $vln_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120]) // track without encoder 
					// $tracks("gran_buffer_instr-asc_bsn_mes240").nim_multi_param(GranBufPos_multi_7, "bsn-mes240", free = 0.01) 

					obj::crea_track_HOA("gran_buffer_instr-asc_cor1_mes240", "group_hoa4", amp = 0, encoder = false, [GranBufPos_multi_7, buf, $SF_map("server4")("cor1-do+4.aif"), envbuf, $envs("server4")("perc"), "startPos", 0.0, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $vln_cart[0]-1.5, x1, $vln_cart[0]-1.5, y0, $vln_cart[1], y1, $vln_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120]) // track without encoder 
					$tracks("gran_buffer_instr-asc_cor1_mes240").nim_multi_param(GranBufPos_multi_7, "cor1-mes240", free = 0.01) 

					obj::crea_track_HOA("gran_buffer_instr-asc_cor2_mes240", "group_hoa4", amp = 0, encoder = false, [GranBufPos_multi_7, buf, $SF_map("server4")("cor2-sold-3.aif"), envbuf, $envs("server4")("perc"), "startPos", 0.0, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $vln_cart[0]-1.5, x1, $vln_cart[0]-1.5, y0, $vln_cart[1], y1, $vln_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120]) // track without encoder 
					$tracks("gran_buffer_instr-asc_cor2_mes240").nim_multi_param(GranBufPos_multi_7, "cor2-mes240", free = 0.01) 

					obj::crea_track_HOA("gran_buffer_instr-asc_trp_mes240", "group_hoa4", amp = 0, encoder = false, [GranBufPos_multi_7, buf, $SF_map("server4")("trp-sol4.aif"), envbuf, $envs("server4")("perc"), "startPos", 0.0, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $vln_cart[0]-1.5, x1, $vln_cart[0]-1.5, y0, $vln_cart[1], y1, $vln_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120]) // track without encoder 
					$tracks("gran_buffer_instr-asc_trp_mes240").nim_multi_param(GranBufPos_multi_7, "trp-mes240", free = 0.01) 

					obj::crea_track_HOA("gran_buffer_instr-asc_trb_mes240", "group_hoa4", amp = 0, encoder = false, [GranBufPos_multi_7, buf, $SF_map("server4")("trb-mi2.aif"), envbuf, $envs("server4")("perc"), "startPos", 0.0, centerDev, 0.5, "trigRate", 10, dur, 0.1, durDev, 0, "rate", 1.0, x0, $vln_cart[0]-1.5, x1, $vln_cart[0]-1.5, y0, $vln_cart[1], y1, $vln_cart[1], z0, 0, z1, 1, posRate, 0, amp, -120]) // track without encoder 
					$tracks("gran_buffer_instr-asc_trb_mes240").nim_multi_param(GranBufPos_multi_7, "trb-mes240", free = 0.01) 
				}	
				// continuacion con modulaciones ritmicas espacializadas por todos lados
				case "gran_buffer_instr-accel_mes241":
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buf_mod_cor1_mes241", "group_hoa2", fade_in = 0.1, amp = 6, encoder = false, [[TGranBuf_buf_ambicart, buf, $SF_map("server2")("cor1-sol+4.aif"), envbuf, $envs("server2")("perc")]]) 

					// $tracks("play_env_trigBufRd_htb_mes42_3_n").set("TBufRdEnvTrig", ["impulse_rate", 40])
					// $tracks("gran_buf_mod_cor1_mes241").set(TGranBuf_buf_ambicart, [envbuf, $envs("server2")("perc_rond")])
					// $tracks("gran_buf_mod_cor1_mes241").bpf_param(TGranBuf_buf_ambicart, "trigRate", [1, 6, "circ_in_out", 120, 5, "circ_out", 10])
					// $tracks("gran_buf_mod_cor1_mes241").bpf_param(TGranBuf_buf_ambicart, "rate", [1, 6, "circ", 1.5, 5, "circ_out", 1])
					// $tracks("gran_buf_mod_cor1_mes241").amp([-10, 2, 8, 4, "quad", 10, 2, 0, 3, -10, 2, -60]) //, free = 0.1) //, action = ["clearbuf", $rec_buf10_2])
					$tracks("gran_buf_mod_cor1_mes241").nim_multi_param(TGranBuf_buf_ambicart, "cor1-mov-mes241", free = 0.01) 
				}	
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buf_mod_cor2_mes241", "group_hoa2", fade_in = 0.1, amp = 6, encoder = false, [[TGranBuf_buf_ambicart, buf, $SF_map("server2")("cor2-re4.aif"), envbuf, $envs("server2")("perc")]]) 
					$tracks("gran_buf_mod_cor2_mes241").nim_multi_param(TGranBuf_buf_ambicart, "cor2-mov-mes241", free = 0.01) 
				}	
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buf_mod_trp_mes241", "group_hoa2", fade_in = 0.1, amp = 6, encoder = false, [[TGranBuf_buf_ambicart, buf, $SF_map("server2")("trp-re5.aif"), envbuf, $envs("server2")("perc")]]) 
					$tracks("gran_buf_mod_trp_mes241").nim_multi_param(TGranBuf_buf_ambicart, "trp-mov-mes241", free = 0.01) 
				}
				group @tempo $RT_TEMPO
				{
					obj::crea_track_HOA("gran_buf_mod_trb_mes241", "group_hoa2", fade_in = 0.1, amp = 6, encoder = false, [[TGranBuf_buf_ambicart, buf, $SF_map("server2")("trb-sid2.aif"), envbuf, $envs("server2")("perc")]]) 
					$tracks("gran_buf_mod_trb_mes241").nim_multi_param(TGranBuf_buf_ambicart, "trb-mov-mes241", free = 0.01) 
				}																	
			}
			case "fx":
			switch ($electro[3])
			{
				case "fx_cordes_mes156":
					group 
					{
						obj::crea_track_HOA("specCombN_m60_vln", "group_hoa3", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $vln, "amp", 0], ["STM_specCombN", "preset", "sax-sec3"]])
						$tracks("specCombN_m60_vln").dae($vln_dae)
						obj::crea_track_HOA("fsht_vln", "group_hoa1", fade_in = 4, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $vln, "amp", 0], ["TMFxShift2"], ["TJPverb_mono", t60, 2]])
						$tracks("fsht_vln").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
						$tracks("fsht_vln").dae($vln_dae)

						obj::crea_track_HOA("specCombN_m60_alto", "group_hoa3", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $alto, "amp", 0], ["STM_specCombN", "preset", "sax-sec3"]])
						$tracks("specCombN_m60_alto").dae($alto_dae)
						obj::crea_track_HOA("fsht_alto", "group_hoa1", fade_in = 4, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $alto, "amp", 0], ["TMFxShift2"], ["TJPverb_mono", t60, 2]])
						$tracks("fsht_alto").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
						$tracks("fsht_alto").dae($alto_dae)

						obj::crea_track_HOA("specCombN_m60_vlc", "group_hoa3", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $vlc, "amp", 0], ["STM_specCombN", "preset", "sax-sec3"]])
						$tracks("specCombN_m60_vlc").dae($vlc_dae)
						obj::crea_track_HOA("fsht_vlc", "group_hoa1", fade_in = 4, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $vlc, "amp", 0], ["TMFxShift2"], ["TJPverb_mono", t60, 2]])
						$tracks("fsht_vlc").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
						$tracks("fsht_vlc").dae($vlc_dae)

						obj::crea_track_HOA("specCombN_m60_cb", "group_hoa3", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $cb, "amp", 0], ["STM_specCombN", "preset", "sax-sec3"]])
						$tracks("specCombN_m60_cb").dae($cb_dae)
						obj::crea_track_HOA("fsht_cb", "group_hoa1", fade_in = 4, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $cb, "amp", 0], ["TMFxShift2"], ["TJPverb_mono", t60, 2]])
						$tracks("fsht_cb").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
						$tracks("fsht_cb").dae($cb_dae)
					}
				case "abort_fx_cordes_mes156":
				{
					$tracks("specCombN_m60_vln").free(1)
					$tracks("specCombN_m60_alto").free(1)
					$tracks("specCombN_m60_vlc").free(1)
					$tracks("specCombN_m60_cb").free(1)
					$tracks("fsht_vln").free(1)
					$tracks("fsht_alto").free(1)
					$tracks("fsht_vlc").free(1)
					$tracks("fsht_cb").free(1)
				}
				case "spat_grain1":
				group @tempo $RT_TEMPO
				{
					@local $spat_grain1_amp := -6
				
					/// fl 
					$tbus := $SC_Servers("server1")("bus_index") // create an audio bus
					$SC_Servers("server1").insert("bus_index", $tbus+1) // +1 = mono input bus incrementa bus de server

					// $tracks("Fshift_fl").free()
					// print $tbus


					//spat_grain
					obj::crea_track_HOA("spat_gran_In_track1", "group_hoa1", amp = -6, encoder = false) // track for receive encoded HOA (granulation, etc)

					// @obj_def HOA_grainIN_xyz_rand_fix_track($in, $envbuf0, $envbuf1, $env_interp, $del_min, $del_max, $env_dur_min, $env_dur_max, $x_min, $x_max, $y_min, $y_max, $z_min, $z_max, $amp, $track_HOA_NE, $grain_group) 
					// @obj_def HOA_grainIN_del_xyz($in, $envbuf0, $envbuf1, $env_interp, $rate_min, $rate_max, $del_min, $del_max, $env_dur_min, $env_dur_max, $x_min, $x_max, $y_min, $y_max, $z_min, $z_max, $amp, $track_HOA_NE) 

					$obj_granIn_fl := obj::HOA_grainIN_del_xyz($tbus, "rond", "carre", -1, 0.5, 1.5, 0.5, 1, 0.5, 1, -2, 0, -1, 2, 0, 0.5, 0, "spat_gran_In_track1") 
					// print ($tracks("spat_gran_In_track1").$bus)

					obj::crea_track_HOA("Fshift_fl", "group_hoa1", amp = -6, in_channels = 1, [["AudioInput", "input", $fl, "amp", 0],["TPFshift", "shft", 10], [OutBus, outbus, $tbus]]) // OutBus send an aux bus to HOA_grainIN_xyz_rand_fix_track
					$tracks("Fshift_fl").dae($fl_dae)
					
					// loop 0.2
					// {
					// 	$obj_granIn_fl.add()
					// 	$obj_granIn_fl.del(0, 2)
					// 	$obj_granIn_fl.env_dur_min(0.3)
					// 	$obj_granIn_fl.env_dur_max(1)
					// } during [2#]
					
					// $obj_granIn_fl.remove()
					// $obj_granIn_fl.del(0, 0)
					$tracks("spat_gran_In_track1").amp($spat_grain1_amp)
					// abort $obj_granIn_fl
				//}
					/// cl

					$tbus_cl := $SC_Servers("server1")("bus_index") // create an audio bus
					$SC_Servers("server1").insert("bus_index", $tbus_cl+1) // +1 = mono input bus incrementa bus de server



					obj::crea_track_HOA("spat_gran_In_track2", "group_hoa1", amp = -6, encoder = false) // track for receive encoded HOA (granulation, etc)

					// @obj_def HOA_grainIN_xyz_rand_fix_track($in, $envbuf0, $envbuf1, $env_interp, $del_min, $del_max, $env_dur_min, $env_dur_max, $x_min, $x_max, $y_min, $y_max, $z_min, $z_max, $amp, $track_HOA_NE, $grain_group) 
					// @obj_def HOA_grainIN_del_xyz($in, $envbuf0, $envbuf1, $env_interp, $rate_min, $rate_max, $del_min, $del_max, $env_dur_min, $env_dur_max, $x_min, $x_max, $y_min, $y_max, $z_min, $z_max, $amp, $track_HOA_NE) 


					// 0.2 $obj_granIn_cl := obj::HOA_grainIN_xyz_rand_fix_track($tbus_cl, "rond", "carre", -1, 0.5, 1.5, 0.5, 1, 0.5, 1, -1, 0, -3, -1, 0, 0.5, 0, "spat_gran_In_track2") 
					0.2 $obj_granIn_cl := obj::HOA_grainIN_del_xyz($tbus_cl, "rond", "carre", -1, 0.5, 1.5, 0.5, 1, 0.5, 1, -2, 0, -1, 2, 0, 0.5, 0, "spat_gran_In_track2") 


					obj::crea_track_HOA("Fshift_cl", "group_hoa1", amp = -3, in_channels = 1, [["AudioInput", "input", $cl, "amp", 0],["TRingMod1", "modfreq", 10], [OutBus, outbus, $tbus_cl]]) // OutBus send an aux bus to HOA_grainIN_xyz_rand_fix_track
					$tracks("Fshift_cl").dae($cl_dae)
					$tracks("Fshift_cl").set(TRingMod1, ["modfreq", 25])
					// print $tbus

					/*loop 0.15
					{
						$obj_granIn_cl.add()
						$obj_granIn_cl.del(0, 2)
						$obj_granIn_cl.env_dur_min(0.3)
						$obj_granIn_cl.env_dur_max(1)
					} during [3#]*/

					// $obj_granIn_cl.remove()
					// $obj_granIn_cl.del(0, 0)
					// $obj_granIn_cl.del(0, 2)

					// $obj_granIn_cl.env_dur_min(0.8)
					// $obj_granIn_cl.env_dur_max(1)
					$tracks("spat_gran_In_track2").amp($spat_grain1_amp)
					// abort $obj_granIn_cl

					/// htb

					$tbus_htb := $SC_Servers("server1")("bus_index") // create an audio bus
					$SC_Servers("server1").insert("bus_index", $tbus_htb+1) // +1 = mono input bus incrementa bus de server

					obj::crea_track_HOA("spat_gran_In_track3", "group_hoa1", amp = -6, encoder = false) // track for receive encoded HOA (granulation, etc)

					// @obj_def HOA_grainIN_xyz_rand_fix_track($in, $envbuf0, $envbuf1, $env_interp, $del_min, $del_max, $env_dur_min, $env_dur_max, $x_min, $x_max, $y_min, $y_max, $z_min, $z_max, $amp, $track_HOA_NE, $grain_group) 

					// 0.3 $obj_granIn_htb := obj::HOA_grainIN_xyz_rand_fix_track($tbus_htb, "rond", "carre", -1, 0, 0, 1, 1, 0, 2, -2, 0, 0, 0.5, 0, "spat_gran_In_track3") 
					0.3 $obj_granIn_htb := obj::HOA_grainIN_del_xyz($tbus_htb, "rond", "carre", -1, 0.5, 1.5, 0.5, 1, 0.5, 1, 0, 2, -2, 0, 0, 0.5, 0, "spat_gran_In_track3") 

					obj::crea_track_HOA("Fshift_htb", "group_hoa1", amp = -3, in_channels = 1, [["AudioInput", "input", $htb, "amp", 0],["TRingMod1", "modfreq", 10], [OutBus, outbus, $tbus_htb]]) // OutBus send an aux bus to HOA_grainIN_xyz_rand_fix_track
					$tracks("Fshift_htb").dae($htb_dae)
					$tracks("Fshift_htb").set(TRingMod1, ["modfreq", 3000])

					/*loop 0.2
					{
						$obj_granIn_htb.add()
						$obj_granIn_htb.del(0, 2)
						$obj_granIn_htb.env_dur_min(0.3)
						$obj_granIn_htb.env_dur_max(1)
					} during [2#]*/
					// $obj_granIn_htb.remove()
					// $obj_granIn_htb.del(0, 0)
					// $obj_granIn_htb.del(0, 2)

					// $obj_granIn_htb.env_dur_min(0.8)
					// $obj_granIn_htb.env_dur_max(1)

					$tracks("spat_gran_In_track3").amp($spat_grain1_amp)
					// abort $obj_granIn_htb

					/// bsn

					$tbus_bsn := $SC_Servers("server1")("bus_index") // create an audio bus
					$SC_Servers("server1").insert("bus_index", $tbus_bsn+1) // +1 = mono input bus incrementa bus de server			

					obj::crea_track_HOA("spat_gran_In_track4", "group_hoa1", amp = -6, encoder = false) // track for receive encoded HOA (granulation, etc)

					// @obj_def HOA_grainIN_xyz_rand_fix_track($in, $envbuf0, $envbuf1, $env_interp, $del_min, $del_max, $env_dur_min, $env_dur_max, $x_min, $x_max, $y_min, $y_max, $z_min, $z_max, $amp, $track_HOA_NE, $grain_group) 

					// $obj_granIn_bsn := obj::HOA_grainIN_xyz_rand_fix_track($tbus_bsn, "rond", "carre", -1, 0, 0, 1, 1, 0, 2, 0, 2, 0, 0.5, 0, "spat_gran_In_track4") 
					$obj_granIn_bsn := obj::HOA_grainIN_del_xyz($tbus_bsn, "rond", "carre", -1, 0.5, 1.5, 0.5, 1, 0.5, 1, 0, 2, 0, 2, 0, 0.5, 0, "spat_gran_In_track4") 

					obj::crea_track_HOA("Fshift_bsn", "group_hoa1", amp = -3, in_channels = 1, [["AudioInput", "input", $bsn, "amp", 0],["TRingMod1", "modfreq", 10], [OutBus, outbus, $tbus_bsn]]) // OutBus send an aux bus to HOA_grainIN_xyz_rand_fix_track order of execution !
					$tracks("Fshift_bsn").dae($htb_dae)
					$tracks("Fshift_bsn").set(TRingMod1, ["modfreq", 28])

					/*loop 0.1
					{
						$obj_granIn_bsn.add()
						$obj_granIn_bsn.del(0, 2)
						$obj_granIn_bsn.env_dur_min(0.3)
						$obj_granIn_bsn.env_dur_max(1)
					} during [2#]*/					
					// $obj_granIn_bsn.remove()
					// $obj_granIn_bsn.del(0, 0)
					// $obj_granIn_bsn.del(0, 2)

					// $obj_granIn_bsn.env_dur_min(0.8)
					// $obj_granIn_bsn.env_dur_max(1)
					$tracks("spat_gran_In_track4").amp($spat_grain1_amp)
					// abort $obj_granIn_bsn
				}
				case "spat_grain_param1":
				$obj_granIn_fl.del(0.5, 2)
				$obj_granIn_fl.env_dur_min(0.1) 
				$obj_granIn_fl.env_dur_max(0.2) 
				$obj_granIn_fl.rate_min(0.1) 
				$obj_granIn_fl.rate_max(0.5)

				$obj_granIn_cl.del(0.5, 2)
				$obj_granIn_cl.env_dur_min(0.1) 
				$obj_granIn_cl.env_dur_max(0.2) 
				$obj_granIn_cl.rate_min(0.1) 
				$obj_granIn_cl.rate_max(0.5)

				$obj_granIn_htb.del(0.5, 2)
				$obj_granIn_htb.env_dur_min(0.1) 
				$obj_granIn_htb.env_dur_max(0.2) 
				$obj_granIn_htb.rate_min(0.1) 
				$obj_granIn_htb.rate_max(0.5)	

				$obj_granIn_bsn.del(0.5, 2)
				$obj_granIn_bsn.env_dur_min(0.1) 
				$obj_granIn_bsn.env_dur_max(0.2) 
				$obj_granIn_bsn.rate_min(0.1) 
				$obj_granIn_bsn.rate_max(0.5)	

				case "abort_spat_grain1":

					abort $obj_granIn_fl
					abort $obj_granIn_cl
					abort $obj_granIn_htb
					abort $obj_granIn_bsn

				case "stop_fshift_mes180":
					$tracks("Fshift_fl").free(1)
					$tracks("Fshift_cl").free(1)
					$tracks("Fshift_htb").free(1)
					$tracks("Fshift_bsn").free(1)


				case "pvoc_scrub_vln_mes184":
					$rec_buf_pvoc_vln_mes184.rec($vln) // record from audio input (if bus = true record from bus)
					// Start play buffers: probar TplayBins para cambiar el timbre
					obj::crea_track_HOA("pvoc_scrub_vln_mes184", "group_hoa1", fade_in = 0.5, amp = 0, in_channels = 1, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_vln_mes184.id()], ["TJPverb_mono", t60, 1]]) 
					// $tracks("pvoc_scrub_vln_mes184").rand_lfo("TScrubPvocBuf", "pos", 0.1, 0.5, 0.1, "linear", 30)
					$tracks("pvoc_scrub_vln_mes184").rand_lfo_dyn("TScrubPvocBuf", "pos", 0, "linear", 60, $rec_buf_pvoc_vln_mes184)
					// $tracks("pvoc_scrub_vln_mes184").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
					$tracks("pvoc_scrub_vln_mes184").amp(-12)
					$tracks("pvoc_scrub_vln_mes184").dae_rand_lfo([0.7, 1.2, $vln_dae[0], -162, 72, $vln_dae[1], 0, 45, 0], 20)
					$tracks("pvoc_scrub_vln_mes184").amp([-12, 4, -12, 4, -16])
					// $tracks("pvoc_scrub_vln_mes184").free()

				case "pvoc_scrub_alto_mes185":
					$rec_buf_pvoc_alto_mes185.rec($alto) // record from audio input (if bus = true record from bus)
					// Start play buffers: probar TplayBins para cambiar el timbre
					obj::crea_track_HOA("pvoc_scrub_alto_mes185", "group_hoa1", fade_in = 0.5, amp = 0, in_channels = 1, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_alto_mes185.id()], ["TJPverb_mono", t60, 1]]) 
					// $tracks("pvoc_scrub_alto_mes185").rand_lfo("TScrubPvocBuf", "pos", 0.1, 0.5, 0.1, "linear", 30)
					$tracks("pvoc_scrub_alto_mes185").rand_lfo_dyn("TScrubPvocBuf", "pos", 0, "linear", 60, $rec_buf_pvoc_alto_mes185)
					// $tracks("pvoc_scrub_alto_mes185").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
					$tracks("pvoc_scrub_alto_mes185").amp(-12)
					$tracks("pvoc_scrub_alto_mes185").dae_rand_lfo([0.7, 1.2, $alto_dae[0], -72, 72, $alto_dae[1], 0, 45, 0], 20)
					$tracks("pvoc_scrub_alto_mes185").amp([-12, 4, -12, 4, -16])
					// $tracks("pvoc_scrub_vln_mes184").free()
					// $tracks("pvoc_scrub_alto_mes185").mod_add(["TJPverb_mono", t60, 2])
					// $tracks("pvoc_scrub_alto_mes185").set(TJPverb_mono, [t60, 1])				
				case "abort_pvoc_184":
					$tracks("pvoc_scrub_vln_mes184").free()
					$tracks("pvoc_scrub_alto_mes185").free()

				case "freeze_mes231":
					group @tempo $RT_TEMPO
					{
						$chop_cl_mes_230_dur := 5 
						$chop_cl_mes_230_amp := -3

						// $rec_buf5_05.rec($cl)

						// obj::crea_track_HOA("play_env_trig_cl_mes_230", "group_hoa1", fade_in = 0.0001, amp = $chop_cl_mes_230_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf5_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))]])
						// $tracks("play_env_trig_cl_mes_230").bpf_param("TBufRdEnvInterp", "impulse_rate", [12, $chop_cl_mes_230_dur, "sine", 15])
						// $tracks("play_env_trig_cl_mes_230").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_cl_mes_230_dur/3, "sine", 1])
						// $tracks("play_env_trig_cl_mes_230").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_cl_mes_230_dur, "sine", 1.15])
						// $tracks("play_env_trig_cl_mes_230").amp([$chop_cl_mes_230_amp, $chop_cl_mes_230_dur, $chop_cl_mes_230_amp, 0.2, $chop_cl_mes_230_amp]) //, free = 0.1, action = ["clearbuf", $rec_buf11_05])
						// // $tracks("play_env_trig_cl_mes_230").traj_circ_interp2($cl_dae, $trb_dae, $chop_cl_mes_230_dur, 1)
						// // $tracks("play_env_trig_cl_mes_230").set(CompressorD, [thresh, 0.3])
						// // $tracks("play_env_trig_cl_mes_230").dae_rand_lfo([1.5, 10, $cl_dae[0], -180, 180, $cl_dae[1], 0, 45, 0], 80)
						// $tracks("play_env_trig_cl_mes_230").xyz_rand_lfo([-4, 4, $vlc_cart[0], -4, 4, $vlc_cart[0], 0, 2, $vlc_cart[0]], 80) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol												
						// $tracks("play_env_trig_cl_mes_230").amp(0)

						// obj::crea_track_HOA("gran_buffer_cl_mes_230", "group_hoa1", amp = 0, encoder = false) // track without encoder 
						// $tracks("gran_buffer_cl_mes_230").mod_add(["Gran_multi_trig_7", buf, $rec_buf5_05.id(), "posLo", 0.1, "posHi", 0.5, posRate, 0.04, "trigRate", 0, trigRateDev, 00.1, "rate", 1, dur, 0.25, durDev, 0.0, x0, $vlc_cart[0], x1, $vlc_cart[0]+2, y0, 10, y1, 9, amp, -120])
						// $tracks("gran_buffer_cl_mes_230").bpf_param("Gran_multi_trig_7", y0, [2, 8, -2])
						// $tracks("gran_buffer_cl_mes_230").bpf_param("Gran_multi_trig_7", y1, [3, 8, -3])
						// $tracks("gran_buffer_cl_mes_230").bpf_param("Gran_multi_trig_7", trigRate, [20, 4, "exp_in", 50, 4, "exp_out", 30])
						// $tracks("gran_buffer_cl_mes_230").rand_lfo("Gran_multi_trig_7", trigRate, 10, 50, 10, "linear", 70)						

						// $tracks("gran_buffer_cl_mes_230").bpf_param("Gran_multi_trig_7", rate, [1, 4, "exp_in", 1, 4, "exp_out", 1])
						// $tracks("gran_buffer_cl_mes_230").bpf_param("Gran_multi_trig_7", dur, [0.7, 4, "exp_in", 0.1, 2.5, 0.2])
						// $tracks("gran_buffer_cl_mes_230").bpf_param("Gran_multi_trig_7", amp, [-120, 0.1, -120, 0.1, 0])
						// 10 $tracks("gran_buffer_cl_mes_230").free(0.1)		
						obj::crea_track_HOA("fluid_sines_cl", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $cl, "amp", 0], ["Fluid_Sines"], [TGranBuf_mono, buf, @buff_gran("server1"), envbuf, $envs("server1")("carre")]]) 
						// $tracks("fluid_sines_cl").set(TGranBuf_mono, [trigRate, 5])
						// $tracks("fluid_sines_cl").set(TGranBuf_mono, [dur, 0.5])
						$tracks("fluid_sines_cl").nim_multi_param(TGranBuf_mono, "fluid_sines_cl") 

						$tracks("fluid_sines_cl").set(TGranBuf_mono, [envbuf, $envs("server1")("rond")])
						// $tracks("fluid_sines_cl").rand_lfo(TGranBuf_mono, trigRate, 1, 10, 5, "linear", 70)						
						$tracks("fluid_sines_cl").dae_rand_lfo([0.7, 1.2, $alto_dae[0], -72, 72, $alto_dae[1], 0, 45, 0], 20)


						$chop_vln_mes_230_dur := 5 
						$chop_vln_mes_230_amp := -3

						// $rec_buf6_05.rec($vln)
						// obj::crea_track_HOA("play_env_trig_vln_mes_230", "group_hoa1", fade_in = 0.0001, amp = $chop_vln_mes_230_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf6_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))]])
						// $tracks("play_env_trig_vln_mes_230").bpf_param("TBufRdEnvInterp", "impulse_rate", [12, $chop_vln_mes_230_dur, "sine", 15])
						// $tracks("play_env_trig_vln_mes_230").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_vln_mes_230_dur/3, "sine", 1])
						// $tracks("play_env_trig_vln_mes_230").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_vln_mes_230_dur, "sine", 1.15])
						// $tracks("play_env_trig_vln_mes_230").amp([$chop_vln_mes_230_amp, $chop_vln_mes_230_dur, $chop_vln_mes_230_amp, 0.2, $chop_vln_mes_230_amp]) //, free = 0.1, action = ["clearbuf", $rec_buf11_05])
						// $tracks("play_env_trig_vln_mes_230").traj_circ_interp2($vln_dae, $trb_dae, $chop_vln_mes_230_dur, 1)
						// $tracks("play_env_trig_vln_mes_230").set(CompressorD, [thresh, 0.3])
						// $tracks("play_env_trig_vln_mes_230").dae_rand_lfo([1.5, 10, $vln_dae[0], -180, 180, $vln_dae[1], 0, 45, 0], 80)
						// $tracks("play_env_trig_vln_mes_230").xyz_rand_lfo([-4, 4, $vlc_cart[0], -4, 4, $vlc_cart[0], 0, 2, $vlc_cart[0]], 80) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol												
						// obj::crea_track_HOA("gran_buffer_vln_mes_230", "group_hoa1", amp = 0, encoder = false) // track without encoder 
						// $tracks("gran_buffer_vln_mes_230").mod_add(["Gran_multi_trig_7", buf, $rec_buf6_05.id(), "posLo", 0.1, "posHi", 0.5, posRate, 0.04, "trigRate", 0, trigRateDev, 00.1, "rate", 1, dur, 0.25, durDev, 0.0, x0, $vlc_cart[0], x1, $vlc_cart[0]+2, y0, 10, y1, 9, amp, -120])
						// $tracks("gran_buffer_vln_mes_230").bpf_param("Gran_multi_trig_7", y0, [2, 8, -2])
						// $tracks("gran_buffer_vln_mes_230").bpf_param("Gran_multi_trig_7", y1, [3, 8, -3])
						// $tracks("gran_buffer_vln_mes_230").bpf_param("Gran_multi_trig_7", trigRate, [20, 4, "exp_in", 50, 4, "exp_out", 30])
						// $tracks("gran_buffer_vln_mes_230").rand_lfo("Gran_multi_trig_7", trigRate, 10, 50, 10, "linear", 70)						
						// $tracks("gran_buffer_vln_mes_230").bpf_param("Gran_multi_trig_7", rate, [1, 4, "exp_in", 1, 4, "exp_out", 1])
						// $tracks("gran_buffer_vln_mes_230").bpf_param("Gran_multi_trig_7", dur, [0.7, 4, "exp_in", 0.1, 2.5, 0.2])
						// $tracks("gran_buffer_vln_mes_230").bpf_param("Gran_multi_trig_7", amp, [-120, 0.1, -120, 0.1, 0])
						obj::crea_track_HOA("fluid_sines_vln", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $vln, "amp", 0], ["Fluid_Sines"], [TGranBuf_mono, buf, @buff_gran("server1"), envbuf, $envs("server1")("carre")]]) 
						$tracks("fluid_sines_vln").nim_multi_param(TGranBuf_mono, "fluid_sines_vln") 

						// $tracks("fluid_sines_vln").set(TGranBuf_mono, [trigRate, 6])
						// $tracks("fluid_sines_vln").set(TGranBuf_mono, [dur, 0.5])
						// $tracks("fluid_sines_vln").rand_lfo(TGranBuf_mono, trigRate, 1, 10, 5, "linear", 70)						
						// $tracks("fluid_sines_vln").lfo_abort(TGranBuf_mono, trigRate)

						$tracks("fluid_sines_vln").set(TGranBuf_mono, [envbuf, $envs("server1")("rond")])
						$tracks("fluid_sines_vln").dae_rand_lfo([0.7, 1.2, $alto_dae[0], -72, 72, $alto_dae[1], 0, 45, 0], 20)
						$tracks("fluid_sines_vln").traj_abort()

						16 $tracks("fluid_sines_cl").free(1)
						$tracks("fluid_sines_vln").free(1)
					}
				case "freeze_mes232":
					group @tempo $RT_TEMPO
					{
						$chop_fl_mes_232_dur := 5 
						$chop_fl_mes_232_amp := -3				
						$rec_buf7_05.rec($fl)
						obj::crea_track_HOA("play_env_trig_fl_mes_232", "group_hoa1", fade_in = 0.0001, amp = $chop_fl_mes_232_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf7_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))]])
						// $tracks("play_env_trig_fl_mes_232").bpf_param("TBufRdEnvInterp", "impulse_rate", [12, $chop_fl_mes_232_dur, "sine", 15])
						// $tracks("play_env_trig_fl_mes_232").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_fl_mes_232_dur/3, "sine", 1])
						// $tracks("play_env_trig_fl_mes_232").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_fl_mes_232_dur, "sine", 1.15])
						// $tracks("play_env_trig_fl_mes_232").amp([$chop_fl_mes_232_amp, $chop_fl_mes_232_dur, $chop_fl_mes_232_amp, 0.2, $chop_fl_mes_232_amp]) //, free = 0.1, action = ["flearbuf", $rec_buf11_05])
						// $tracks("play_env_trig_fl_mes_232").traj_circ_interp2($fl_dae, $trb_dae, $chop_fl_mes_232_dur, 1)
						// $tracks("play_env_trig_fl_mes_232").set(CompressorD, [thresh, 0.3])
						// $tracks("play_env_trig_fl_mes_232").dae_rand_lfo([1.5, 10, $fl_dae[0], -180, 180, $fl_dae[1], 0, 45, 0], 80)
						// $tracks("play_env_trig_fl_mes_232").xyz_rand_lfo([-4, 4, $vlc_cart[0], -4, 4, $vlc_cart[0], 0, 2, $vlc_cart[0]], 80) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol												
						obj::crea_track_HOA("gran_buffer_fl_mes_232", "group_hoa1", amp = 0, encoder = false) // track without encoder 
						$tracks("gran_buffer_fl_mes_232").mod_add(["Gran_multi_trig_7", buf, $rec_buf7_05.id(), "posLo", 0.1, "posHi", 0.5, posRate, 0.04, "trigRate", 0, trigRateDev, 00.1, "rate", 1, dur, 0.25, durDev, 0.0, x0, $fl_cart[0], x1, $fl_cart[0]+2, y0, 10, y1, 9, amp, -120])
						// $tracks("gran_buffer_fl_mes_232").bpf_param("Gran_multi_trig_7", y0, [2, 8, -2])
						// $tracks("gran_buffer_fl_mes_232").bpf_param("Gran_multi_trig_7", y1, [3, 8, -3])
						// $tracks("gran_buffer_fl_mes_232").bpf_param("Gran_multi_trig_7", trigRate, [20, 4, "exp_in", 50, 4, "exp_out", 30])
						$tracks("gran_buffer_fl_mes_232").rand_lfo("Gran_multi_trig_7", trigRate, 10, 30, 10, "linear", 70)
						// $tracks("gran_buffer_fl_mes_232").bpf_param("Gran_multi_trig_7", rate, [1, 4, "exp_in", 1, 4, "exp_out", 1])
						// $tracks("gran_buffer_fl_mes_232").bpf_param("Gran_multi_trig_7", dur, [0.7, 4, "exp_in", 0.1, 2.5, 0.2])
						// $tracks("gran_buffer_fl_mes_232").bpf_param("Gran_multi_trig_7", amp, [-120, 0.1, -120, 0.1, 0])
						$tracks("gran_buffer_fl_mes_232").nim_multi_param("Gran_multi_trig_7", "freeze_mes232-fl") 

						$chop_bsn_mes_232_dur := 5 
						$chop_bsn_mes_232_amp := -3												
						$rec_buf8_05.rec($bsn)
						// obj::crea_track_HOA("play_env_trig_bsn_mes_232", "group_hoa1", fade_in = 0.0001, amp = $chop_bsn_mes_232_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf8_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))]])
						// $tracks("play_env_trig_bsn_mes_232").bpf_param("TBufRdEnvInterp", "impulse_rate", [12, $chop_bsn_mes_232_dur, "sine", 15])
						// $tracks("play_env_trig_bsn_mes_232").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_bsn_mes_232_dur/3, "sine", 1])
						// $tracks("play_env_trig_bsn_mes_232").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_bsn_mes_232_dur, "sine", 1.15])
						// $tracks("play_env_trig_bsn_mes_232").amp([$chop_bsn_mes_232_amp, $chop_bsn_mes_232_dur, $chop_bsn_mes_232_amp, 0.2, $chop_bsn_mes_232_amp]) //, free = 0.1, action = ["clearbuf", $rec_buf11_05])
						// $tracks("play_env_trig_bsn_mes_232").xyz_rand_lfo([-4, 4, $vlc_cart[0], -4, 4, $vlc_cart[0], 0, 2, $vlc_cart[0]], 80) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol					
						obj::crea_track_HOA("gran_buffer_bsn_mes_232", "group_hoa1", amp = 0, encoder = false) // track without encoder 
						$tracks("gran_buffer_bsn_mes_232").mod_add(["Gran_multi_trig_7", buf, $rec_buf8_05.id(), "posLo", 0.1, "posHi", 0.5, posRate, 0.04, "trigRate", 0, trigRateDev, 00.1, "rate", 1, dur, 0.25, durDev, 0.0, x0, $vlc_cart[0], x1, $vlc_cart[0]+2, y0, 10, y1, 9, amp, -120])
						// $tracks("gran_buffer_bsn_mes_232").bpf_param("Gran_multi_trig_7", y0, [2, 8, -2])
						// $tracks("gran_buffer_bsn_mes_232").bpf_param("Gran_multi_trig_7", y1, [3, 8, -3])
						// $tracks("gran_buffer_bsn_mes_232").bpf_param("Gran_multi_trig_7", trigRate, [20, 4, "exp_in", 50, 4, "exp_out", 30])
						$tracks("gran_buffer_bsn_mes_232").rand_lfo("Gran_multi_trig_7", trigRate, 10, 30, 10, "linear", 70)
						// $tracks("gran_buffer_bsn_mes_232").bpf_param("Gran_multi_trig_7", rate, [1, 4, "exp_in", 1, 4, "exp_out", 1])
						// $tracks("gran_buffer_bsn_mes_232").bpf_param("Gran_multi_trig_7", dur, [0.7, 4, "exp_in", 0.1, 2.5, 0.2])
						// $tracks("gran_buffer_bsn_mes_232").bpf_param("Gran_multi_trig_7", amp, [-120, 0.1, -120, 0.1, 0])						
						$tracks("gran_buffer_bsn_mes_232").nim_multi_param("Gran_multi_trig_7", "freeze_mes232-bsn") 
					
						$chop_trp_mes_232_dur := 5 
						$chop_trp_mes_232_amp := -3
						$rec_buf9_05.rec($trp)
						// obj::crea_track_HOA("play_env_trig_trp_mes_232", "group_hoa1", fade_in = 0.0001, amp = $chop_trp_mes_232_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf9_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))]])
						// $tracks("play_env_trig_trp_mes_232").bpf_param("TBufRdEnvInterp", "impulse_rate", [12, $chop_trp_mes_232_dur, "sine", 15])
						// $tracks("play_env_trig_trp_mes_232").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_trp_mes_232_dur/3, "sine", 1])
						// $tracks("play_env_trig_trp_mes_232").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_trp_mes_232_dur, "sine", 1.15])
						// $tracks("play_env_trig_trp_mes_232").amp([$chop_trp_mes_232_amp, $chop_trp_mes_232_dur, $chop_trp_mes_232_amp, 0.2, $chop_trp_mes_232_amp]) //, free = 0.1, action = ["trpearbuf", $rec_buf11_05])
						// $tracks("play_env_trig_trp_mes_232").xyz_rand_lfo([-4, 4, $vlc_cart[0], -4, 4, $vlc_cart[0], 0, 2, $vlc_cart[0]], 80) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol												
						obj::crea_track_HOA("gran_buffer_trp_mes_232", "group_hoa1", amp = $chop_trp_mes_232_amp, encoder = false) // track without encoder 
						$tracks("gran_buffer_trp_mes_232").mod_add(["Gran_multi_trig_7", buf, $rec_buf9_05.id(), "posLo", 0.1, "posHi", 0.5, posRate, 0.04, "trigRate", 0, trigRateDev, 00.1, "rate", 1, dur, 0.25, durDev, 0.0, x0, $vlc_cart[0], x1, $vlc_cart[0]+2, y0, 10, y1, 9, amp, -120])
						// $tracks("gran_buffer_trp_mes_232").bpf_param("Gran_multi_trig_7", y0, [2, 8, -2])
						// $tracks("gran_buffer_trp_mes_232").bpf_param("Gran_multi_trig_7", y1, [3, 8, -3])
						// $tracks("gran_buffer_trp_mes_232").bpf_param("Gran_multi_trig_7", trigRate, [20, 4, "exp_in", 50, 4, "exp_out", 30])
						$tracks("gran_buffer_trp_mes_232").rand_lfo("Gran_multi_trig_7", trigRate, 5, 15, 10, "linear", 70)
						// $tracks("gran_buffer_trp_mes_232").bpf_param("Gran_multi_trig_7", rate, [1, 4, "exp_in", 1, 4, "exp_out", 1])
						// $tracks("gran_buffer_trp_mes_232").bpf_param("Gran_multi_trig_7", dur, [0.7, 4, "exp_in", 0.1, 2.5, 0.2])
						// $tracks("gran_buffer_trp_mes_232").bpf_param("Gran_multi_trig_7", amp, [-120, 0.1, -120, 0.1, 0])						
						$tracks("gran_buffer_trp_mes_232").nim_multi_param("Gran_multi_trig_7", "freeze_mes232-trp") 
						$tracks("gran_buffer_trp_mes_232").amp(-3)

						$chop_alto_mes_232_dur := 5 
						$chop_alto_mes_232_amp := -3												
						$rec_buf10_05.rec($alto)
						// obj::crea_track_HOA("play_env_trig_alto_mes_232", "group_hoa1", fade_in = 0.0001, amp = $chop_alto_mes_232_amp, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $rec_buf10_05.id(), envbuf0, $envs("server1")("rond"), envbuf1, ($envs("server1")("perc"))]])
						// $tracks("play_env_trig_alto_mes_232").bpf_param("TBufRdEnvInterp", "impulse_rate", [12, $chop_alto_mes_232_dur, "sine", 15])
						// $tracks("play_env_trig_alto_mes_232").bpf_param("TBufRdEnvInterp", "interp", [-1, $chop_alto_mes_232_dur/3, "sine", 1])
						// $tracks("play_env_trig_alto_mes_232").bpf_param("TBufRdEnvInterp", "rate", [1, $chop_alto_mes_232_dur, "sine", 1.15])
						// $tracks("play_env_trig_alto_mes_232").amp([$chop_alto_mes_232_amp, $chop_alto_mes_232_dur, $chop_alto_mes_232_amp, 0.2, $chop_alto_mes_232_amp]) //, free = 0.1, action = ["clearbuf", $rec_buf11_05])
						// $tracks("play_env_trig_alto_mes_232").xyz_rand_lfo([-4, 4, $vlc_cart[0], -4, 4, $vlc_cart[0], 0, 2, $vlc_cart[0]], 80) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol	
						obj::crea_track_HOA("gran_buffer_alto_mes_232", "group_hoa1", amp = 0, encoder = false) // track without encoder 
						$tracks("gran_buffer_alto_mes_232").mod_add(["Gran_multi_trig_7", buf, $rec_buf10_05.id(), "posLo", 0.1, "posHi", 0.5, posRate, 0.04, "trigRate", 0, trigRateDev, 00.1, "rate", 1, dur, 0.25, durDev, 0.0, x0, $vlc_cart[0], x1, $vlc_cart[0]+2, y0, 10, y1, 9, amp, -120])
						// $tracks("gran_buffer_alto_mes_232").bpf_param("Gran_multi_trig_7", y0, [2, 8, -2])
						// $tracks("gran_buffer_alto_mes_232").bpf_param("Gran_multi_trig_7", y1, [3, 8, -3])
						// $tracks("gran_buffer_alto_mes_232").bpf_param("Gran_multi_trig_7", trigRate, [20, 4, "exp_in", 50, 4, "exp_out", 30])
						$tracks("gran_buffer_alto_mes_232").rand_lfo("Gran_multi_trig_7", trigRate, 10, 30, 10, "linear", 70)
						// $tracks("gran_buffer_alto_mes_232").bpf_param("Gran_multi_trig_7", rate, [1, 4, "exp_in", 1, 4, "exp_out", 1])
						// $tracks("gran_buffer_alto_mes_232").bpf_param("Gran_multi_trig_7", dur, [0.7, 4, "exp_in", 0.1, 2.5, 0.2])
						// $tracks("gran_buffer_alto_mes_232").bpf_param("Gran_multi_trig_7", amp, [-120, 0.1, -120, 0.1, 0])							
						$tracks("gran_buffer_alto_mes_232").nim_multi_param("Gran_multi_trig_7", "freeze_mes232-vla") 

						14 $tracks("play_env_trig_fl_mes_232").free(1)
						$tracks("gran_buffer_fl_mes_232").free(1)
						$tracks("gran_buffer_bsn_mes_232").free(1)
						$tracks("gran_buffer_trp_mes_232").free(1)
						$tracks("gran_buffer_alto_mes_232").free(1)
					}

			}			
	}
}


0.4 $tracks("notas_elec").gui("FdnReverb")
$tracks("gran_proc").gui("FdnReverb")


NOTE 60 1 Test_notes

obj::crea_track_HOA("gran_buffer_hit", "group_hoa2", amp = 0, encoder = false) // track without encoder 
$tracks("gran_buffer_hit").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("hit-corto1.aif"), "posLo", 0.2, "posHi", 0.5, "posRateE", -1, "posRateM", 0.8, "overlap", 10, "trigRate", 45, "rate", 1])
$tracks("gran_buffer_hit").master_vst("FdnReverb")
$tracks("gran_buffer_hit").gui("FdnReverb")
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [posLo, 0.0])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [posHi, 0.01])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [posRate, 0.04])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [posDev, 0.0])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [trigRate, 85.1])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [trigRateDev, 0])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [dur, 0.1])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [durDev, 0.0])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [rate, 1.0])
$tracks("gran_buffer_hit").rand_lfo("Gran_multi_trig_7", x0, -1, 1, 1, "linear", 150)
$tracks("gran_buffer_hit").rand_lfo("Gran_multi_trig_7", x1, -1, 1, 1, "linear", 150)
$tracks("gran_buffer_hit").rand_lfo("Gran_multi_trig_7", y0, 1, -1, 1, "linear", 200)
$tracks("gran_buffer_hit").rand_lfo("Gran_multi_trig_7", y1, -1, 1, 1, "linear", 200)
$tracks("gran_buffer_hit").rand_lfo("Gran_multi_trig_7", z0, 0, 1, 0, "linear", 200)
$tracks("gran_buffer_hit").rand_lfo("Gran_multi_trig_7", z1, 0, 1, 0, "linear", 200)	
$tracks("gran_buffer_hit").free()
$tracks("gran_buffer_hit").amp(0)


///
obj::crea_track_HOA("gran_buffer_hit", "group_hoa2", amp = 0, encoder = false) // track without encoder 
$tracks("gran_buffer_hit").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("hit-corto1.aif"), "posLo", 0.2, "posHi", 0.5, "posRateE", -1, "posRateM", 0.8, "overlap", 10, "trigRate", 45, "rate", 1])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [posLo, 0.0])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [posHi, 0.01])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [posRate, 0.04])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [posDev, 0.0])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [trigRate, 85.1])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [trigRateDev, 0])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [dur, 0.1])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [durDev, 0.0])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [rate, 1.0])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [y0, 0.5])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [y1, -0.5])
$tracks("gran_buffer_hit").bpf_param("Gran_multi_trig_7", x0, [10, 10, -10])
$tracks("gran_buffer_hit").bpf_param("Gran_multi_trig_7", x1, [9, 10, -9])
// $tracks("gran_buffer_hit").bpf_param("Gran_multi_trig_7", trigRate, [20, 5, "exp_in", 100, 5, "exp_out", 0.8])
$tracks("gran_buffer_hit").bpf_param("Gran_multi_trig_7", trigRate, [20, 5, "exp_in", 500, 5, "exp_out", 0.8])

$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [y0, 0.5])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [y1, -0.5])
$tracks("gran_buffer_hit").bpf_param("Gran_multi_trig_7", x0, [10, 10, -10])
$tracks("gran_buffer_hit").bpf_param("Gran_multi_trig_7", x1, [9, 10, -9])
// $tracks("gran_buffer_hit").bpf_param("Gran_multi_trig_7", trigRate, [20, 5, "exp_in", 100, 5, "exp_out", 0.8])

//// nuevo
obj::crea_track_HOA("gran_buffer_hit2", "group_hoa2", amp = 0, encoder = false) // track without encoder 
$tracks("gran_buffer_hit2").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("hit-corto1.aif"), "posLo", 0.2, "posHi", 0.5, "posRateE", -1, "posRateM", 0.8, "overlap", 10, "trigRate", 45, "rate", 1])

$tracks("gran_buffer_hit2").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_6.aif")])
$tracks("gran_buffer_hit2").bpf_param("Gran_multi_trig_7", y0, [10, 10, -10])
$tracks("gran_buffer_hit2").bpf_param("Gran_multi_trig_7", y1, [9, 10, -9])
$tracks("gran_buffer_hit2").bpf_param("Gran_multi_trig_7", trigRate, [20, 5, "exp_in", 90, 5, "exp_out", 0.8])
$tracks("gran_buffer_hit2").bpf_param("Gran_multi_trig_7", rate, [1, 5, "exp_in", 0.98, 5, "exp_out", 0.97])
$tracks("gran_buffer_hit2").free()
////


//// nuevo2
obj::crea_track_HOA("gran_buffer_hit3", "group_hoa2", amp = 0, encoder = false) // track without encoder 
$tracks("gran_buffer_hit3").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("cor2_bisb_do5.aif"), "posLo", 0.2, "posHi", 0.5, "posRateE", -1, "posRateM", 0.8, "overlap", 10, "trigRate", 45, "rate", 1])

// $tracks("gran_buffer_hit3").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_6.aif")])
$tracks("gran_buffer_hit3").set("Gran_multi_trig_7", [dur, 0.05])
$tracks("gran_buffer_hit3").bpf_param("Gran_multi_trig_7", y0, [10, 10, -10])
$tracks("gran_buffer_hit3").bpf_param("Gran_multi_trig_7", y1, [9, 10, -9])
$tracks("gran_buffer_hit3").bpf_param("Gran_multi_trig_7", trigRate, [20, 5, "exp_in", 90, 8, "exp_out", 0.])
$tracks("gran_buffer_hit3").bpf_param("Gran_multi_trig_7", rate, [1, 5, "exp_in", 0.98, 5, "exp_out", 0.97])

$tracks("gran_buffer_hit3").free()

//// nuevo3
obj::crea_track_HOA("gran_buffer_hit4", "group_hoa2", amp = 0, encoder = false) // track without encoder 
$tracks("gran_buffer_hit4").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("boronzon-re5-mono.aif"), "posLo", 0.2, "posHi", 0.5, "posRateE", -1, "posRateM", 0.8, "overlap", 10, "trigRate", 45, "rate", 1])

$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [dur, 0.05])
$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", y0, [10, 10, -10])
$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", y1, [9, 10, -9])
$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", trigRate, [20, 5, "exp_in", 40, 8, "exp_out", 0.])
$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", dur, [0.05, 5, "exp_in", 0.02, 8, "exp_out", 0.05])
$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", rate, [1, 5, "exp_in", 0.98, 5, "exp_out", 0.97])
/// v2
$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [dur, 0.05])
$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", y0, [10, 5, 0])
$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", y1, [9, 5, 0])
$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", trigRate, [10, 5, "exp_in", 20, 0.1, 0])
$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", dur, [0.05, 5, "exp_in", 0.02])
$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", rate, [1, 5, "exp_in", 0.98])

$tracks("gran_buffer_hit4").free()

// ("boronzon-si4-mono.aif")
// ("boronzon-sol4-mono.aif")

// hourglass_do6.aif

// qued aqui 
obj::crea_track_HOA("gran_buffer_hit4", "group_hoa2", amp = 0, encoder = false) // track without encoder 
$tracks("gran_buffer_hit4").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("hourglass_do6.aif"), "posLo", 0.0072, "posHi", 0.0073, "trigRate", 20.3, "rate", 3.0, x0, 1, x1, -1, amp, -120])

$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hourglass_do6.aif")])
$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [posLo, 0.0072])
$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [posHi, 0.0073])
$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [posRate, 0.0])
$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [posDev, 0.0])
$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [trigRate, 20.3])
$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [trigRateDev, 0])
$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [dur, 0.08])
$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [durDev, 0.0])
$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [rate, 3.0])
$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [x0, 1])
$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [x1, -1.0])
$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [y0, 1])
$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [y1, 1])
$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [z0, 0])
$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [z1, 0.5])

$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", y0, [5, 5, 0, 5, -5])
$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", y1, [4, 5, 0, 5, -5])
$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", trigRate, [10, 5, "linear", 400, 4, 30])
$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", amp, [-120, 1, -20, 0.1, 0])

$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", dur, [0.09, 5, "linear", 0.045])
$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", rate, [1, 5, "linear", 1.0])
$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [dur, 0.05])
$tracks("gran_buffer_hit4").amp(-7)
$tracks("gran_buffer_hit4").free()

group @tempo $RT_TEMPO
{	
	obj::crea_track_HOA("gran_buffer_hit4", "group_hoa2", amp = 0, encoder = false) // track without encoder 
	$tracks("gran_buffer_hit4").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("hourglass_do6.aif"), "posLo", 0.2, "posHi", 0.5, "posRateE", -1, "posRateM", 0.8, "overlap", 10, "trigRate", 45, "rate", 1])
	$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [posLo, 0.0072])
	$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [posHi, 0.0073])
	$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [posRate, 0.0])
	$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [posDev, 0.0])
	$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [trigRate, 50.3])
	$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [trigRateDev, 0])
	$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [dur, 0.09])
	$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [durDev, 0.0])
	$tracks("gran_buffer_hit4").set("Gran_multi_trig_7", [rate, 3.0])
	// $tracks("gran_buffer_alfi1").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_6.aif")])
	$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", y0, [10, 8, -10])
	$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", y1, [9, 8, -9])
	$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", trigRate, [1, 4, "exp_in", 40, 4, "exp_out", 0.8])
	$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", rate, [3, 4, "exp_in", 2.98, 4, "exp_out", 2.97])
	$tracks("gran_buffer_hit4").bpf_param("Gran_multi_trig_7", amp, [-120, 0.2, -120, 0.1, 0])
	10 $tracks("gran_buffer_hit4").free(0.1)
}

// hourglass_do6.aif
obj::crea_track_HOA("gran_buffer_hit5", "group_hoa2", amp = 0, encoder = false) // track without encoder 
$tracks("gran_buffer_hit5").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("hourglass_re6.aif"), "posLo", 0.2, "posHi", 0.5, "posRateE", -1, "posRateM", 0.8, "overlap", 10, "trigRate", 45, "rate", 1])

$tracks("gran_buffer_hit5").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hourglass_re6.aif")])
$tracks("gran_buffer_hit5").set("Gran_multi_trig_7", [posLo, 0.001])
$tracks("gran_buffer_hit5").set("Gran_multi_trig_7", [posHi, 0.017])
$tracks("gran_buffer_hit5").set("Gran_multi_trig_7", [posRate, 0.30])
$tracks("gran_buffer_hit5").set("Gran_multi_trig_7", [posDev, 0.0])
$tracks("gran_buffer_hit5").set("Gran_multi_trig_7", [trigRate, 20.3])
$tracks("gran_buffer_hit5").set("Gran_multi_trig_7", [trigRateDev, 0])
$tracks("gran_buffer_hit5").set("Gran_multi_trig_7", [dur, 0.05])
$tracks("gran_buffer_hit5").set("Gran_multi_trig_7", [durDev, 0.0])
$tracks("gran_buffer_hit5").set("Gran_multi_trig_7", [rate, 1.0])
$tracks("gran_buffer_hit5").set("Gran_multi_trig_7", [x0, 0.2])
$tracks("gran_buffer_hit5").set("Gran_multi_trig_7", [x1, -0.2])
$tracks("gran_buffer_hit5").set("Gran_multi_trig_7", [y0, 1])
$tracks("gran_buffer_hit5").set("Gran_multi_trig_7", [y1, -1])
$tracks("gran_buffer_hit5").set("Gran_multi_trig_7", [z0, 0])
$tracks("gran_buffer_hit5").set("Gran_multi_trig_7", [z1, 0.5])

$tracks("gran_buffer_hit5").bpf_param("Gran_multi_trig_7", x0, [-5, 5, 0])
$tracks("gran_buffer_hit5").bpf_param("Gran_multi_trig_7", x1, [-4, 5, 0])
$tracks("gran_buffer_hit5").bpf_param("Gran_multi_trig_7", trigRate, [10, 5, "linear", 30, 0.1, 30])
// $tracks("gran_buffer_hit5").bpf_param("Gran_multi_trig_7", dur, [0.05, 5, "exp_in", 0.02])
$tracks("gran_buffer_hit5").bpf_param("Gran_multi_trig_7", rate, [1, 5, "exp_in", 1])
$tracks("gran_buffer_hit5").amp(-13) /////////
$tracks("gran_buffer_hit5").free()


// a poner
group @tempo $RT_TEMPO
{	
	obj::crea_track_HOA("gran_buffer_alfi1", "group_hoa2", amp = 0, encoder = false) // track without encoder 
	$tracks("gran_buffer_alfi1").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("alfi1.aif"), "posLo", 0.0001, "posHi", 0.02, posRate, 1.0, "trigRate", 0, trigRateDev, 0, "rate", 1, dur, 0.1, durDev, 0.0, x0, 1, x1, -1, y0, 10, y1, 9, amp, -120])

	// $tracks("gran_buffer_alfi1").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_6.aif")])
	$tracks("gran_buffer_alfi1").bpf_param("Gran_multi_trig_7", y0, [10, 8, -10])
	$tracks("gran_buffer_alfi1").bpf_param("Gran_multi_trig_7", y1, [9, 8, -9])
	$tracks("gran_buffer_alfi1").bpf_param("Gran_multi_trig_7", trigRate, [1, 4, "exp_in", 40, 4, "exp_out", 0.8])
	$tracks("gran_buffer_alfi1").bpf_param("Gran_multi_trig_7", rate, [1, 4, "exp_in", 0.9, 4, "exp_out", 0.87])
	$tracks("gran_buffer_alfi1").bpf_param("Gran_multi_trig_7", amp, [-120, 0.2, -120, 0.1, 0])
	9 $tracks("gran_buffer_alfi1").free(1)
}


$tracks("gran_buffer_alfi1").set("Gran_multi_trig_7", [amp, 0])
$tracks("gran_buffer_alfi1").set("Gran_multi_trig_7", [posLo, 0.0001])
$tracks("gran_buffer_alfi1").set("Gran_multi_trig_7", [posHi, 0.02])
$tracks("gran_buffer_alfi1").set("Gran_multi_trig_7", [posRate, 1.0])
$tracks("gran_buffer_alfi1").set("Gran_multi_trig_7", [posDev, 0.0])
$tracks("gran_buffer_alfi1").set("Gran_multi_trig_7", [trigRate, 20.3])
$tracks("gran_buffer_alfi1").set("Gran_multi_trig_7", [trigRateDev, 0])
$tracks("gran_buffer_alfi1").set("Gran_multi_trig_7", [dur, 0.10])
$tracks("gran_buffer_alfi1").set("Gran_multi_trig_7", [durDev, 0.0])
$tracks("gran_buffer_alfi1").set("Gran_multi_trig_7", [rate, 1.4])
$tracks("gran_buffer_alfi1").free()

$Servers("server4").g_dumpTree(0, 1)
$Servers("server3").n_free(101)
///////// a rehacer : trp_bisb_si4
obj::crea_track_HOA("gran_buffer_trp_bisb_si4", "group_hoa2", amp = 0, encoder = false) // track without encoder 
$tracks("gran_buffer_trp_bisb_si4").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("trp_bisb_si4.aif"), "posLo", 0.2, "posHi", 0.5, "trigRate", 45, "rate", 1, trigRate, 17.3, dur, 0.25])
group @tempo $RT_TEMPO
{
	$tracks("gran_buffer_trp_bisb_si4").bpf_param("Gran_multi_trig_7", x0, [$trp_cart[0], 6, $cor2_cart[0], 4, $vlc_cart[0], 10, -8])
	$tracks("gran_buffer_trp_bisb_si4").bpf_param("Gran_multi_trig_7", x1, [$trp_cart[0], 6, $cor2_cart[0], 4,           0 , 10, -8])
	$tracks("gran_buffer_trp_bisb_si4").bpf_param("Gran_multi_trig_7", y0, [$trp_cart[1], 6, $cor2_cart[1], 4, $vlc_cart[1], 10, -10])
	$tracks("gran_buffer_trp_bisb_si4").bpf_param("Gran_multi_trig_7", y1, [$trp_cart[1], 6, $cor2_cart[1], 4, $vlc_cart[1], 10, -10])
	$tracks("gran_buffer_trp_bisb_si4").rand_lfo("Gran_multi_trig_7", x0, -1, 1, 1, "linear", 150)
	$tracks("gran_buffer_trp_bisb_si4").rand_lfo("Gran_multi_trig_7", posRate, 0.8, 1.2, 1, "linear", 150)
}

$tracks("gran_buffer_hit").rand_lfo("Gran_multi_trig_7", x0, -1, 1, 1, "linear", 150)

$tracks("gran_buffer_trp_bisb_si4").free()

obj::crea_track_HOA("gran_buffer_cor2_bisb_do5", "group_hoa2", amp = 0, encoder = false) // track without encoder 
$tracks("gran_buffer_cor2_bisb_do5").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("cor2_bisb_do5.aif"), "posLo", 0.1, "posHi", 0.6, "trigRate", 45, "rate", 1, trigRate, 17.3, dur, 0.32])
group @tempo $RT_TEMPO
{
	$tracks("gran_buffer_cor2_bisb_do5").bpf_param("Gran_multi_trig_7", x0, [$cor2_cart[0], 4, $cor1_cart[0], 6, $trp_cart[0], 8, -3])
	$tracks("gran_buffer_cor2_bisb_do5").bpf_param("Gran_multi_trig_7", x1, [$cor2_cart[0], 4, $cor1_cart[0], 6, $trp_cart[0], 8, -3])
	$tracks("gran_buffer_cor2_bisb_do5").bpf_param("Gran_multi_trig_7", y0, [$cor2_cart[1], 4, $cor1_cart[1], 6, $trp_cart[1], 8, 10])
	$tracks("gran_buffer_cor2_bisb_do5").bpf_param("Gran_multi_trig_7", y1, [$cor2_cart[1], 4, $cor1_cart[1], 6, $trp_cart[1], 8, 10])
	$tracks("gran_buffer_cor2_bisb_do5").rand_lfo("Gran_multi_trig_7", posRate, 15, 20, 18.1, "linear", 150)
}

$tracks("gran_buffer_cor2_bisb_do5").set("Gran_multi_trig_7", [posLo, 0.1])
$tracks("gran_buffer_cor2_bisb_do5").set("Gran_multi_trig_7", [posHi, 0.6])
$tracks("gran_buffer_cor2_bisb_do5").set("Gran_multi_trig_7", [posRate, 9.4])
$tracks("gran_buffer_cor2_bisb_do5").set("Gran_multi_trig_7", [trigRate, 17.3])
$tracks("gran_buffer_cor2_bisb_do5").set("Gran_multi_trig_7", [trigRateDev, 0])
$tracks("gran_buffer_cor2_bisb_do5").set("Gran_multi_trig_7", [dur, 0.32])
$tracks("gran_buffer_cor2_bisb_do5").set("Gran_multi_trig_7", [durDev, 0.0])
$tracks("gran_buffer_cor2_bisb_do5").free()

obj::crea_track_HOA("gran_buffer_cor1_bisb_lab", "group_hoa2", amp = 0, encoder = false) // track without encoder 
$tracks("gran_buffer_cor1_bisb_lab").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("cor1_bisb_lab-4.aif"), "posLo", 0.1, "posHi", 0.6, "trigRate", 18.1, "rate", 1, trigRate, 17.3, dur, 0.46])
group @tempo $RT_TEMPO
{
	$tracks("gran_buffer_cor1_bisb_lab").bpf_param("Gran_multi_trig_7", x0, [$cor1_cart[0], 4, $trb_cart[0], 8, -0.3, 4, 0.1])
	$tracks("gran_buffer_cor1_bisb_lab").bpf_param("Gran_multi_trig_7", x1, [$cor1_cart[0], 4, $trb_cart[0], 8, -0.3, 4, -0.1])
	$tracks("gran_buffer_cor1_bisb_lab").bpf_param("Gran_multi_trig_7", y0, [$cor1_cart[1], 4, $trb_cart[1], 8, 2.57, 4, -4])
	$tracks("gran_buffer_cor1_bisb_lab").bpf_param("Gran_multi_trig_7", y1, [$cor1_cart[1], 4, $trb_cart[1], 8, 2.57, 4, -4])
	$tracks("gran_buffer_cor1_bisb_lab").rand_lfo("Gran_multi_trig_7", posRate, 15, 20, 18.1, "linear", 150)
}

$tracks("gran_buffer_cor1_bisb_lab").set("Gran_multi_trig_7", [posLo, 0.1])
$tracks("gran_buffer_cor1_bisb_lab").set("Gran_multi_trig_7", [posHi, 0.6])
$tracks("gran_buffer_cor1_bisb_lab").set("Gran_multi_trig_7", [posRate, 18.1])
$tracks("gran_buffer_cor1_bisb_lab").set("Gran_multi_trig_7", [trigRate, 17.3])
$tracks("gran_buffer_cor1_bisb_lab").set("Gran_multi_trig_7", [trigRateDev, 0])
$tracks("gran_buffer_cor1_bisb_lab").set("Gran_multi_trig_7", [dur, 0.46])
$tracks("gran_buffer_cor1_bisb_lab").set("Gran_multi_trig_7", [durDev, 0.0])

$tracks("gran_buffer_cor1_bisb_lab").free()


obj::crea_track_HOA("gran_buffer_trb-mib2", "group_hoa2", amp = 0, encoder = false) // track without encoder 
$tracks("gran_buffer_trb-mib2").mod_add(["Gran_multi_trig_7", buf, $SF_map("server2")("trb-mib2.aif"), "posLo", 0.1, "posHi", 0.5, posRate, 7.2, "trigRate", 8, trigRateDev, 0, dur, 0.5, "rate", 1])
group @tempo $RT_TEMPO
{
	$tracks("gran_buffer_trb-mib2").bpf_param("Gran_multi_trig_7", x0, [$trb_cart[0], 4, 0.0, 4.5, $cor1_cart[0], 4, $cor2_cart[0]])
	$tracks("gran_buffer_trb-mib2").bpf_param("Gran_multi_trig_7", x1, [$trb_cart[0], 4, 0.0, 4.5, $cor1_cart[0], 4, $cor2_cart[0]])
	$tracks("gran_buffer_trb-mib2").bpf_param("Gran_multi_trig_7", y0, [$trb_cart[1], 4, 2.5, 4.5, $cor1_cart[1], 4, $cor2_cart[1]])
	$tracks("gran_buffer_trb-mib2").bpf_param("Gran_multi_trig_7", y1, [$trb_cart[1], 4, 2.5, 4.5, $cor1_cart[1], 4, $cor2_cart[1]])
	$tracks("gran_buffer_trb-mib2").bpf_param("Gran_multi_trig_7", rate, [1, 4, 0.98, 4.5, 1, 4, 0.98])
	$tracks("gran_buffer_trb-mib2").bpf_param("Gran_multi_trig_7", trigRate, [2, 4, 38, 4.5, 100, 4, 19])
	$tracks("gran_buffer_trb-mib2").rand_lfo("Gran_multi_trig_7", posRate, 5, 10, 7.2, "linear", 150)
}

$tracks("gran_buffer_trb-mib2").set("Gran_multi_trig_7", [posLo, 0.1])
$tracks("gran_buffer_trb-mib2").set("Gran_multi_trig_7", [posHi, 0.5])
$tracks("gran_buffer_trb-mib2").set("Gran_multi_trig_7", [posRate, 1.])
$tracks("gran_buffer_trb-mib2").set("Gran_multi_trig_7", [posDev, 0.0])
$tracks("gran_buffer_trb-mib2").set("Gran_multi_trig_7", [trigRate, 8])
$tracks("gran_buffer_trb-mib2").set("Gran_multi_trig_7", [trigRateDev, 0])
$tracks("gran_buffer_trb-mib2").set("Gran_multi_trig_7", [dur, 0.5])
$tracks("gran_buffer_trb-mib2").set("Gran_multi_trig_7", [durDev, 0.0])
$tracks("gran_buffer_trb-mib2").set("Gran_multi_trig_7", [rate, 1.0])

$tracks("gran_buffer_trb-mib2").amp(0)

$tracks("gran_buffer_trb-mib2").free()


/////////////::

$tracks("gran_buffer_hit").lfo_abort("Gran_multi_trig_7", x0)
$tracks("gran_buffer_hit").lfo_abort("Gran_multi_trig_7", x1)
$tracks("gran_buffer_hit").lfo_abort("Gran_multi_trig_7", y0)
$tracks("gran_buffer_hit").lfo_abort("Gran_multi_trig_7", y1)
$tracks("gran_buffer_hit").lfo_abort("Gran_multi_trig_7", z0)
$tracks("gran_buffer_hit").lfo_abort("Gran_multi_trig_7", z1)

$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [x0, 1])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [x1, -1])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [y0, 2])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [y1, 1])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [z0, 0])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [z1, 1])

print (""+$SF_map("server2")("hit-corto1.aif"))
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_7.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_6.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_5.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_4.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_3.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_2.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_1.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_9.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_8.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_10.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_11.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_12.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_13.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_14.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_15.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_16.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_17.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_18_ppp.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_19_pp.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_20.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_21_pp_bueno.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_22.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_23.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_24.aif")])//bueno
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_25.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_26.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto1.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("hit-corto2_9+silence.aif")])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [buf, $SF_map("server2")("cor1_bisb_lab-4.aif")])



$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [posLo, 0.0])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [posHi, 0.3])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [posRate, 27.9])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [posDev, 0.0])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [trigRate, 500])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [trigRateDev, 0])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [dur, 0.01])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [durDev, 0.1])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [rate, 210.0])


$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [posLo, 0.0])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [posHi, 1.0])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [posRate, 27.9])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [posDev, 0.0])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [trigRate, 300])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [trigRateDev, 0])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [dur, 0.5])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [durDev, 0.])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [rate, 1])



    // @proc_def bpf_param($module, $param, $bpf) 


$tracks("gran_buffer_hit").bpf_param("Gran_multi_trig_7", y0, [10, 10, -10])
$tracks("gran_buffer_hit").bpf_param("Gran_multi_trig_7", y1, [9, 10, -9])

$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [y0, 0.5])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [y1, -0.5])

$tracks("gran_buffer_hit").bpf_param("Gran_multi_trig_7", x0, [10, 10, -10])
$tracks("gran_buffer_hit").bpf_param("Gran_multi_trig_7", x1, [9, 10, -9])
$tracks("gran_buffer_hit").bpf_param("Gran_multi_trig_7", rate, [1, 5, "exp_in", 0.9, 5, "exp_out", 0.8])

$tracks("gran_buffer_hit").bpf_param("Gran_multi_trig_7", x0, [10, 5, 0])
$tracks("gran_buffer_hit").bpf_param("Gran_multi_trig_7", x1, [9, 5, 0])
$tracks("gran_buffer_hit").bpf_param("Gran_multi_trig_7", rate, [1, 5, "exp_in", 0.9, 5, "exp_out", 0.8])


$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [posRate, 3.6])
$tracks("gran_buffer_hit").set("Gran_multi_trig_7", [trigRate, 100])

// $tracks("specCombN_m60_vln").free()
// $tracks("specCombN_m60_alto").free()
// $tracks("specCombN_m60_vlc").free()
// $tracks("specCombN_m60_cb").free()



// crea_track8 track26 0 0 0 TAddic_20_8 transp 2.6070001125336 amp -14.55712223053 d 4.3000001907349 shift 0.0 distor 0.0 lfnoise_amp 0.0010000000474975 lag 0.0010000000474975 width 2.0 lag_spat 0.20000000298023 freqs ([ 808.28002929688, 870.34002685547, 870.34002685547, 1009.1400146484, 1297.7600097656, 1460.8499755859, 1460.8499755859, 1573.0200195312, 1573.0200195312, 1693.8100585938, 1693.8100585938, 1693.8100585938, 2451.9899902344, 2451.9899902344, 2451.9899902344, 3061.330078125, 3822.1000976562, 4115.6000976562, 3701.5100097656, 6765.3798828125 ]) amps ([ 0.40000000596046, 1.1599999666214, 0.75999999046326, 1.2699999809265, 1.3899999856949, 0.87999999523163, 1.0499999523163, 1.8799999952316, 1.0099999904633, 0.37000000476837, 1.4700000286102, 0.54000002145767, 1.0499999523163, 1.5499999523163, 1.0800000429153, 0.28999999165535, 1.9700000286102, 0.25999999046326, 1.5299999713898, 1.8600000143051 ]) pos ([ 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05 ])


/*obj::crea_track_HOA("add_gliss1", "group_hoa3", fade_in = 0.1, amp = -30, [TAddic_20_8, transp, 2.607, amp, 0, d, 4.3000001907349, shift, 0.0, distor, 0.0, lfnoise_amp, 0.0010000000474975, lag, 0.0010000000474975, width, 2.0, lag_spat, 0.20000000298023, freqs, [ 808.28002929688, 870.34002685547, 870.34002685547, 1009.1400146484, 1297.7600097656, 1460.8499755859, 1460.8499755859, 1573.0200195312, 1573.0200195312, 1693.8100585938, 1693.8100585938, 1693.8100585938, 2451.9899902344, 2451.9899902344, 2451.9899902344, 3061.330078125, 3822.1000976562, 4115.6000976562, 3701.5100097656, 6765.3798828125 ], amps, [ 0.40000000596046, 1.1599999666214, 0.75999999046326, 1.2699999809265, 1.3899999856949, 0.87999999523163, 1.0499999523163, 1.8799999952316, 1.0099999904633, 0.37000000476837, 1.4700000286102, 0.54000002145767, 1.0499999523163, 1.5499999523163, 1.0800000429153, 0.28999999165535, 1.9700000286102, 0.25999999046326, 1.5299999713898, 1.8600000143051 ], pos, [ 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05, 9.9999997473788e-05 ]]) // track for receive encoded HOA (granulation, etc)
$tracks("add_gliss1").free()
$tracks("add_gliss1").bpf_param(TAddic_20_8, transp, [2.607, 5, 0.165])

abort electro
print toto


obj::crea_track_HOA("gran_proc", "group_hoa3", amp = -6, encoder = false) // track for receive encoded HOA (granulation, etc)

$test_gran_proc2 := obj::HOAmbi_grain_xyz_rand_fix_track_buf_list([$SF_map("server3")("trb-la3+.aif"), $SF_map("server3")("trp-fa5.aif")], "perc", 0.9, 1.1, 0, 1, 0.002, 0.02, 0.05, 0.1, -0.5, -0.6, 0.5, 0.6, 0, 0.6, -6, "gran_proc", 1)
$test_gran_proc2.amp(6)
$test_gran_proc2.envbuf(carre)
$test_gran_proc2.rate_min(1)
$test_gran_proc2.rate_max(1)
$test_gran_proc2.pos_min(0)
$test_gran_proc2.pos_max(0)
$test_gran_proc2.ryth_min(0.07)
$test_gran_proc2.ryth_max(0.07)
$test_gran_proc2.env_dur_min(0.05)
$test_gran_proc2.env_dur_max(0.05)
$test_gran_proc2.rand_x_min(-1)
$test_gran_proc2.rand_x_max(1)
$test_gran_proc2.rand_y_min(-1)
$test_gran_proc2.rand_y_max(1)
$test_gran_proc2.rand_z_min(0)
$test_gran_proc2.rand_z_max(1)

// HOAmbi_grain_xyz_rand_fix_track_buf_list($buf_list, $envbuf, $rate_min, $rate_max, $pos_min, $pos_max, $ryth_min, $ryth_max, $env_dur_min, $env_dur_max, $x_min, $x_max, $y_min, $y_max, $z_min, $z_max, $amp, $track_HOA_NE, $grain_group) 

$test_gran_proc2 := obj::HOAmbi_grain_xyz_rand_fix_track_buf_list([$SF_map("server3")("trb-la3+.aif"), $SF_map("server3")("trp-fa5.aif")], "carre", 1, 1, 0, 0, 0.07, 0.07, 0.05, 0.05, -1, 1, -1, 1, 0, 0.6, 6, "gran_proc", 1)
*/
// $test_gran_proc2.free(3)

NOTE 60 1 mes_50_experimentos

print mes_50_experimentos

$test_buf := obj::buffer("server1", "toto")
$test_buf.allocRead("/Users/josephfernandez/sounds-off/concat/Raggi-p3-concat-mono.aif")
print (""+$test_buf.id())

$rec_buf25_1.read("/Users/josephfernandez/Documents/projet-Ircam/logic-test-synths/Projet/Audio\ Files/souffle-fl1.aif")
$rec_buf25_1.read("/Users/josephfernandez/sounds-off/concat/papillon-souffle-01.aif")
$rec_buf25_1.read("/Users/josephfernandez/sounds-off/concat/Raggi-p3-concat-mono.aif")
$rec_buf25_1.getn()
print (""+$rec_buf25_1.id())
// obj::crea_track_HOA("play_env_trigBufRd_mes33_4_n2", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvTrig", "buf", $rec_buf25_1.id(), envbuf, $envs("server1")("perc"), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
obj::crea_track_HOA("play_env_trigBufRd_mes33_4_n2", "group_hoa1", fade_in = 1, amp = 6, doppler = 0, in_channels = 1, [["TBufRdEnvInterp", "buf", $test_buf.id(), envbuf0, $envs("server1")("perc"), envbuf1, ($envs("server1")("inv")), freqHPF, 20], [CompressorD, thresh, 0.02, slopeBelow, 0.2, slopeAbove, 1, clampTime,  0.0019, relaxTime, 0.0028]])  //, [Norm, lev, 0.03]
$tracks("play_env_trigBufRd_mes33_4_n2").set("TBufRdEnvInterp", ["impulse_rate", 2])
$tracks("play_env_trigBufRd_mes33_4_n2").set("TBufRdEnvInterp", [envbuf0, $envs("server1")("perc")])
$tracks("play_env_trigBufRd_mes33_4_n2").set("TBufRdEnvInterp", [envbuf1, $envs("server1")("perc")])
$tracks("play_env_trigBufRd_mes33_4_n2").bpf_param("TBufRdEnvInterp", "interp", [-1, 6, 1])
$tracks("play_env_trigBufRd_mes33_4_n2").set("TBufRdEnvInterp", ["pos", @rand_range(0, 1)])
$tracks("play_env_trigBufRd_mes33_4_n2").set("TBufRdEnvInterp", ["interp", @rand_range(-1, 1)])
$tracks("play_env_trigBufRd_mes33_4_n2").set("TBufRdEnvInterp", [rate, @rand_range(-1, 1)])
$tracks("play_env_trigBufRd_mes33_4_n2").set("TBufRdEnvInterp", ["interp", 0])
$tracks("play_env_trigBufRd_mes33_4_n2").set("TBufRdEnvInterp", [rate, -0.5])


$tracks("play_env_trigBufRd_mes33_4_n2").set("TBufRdEnvInterp", ["buf", $rec_buf25_1.id()])

$tracks("play_env_trigBufRd_mes33_4_n2").bpf_param("TBufRdEnvTrig", "impulse_rate", [1, 8, "circ", 70])
$tracks("play_env_trigBufRd_mes33_4_n2").bpf_param("TBufRdEnvTrig", "rate", [1, 10, 3.5])
$tracks("play_env_trigBufRd_mes33_4_n2").amp([-10, 2, 8, 5, "quad", 10, 2, 7, 1, -10, 2, -60]) //, free = 0.1, action = ["clearbuf", $rec_buf25_1])
$tracks("play_env_trigBufRd_mes33_4_n2").traj_circ_interp($cl_dae, $bsn_dae, 8) 

$tracks("play_env_trigBufRd_mes33_4_n2").amp(10)
$tracks("play_env_trigBufRd_mes33_4_n2").free(1)


$t := [1, 2, 3, 4, 5, 6]

print (""+$t.drop(4))

$Servers("server5").notify(1)
// print: fluid_chroma /fluid_chroma 159 39 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.



whenever fluid_loudness ($fluid_loudness==$fluid_loudness)
{
	// print (""+$fluid_loudness)
	fluid_loudness $fluid_loudness
}



whenever fluid_pitch ($fluid_pitch==$fluid_pitch)
{
	// print fluid_pitch (""+$fluid_pitch)
	fluid_pitch $fluid_pitch
}


whenever fluid_spectralshape ($fluid_spectralshape==$fluid_spectralshape)
{
	// print fluid_spectralshape (""+$fluid_spectralshape)
	fluid_spectralshape $fluid_spectralshape
}


whenever fluid_chroma ($fluid_chroma==$fluid_chroma)
{
	// print fluid_chroma (""+$fluid_chroma)
	fluid_chroma $fluid_chroma
}


whenever fluid_melbands ($fluid_melbands==$fluid_melbands)
{
	// print fluid_melbands (""+$fluid_melbands)
	fluid_melbands $fluid_melbands
}


abort fluid_loudness
abort fluid_pitch
abort fluid_spectralshape
abort fluid_chroma
abort fluid_melbands


whenever ($lagTimeU==$lagTimeU)
{
	$loudness_alto.lagTimeU($lagTimeU)
	$pitch_alto.lagTimeU($lagTimeU)
	$spectralshape_alto.lagTimeU($lagTimeU)
	$chroma_alto.lagTimeU($lagTimeU)
	$melbands_alto.lagTimeU($lagTimeU)
}

whenever ($lagTimeD==$lagTimeD)
{
	$loudness_alto.lagTimeD($lagTimeD)
	$pitch_alto.lagTimeD($lagTimeD)
	$spectralshape_alto.lagTimeD($lagTimeD)
	$chroma_alto.lagTimeD($lagTimeD)
	$melbands_alto.lagTimeD($lagTimeD)
}

NOTE 60 1 pvco_play_env

$rec_buf_pvoc2_1 := obj::rec_buf_pvoc("server1", 2) // pvoc buffer "server", duration (absolute, can be relatif)
$rec_buf_pvoc2_2 := obj::rec_buf_pvoc("server1", 2) // pvoc buffer "server", duration (absolute, can be relatif)
$rec_buf_pvoc2_3 := obj::rec_buf_pvoc("server1", 2) // pvoc buffer "server", duration (absolute, can be relatif)

$pvoc_buf_map := map {}
print (""+$pvoc_buf_map)
$pvoc_buf_inc := 0
$loud_ctr := 0
forall $pv in 10
{
	$pvoc_buf_map.add_pair($pv, obj::rec_buf_pvoc("server1", 2))
}


whenever trig_loud_centroid ($trig_loud_centroid==$trig_loud_centroid)
{
	group 
	{
		@local $track_name := "pvoc_play"+$pvoc_buf_inc
		$pvoc_buf_map($pvoc_buf_inc).rec($alto)
		0.1 obj::crea_track_HOA($track_name, "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["TPlayPvocBufEnv", "buf", $pvoc_buf_map($pvoc_buf_inc).id(), envbuf, $envs("server1")("carre"), env_dur, $pvoc_buf_map($pvoc_buf_inc).abs_dur()], [TNHHall]]) 
		// $tracks($track_name).line_param("TPlayPvocBufEnv", "rate", 1, 10, 5)
		$tracks($track_name).set("TPlayPvocBufEnv", ["rate", $loud_ctr])
		$tracks($track_name).dae_rand_lfo([0.8, 2, 1, -180, 180, -90, 0, 90, 0])
		(@rand_range(3, 6)) $tracks($track_name).free(@rand_range(3, 6))
	}
	// $pvoc_buf_inc += 1
	$pvoc_buf_inc := ($pvoc_buf_inc + 1) % 10
}

abort trig_loud_centroid @norec



$size := 256
$fftSize := $size * 2
$maxdel := 1
print toto

$del_buf := obj::alloc_buffer("server1", "del_buf", $size)
$fb_buf := obj::alloc_buffer("server1", "fb_buf", $size)

print (""+$del_buf.id())
print (""+$fb_buf.id())

$del_buf.b_setn(@rand_vect($size, 0, $maxdel))
$del_buf.query()
$del_buf.b_getn()

$fb_buf.b_setn(@rand_vect($size, 0, 0.95))
$fb_buf.query()
$fb_buf.b_getn()


obj::crea_track_HOA("specdel_alto", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $alto, "amp", 0], ["SpecDel", "fftsize", $fftSize, "maxdel", $maxdel, "dels_buf", $del_buf.id(), "fb_buf", $fb_buf.id()]]) 
$tracks("specdel_alto").dae_rand_lfo([0.8, 2, 1, -180, 180, -90, 0, 90, 0])

// $tracks("specdel_alto").free(0)

$pitch_ctr := 0

whenever specdel_alto ($pitch_ctr==$pitch_ctr)
{
	if($pitch_ctr==1)
	{
		$tracks("specdel_alto").set("AudioInput", ["amp", 0]) // pos from 0->1
	}
	else
	{
		$tracks("specdel_alto").set("AudioInput", ["amp", -120]) // pos from 0->1
	}
}

///// Spec_del+fft_filt

$size := 256
$fftSize := $size * 2
$maxdel := 1

$del_buf2 := obj::alloc_buffer("server1", "del_buf2", $size)
$fb_buf2 := obj::alloc_buffer("server1", "fb_buf2", $size)
$fft_filt := obj::alloc_buffer("server1", "ftt_filt", $fftSize)

print (""+$del_buf2.id())
print (""+$fb_buf2.id())
print (""+$fft_filt.id())

$del_buf2.free()
$fb_buf2.free()
$fft_filt.free()

$del_buf2.b_setn(@rand_vect($size, 0, $maxdel))
$del_buf2.query()
$del_buf2.b_getn()

$fb_buf2.b_setn(@rand_vect($size, 0, 0.95))
$fb_buf2.query()
$fb_buf2.b_getn()

whenever del_buf2 ($del_buf2_tab==$del_buf2_tab)
{
	$del_buf2.b_setn($del_buf2_tab)
}

whenever fb_buf2 ($fb_buf2_tab==$fb_buf2_tab)
{
	$fb_buf2.b_setn($fb_buf2_tab)
}


whenever fft_filt ($fft_filt_tab==$fft_filt_tab)
{
	$fft_filt.b_setn($fft_filt_tab)
}

$fft_filt.query()
$fft_filt.b_getn()
$fft_filt.clear()
$fft_filt.free()


$Servers("server1").dumpOSC(1)
$Servers("server3").dumpOSC(1)
$Servers("server1").g_dumpTree(0, 1)



print toto

obj::crea_track_HOA("specdelFilt_alto", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $alto, "amp", 0], ["SpecDel_Filt", "fftsize", $fftSize, "maxdel", $maxdel, "dels_buf", $del_buf2.id(), "fb_buf", $fb_buf2.id(), "filt_buf", $fft_filt.id()]]) 
// obj::crea_track_HOA("specdelFilt_alto", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["Noise", "amp", 0.2], ["SpecFilt", "fftsize", $fftSize, "filt_buf", $fft_filt.id(), "hop", 0.5]]) 
obj::crea_track_HOA("specdelFilt_alto", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["Noise", "amp", 0.2], ["SpecDel_Filt", "fftsize", $fftSize, "maxdel", $maxdel, "dels_buf", $del_buf2.id(), "fb_buf", $fb_buf2.id(), "filt_buf", $fft_filt.id()]]) 
obj::crea_track_HOA("specdelFilt_alto", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $alto, "amp", 0], ["SpecDel_Filt_Post", "fftsize", $fftSize, "maxdel", $maxdel, "dels_buf", $del_buf2.id(), "fb_buf", $fb_buf2.id(), "filt_buf", $fft_filt.id()]]) 
$tracks("specdelFilt_alto").dae_rand_lfo([0.8, 2, 1, -180, 180, -90, 0, 90, 0])
$tracks("specdelFilt_alto").dae_rand_lfo_abort()
$tracks("specdelFilt_alto").free()

$tracks("specdelFilt_alto").interpol_2tab_param("SpecDel_Filt_Post", $param, $list, $intertime, $type = "linear") // for interpol between list (freqs, amps, etc)


$tab1_dels := @loadvalue($path_arrays + "/del_30")
$tab2_dels := @loadvalue($path_arrays + "/del_30_2")

$tab1_fb := @loadvalue($path_arrays + "/fb_30")
$tab2_fb := @loadvalue($path_arrays + "/fb_30_2")

$tab1_filt := @loadvalue($path_arrays + "/fil_30_1")
$tab2_filt := @loadvalue($path_arrays + "/fil_30_2")

print (""+$tab2)

whenever buf_tab_interpol ($buf_tab_interpol == $buf_tab_interpol)
{
	$del_buf2.interpol($tab1_dels, $tab2_dels, $buf_tab_interpol)
}

// abort buf_tab_interpol

whenever buf_fb_tab_interpol ($buf_fb_tab_interpol == $buf_fb_tab_interpol)
{
	$fb_buf2.interpol($tab1_fb, $tab2_fb, $buf_fb_tab_interpol)
}

whenever buf_filt_tab_interpol ($buf_filt_tab_interpol == $buf_filt_tab_interpol)
{
	$fft_filt.interpol($tab1_filt, $tab2_filt, $buf_filt_tab_interpol)
}

print (""+$del_buf2.id())

$del_buf2.interpol($tab1, $tab2, 0.5)


/////// Bueno

// Fluid_Sines

$trig_harms := 0
obj::crea_track_HOA("fluid_sines_alto_harmonics", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $alto, "amp", 0], ["Fluid_Sines"], [TGranBuf_mono, buf, @buff_gran("server1"), envbuf, $envs("server1")("carre")]]) 
obj::crea_track_HOA("fluid_sines_alto_harmonics", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["Noise", "amp", 0.2], ["Fluid_Sines"], [TGranBuf_mono, buf, @buff_gran("server1"), envbuf, $envs("server1")("carre")]]) 
$tracks("fluid_sines_alto_harmonics").dae_rand_lfo([0.8, 2, 1, -180, 180, -90, 0, 90, 0], 10)

$tracks("fluid_sines_alto_harmonics").set("TGranBuf_mono", [trigRate, 40, rate, 1, dur, 0.2, rateDev, 0, panDev, 0, trigRateDev, 20.0, centerDev, 0.])
$tracks("fluid_sines_alto_harmonics").set("TGranBuf_mono", [envbuf, $envs("server1")("rond")])
$tracks("fluid_sines_alto_harmonics").set("Noise", ["amp", -120])
whenever trig_harms ($trig_harms==$trig_harms)
{
	$tracks("fluid_sines_alto_harmonics").set("TGranBuf_mono", [t_trig, 1])
	print triggggggg
}

$tracks("fluid_sines_alto_harmonics").free()
abort trig_harms

$tracks("fluid_sines_alto_harmonics").set("TGranBuf_mono", [t_trig, 1])
$tracks("fluid_sines_alto_harmonics").set("TGranBuf_mono", [startPos, 0.5])

$tracks("fluid_sines_alto_harmonics").set("AudioInput", ["amp", -120])

$tracks("fluid_sines_alto_harmonics").free()


$rec_buf_pvoc_mes39.rec($alto)
0.1 obj::crea_track_HOA("pvco_scrub_mes39", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_mes39.id()]]) 
$tracks("pvco_scrub_mes39").rand_lfo_dyn("TScrubPvocBuf", "pos", 0, "linear", 60, $rec_buf_pvoc_mes39)

whenever trig_harms ($trig_harms==$trig_harms)
{
	group 
	{
		@local $track_name := "pvoc_play"+$pvoc_05_buf_inc, $range_dur := @rand_range(6, 10), $free_dur := @rand_range(3, 6), $pvoc_bb
		$pvoc_bb := $pvoc_buf_map_05($pvoc_05_buf_inc)
		// $pvoc_bb.rec($alto, fade_in = 1, fade_out = 0.5)
		// 1 obj::crea_track_HOA($track_name, "group_hoa1", fade_in = 0.1, amp = -6, doppler = 0, in_channels = 1, [["TScrubPvocBuf", "buf", $pvoc_bb.id(), envbuf, $envs("server1")("rond"), env_dur, $pvoc_bb.abs_dur()], [TNHHall, "rt60", 4]]) 
		// obj::crea_track_HOA($track_name, "group_hoa1", fade_in = 0.1, amp = -8, doppler = 0, in_channels = 1, [["AudioInput", "input", $alto, "amp", 0], ["FftFreezeOneOnset", "thresh", 0.01, "buf", @buff_fft("server1")]])
		obj::crea_track_HOA($track_name, "group_hoa1", fade_in = 0.1, amp = -12, in_channels = 1, [["AudioInput", "input", $alto, "amp", 0], ["TGranFreeze_mono", "rate", 1, "buf", @buff_gran("server1"), trigRate, 30, trigRateDev, 10.0, rate, 1, rateDev, 0, panDev, 1], [TNHHall, "rt60", 2]])
		// $tracks($track_name).dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("freeze_fl_mes302").free()
		// $tracks($track_name).rand_lfo_dyn("TScrubPvocBuf", "pos", 0, "linear", 200, $pvoc_bb)
		$tracks($track_name).dae_rand_lfo([0.8, 2, 1, -180, 180, -90, 0, 90, 0])

		// $tracks($track_name).set("TPlayPvocBufEnv", ["rate", $loud_ctr])
		$tracks($track_name).dae_rand_lfo([0.8, 2, 1, -180, 180, -90, 0, 90, 0])
		print range_dur $range_dur
		print free_dur $free_dur
		($range_dur) $tracks($track_name).free($free_dur)
		// abort $local_whn
		// ($free_dur) $pvoc_buf_map_05($pvoc_05_buf_inc).clear() // clear buf after use
	}
	// $pvoc_05_buf_inc += 1
	$pvoc_05_buf_inc := ($pvoc_05_buf_inc + 1) % 10
}

abort trig_harms
//////

obj::crea_track_HOA("fluid_sines_alto_harmonics", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $alto, "amp", 0], ["Fluid_Sines"]]) 

$tracks("fluid_sines_alto_harmonics").free()


obj::crea_track_HOA("fluid_sines_alto_noise", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $alto, "amp", 0], ["Fluid_Sines_Noise"]]) 
// $tracks("fluid_sines_alto_noise").set("Fluid_Sines_Noise", 
$tracks("fluid_sines_alto_noise").free()


//// Audio Transport

obj::crea_track_HOA("fluid_AudioTransport", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, in_channels = 1, [["AudioInput", "input", $alto, "amp", 0], ["Fluid_AudioTransport", buf, $audio_buf3.id()]]) 
$tracks("fluid_AudioTransport").dae_rand_lfo([0.8, 2, 1, -180, 180, -90, 0, 90, 0], 10)
$tracks("fluid_AudioTransport").set("Fluid_AudioTransport", ["interpolation", 0.1])
$tracks("fluid_AudioTransport").set("Fluid_AudioTransport", ["buf", $audio_buf4.id()])
$tracks("fluid_AudioTransport").set("Fluid_AudioTransport", ["buf", $audio_buf5.id()])
$tracks("fluid_AudioTransport").set("Fluid_AudioTransport", ["buf", $audio_buf6.id()])
$tracks("fluid_AudioTransport").amp(6)

$audio_buf3 := obj::buffer("server1", "audio_buf3")
$audio_buf3.allocRead("/Users/josephfernandez/sound_test/conformal1-1_4.aif")

print (""+$audio_buf3.id())

$audio_buf3.b_getn(0, 100)
$audio_buf3.query()

$audio_buf4 := obj::buffer("server1", "audio_buf4")
$audio_buf4.allocRead("/Users/josephfernandez/sound_test/cymbal+crash+bow_1.aif")

print (""+$audio_buf4.id())

$audio_buf5 := obj::buffer("server1", "audio_buf5")
$audio_buf5.allocRead("/Users/josephfernandez/sound_test/freeze1+env-decay-percIn-1.aiff")

print (""+$audio_buf5.id())

$audio_buf6 := obj::buffer("server1", "audio_buf6")
$audio_buf6.allocRead("/Users/josephfernandez/sound_test/gong-bow.aif")

$tracks("fluid_AudioTransport").free()


/////////

$rec_buf1_2.rec($alto)

0.1 obj::crea_track_HOA("warp1_play_alto_mes_3", "group_hoa1", fade_in = 1.5, amp = 0, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf1_2.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
$tracks("warp1_play_alto_mes_3").rand_lfo_dyn("Warp1Play", "pos", 0.01, "linear", 60, $rec_buf1_2)
$tracks("warp1_play_alto_mes_3").set("TJPverb_mono", [t60, 0.5])

$tracks("warp1_play_alto_mes_3").dae_rand_lfo([0.8, 2, 1, -180, 180, -90, 0, 90, 0], 10)

$tracks("warp1_play_alto_mes_3").free()


//// + Audio_transport

obj::crea_track_HOA("warp1_play_alto_AT2", "group_hoa1", fade_in = 1.5, amp = 0, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf1_2.id(), envbuf, $envs("server1")("pointe")], ["Fluid_AudioTransport", buf, $audio_buf6.id()], ["TJPverb_mono", t60, 0.5]]) // track without encoder 
$tracks("warp1_play_alto_AT2").rand_lfo_dyn("Warp1Play", "pos", 0.01, "linear", 60, $rec_buf1_2)
$tracks("warp1_play_alto_AT2").set("TJPverb_mono", [t60, 2])
$tracks("warp1_play_alto_AT2").set("Fluid_AudioTransport", ["interpolation", 0.1])

$tracks("warp1_play_alto_AT2").dae_rand_lfo([0.8, 2, 1, -180, 180, -90, 0, 90, 0], 10)

$tracks("warp1_play_alto_AT2").free()


//// + Audio_transport+Sinus

obj::crea_track_HOA("warp1_play_alto_AT2_sines", "group_hoa1", fade_in = 1.5, amp = 0, doppler = 0, in_channels = 1, [["Warp1Play", buf, $rec_buf1_2.id(), envbuf, $envs("server1")("pointe")], ["Fluid_AudioTransport", buf, $audio_buf6.id()], ["Fluid_Sines"], ["TJPverb_mono", t60, 0.5]]) // track without encoder 
$tracks("warp1_play_alto_AT2_sines").rand_lfo_dyn("Warp1Play", "pos", 0.01, "linear", 60, $rec_buf1_2)
$tracks("warp1_play_alto_AT2_sines").set("TJPverb_mono", [t60, 2])
$tracks("warp1_play_alto_AT2_sines").set("Fluid_AudioTransport", ["interpolation", 0.5])

$tracks("warp1_play_alto_AT2_sines").dae_rand_lfo([0.8, 2, 1, -180, 180, -90, 0, 90, 0], 10)

$tracks("warp1_play_alto_AT2_sines").amp(6)


$tracks("warp1_play_alto_AT2_sines").free()


//// pvoc

$rec_buf_pvoc_mes39.rec($alto)
0.1 obj::crea_track_HOA("pvco_scrub_mes39", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_mes39.id()]]) 
$tracks("pvco_scrub_mes39").rand_lfo_dyn("TScrubPvocBuf", "pos", 0, "linear", 60, $rec_buf_pvoc_mes39)
$tracks("pvco_scrub_mes39").free()

///// +AT
0.1 obj::crea_track_HOA("pvco_scrub_AT", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_mes39.id()], ["Fluid_AudioTransport", buf, $audio_buf6.id()]]) 
$tracks("pvco_scrub_AT").rand_lfo_dyn("TScrubPvocBuf", "pos", 0, "linear", 60, $rec_buf_pvoc_mes39)
$tracks("pvco_scrub_AT").set("Fluid_AudioTransport", ["interpolation", 0.001])
$tracks("pvco_scrub_AT").dae_rand_lfo([0.8, 2, 1, -180, 180, -90, 0, 90, 0], 10)
$tracks("pvco_scrub_AT").free()

///// +AT+Sinus
0.1 obj::crea_track_HOA("pvco_scrub_AT_sinus", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, in_channels = 1, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_mes39.id()], ["Fluid_AudioTransport", buf, $audio_buf6.id()], ["Fluid_Sines"]]) 
$tracks("pvco_scrub_AT_sinus").rand_lfo_dyn("TScrubPvocBuf", "pos", 0, "linear", 60, $rec_buf_pvoc_mes39)
$tracks("pvco_scrub_AT_sinus").set("Fluid_AudioTransport", ["interpolation", 0.001])
$tracks("pvco_scrub_AT_sinus").dae_rand_lfo([0.8, 2, 1, -180, 180, -90, 0, 90, 0], 10)
$tracks("pvco_scrub_AT_sinus").free()



//// real time granulation

$rec_buf2.rec($alto, loop = 1, doneAction = 0)

$rec_buf2.rec_loop(1)
// $rec_buf1.stop_record()

// $rec_buf1.free()
print ($rec_buf2.id())

obj::crea_track_HOA("gran_track2", "group_hoa1", amp = -6, encoder = false) // track for receive encoded HOA (granulation, etc)
// $tracks("gran_track2").master_vst("FdnReverb")
// $tracks("gran_track2").gui("FdnReverb")

// @proc_def 		  HOA_grain_xyz_rand_fix_track($buf, $envbuf, $rate_min, $rate_max, $pos_min, $pos_max, $ryth_min, $ryth_max, $env_dur_min, $env_dur_max, $x_min, $x_max, $y_min, $y_max, $z_min, $z_max, $amp, $track_no_decoder, $grain_group)
$test_gran_proc1 := obj::HOA_grain_xyz_rand_fix_track_buf($rec_buf2.id(), "pointe", 0.9, 1.1, 0, 1, 0.002, 0.02, 0.05, 0.1, 0.5, 0.6, 0.5, 0.6, 0, 0.6, -12, "gran_track2", 1)
// $test_gran_proc1.buf("Raggi-p3-concat.aif")
$test_gran_proc1.amp(-20)
$test_gran_proc1.xyz_interpol([[0.5, 0.6, 0.5, 0.6, 0.4, 0.6], 5, "linear", [-0.8, -0.8, 0.7, 0.7, 0., 1], 4, "exp_in", [-0.5, -0.6, -0.5, -0.6, 0.3, 0.3], 3, [0.6, 0.6, -0.6, -0.6, 0.5, 0.5], 4, "circ_in_out", [0.5, 0.6, 0.5, 0.6, 0.4, 0.8]], 10)
$nim_grain := NIM { 0 10, 9 120 "sine", 15 30 "linear"}
Curve @grain 0.01, @action {$test_gran_proc1.tempo_grain($gr_temp) } { $gr_temp : $nim_grain}

$test_gran_proc1.tempo_grain(300)
// $test_gran_proc1.tempo_loop(60)

// $test_gran_proc2.xyz_interpol_stop()

abort $test_gran_proc1 

//// rec_buf_onset (alla Silo)

// @obj_def rec_buf_onset($server_name, $duree) //create objet/buffer with parameters

$onset_test := obj::onset_detect("server5", $htb, thresh = 0.1, antirebond = 0.1, id = 0, amp = 0) // del in ms

$rec_buf1_5 := obj::rec_buf_onset("server1", duree = 5)

whenever onset_test ($onsetdetect==$onsetdetect)
{
	print (""+$onsetdetect)
}
$onset_test.free()
abort onset_test
$rec_buf1_5.free()
$Servers("server5").notify(1)

$onset_test.thresh(0.0001)

$rec_buf1_5.rec($htb)


print (""+$rec_buf1_5.dates())





// $rec_buf_pvoc10 := obj::rec_buf_pvoc("server1", 10) // pvoc buffer "server", duration (absolute, can be relatif)
// $rec_buf_pvoc10.query() // return info from server
// $rec_buf_pvoc10.rec($bsn) // record from audio input (if bus = true record from bus)
// print ($rec_buf_pvoc10.id())
// // $rec_buf_pvoc10.free()

// NOTE 60 1 pvco_play

// obj::crea_track_HOA("pvoc_play", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TPlayPvocBuf", "buf", $rec_buf_pvoc10.id()]]) 
// $tracks("pvoc_play").set("TPlayPvocBuf", ["rate", 2])
// $tracks("pvoc_play").rand_lfo("TPlayPvocBuf", "rate", -2, 2, 1, "linear", 200)
// $tracks("pvoc_play").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 80, "linear")
// // $tracks("pvoc_play").free()
// print toto
// obj::crea_track_HOA("pvoc_play2", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TPlayPvocBuf", "buf", $rec_buf_pvoc10.id(), "rate", 2]]) 
// $tracks("pvoc_play2").set("TPlayPvocBuf", ["rate", 3])
// $tracks("pvoc_play2").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 80, "linear")
// // $tracks("pvoc_play2").free()

// NOTE 60 1 pvco_scrub

// obj::crea_track_HOA("pvoc_scrub", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc10.id()]]) 
// $tracks("pvoc_scrub").set("TScrubPvocBuf", ["pos", 0.45]) // pos from 0->1
// $tracks("pvoc_scrub").rand_lfo("TScrubPvocBuf", "pos", 0.1, 0.69, 0, "linear", 60)
// $tracks("pvoc_scrub").lfo_abort("TScrubPvocBuf", "pos")
// $tracks("pvoc_scrub").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 80, "linear")
// $tracks("pvoc_scrub").free()
// NOTE 60 1 pvoc_playBins

// obj::crea_track_HOA("pvoc_playBins", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TBinPlayPvocBuf", "buf", $rec_buf_pvoc10.id(), "rate", 1, "offset", 0, "binStart", 0, "binSkip", 2, "numBins", 20, "loop", 0, "clear", 0]]) 
// $tracks("pvoc_playBins").set("TBinPlayPvocBuf", ["rate", 0.4])
// $tracks("pvoc_playBins").rand_lfo("TBinPlayPvocBuf", "rate", -2, 2, 1, "linear", 10)
// $tracks("pvoc_playBins").set("TBinPlayPvocBuf", ["binStart", 10])
// $tracks("pvoc_playBins").rand_lfo("TBinPlayPvocBuf", "binStart", 0, 50, 1, "linear", 60)
// $tracks("pvoc_playBins").lfo_abort("TBinPlayPvocBuf", "binStart")
// $tracks("pvoc_playBins").set("TBinPlayPvocBuf", ["binSkip", 1])
// $tracks("pvoc_playBins").set("TBinPlayPvocBuf", ["numBins", 52])
// $tracks("pvoc_playBins").rand_lfo("TBinPlayPvocBuf", "numBins", 10, 100, 1, "linear", 60)
// $tracks("pvoc_playBins").lfo_abort("TBinPlayPvocBuf", "numBins")
// $tracks("pvoc_playBins").set("TBinPlayPvocBuf", ["loop", 1])
// $tracks("pvoc_playBins").free()

// NOTE 60 1 pvco_scrubBins

// obj::crea_track_HOA("pvco_scrubBins", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TBinScrubPvocBuf", "buf", $rec_buf_pvoc10.id(), "pos", 0, "binStart", 0, "binSkip", 2, "numBins", 20, "clear", 0]]) 
// $tracks("pvco_scrubBins").set("TBinScrubPvocBuf", ["pos", 0.22]) // pos from 0->1
// $tracks("pvco_scrubBins").rand_lfo("TBinScrubPvocBuf", "pos", 0.1, 0.6, 0.1, "linear", 40)
// $tracks("pvco_scrubBins").lfo_abort("TBinScrubPvocBuf", "pos")
// $tracks("pvco_scrubBins").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 80, "linear")
// $tracks("pvco_scrubBins").rand_lfo_basic_track_pos_abort()
// $tracks("pvco_scrubBins").free()

// NOTE 60 1 SpecDel

// $size := 256
// $fftSize := $size * 2
// $maxdel := 1
// print toto

// $del_buf := obj::alloc_buffer("server1", "del_buf", $size)
// $fb_buf := obj::alloc_buffer("server1", "fb_buf", $size)

// print (""+$del_buf.id())
// print (""+$fb_buf.id())

// $del_buf.b_setn(@rand_vect($size, 0, $maxdel))
// $del_buf.query()
// $del_buf.b_getn()

// $fb_buf.b_setn(@rand_vect($size, 0, 0.95))
// $fb_buf.query()
// $fb_buf.b_getn()


// obj::crea_track_HOA("specdel_htb2", "group_hoa1", fade_in = 0.001, amp = 0, [["AudioInput", "input", $bsn, "amp", -6], ["SpecDel", "fftsize", $fftSize, "maxdel", $maxdel, "dels_buf", $del_buf.id(), "fb_buf", $fb_buf.id()]]) 
// $tracks("specdel_htb2").set("AudioInput", ["amp", -6, "input", $bsn]) // pos from 0->1
// $tracks("specdel_htb2").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 80, "linear")
// $tracks("specdel_htb2").doppler(0)
// $tracks("specdel_htb2").free(0)


// NOTE 60 1 SpecFilter

// obj::crea_track_HOA("SpecFilter_in", "group_hoa1", fade_in = 0.001, amp = 0, [["AudioInput", "input", $bsn, "amp", -6], ["FFT_BinFilter", "start", 0, "end", 30]]) 
// $tracks("SpecFilter_in").set("FFT_BinFilter", ["start", 80, "end", 1024]) // 
// $tracks("SpecFilter_in").set("FFT_BinFilter", ["start", 50, "end", 80]) // 
// $tracks("SpecFilter_in").set("FFT_BinFilter", ["start", 40, "end", 50]) // 
// $tracks("SpecFilter_in").set("FFT_BinFilter", ["start", 30, "end", 40]) // 
// $tracks("SpecFilter_in").set("FFT_BinFilter", ["start", 25, "end", 30]) // 
// $tracks("SpecFilter_in").set("FFT_BinFilter", ["start", 20, "end", 25]) // 
// $tracks("SpecFilter_in").set("FFT_BinFilter", ["start", 15, "end", 20]) //
// $tracks("SpecFilter_in").set("FFT_BinFilter", ["start", 13, "end", 15]) //
// $tracks("SpecFilter_in").set("FFT_BinFilter", ["start", 10, "end", 13]) //
// $tracks("SpecFilter_in").set("FFT_BinFilter", ["start", 8, "end", 10]) //
// $tracks("SpecFilter_in").set("FFT_BinFilter", ["start", 5, "end", 8]) //
// $tracks("SpecFilter_in").set("FFT_BinFilter", ["start", 0, "end", 5]) //
// $tracks("SpecFilter_in").free(0)

// NOTE 60 1 SpecFilter_filter6

// $size := 256
// $fftSize := $size * 2
// $maxdel := 1
// print toto

// $del_buf := $SC_Servers("server1")("buffer_id")
// $Servers("server1").b_alloc($del_buf, $size, 1) // $buffer_id variable globale de incrementation de buffers
// $SC_Servers("server1").add_pair("buffer_id", $del_buf + 1) // incremente le node_id dans le dico des serveurs

// $Servers("server1").b_setn([$del_buf, 0, $size, @rand_vect($size, 0, $maxdel)].flatten())

// $Servers("server1").b_query($del_buf)
// $Servers("server1").b_getn($del_buf, 10, 20)
// $Servers("server1").b_get($del_buf, 511)

// $fb_buf := $SC_Servers("server1")("buffer_id")
// $Servers("server1").b_alloc($fb_buf, $size, 1) // $buffer_id variable globale de incrementation de buffers
// $SC_Servers("server1").add_pair("buffer_id", $fb_buf + 1) // incremente le node_id dans le dico des serveurs

// $Servers("server1").b_setn([$fb_buf, 0, $size, @rand_vect($size, 0, 0.9)].flatten())

// $Servers("server1").b_query($fb_buf)
// $Servers("server1").b_getn($fb_buf, 10, 20)
// $Servers("server1").b_get($fb_buf, 511)

// obj::crea_track_HOA("SpecDelFilter", "group_hoa1", fade_in = 0.001, amp = 0, in_channels = 6, [["AudioInput", "input", $bsn, "amp", -6], ["SpecDel_MultiFilter6", "fftsize", $fftSize, "maxdel", $maxdel, "dels_buf", $del_buf, "fb_buf", $fb_buf], ["TGVerb_6"]]) 
// $tracks("SpecDelFilter").set("AudioInput", ["input", $bsn, "amp", -14])
// $tracks("SpecDelFilter").set("TGVerb_6", ["revtime", 10])

// $tracks("SpecDelFilter").set("SpecDel_MultiFilter6", ["gain", [-1, -2, -3, -4, -5, -6]])
// $tracks("SpecDelFilter").set("SpecDel_MultiFilter6", ["gain", [0, 0, 0, 0, -5, -6]])
// $tracks("SpecDelFilter").dae_rand_lfo([0.76, 2.2, 1, 180, -180, -45, 0, 0, 0, 0.76, 2.2, 1, -180, 180, 45, 0, 0, 0, 0.76, 2.2, 1, 180, -180, -45, 0, 0, 0, 0.76, 2.2, 1, -180, 180, 45, 0, 0, 0, 0.76, 2.2, 1, 180, -180, -45, 0, 0, 0, 0.76, 2.2, 1, -180, 180, 45, 0, 0, 0], 60) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
// $tracks("SpecDelFilter").dae_rand_lfo_abort()
// $tracks("SpecDelFilter").free(3)

// NOTE 60 1 HOA_multi_input

// $Servers("server1").g_dumpTree(0, 1)

// obj::crea_track_HOA("test1", "group_hoa1", fade_in = 0.001, amp = 0, in_channels = 2) 
// $tracks("test1").free(3)
// $tracks("test1").dae([1.2, -90, 0, 100.2, -90, 0])
// $tracks("test1").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol

// $tracks("test1").dae_rand_lfo_abort()

// $tracks("test1").mod_add(["Laconicism_15"])
// $tracks("test1").mod_add(["TestSynth2_2"])

// $tracks("test1").mod_add(["TDust", "freq", 10, "amp", -1])
// $tracks("test1").set("TDust", ["amp", 6])
// $tracks("test1").mod_remove("TestSynth3", 1)


// $Servers("server1").g_dumpTree(0, 1)

// NOTE 60 1 VBPVoc


// obj::crea_track_HOA("pvoc_1", "group_hoa1", fade_in = 0.001, amp = 0, in_channels = 6, ["VBPVocPlay6", "buf", $pvoc_anal1.VBPVoc_buf()]) 

// $tracks("pvoc_1").rand_lfo("VBPVocPlay6", "pos", 0., 1, 0.1, "linear", 40)
// $tracks("pvoc_1").lfo_abort("VBPVocPlay6", "pos")
// $tracks("pvoc_1").bpf_param("VBPVocPlay6", "pos", [0, 2.2, 1])

// $tracks("pvoc_1").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol

// bpm 68

NOTE 60 1 mesure6_synth

// Buscar frecuencias Gong

// obj::crea_track_HOA("addsynth_m6", "group_hoa4", fade_in = 5, amp = -20, in_channels = 8, ["TAddic_20_8", "preset", "m25_3"])
// $tracks("addsynth_m6").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
// $tracks("addsynth_m6").rand_lfo("TAddic_20_8", "d", 1.5, 5, 1.8, "linear", 40)
// $tracks("addsynth_m6").amp(-20)
// $tracks("addsynth_m6").free()
// print (""+$json_file)

	$synth_mes404_freqs2 := [145.267975, 269.295471, 513.329651, 633.818298, 799.37384, 891.260803, 1028.651855, 1155.460327, 1350.07251, 1452.86, 1542.035522, 1649.781494, 1770.804199, 2006.568481, 2121.13501, 2268.276855, 2408.170654, 2485.421143, 2684.288574, 2925.669434]
	$synth_mes404_amps2 := @normalize([0.01632, 0.005616, 0.001193, 0.000721, 0.000974, 0.000965, 0.000984, 0.000711, 0.000599, 0.000327, 0.000319, 0.000262, 0.000303, 0.000114, 0.000083, 0.000304, 0.000191, 0.000154, 0.000234, 0.000096])

	obj::crea_track_HOA("addsynth_m6", "group_hoa4", fade_in = 5, amp = -4, in_channels = 8, [["TAddic_20_8", "amp", -20, "d", 2, "freqs", $synth_mes404_freqs2, "amps", $synth_mes404_amps2]])
	$tracks("addsynth_m6").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 10) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	$tracks("addsynth_m6").rand_lfo("TAddic_20_8", "d", 0, 10, 1, "linear", 20)
	$tracks("addsynth_m6").amp(-10)


obj::crea_track_HOA("shuffler_m6_perc2", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $perc2, "amp", 2], ["TShuffler8", "preset", "estremo-trb-mes66", "env", $envs("server1")("perc")]])
$tracks("shuffler_m6_perc2").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("shuffler_m6_perc2").preset("TShuffler8", "estremo-trb-mes66")
$tracks("shuffler_m6_perc2").set("TShuffler8", ["env", $envs("server1")("rond")])
$tracks("shuffler_m6_perc2").set("TShuffler8", [fbk, @rand_vect(8, 0.1, 0.3), @rand_vect(8, 0.2, 0.9)])

// $tracks("shuffler_m6_perc2").free()
// print (""+$envs("server1")("perc"))

2.5 $tracks("shuffler_m6_perc2").free()

NOTE 60 1 mesure10_freeze

// Freeze Perc
$amp_mes10 := 0
obj::crea_track_HOA("perc1_freeze_mes10", "group_hoa1", fade_in = 0.5, amp = $amp_mes10, doppler = 0, [["AudioInput", "input", $perc1, "amp", 0], ["FftFreezeOneOnset", "thresh", 0.5, "buf", @buff_fft("server1")]])
// $tracks("perc1_freeze_mes10").dae_rand_lfo([0.75, 2.2, 1, 0, -90, -45, 0, 0, 0], 20) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
$tracks("perc1_freeze_mes10").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
// $tracks("perc1_freeze_mes10").free()

obj::crea_track_HOA("perc2_freeze_mes10", "group_hoa1", fade_in = 0.5, amp = $amp_mes10, doppler = 0, [["AudioInput", "input", $perc2, "amp", 0], ["FftFreezeOneOnset", "thresh", 0.5, "buf", @buff_fft("server1")]])
// $tracks("perc2_freeze_mes10").dae_rand_lfo([0.75, 2.2, 1, 0, -90, -45, 0, 0, 0], 20) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
$tracks("perc2_freeze_mes10").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
// $tracks("perc2_freeze_mes10").free()

// Granular cordes

obj::crea_track_HOA("vln1_freeze_mes10", "group_hoa1", fade_in = 0.1, amp = $amp_mes10, in_channels = 8, [["AudioInput", "input", $vln1, "amp", 0], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.5]])
$tracks("vln1_freeze_mes10").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
$tracks("vln1_freeze_mes10").preset("TGranBuf8_Oneset", "gran_one_mes173")
$tracks("vln1_freeze_mes10").set("TGranBuf8_Oneset", [trigRate, 0.8, rate, 1, rateDev, 0, panDev, 1, trigRateDev, 20.0])
// $tracks("vln1_freeze_mes10").free()

obj::crea_track_HOA("vln2_freeze_mes10", "group_hoa1", fade_in = 0.1, amp = $amp_mes10, in_channels = 8, [["AudioInput", "input", $vln2, "amp", 0], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.5]])
$tracks("vln2_freeze_mes10").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
$tracks("vln2_freeze_mes10").preset("TGranBuf8_Oneset", "gran_one_mes173")
$tracks("vln2_freeze_mes10").set("TGranBuf8_Oneset", [trigRate, 0.8, rate, 1, rateDev, 0, panDev, 1, trigRateDev, 20.0])
// $tracks("vln2_freeze_mes10").free()


obj::crea_track_HOA("vlc_freeze_mes10", "group_hoa1", fade_in = 0.1, amp = $amp_mes10, in_channels = 8, [["AudioInput", "input", $vlc, "amp", 0], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.5]])
$tracks("vlc_freeze_mes10").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
$tracks("vlc_freeze_mes10").preset("TGranBuf8_Oneset", "gran_one_mes173")
$tracks("vlc_freeze_mes10").set("TGranBuf8_Oneset", [trigRate, 0.8, rate, 1, rateDev, 0, panDev, 1, trigRateDev, 20.0])
// $tracks("vlc_freeze_mes10").free()

obj::crea_track_HOA("alto_freeze_mes10", "group_hoa1", fade_in = 0.1, amp = $amp_mes10, in_channels = 8, [["AudioInput", "input", $alto, "amp", 0], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.5]])
$tracks("alto_freeze_mes10").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
$tracks("alto_freeze_mes10").preset("TGranBuf8_Oneset", "gran_one_mes173")
$tracks("alto_freeze_mes10").set("TGranBuf8_Oneset", [trigRate, 0.8, rate, 1, rateDev, 0, panDev, 1, trigRateDev, 20.0])
// $tracks("alto_freeze_mes10").free()

obj::crea_track_HOA("cb_freeze_mes10", "group_hoa1", fade_in = 0.1, amp = $amp_mes10, in_channels = 8, [["AudioInput", "input", $cb, "amp", 0], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.5]])
$tracks("cb_freeze_mes10").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
$tracks("cb_freeze_mes10").preset("TGranBuf8_Oneset", "gran_one_mes173")
$tracks("cb_freeze_mes10").set("TGranBuf8_Oneset", [trigRate, 0.8, rate, 1, rateDev, 0, panDev, 1, trigRateDev, 20.0])
// $tracks("cb_freeze_mes10").free()

// fade_out
1 $tracks("perc1_freeze_mes10").amp([$amp_mes10, 7, -50])
$tracks("perc2_freeze_mes10").amp([$amp_mes10, 7, -50])
$tracks("vln1_freeze_mes10").amp([$amp_mes10, 7, -50])
$tracks("vln2_freeze_mes10").amp([$amp_mes10, 7, -50])
$tracks("vlc_freeze_mes10").amp([$amp_mes10, 7, -50])
$tracks("alto_freeze_mes10").amp([$amp_mes10, 7, -50])
$tracks("cb_freeze_mes10").amp([$amp_mes10, 7, -50])

7.5 $tracks("perc1_freeze_mes10").free(2)
$tracks("perc2_freeze_mes10").free(2)
$tracks("vln1_freeze_mes10").free(2)
$tracks("vln2_freeze_mes10").free(2)
$tracks("vlc_freeze_mes10").free(2)
$tracks("alto_freeze_mes10").free(2)
$tracks("cb_freeze_mes10").free(2)

NOTE 60 1 mesure15_synth

// Buscar frecuencias Gong

$tracks("addsynth_m6").free(4)

	$synth_mes404_freqs2 := [145.267975, 269.295471, 513.329651, 633.818298, 799.37384, 891.260803, 1028.651855, 1155.460327, 1350.07251, 1452.86, 1542.035522, 1649.781494, 1770.804199, 2006.568481, 2121.13501, 2268.276855, 2408.170654, 2485.421143, 2684.288574, 2925.669434]
	$synth_mes404_amps2 := @normalize([0., 0., 0., 0., 0., 0.000965, 0.000984, 0.000711, 0.000599, 0.000327, 0.000319, 0.000262, 0.000303, 0.000114, 0.000083, 0.000304, 0.000191, 0.000154, 0.000234, 0.000096])

	obj::crea_track_HOA("addsynth_m15", "group_hoa4", fade_in = 5, amp = -4, in_channels = 8, [["TAddic_20_8", "amp", -20, "d", 2, "freqs", $synth_mes404_freqs2, "amps", $synth_mes404_amps2]])
	$tracks("addsynth_m15").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 10) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	$tracks("addsynth_m15").rand_lfo("TAddic_20_8", "d", 5, 20, 1, "linear", 20)
	$tracks("addsynth_m15").amp(-10)

// obj::crea_track_HOA("addsynth_m15", "group_hoa4", fade_in = 5, amp = -15, in_channels = 8, ["TAddic_20_8", "preset", "m25_3"])
// $tracks("addsynth_m15").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 10) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
// $tracks("addsynth_m15").rand_lfo("TAddic_20_8", "d", 1.5, 5, 1.8, "linear", 40)
// $tracks("addsynth_m15").free()

NOTE 60 1 mesure17_SF_cresc

// $tracks("play_sample_8ch").play_sample8("mes17_cres-prima-mes19.aif")

//wait for sync load/analyse file
$dur_mes17 := $pvoc_anal_mes17.dur()*1
print ($pvoc_anal_mes17.dur())
obj::crea_track_HOA("mes18_SF", "group_hoa3", fade_in = 0.001, amp = -6, in_channels = 8, ["VBPVocPlay8", "buf", $pvoc_anal_mes17.VBPVoc_buf()]) 
$tracks("mes18_SF").bpf_param("VBPVocPlay8", "pos", [0, $dur_mes17, 0.9999])
$tracks("mes18_SF").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
// stop SF mes17
($dur_mes17)+0.1 $tracks("mes18_SF").free(0.1)
// $tracks("mes18_SF").rand_lfo("VBPVocPlay6", "pos", 0., 1, 0.1, "linear", 40)
// $tracks("mes18_SF").lfo_abort("VBPVocPlay6", "pos")

NOTE 60 1 mesure19_SF

$tracks("play_sample_8ch").play_sample8("mes19.aif", -6)

$tracks("addsynth_m15").free(15)



// $Servers("server2").g_dumpTree(0, 1)


NOTE 60 1 mesure25_SF

// $tracks("play_sample_8ch").play_sample8("mes17_cres-prima-mes19.aif")

//wait for sync load/analyse file
$dur_mes23 := $pvoc_anal_mes23.dur()*1
obj::crea_track_HOA("mes23_SF", "group_hoa3", fade_in = 0.001, amp = -12, in_channels = 8, ["VBPVocPlay8", "buf", $pvoc_anal_mes23.VBPVoc_buf()]) 
$tracks("mes23_SF").bpf_param("VBPVocPlay8", "pos", [0, $dur_mes23, 0.9999])
$tracks("mes23_SF").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
// stop SF mes17
($dur_mes17)+0.1 $tracks("mes23_SF").free(0.1)

// NOTE 60 1 mesure26_SF

// $tracks("play_sample_8ch").play_sample8("kick27.aif", -6)

NOTE 60 1 mesure28_SF

$tracks("play_sample_8ch").play_sample8("mes28.aif", -4)
	

$amp_mes28 := 0
// Freeze Perc
obj::crea_track_HOA("perc1_freeze_mes28", "group_hoa1", fade_in = 0.001, amp = $amp_mes28, doppler = 0, [["AudioInput", "input", $perc1, "amp", 0], ["FftFreezeOnset", "thresh", 0.1, "buf", @buff_fft("server1")]])
$tracks("perc1_freeze_mes28").dae_rand_lfo([0.75, 2.2, 1, 0, -90, -45, 0, 0, 0], 20) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
// $tracks("perc1_freeze_mes28").free()
obj::crea_track_HOA("perc2_freeze_mes28", "group_hoa1", fade_in = 0.001, amp = $amp_mes28, doppler = 0, [["AudioInput", "input", $perc2, "amp", 0], ["FftFreezeOnset", "thresh", 0.1, "buf", @buff_fft("server1")]])
$tracks("perc2_freeze_mes28").dae_rand_lfo([0.75, 2.2, 1, 0, -90, -45, 0, 0, 0], 20) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
// $tracks("perc2_freeze_mes28").free()
// Granular cordes

obj::crea_track_HOA("vln1_freeze_mes28", "group_hoa1", fade_in = 0.1, amp = $amp_mes28, in_channels = 8, [["AudioInput", "input", $vln1, "amp", 0], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.1]])
$tracks("vln1_freeze_mes28").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("vln1_freeze_mes28").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
$tracks("vln1_freeze_mes28").preset("TGranBuf8_Oneset", "gran_one_mes173")
// $tracks("vln1_freeze_mes28").set("TGranBuf8_Oneset", [trigRate, 5, rate, 1, rateDev, 0, panDev, 1])
$tracks("vln1_freeze_mes28").set("TGranBuf8_Oneset", [trigRate, 0.8, rate, 1, rateDev, 0, panDev, 1, trigRateDev, 20.0])



obj::crea_track_HOA("vln2_freeze_mes28", "group_hoa1", fade_in = 0.1, amp = $amp_mes28, in_channels = 8, [["AudioInput", "input", $vln2, "amp", 0], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.1]])
$tracks("vln2_freeze_mes28").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("vln2_freeze_mes28").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
$tracks("vln2_freeze_mes28").preset("TGranBuf8_Oneset", "gran_one_mes173")
// $tracks("vln2_freeze_mes28").set("TGranBuf8_Oneset", [trigRate, 5, rate, 1, rateDev, 0, panDev, 1])
$tracks("vln2_freeze_mes28").set("TGranBuf8_Oneset", [trigRate, 0.8, rate, 1, rateDev, 0, panDev, 1, trigRateDev, 20.0])


obj::crea_track_HOA("vlc_freeze_mes28", "group_hoa1", fade_in = 0.1, amp = $amp_mes28, in_channels = 8, [["AudioInput", "input", $vlc, "amp", 0], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.1]])
$tracks("vlc_freeze_mes28").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("vlc_freeze_mes28").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
$tracks("vlc_freeze_mes28").preset("TGranBuf8_Oneset", "gran_one_mes173")
// $tracks("vlc_freeze_mes28").set("TGranBuf8_Oneset", [trigRate, 5, rate, 1, rateDev, 0, panDev, 1])
$tracks("vlc_freeze_mes28").set("TGranBuf8_Oneset", [trigRate, 0.8, rate, 1, rateDev, 0, panDev, 1, trigRateDev, 20.0])


obj::crea_track_HOA("alto_freeze_mes28", "group_hoa1", fade_in = 0.1, amp = $amp_mes28, in_channels = 8, [["AudioInput", "input", $alto, "amp", 0], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.1]])
$tracks("alto_freeze_mes28").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("alto_freeze_mes28").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
$tracks("alto_freeze_mes28").preset("TGranBuf8_Oneset", "gran_one_mes173")
// $tracks("alto_freeze_mes28").set("TGranBuf8_Oneset", [trigRate, 5, rate, 1, rateDev, 0, panDev, 1])
$tracks("alto_freeze_mes28").set("TGranBuf8_Oneset", [trigRate, 0.8, rate, 1, rateDev, 0, panDev, 1, trigRateDev, 20.0])


obj::crea_track_HOA("cb_freeze_mes28", "group_hoa1", fade_in = 0.1, amp = $amp_mes28, in_channels = 8, [["AudioInput", "input", $cb, "amp", 0], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.1]])
$tracks("cb_freeze_mes28").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("cb_freeze_mes28").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
$tracks("cb_freeze_mes28").preset("TGranBuf8_Oneset", "gran_one_mes173")
// $tracks("cb_freeze_mes28").set("TGranBuf8_Oneset", [trigRate, 5, rate, 1, rateDev, 0, panDev, 1])
$tracks("cb_freeze_mes28").set("TGranBuf8_Oneset", [trigRate, 0.8, rate, 1, rateDev, 0, panDev, 1, trigRateDev, 20.0])

// fade_out
4 $tracks("perc1_freeze_mes28").amp([$amp_mes28, 4, -50])
$tracks("perc2_freeze_mes28").amp([$amp_mes28, 4, -50])
$tracks("vln1_freeze_mes28").amp([$amp_mes28, 4, -50])
$tracks("vln2_freeze_mes28").amp([$amp_mes28, 4, -50])
$tracks("vlc_freeze_mes28").amp([$amp_mes28, 4, -50])
$tracks("alto_freeze_mes28").amp([$amp_mes28, 4, -50])
$tracks("cb_freeze_mes28").amp([$amp_mes28, 4, -50])

4.5 $tracks("perc1_freeze_mes28").free()
$tracks("perc2_freeze_mes28").free()
$tracks("vln1_freeze_mes28").free()
$tracks("vln2_freeze_mes28").free()
$tracks("vlc_freeze_mes28").free()
$tracks("alto_freeze_mes28").free()
$tracks("cb_freeze_mes28").free()

NOTE 60 1 mesure34

$tracks("play_sample_8ch").play_sample8("mes34.aif", 0)

NOTE 60 1 mesure37

$tracks("play_sample_8ch").play_sample8("mes37.aif", 0)

NOTE 60 1 mesure39

$tracks("play_sample_8ch").play_sample8("mes39.aif", 0)

// Hacer perc1 screeping 
//grabar pvoc y leer scrub -1/1

// poner init !!
// $rec_buf_pvoc_mes39.query() // return info from server
$rec_buf_pvoc_mes39.rec($perc1)
0.1 obj::crea_track_HOA("pvco_scrub_mes39", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_mes39.id()]]) 
$tracks("pvco_scrub_mes39").rand_lfo_dyn("TScrubPvocBuf", "pos", 0, "linear", 60, $rec_buf_pvoc_mes39)
// $tracks("pvco_scrub_mes39").lfo_abort("TScrubPvocBuf", "pos")
$tracks("pvco_scrub_mes39").amp(-7)
$tracks("pvco_scrub_mes39").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
// $tracks("pvco_scrub_mes39").free()

3 $tracks("play_sample_8ch").play_sample8("mes39-b4.aif", 0)


//Hacer concat vlc

NOTE 60 1 mesure40

2 $tracks("play_sample_8ch").play_sample8("mes40-b3.aif", -6)

NOTE 60 1 mesure41

1 $tracks("play_sample_8ch").play_sample8("mes41-b2.aif", 0)


NOTE 60 1 mesure42

$tracks("pvco_scrub_mes39").free()
group mes42
{
	obj::crea_track_HOA("perc2_freeze_mes42", "group_hoa1", fade_in = 0.001, amp = 3, doppler = 0, [["AudioInput", "input", $perc2, "amp", 0], ["FftFreezeOnset", "thresh", 0.1, "buf", @buff_fft("server1")]])
	$tracks("perc2_freeze_mes42").dae_rand_lfo([0.75, 2.2, 1, 0, -90, -45, 0, 0, 0], 20) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	5 $tracks("perc2_freeze_mes42").free(4)
}

$onset_cl_mes42 := obj::onset_detect("server1", $cl, thresh = 0.1, antirebond = 0.5, id = $cl, amp = 0) // del in ms
$onset_alto_mes42 := obj::onset_detect("server1", $alto, thresh = 0.1, antirebond = 0.5, id = $alto, amp = 0) // del in ms
$onset_vlc_mes42 := obj::onset_detect("server1", $vlc, thresh = 0.1, antirebond = 0.5, id = $vlc, amp = 0) // del in ms
$onset_cb_mes42 := obj::onset_detect("server1", $cb, thresh = 0.1, antirebond = 0.5, id = $cb, amp = 0) // del in ms

/// Send data from server to client
$Servers("server1").notify(1)

obj::crea_track_HOA("envs_mes42", "group_hoa1", fade_in = 0.01, amp = 0, doppler = 0, encoder = false)
$track_bus_mes42 := $tracks("envs_mes42").$bus
// print $track_bus_mes42

whenever cl_onset_mes42 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $cl))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(envs_mes42).group_add([[AudioInput, input, $cl, amp, 3], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(1, 1.5), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes42]])

}
whenever alto_onset_mes42 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $alto))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(envs_mes42).group_add([[AudioInput, input, $alto, amp, 3], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(1, 1.5), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes42]])

}
whenever vlc_onset_mes42 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $vlc))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(envs_mes42).group_add([[AudioInput, input, $vlc, amp, 3], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(1, 1.5), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes42]])

}
whenever cb_onset_mes42 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $cb))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(envs_mes42).group_add([[AudioInput, input, $cb, amp, 3], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(1, 1.5), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes42]])

}



2 $tracks("play_sample_8ch").play_sample8("mes42-b3.aif", 0)


NOTE 60 1 mesure43

$tracks("play_sample_8ch").play_sample8("mes43.aif", 0)

NOTE 60 1 mesure44

$tracks("play_sample_8ch").play_sample8("mes44.aif", 0)

NOTE 60 1 mesure45

0.7 $tracks("play_sample_8ch").play_sample8("mes45.aif", 0)

NOTE 60 1 mesure46

$tracks("play_sample_8ch").play_sample8("mes46.aif", 0)



// $tracks("play_sample_8ch").play_sample8("mes17_cres-prima-mes19.aif", -6)

//wait for sync load/analyse file
// $dur_mes46 := $pvoc_anal_mes46.dur()
// obj::crea_track_HOA("mes46_SF", "group_hoa3", fade_in = 0.001, amp = -10, in_channels = 8, ["VBPVocPlay8", "buf", $pvoc_anal_mes46.VBPVoc_buf()]) 
// $tracks("mes46_SF").bpf_param("VBPVocPlay8", "pos", [0, $dur_mes46, 0.9999])
// $tracks("mes46_SF").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
// // stop SF mes17
// ($dur_mes46)+0.1 $tracks("mes46_SF").free(0.1)

// $tracks("play_sample_8ch").play_sample8("mes46-cres.aif", -6)

// 2 $tracks("play_sample_8ch").play_sample8("mes46-b3.aif", -6)

// $tracks("play_sample_8ch").play_sample8("mes46-cres.aif", -6)

abort cl_onset_mes42
abort alto_onset_mes42
abort vlc_onset_mes42
abort cb_onset_mes42

abort $onset_cl_mes42
abort $onset_alto_mes42
abort $onset_vlc_mes42
abort $onset_cb_mes42

NOTE 60 1 mesure48

$tracks("play_sample_8ch").play_sample8("mes48-arrivo.aif", 0)

NOTE 60 1 mesure52

// Hacer Envs inputs
// $tracks("play_sample_8ch").play_sample8("mes17_cres-prima-mes19.aif", -6)

//wait for sync load/analyse file
$dur_mes52 := $pvoc_anal_mes52.dur()
obj::crea_track_HOA("mes52_SF", "group_hoa3", fade_in = 0.001, amp = 0, in_channels = 8, ["VBPVocPlay8", "buf", $pvoc_anal_mes52.VBPVoc_buf()]) 
$tracks("mes52_SF").bpf_param("VBPVocPlay8", "pos", [0, $dur_mes52, 0.9999])
$tracks("mes52_SF").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
// stop SF mes17
($dur_mes52)+0.1 $tracks("mes52_SF").free(0.1)


// NOTE 60 1 mesure54

// // cargar los buffer al incio !!


// //wait for sync load/analyse file
// $dur_mes54 := 3
// 0.5 obj::crea_track_HOA("mes54_SF", "group_hoa1", fade_in = 0.001, amp = 0, in_channels = 8, ["VBPVocPlay8", "buf", $pvoc_anal_mes54.VBPVoc_buf()]) 
// $tracks("mes54_SF").bpf_param("VBPVocPlay8", "pos", [1, $dur_mes54, 0])
// $tracks("mes54_SF").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])

// ($dur_mes54)+0.1 $tracks("mes54_SF").free(0.1)

NOTE 60 1 mesure56

$tracks("play_sample_8ch").play_sample8("mes56-arrivo.aif", 0)
// $tracks("mes52_SF").free(0.1)

1 obj::crea_track_HOA("vln_freeze_mes52", "group_hoa1", fade_in = 1.5, amp = 0, doppler = 0, [["AudioInput", "input", $vln1, "amp", 0], ["TMFxShift2", "modfreq", 133]])
$tracks("vln_freeze_mes52").mod_add("TGVerb")
$tracks("vln_freeze_mes52").set("TGVerb", [revtime, 1])
$tracks("vln_freeze_mes52").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
$tracks("vln_freeze_mes52").amp(3)
// $tracks("vln_freeze_mes52").dae_rand_lfo([0.75, 2.2, 1, 0, -90, -45, 0, 0, 0], 20) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
// $tracks("vln_freeze_mes52").free()

obj::crea_track_HOA("vln_freeze_mes52_2", "group_hoa1", fade_in = 1.5, amp = 0, doppler = 0, [["AudioInput", "input", $vln1, "amp", 0], ["TMFxShift2", "modfreq", -67]])
$tracks("vln_freeze_mes52_2").mod_add("TGVerb")
$tracks("vln_freeze_mes52_2").set("TGVerb", [revtime, 1])
$tracks("vln_freeze_mes52_2").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
$tracks("vln_freeze_mes52_2").amp(3)

NOTE 60 1 mesure60

obj::crea_track_HOA("specCombN_m60_htb", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, [["AudioInput", "input", $htb, "amp", 0], ["STM_specCombN", "preset", "sax-sec3"]])
$tracks("specCombN_m60_htb").mod_add("TGVerb")
$tracks("specCombN_m60_htb").set("TGVerb", [revtime, 2])
$tracks("specCombN_m60_htb").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 30, "linear")
// $tracks("specCombN_m60_htb").dae_rand_lfo([0.75, 2.2, 1, 0, -90, -45, 0, 0, 0], 30) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
// $tracks("specCombN_m60_htb").free()

obj::crea_track_HOA("specCombN_m60_cl", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, [["AudioInput", "input", $cl, "amp", 0], ["STM_specCombN", "preset", "sax-sec3"]])
$tracks("specCombN_m60_cl").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 30, "linear")
$tracks("specCombN_m60_cl").mod_add("TGVerb")
$tracks("specCombN_m60_cl").set("TGVerb", [revtime, 2])
// $tracks("specCombN_m60_cl").dae_rand_lfo([0.75, 2.2, 1, 0, -90, -45, 0, 0, 0], 30) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
// $tracks("specCombN_m60_cl").free()

NOTE 60 1 mesure64

// $tracks("play_sample_8ch").play_sample8("mes64-long.aif", 0)
$tracks("play_sample_8ch").play_sample8("mes64.aif", 0)


NOTE 60 1 mesure66

// Hacer multi chop con un onset que trigger processo (un onset generalizado)
// continua hasta mes76

$onset_piano_mes66 := obj::onset_detect("server1", $piano, thresh = 0.1, antirebond = 0.3, id = $piano, amp = 0) // del in ms

/// Send data from server to client
$Servers("server1").notify(1)

$inc_chop_piano := 0


1.1 whenever chop_piano (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $piano))
{
	group //@tight
	{
		@local $nom_track
		
		$nom_track := ("chop_piano"+$inc_chop_piano)

		obj::crea_track_HOA($nom_track, "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, [["AudioInput", "input", $piano, "amp", 0], ["TCortaExt", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
		$tracks($nom_track).set("TCortaExt", [t_trig, 1]) // trigger chop
		$tracks($nom_track).rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 30, "linear")
		$tracks($nom_track).bpf_param("TCortaExt", "trig_time", [10, 2, 15])
		$tracks($nom_track).amp([0, 2, 0, 2, -50, 2, -120])
		2/5 $tracks($nom_track).set("TCortaExt", [ingain, 0.])
		$tracks($nom_track).free()

	}
	$inc_chop_piano += 1
}


// 1.1 group chop_mes66 // prepare la prochaine note
// {
// 	// crea_track8 chop_mes66_piano 0 0.1 2 AudioInput input $piano #-> TCortaOnset amp 2 gran_dur @dur2sec(2/5) trig_time 10 amp 0 #-> TPan8 pos 1.6
	
// 	obj::crea_track_HOA("chop_mes66_piano", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, [["AudioInput", "input", $piano, "amp", 0], ["TCortaOnset", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
// 	// $tracks("chop_mes66_piano").dae_rand_lfo([0.75, 2.2, 1, 0, -90, -45, 0, 0, 0], 30) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
// 	$tracks("chop_mes66_piano").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 30, "linear")

// 	// ::line_track8_param_multi("chop_mes66_piano", "02_TPan8", "pos", [1.6, 4, 1.6]) 
// 	// ::line_track8_param_multi("chop_mes66_piano", "01_TCortaOnset", "trig_time", [10, 2, 15])
// 	$tracks("chop_mes66_piano").bpf_param("TCortaOnset", "trig_time", [10, 2, 15])
// 	// ::line_track8_out_amp("chop_mes66_piano", [0, 2, 0, 2, -50, 2, -120]) // amp control free node at -120
// 	$tracks("chop_mes66_piano").amp([0, 2, 0, 2, -50, 2, -120])
// 	// 2/5 crea_track8 chop_mes66_piano set 01_TCortaOnset ingain 0. //en linear a corregir
// 	2/5 $tracks("chop_mes66_piano").set("TCortaOnset", [ingain, 0.])
// 	$tracks("chop_mes66_piano").free()

// }



// $tracks("play_sample_8ch").play_sample8("mes17_cres-prima-mes19.aif")

//wait for sync load/analyse file
$dur_mes66 := $pvoc_anal_mes66.dur()
0.5 obj::crea_track_HOA("mes66_SF", "group_hoa3", fade_in = 0.001, amp = -6, in_channels = 8, ["VBPVocPlay8", "buf", $pvoc_anal_mes66.VBPVoc_buf()]) 
$tracks("mes66_SF").bpf_param("VBPVocPlay8", "pos", [0, $dur_mes66, 0.9999])
$tracks("mes66_SF").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
// stop SF mes66
($dur_mes66)+0.1 $tracks("mes66_SF").free(0.1)


NOTE 60 1 mesure68

// 3 $tracks("play_sample_8ch").play_sample8("mes68-b4.aif", -6)

// group chop_mes68 // prepare la prochaine note
// {
// 	// crea_track8 chop_mes68_piano 0 0.1 2 AudioInput input $piano #-> TCortaOnset amp 2 gran_dur @dur2sec(2/5) trig_time 10 amp 0 #-> TPan8 pos 1.6
	
// 	obj::crea_track_HOA("chop_mes68_piano", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, [["AudioInput", "input", $piano, "amp", 0], ["TCortaOnset", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
// 	// $tracks("chop_mes68_piano").dae_rand_lfo([0.75, 2.2, 1, 0, -90, -45, 0, 0, 0], 30) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
// 	$tracks("chop_mes68_piano").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 30, "linear")

// 	// ::line_track8_param_multi("chop_mes68_piano", "02_TPan8", "pos", [1.6, 4, 1.6]) 
// 	// ::line_track8_param_multi("chop_mes68_piano", "01_TCortaOnset", "trig_time", [10, 2, 15])
// 	$tracks("chop_mes68_piano").bpf_param("TCortaOnset", "trig_time", [10, 2, 15])
// 	// ::line_track8_out_amp("chop_mes68_piano", [0, 2, 0, 2, -50, 2, -120]) // amp control free node at -120
// 	$tracks("chop_mes68_piano").amp([0, 2, 0, 2, -50, 2, -120])
// 	// 2/5 crea_track8 chop_mes68_piano set 01_TCortaOnset ingain 0. //en linear a corregir
// 	2/5 $tracks("chop_mes68_piano").set("TCortaOnset", [ingain, 0.])
// 	$tracks("chop_mes68_piano").free()

// }


NOTE 60 1 mesure72

obj::crea_track_HOA("shuffler_m72_perc1", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $perc1, "amp", 0], ["TShuffler8", "preset", "estremo-trb-mes66"]])
$tracks("shuffler_m72_perc1").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("shuffler_m72_perc1").preset("TShuffler8", "estremo-trb-mes66")
$tracks("shuffler_m72_perc1").set("TShuffler8", ["env", $envs("server1")("rond")])
$tracks("shuffler_m72_perc1").set("TShuffler8", [fbk, @rand_vect(8, 0.1, 0.3), @rand_vect(8, 0.2, 0.9)])


obj::crea_track_HOA("shuffler_m72_perc2", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $perc2, "amp", 0], ["TShuffler8", "preset", "estremo-trb-mes66"]])
$tracks("shuffler_m72_perc2").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("shuffler_m72_perc2").preset("TShuffler8", "estremo-trb-mes66")
$tracks("shuffler_m72_perc2").set("TShuffler8", ["env", $envs("server1")("rond")])
$tracks("shuffler_m72_perc2").set("TShuffler8", [fbk, @rand_vect(8, 0.1, 0.3), @rand_vect(8, 0.2, 0.9)])


NOTE 60 1 mesure73

// cargar los buffer al incio !!


//wait for sync load/analyse file
$dur_mes73 := $pvoc_anal_mes73.dur()
2 obj::crea_track_HOA("pvoc_mes73", "group_hoa3", fade_in = 0.001, amp = -9, in_channels = 8, ["VBPVocPlay8", "buf", $pvoc_anal_mes73.VBPVoc_buf()]) 
$tracks("pvoc_mes73").bpf_param("VBPVocPlay8", "pos", [0, $dur_mes73, 0.9999])
$tracks("pvoc_mes73").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])

($dur_mes73)+0.1 $tracks("pvoc_mes73").free(0.1)

// group chop_mes72 // prepare la prochaine note
// {
// 	// crea_track8 chop_mes72_piano 0 0.1 2 AudioInput input $piano #-> TCortaOnset amp 2 gran_dur @dur2sec(2/5) trig_time 10 amp 0 #-> TPan8 pos 1.6
	
// 	obj::crea_track_HOA("chop_mes72_piano", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, [["AudioInput", "input", $piano, "amp", 0], ["TCortaOnset", "amp", 2, "gran_dur", @dur2sec(2/5), "trig_time", 10, "amp", 0]])
// 	// $tracks("chop_mes72_piano").dae_rand_lfo([0.75, 2.2, 1, 0, -90, -45, 0, 0, 0], 30) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
// 	$tracks("chop_mes72_piano").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 30, "linear")

// 	// ::line_track8_param_multi("chop_mes72_piano", "02_TPan8", "pos", [1.6, 4, 1.6]) 
// 	// ::line_track8_param_multi("chop_mes72_piano", "01_TCortaOnset", "trig_time", [10, 2, 15])
// 	$tracks("chop_mes72_piano").bpf_param("TCortaOnset", "trig_time", [10, 2, 15])
// 	// ::line_track8_out_amp("chop_mes72_piano", [0, 2, 0, 2, -50, 2, -120]) // amp control free node at -120
// 	$tracks("chop_mes72_piano").amp([0, 2, 0, 2, -50, 2, -120])
// 	// 2/5 crea_track8 chop_mes72_piano set 01_TCortaOnset ingain 0. //en linear a corregir
// 	2/5 $tracks("chop_mes72_piano").set("TCortaOnset", [ingain, 0.])
// 	$tracks("chop_mes72_piano").free()

// }


NOTE 60 1 mesure75

3 $tracks("shuffler_m72_perc1").free(5)
$tracks("shuffler_m72_perc2").free(5)


// cargar los buffer al incio !!


//wait for sync load/analyse file
// $dur_mes75 := $pvoc_anal_mes75.dur()
// 0.5 obj::crea_track_HOA("pvoc_mes75", "group_hoa3", fade_in = 0.001, amp = 0, in_channels = 8, ["VBPVocPlay8", "buf", $pvoc_anal_mes75.VBPVoc_buf()]) 
// $tracks("pvoc_mes75").bpf_param("VBPVocPlay8", "pos", [0, $dur_mes75, 1])
// $tracks("pvoc_mes75").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])

// ($dur_mes75)+0.1 $tracks("pvoc_mes75").free(0.1)

// revs

NOTE 60 1 mesure76

$tracks("vln_freeze_mes52").free(0.5)
$tracks("vln_freeze_mes52_2").free(0.5)
$tracks("specCombN_m60_htb").free(0.5)
$tracks("specCombN_m60_cl").free(0.5)

abort chop_piano @norec
$onset_piano_mes66.free()
// $tracks("shuffler_m72_perc1").free(2)
// $tracks("shuffler_m72_perc2").free(2)

group
{
	$tracks("play_sample_8ch").play_sample8("mes76.aif", -3)
	3.5 $tracks("play_sample_8ch").play_sample8("mes76+4.5.aif", -3)
}

// bois
obj::crea_track_HOA("rev_fl_m76", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, [["AudioInput", "input", $fl, "amp", 0], ["TAdCVerb", "revTime", 6]])
obj::crea_track_HOA("rev_htb_m76", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, [["AudioInput", "input", $htb, "amp", 0], ["TAdCVerb", "revTime", 6]])
obj::crea_track_HOA("rev_cl_m76", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, [["AudioInput", "input", $cl, "amp", 0], ["TAdCVerb", "revTime", 6]])
obj::crea_track_HOA("rev_bsn_m76", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, [["AudioInput", "input", $bsn, "amp", 0], ["TAdCVerb", "revTime", 6]])
//cordes
obj::crea_track_HOA("rev_vln1_m76", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, [["AudioInput", "input", $vln1, "amp", 0], ["TAdCVerb", "revTime", 6]])
obj::crea_track_HOA("rev_vln2_m76", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, [["AudioInput", "input", $vln2, "amp", 0], ["TAdCVerb", "revTime", 6]])
obj::crea_track_HOA("rev_alto_m76", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, [["AudioInput", "input", $alto, "amp", 0], ["TAdCVerb", "revTime", 6]])

// No funciona porque es xyz...
$tracks("rev_fl_m76").dae([1, -22.5, 0])
$tracks("rev_htb_m76").dae([1, -67.5, 0])	
$tracks("rev_cl_m76").dae([1, -112.5, 0])	
$tracks("rev_bsn_m76").dae([1, -157.5, 0])
$tracks("rev_vln1_m76").dae([1, 157.5, 0])	
$tracks("rev_vln2_m76").dae([1, 112.5, 0])	
$tracks("rev_alto_m76").dae([1, 67.5, 0])	

0.5 $tracks("rev_fl_m76").set("AudioInput", ["amp", -120])
$tracks("rev_htb_m76").set("AudioInput", ["amp", -120])
$tracks("rev_cl_m76").set("AudioInput", ["amp", -120])
$tracks("rev_bsn_m76").set("AudioInput", ["amp", -120])
$tracks("rev_vln1_m76").set("AudioInput", ["amp", -120])
$tracks("rev_vln2_m76").set("AudioInput", ["amp", -120])
$tracks("rev_alto_m76").set("AudioInput", ["amp", -120])
// Rev time
// $tracks("rev_fl_m76").bpf_param("TAdCVerb", "revTime", [1, 2, 4])
// $tracks("rev_htb_m76").bpf_param("TAdCVerb", "revTime", [1, 2, 4])
// $tracks("rev_cl_m76").bpf_param("TAdCVerb", "revTime", [1, 2, 4])
// $tracks("rev_bsn_m76").bpf_param("TAdCVerb", "revTime", [1, 2, 4])
// $tracks("rev_vln1_m76").bpf_param("TAdCVerb", "revTime", [1, 2, 4])
// $tracks("rev_vln2_m76").bpf_param("TAdCVerb", "revTime", [1, 2, 4])
// $tracks("rev_alto_m76").bpf_param("TAdCVerb", "revTime", [1, 2, 4])


NOTE 60 1 mesure80

// cargar los buffer al incio !!


//wait for sync load/analyse file
$dur_mes80 := $pvoc_anal_mes80.dur()
obj::crea_track_HOA("pvoc_mes80", "group_hoa3", fade_in = 0.001, amp = -6, in_channels = 8, ["VBPVocPlay8", "buf", $pvoc_anal_mes80.VBPVoc_buf()]) 
$tracks("pvoc_mes80").bpf_param("VBPVocPlay8", "pos", [0, $dur_mes80, 0.9999])
$tracks("pvoc_mes80").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])

($dur_mes80)+0.1 $tracks("pvoc_mes80").free(0.1)

NOTE 60 1 mesure83

$tracks("play_sample_8ch").play_sample8("mes83.aif", -6)

$amp_mes83 := 0
// Freeze Perc
obj::crea_track_HOA("perc1_freeze_mes83", "group_hoa1", fade_in = 0.001, amp = $amp_mes83, doppler = 0, [["AudioInput", "input", $perc1, "amp", 0], ["FftFreezeOnset", "thresh", 0.1, "buf", @buff_fft("server1")]])
$tracks("perc1_freeze_mes83").dae_rand_lfo([0.75, 2.2, 1, 0, -90, -45, 0, 0, 0], 20) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
// $tracks("perc1_freeze_mes83").free()
obj::crea_track_HOA("perc2_freeze_mes83", "group_hoa1", fade_in = 0.001, amp = $amp_mes83, doppler = 0, [["AudioInput", "input", $perc2, "amp", 0], ["FftFreezeOnset", "thresh", 0.1, "buf", @buff_fft("server1")]])
$tracks("perc2_freeze_mes83").dae_rand_lfo([0.75, 2.2, 1, 0, -90, -45, 0, 0, 0], 20) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
// $tracks("perc2_freeze_mes83").free()
// Granular cordes

obj::crea_track_HOA("vln1_freeze_mes83", "group_hoa1", fade_in = 0.1, amp = $amp_mes83, in_channels = 8, [["AudioInput", "input", $vln1, "amp", 0], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.1]])
$tracks("vln1_freeze_mes83").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("vln1_freeze_mes83").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
$tracks("vln1_freeze_mes83").preset("TGranBuf8_Oneset", "gran_one_mes173")
// $tracks("vln1_freeze_mes83").set("TGranBuf8_Oneset", [trigRate, 5, rate, 1, rateDev, 0, panDev, 1])
$tracks("vln1_freeze_mes83").set("TGranBuf8_Oneset", [trigRate, 0.8, rate, 1, rateDev, 0, panDev, 1, trigRateDev, 13.0])



obj::crea_track_HOA("vln2_freeze_mes83", "group_hoa1", fade_in = 0.1, amp = $amp_mes83, in_channels = 8, [["AudioInput", "input", $vln2, "amp", 0], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.1]])
$tracks("vln2_freeze_mes83").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("vln2_freeze_mes83").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
$tracks("vln2_freeze_mes83").preset("TGranBuf8_Oneset", "gran_one_mes173")
// $tracks("vln2_freeze_mes83").set("TGranBuf8_Oneset", [trigRate, 5, rate, 1, rateDev, 0, panDev, 1])
$tracks("vln2_freeze_mes83").set("TGranBuf8_Oneset", [trigRate, 0.8, rate, 1, rateDev, 0, panDev, 1, trigRateDev, 13.0])


obj::crea_track_HOA("vlc_freeze_mes83", "group_hoa1", fade_in = 0.1, amp = $amp_mes83, in_channels = 8, [["AudioInput", "input", $vlc, "amp", 0], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.1]])
$tracks("vlc_freeze_mes83").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("vlc_freeze_mes83").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
$tracks("vlc_freeze_mes83").preset("TGranBuf8_Oneset", "gran_one_mes173")
// $tracks("vlc_freeze_mes83").set("TGranBuf8_Oneset", [trigRate, 5, rate, 1, rateDev, 0, panDev, 1])
$tracks("vlc_freeze_mes83").set("TGranBuf8_Oneset", [trigRate, 0.8, rate, 1, rateDev, 0, panDev, 1, trigRateDev, 13.0])


obj::crea_track_HOA("alto_freeze_mes83", "group_hoa1", fade_in = 0.1, amp = $amp_mes83, in_channels = 8, [["AudioInput", "input", $alto, "amp", 0], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.1]])
$tracks("alto_freeze_mes83").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("alto_freeze_mes83").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
$tracks("alto_freeze_mes83").preset("TGranBuf8_Oneset", "gran_one_mes173")
// $tracks("alto_freeze_mes83").set("TGranBuf8_Oneset", [trigRate, 5, rate, 1, rateDev, 0, panDev, 1])
$tracks("alto_freeze_mes83").set("TGranBuf8_Oneset", [trigRate, 0.8, rate, 1, rateDev, 0, panDev, 1, trigRateDev, 13.0])


obj::crea_track_HOA("cb_freeze_mes83", "group_hoa1", fade_in = 0.1, amp = $amp_mes83, in_channels = 8, [["AudioInput", "input", $cb, "amp", 0], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.1]])
$tracks("cb_freeze_mes83").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("cb_freeze_mes83").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
$tracks("cb_freeze_mes83").preset("TGranBuf8_Oneset", "gran_one_mes173")
// $tracks("cb_freeze_mes83").set("TGranBuf8_Oneset", [trigRate, 5, rate, 1, rateDev, 0, panDev, 1])
$tracks("cb_freeze_mes83").set("TGranBuf8_Oneset", [trigRate, 0.8, rate, 1, rateDev, 0, panDev, 1, trigRateDev, 13.0])

// fade_out
4 $tracks("perc1_freeze_mes83").amp([$amp_mes83, 4, -50])
$tracks("perc2_freeze_mes83").amp([$amp_mes83, 4, -50])
$tracks("vln1_freeze_mes83").amp([$amp_mes83, 4, -50])
$tracks("vln2_freeze_mes83").amp([$amp_mes83, 4, -50])
$tracks("vlc_freeze_mes83").amp([$amp_mes83, 4, -50])
$tracks("alto_freeze_mes83").amp([$amp_mes83, 4, -50])
$tracks("cb_freeze_mes83").amp([$amp_mes83, 4, -50])

4.5 $tracks("perc1_freeze_mes83").free()
$tracks("perc2_freeze_mes83").free()
$tracks("vln1_freeze_mes83").free()
$tracks("vln2_freeze_mes83").free()
$tracks("vlc_freeze_mes83").free()
$tracks("alto_freeze_mes83").free()
$tracks("cb_freeze_mes83").free()


NOTE 60 1 mesure88

$tracks("play_sample_8ch").play_sample8("mes88-padela.aif", 0)

NOTE 60 1 mesure90

$tracks("play_sample_8ch").play_sample8("mes90.aif", 0)

NOTE 60 1 mesure91

// cargar los buffer al incio !!


//wait for sync load/analyse file
$dur_mes91 := $pvoc_anal_mes91.dur()
0.5 obj::crea_track_HOA("pvoc_mes91", "group_hoa3", fade_in = 0.001, amp = 0, in_channels = 8, ["VBPVocPlay8", "buf", $pvoc_anal_mes91.VBPVoc_buf()]) 
$tracks("pvoc_mes91").bpf_param("VBPVocPlay8", "pos", [0, $dur_mes91, 0.999999])
$tracks("pvoc_mes91").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])

($dur_mes91)+0.1 $tracks("pvoc_mes91").free(0.1)


NOTE 60 1 mesure94

$tracks("play_sample_8ch").play_sample8("mes94-arrivo.aif", -3)

// Buscar frecuencias Gong

obj::crea_track_HOA("addsynth_m94", "group_hoa4", fade_in = 5, amp = -15, in_channels = 8, ["TAddic_20_8", "preset", "m25_3"])
$tracks("addsynth_m94").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 10) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol

// $tracks("addsynth_m94").free()

$dur_mes94 := $pvoc_anal_mes94.dur()
print ($pvoc_anal_mes94.dur())
obj::crea_track_HOA("pvoc_mes94", "group_hoa4", fade_in = 5, amp = -30, doppler = 0, ["VBPVocPlay1", "buf", $pvoc_anal_mes94.VBPVoc_buf()]) 
// $tracks("pvoc_mes94").bpf_param("VBPVocPlay8", "pos", [0, $dur_mes94, 1])
$tracks("pvoc_mes94").rand_lfo("VBPVocPlay1", "pos", 0.001, 0.99, 0.1, "linear", 20)
$tracks("pvoc_mes94").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 10, "linear")
$tracks("pvoc_mes94").amp(-30)


$tracks("rev_fl_m76").free()
$tracks("rev_htb_m76").free()
$tracks("rev_cl_m76").free()
$tracks("rev_bsn_m76").free()
$tracks("rev_vln1_m76").free()
$tracks("rev_vln2_m76").free()
$tracks("rev_alto_m76").free()


NOTE 60 1 mesure97_fshift_shuff

$tracks("pvoc_mes94").free(10)
obj::crea_track_HOA("vln2fsht_mes97", "group_hoa1", fade_in = 4, amp = 0, doppler = 0, [["AudioInput", "input", $vln2, "amp", 0], ["TMFxShift2"]])
$tracks("vln2fsht_mes97").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
$tracks("vln2fsht_mes97").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 80, "linear")

obj::crea_track_HOA("altofsht_mes97", "group_hoa1", fade_in = 4, amp = 0, doppler = 0, [["AudioInput", "input", $alto, "amp", 0], ["TMFxShift2"]])
$tracks("altofsht_mes97").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
$tracks("altofsht_mes97").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 80, "linear")

obj::crea_track_HOA("vlcfsht_mes97", "group_hoa1", fade_in = 4, amp = 0, doppler = 0, [["AudioInput", "input", $vlc, "amp", 0], ["TMFxShift2"]])
$tracks("vlcfsht_mes97").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
$tracks("vlcfsht_mes97").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 80, "linear")

obj::crea_track_HOA("cbfsht_mes97", "group_hoa1", fade_in = 4, amp = 0, doppler = 0, [["AudioInput", "input", $cb, "amp", 0], ["TMFxShift2"]])
$tracks("cbfsht_mes97").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
$tracks("cbfsht_mes97").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 80, "linear")


//// perc
obj::crea_track_HOA("shuffler_perc1_m97", "group_hoa1", fade_in = 0.1, amp = 3, in_channels = 8, [["AudioInput", "input", $perc1, "amp", 0], ["TShuffler8", "preset", "estremo-trb-mes66"]])
$tracks("shuffler_perc1_m97").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("shuffler_perc1_m97").preset("TShuffler8", "estremo-trb-mes66")
$tracks("shuffler_perc1_m97").set("TShuffler8", ["env", $envs("server1")("rond")])
$tracks("shuffler_perc1_m97").set("TShuffler8", [fbk, @rand_vect(8, 0.1, 0.3), @rand_vect(8, 0.2, 0.9)])

4 obj::crea_track_HOA("shuffler_perc2_m97", "group_hoa1", fade_in = 0.1, amp = 3, in_channels = 8, [["AudioInput", "input", $perc2, "amp", 0], ["TShuffler8", "preset", "estremo-trb-mes66"]])
$tracks("shuffler_perc2_m97").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("shuffler_perc2_m97").preset("TShuffler8", "estremo-trb-mes66")
$tracks("shuffler_perc2_m97").set("TShuffler8", ["env", $envs("server1")("rond")])
$tracks("shuffler_perc2_m97").set("TShuffler8", [fbk, @rand_vect(8, 0.1, 0.3), @rand_vect(8, 0.2, 0.9)])

NOTE 60 1 mesure103

// $tracks("shuffler_perc1_m97").free()

NOTE 60 1 mesure104

$tracks("vln2fsht_mes97").free(1)
$tracks("altofsht_mes97").free(1)
$tracks("vlcfsht_mes97").free(1)
$tracks("cbfsht_mes97").free(1)

$tracks("addsynth_m94").free(5)

///// cordes
obj::crea_track_HOA("shuffler_vln1_m104", "group_hoa1", fade_in = 2, amp = 3, in_channels = 8, [["AudioInput", "input", $vln1, "amp", 0], ["TShuffler8", "preset", "estremo-trb-mes66"]])
$tracks("shuffler_vln1_m104").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("shuffler_vln1_m104").preset("TShuffler8", "estremo-trb-mes66")
$tracks("shuffler_vln1_m104").set("TShuffler8", ["env", $envs("server1")("perc")])
$tracks("shuffler_vln1_m104").set("TShuffler8", [fbk, @rand_vect(8, 0.1, 0.3), @rand_vect(8, 0.2, 0.9)])

obj::crea_track_HOA("shuffler_vln2_m104", "group_hoa1", fade_in = 2, amp = 3, in_channels = 8, [["AudioInput", "input", $vln2, "amp", 0], ["TShuffler8", "preset", "estremo-trb-mes66"]])
$tracks("shuffler_vln2_m104").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("shuffler_vln2_m104").preset("TShuffler8", "estremo-trb-mes66")
$tracks("shuffler_vln2_m104").set("TShuffler8", ["env", $envs("server1")("perc")])
$tracks("shuffler_vln2_m104").set("TShuffler8", [fbk, @rand_vect(8, 0.1, 0.3), @rand_vect(8, 0.2, 0.9)])

obj::crea_track_HOA("shuffler_alto_m104", "group_hoa1", fade_in = 2, amp = 3, in_channels = 8, [["AudioInput", "input", $alto, "amp", 0], ["TShuffler8", "preset", "estremo-trb-mes66"]])
$tracks("shuffler_alto_m104").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("shuffler_alto_m104").preset("TShuffler8", "estremo-trb-mes66")
$tracks("shuffler_alto_m104").set("TShuffler8", ["env", $envs("server1")("perc")])
$tracks("shuffler_alto_m104").set("TShuffler8", [fbk, @rand_vect(8, 0.1, 0.3), @rand_vect(8, 0.2, 0.9)])

obj::crea_track_HOA("shuffler_vlc_m104", "group_hoa1", fade_in = 2, amp = 3, in_channels = 8, [["AudioInput", "input", $vlc, "amp", 0], ["TShuffler8", "preset", "estremo-trb-mes66"]])
$tracks("shuffler_vlc_m104").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("shuffler_vlc_m104").preset("TShuffler8", "estremo-trb-mes66")
$tracks("shuffler_vlc_m104").set("TShuffler8", ["env", $envs("server1")("perc")])
$tracks("shuffler_vlc_m104").set("TShuffler8", [fbk, @rand_vect(8, 0.1, 0.3), @rand_vect(8, 0.2, 0.9)])

// obj::crea_track_HOA("shuffler_cb_m104", "group_hoa1", fade_in = 2, amp = 0, in_channels = 8, [["AudioInput", "input", $cb, "amp", 0], ["TShuffler8", "preset", "estremo-trb-mes66"]])
// $tracks("shuffler_cb_m104").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])

NOTE 60 1 mesure106

$tracks("play_sample_8ch").play_sample8("mes106.aif", -10)

// fx flute Stelios


// NOTE 60 1 mesure108

// // cargar los buffer al incio !!


// //wait for sync load/analyse file
// $dur_mes108 := $pvoc_anal_mes108.dur()
// 0.5 obj::crea_track_HOA("pvoc_mes108", "group_hoa1", fade_in = 0.001, amp = 0, in_channels = 8, ["VBPVocPlay8", "buf", $pvoc_anal_mes108.VBPVoc_buf()]) 
// $tracks("pvoc_mes108").bpf_param("VBPVocPlay8", "pos", [1, $dur_mes108, 0])
// $tracks("pvoc_mes108").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])

// ($dur_mes108)+0.1 $tracks("pvoc_mes108").free(0.1)



NOTE 60 1 mesure110

$tracks("play_sample_8ch").play_sample8_stop("mes106.aif", 2)

$tracks("shuffler_perc1_m97").free(1)
$tracks("shuffler_perc2_m97").free(1)

$tracks("shuffler_vln1_m104").free(3)
$tracks("shuffler_vln2_m104").free(3)
$tracks("shuffler_alto_m104").free(3)
$tracks("shuffler_vlc_m104").free(3)

obj::crea_track_HOA("cb_freeze_110", "group_hoa1", fade_in = 0.001, amp = -6, doppler = 0, [["AudioInput", "input", $cb, "amp", 0], ["FftFreezeOneOnset", "thresh", 0.3, "buf", @buff_fft("server1")]])
// $tracks("cb_freeze_110").dae_rand_lfo([0.75, 2.2, 1, 0, -90, -45, 0, 0, 0], 20) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
$tracks("cb_freeze_110").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
2 $tracks("cb_freeze_110").free(4)


NOTE 60 1 mesure111

$tracks("play_sample_8ch").play_sample8("mes111-b3.aif", -5)

// granular TOMs Hacer
// $tracks("play_sample_8ch").play_sample8("pum.aif", -6)

NOTE 60 1 mesure119

0.5 $tracks("play_sample_8ch").play_sample8("mes119-b2.aif", 0)


NOTE 60 1 mesure124

$tracks("play_sample_8ch").play_sample8("mes124.aif", -10)
//// perc 
// Buscar concatenacion en real time
obj::crea_track_HOA("shuffler_perc1_m124", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $perc1, "amp", 0], ["TShuffler8", "preset", "estremo-trb-mes66"]])
$tracks("shuffler_perc1_m124").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("shuffler_perc1_m124").preset("TShuffler8", "estremo-trb-mes66")
$tracks("shuffler_perc1_m124").set("TShuffler8", ["env", $envs("server1")("rond")])
$tracks("shuffler_perc1_m124").set("TShuffler8", [fbk, @rand_vect(8, 0.1, 0.3), dels, @rand_vect(8, 0.2, 0.9)])

// $tracks("shuffler_perc1_m124").free()

obj::crea_track_HOA("shuffler_perc2_m124", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $perc2, "amp", 0], ["TShuffler8", "preset", "estremo-trb-mes66"]])
$tracks("shuffler_perc2_m124").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("shuffler_perc2_m124").preset("TShuffler8", "estremo-trb-mes66")
$tracks("shuffler_perc2_m124").set("TShuffler8", ["env", $envs("server1")("rond")])
$tracks("shuffler_perc2_m124").set("TShuffler8", [fbk, @rand_vect(8, 0.1, 0.3), @rand_vect(8, 0.2, 0.9)])

// $tracks("shuffler_perc2_m124").free()

1 $tracks("play_sample_8ch").play_sample8("mes163.aif", -3)

NOTE 60 1 mesure126 //mesure164

// crea_track8 trb_mes164 0 0.1 0 AudioInput input $trbIn #-> TPitch4 #preset trb-mes164 #-> TJPverb #preset trb-mes164 #-> TGranIn #preset trb-mes164
// crea_track8 trb_mes164 set 03_TGranIn envbuf ($envs("m"))
obj::crea_track_HOA("trb_mes164", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $trb, "amp", 0], ["TPitch4", "preset", "trb-mes164"], ["TJPverb_mono", "preset", "trb-mes164"], ["TGranIn", "preset", "trb-mes164", "envbuf", $envs("server1")("perc")]]) 
$tracks("trb_mes164").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("trb_mes164").preset("TPitch4", "trb-mes164")
$tracks("trb_mes164").preset("TJPverb_mono", ["t60", 1.0900000333786, "damp", 0.0, "size", 0.64899998903275, "earlydiff", 0.0, "modDepth", 22.312999725342, "modFreq", 5.5209999084473, "low", 1.0, "mid", 1.0, "high", 1.0, "lowcut", 500.0, "highcut", 2000.0, "amp", -1.1732486486435])
// $tracks("trb_mes164").preset("TJPverb_mono", "trb-mes164")
$tracks("trb_mes164").preset("TGranIn", "trb-mes164")
$tracks("trb_mes164").set("TGranIn", ["envbuf", $envs("server1")("perc")])
$tracks("trb_mes164").amp(6)
// $tracks("trb_mes164").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 80, "linear")
// $tracks("trb_mes164").free()

// crea_track8 specCombN_m164_alto 0 2 -3 AudioInput input $altoIn #-> STM_specCombN #preset sax-sec3 #-> TPan8 pos 0.6
// $specCombN_m164_vla_Pan := ::rand_lfo_crea_track8("specCombN_m164_alto", "02_TPan8", "pos", 0.64, 1.36, "linear", 60) // code optimis

// con doppler
obj::crea_track_HOA("specCombN_m164_alto", "group_hoa1", fade_in = 2, amp = 0, doppler = 0, [["AudioInput", "input", $alto, "amp", 0], ["STM_specCombN", "preset", "sax-sec3"]])
// $tracks("specCombN_m164_alto").dae_rand_lfo([0.75, 2.2, 1, 0, -90, -45, 0, 0, 0], 30) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
$tracks("specCombN_m164_alto").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
$tracks("specCombN_m164_alto").preset("STM_specCombN", "sax-sec3")
$tracks("specCombN_m164_alto").mod_add("TGVerb")
$tracks("specCombN_m164_alto").set("TGVerb", [revtime, 1])
// $tracks("specCombN_m164_alto").free()



whenever sf_amp ($comb_amp == $comb_amp)
{
	// print $comb_amp
	$tracks("specCombN_m164_alto").amp($comb_amp)
}

// NOTE C#4 1

// crea_track8 cb_fft_onsetfreeze_mes164 0 1 6 AudioInput input $cbIn #-> FftFreezeOnset thresh 0.1 buf @fft_buf() //  numero incremental 

obj::crea_track_HOA("cb_fft_onsetfreeze_mes164", "group_hoa1", fade_in = 0.001, amp = 0, doppler = 0, [["AudioInput", "input", $cb, "amp", -6], ["FftFreezeOnset", "thresh", 0.1, "buf", @buff_fft("server1")]])
// $tracks("cb_fft_onsetfreeze_mes164").dae_rand_lfo([0.75, 2.2, 1, 0, -90, -45, 0, 0, 0], 20) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
$tracks("cb_fft_onsetfreeze_mes164").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
// $tracks("cb_fft_onsetfreeze_mes164").free()



NOTE 60 1 mesure130 //mesure165

$tracks("shuffler_perc1_m124").free(4)
$tracks("shuffler_perc2_m124").free(4)

$tracks("cb_fft_onsetfreeze_mes164").pause(0.1) 

1.5 group combs_mes165_sax
{
	// crea_track8 ringmod_mes165_sax 0 0.01 0 AudioInput input $saxIn #-> TRingMod #preset rm-sax-mes165 #-> TFreeVerb #preset sex-mes165 #-> TPan8 pos 2

	obj::crea_track_HOA("ringmod_mes165_sax", "group_hoa1", fade_in = 1, amp = 0, doppler = 0,[["AudioInput", "input", $cl, "amp", -6], ["TRingMod", "preset", "rm-sax-mes165"]])
	// $tracks("ringmod_mes165_sax").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	$tracks("ringmod_mes165_sax").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 10, "linear")
	$tracks("ringmod_mes165_sax").preset("TRingMod", "rm-sax-mes165")
	$tracks("ringmod_mes165_sax").amp(-6)
	// $tracks("ringmod_mes165_sax").set("TRingMod", [modfreq, 568])
	// $tracks("ringmod_mes165_sax").free()

}

1.5 $tracks("cb_fft_onsetfreeze_mes164").resume(0.1)

//crea_track8 vla_fft_onsetfreeze_mes165 0 1 6 AudioInput input $altoIn #-> FftFreezeOnset thresh 0.1 buf @fft_buf() //  numero incremental 

	obj::crea_track_HOA("vla_fft_onsetfreeze_mes165", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["AudioInput", "input", $alto, "amp", -6], ["FftFreezeOnset", "thresh", 0.1, "buf", @buff_fft("server1")]])
	$tracks("vla_fft_onsetfreeze_mes165").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 30, "linear")
	// $tracks("vla_fft_onsetfreeze_mes165").free()
// $tracks("vla_fft_onsetfreeze_mes165").free()

; ----------- mesure 166 --- beat 539 --- time signature 4/4

NOTE C4 1 mesure132 //mesure166

// ::pulse(166, "4/4", 4, 1) //mes, time_sig, temps, dur

// 1/2 crea_track8 comb_mes165_sax set 00_AudioInput amp -120
// 	crea_track8 streson_mes165_sax set 00_AudioInput amp -120

// NOTE C#4 1

// 7/8 crea_track8 cb_fft_onsetfreeze_mes164 pause 0.1
1.875 $tracks("cb_fft_onsetfreeze_mes164").pause(0.1) 

// NOTE D4 1

	// crea_track8 comb_mes165_sax set 00_AudioInput amp -120
	// crea_track8 streson_mes165_sax set 00_AudioInput amp -120

	// crea_track8 vla_fft_onsetfreeze_mes165 pause 0.1
	
	// 1 $tracks("comb_mes165_sax").set("AudioInput", ["amp", -120])
	// $tracks("streson_mes165_sax").set("AudioInput", ["amp", -120])
	1 $tracks("vla_fft_onsetfreeze_mes165").pause(0.1) 

// NOTE D#4 1

; ----------- mesure 167 --- beat 543 --- time signature 4/4

NOTE C4 1 mesure134 //mesure167

// ::pulse(167, "4/4", 4, 1) //mes, time_sig, temps, dur

// 1/2 crea_track8 vla_fft_onsetfreeze_mes165 resume
1/2 $tracks("vla_fft_onsetfreeze_mes165").resume(0.1)

// NOTE C#4 1

// 1/2 crea_track8 vla_fft_onsetfreeze_mes165 pause 0.1
1.5 $tracks("vla_fft_onsetfreeze_mes165").pause(0.1) 


// NOTE D4 1
// NOTE D#4 1

; ----------- mesure 168 --- beat 547 --- time signature 3/4

NOTE C4 1 mesure137 //mesure168

// ::pulse(168, "3/4", 3, 1) //mes, time_sig, temps, dur
$tracks("play_sample_8ch").play_sample8("mes168.aif", -6)

// NOTE C#4 1

// 1/2 crea_track8 vla_fft_onsetfreeze_mes165 resume
2.5 $tracks("vla_fft_onsetfreeze_mes165").resume(0.1)

// NOTE D4 1

// 1/4 crea_track8 cb_fft_onsetfreeze_mes164 resume
0.25 $tracks("cb_fft_onsetfreeze_mes164").resume(0.1) 

; ----------- mesure 169 --- beat 550 --- time signature 4/4

NOTE C4 1 mesure139 //mesure169

// ::pulse(169, "4/4", 4, 1) //mes, time_sig, temps, dur

// ::line_track8_param_multi("ringmod_mes165_sax", "03_TPan8", "pos", [0.0, 2, 2]) 

// NOTE C#4 1

// crea_track8 cb_fft_onsetfreeze_mes164 pause 0.1
// crea_track8 vla_fft_onsetfreeze_mes165 pause 0.1

1 $tracks("cb_fft_onsetfreeze_mes164").pause(0.1) 
$tracks("vla_fft_onsetfreeze_mes165").pause(0.1)

// NOTE D4 1
// NOTE D#4 1

// crea_track8 cb_fft_onsetfreeze_mes164 resume
$tracks("cb_fft_onsetfreeze_mes164").resume(0.1)

; ----------- mesure 170 --- beat 554 --- time signature 2/4

NOTE C4 1 mesure141 //mesure170

// ::pulse(170, "2/4", 2, 1) //mes, time_sig, temps, dur

// crea_track8 ringmod_mes165_sax off 1
$tracks("ringmod_mes165_sax").free(1)

// 3/4 crea_track8 vla_fft_onsetfreeze_mes165 resume
3/4 $tracks("vla_fft_onsetfreeze_mes165").resume(0.1)

// NOTE C#4 1

; ----------- mesure 171 --- beat 556 --- time signature 4/4

NOTE C4 1 mesure142 //mesure171

// ::pulse(171, "4/4", 4, 1) //mes, time_sig, temps, dur

// NOTE C#4 1

// NOTE D4 1

2 $tracks("play_sample_8ch").play_sample8("mes171-2.aif", -8)

// crea_track8 shuffler_m171_alto 0 0.1 0 AudioInput input $altoIn #-> TShuffler8 #preset estremo-trb-mes66
// crea_track8 shuffler_m171_cb 0 0.1 0 AudioInput input $cbIn #-> TShuffler8 #preset estremo-trb-mes66

2 obj::crea_track_HOA("shuffler_m171_alto", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $alto, "amp", 0], ["TShuffler8", "preset", "estremo-trb-mes66"]])
$tracks("shuffler_m171_alto").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("shuffler_m171_alto").preset("TShuffler8", "estremo-trb-mes66")
$tracks("shuffler_m171_alto").set("TShuffler8", ["env", $envs("server1")("perc")])
$tracks("shuffler_m171_alto").set("TShuffler8", [fbk, @rand_vect(8, 0.1, 0.3), @rand_vect(8, 0.2, 0.9)])


obj::crea_track_HOA("shuffler_m171_vlc", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $vlc, "amp", 0], ["TShuffler8", "preset", "estremo-trb-mes66"]])
$tracks("shuffler_m171_vlc").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("shuffler_m171_vlc").preset("TShuffler8", "estremo-trb-mes66")
$tracks("shuffler_m171_vlc").set("TShuffler8", ["env", $envs("server1")("perc")])
$tracks("shuffler_m171_vlc").set("TShuffler8", [fbk, @rand_vect(8, 0.1, 0.3), @rand_vect(8, 0.2, 0.9)])


obj::crea_track_HOA("shuffler_m171_cb", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $cb, "amp", 0], ["TShuffler8", "preset", "estremo-trb-mes66"]])
$tracks("shuffler_m171_cb").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("shuffler_m171_cb").preset("TShuffler8", "estremo-trb-mes66")
$tracks("shuffler_m171_cb").set("TShuffler8", ["env", $envs("server1")("perc")])
$tracks("shuffler_m171_cb").set("TShuffler8", [fbk, @rand_vect(8, 0.1, 0.3), @rand_vect(8, 0.2, 0.9)])


// $tracks("shuffler_m171_alto").free()
// $tracks("shuffler_m171_vlc").free()
// $tracks("shuffler_m171_cb").free()



// NOTE D#4 1

// crea_track8 vla_fft_onsetfreeze_mes165 pause 0.1
1 $tracks("vla_fft_onsetfreeze_mes165").pause(0.1)

// 1/2 crea_track8 cb_fft_onsetfreeze_mes164 pause 0.1 
1/2 $tracks("cb_fft_onsetfreeze_mes164").pause(0.1)

; ----------- mesure 172 --- beat 560 --- time signature 2/4

NOTE C4 1 mesure144 //mesure172

// ::pulse(172, "2/4", 2, 1) //mes, time_sig, temps, dur

// NOTE C#4 1
// max_audio svp-play7_clear-buf 1 //prepare buf
// max_audio svp-play9_clear-buf 1 //prepare buf

// mettre au debut du score pour eviter des interruptions
// 1 $rec_buf_pvoc7 := obj::rec_buf_pvoc("server1", 10) // pvoc buffer "server", duration (absolute, can be relatif)
// $rec_buf_pvoc9 := obj::rec_buf_pvoc("server1", 10) // pvoc buffer "server", duration (absolute, can be relatif)


; ----------- mesure 173 --- beat 562 --- time signature 3/4

NOTE C4 1 mesure145 //mesure173

// ::pulse(173, "3/4", 3, 1) //mes, time_sig, temps, dur

// crea_track8 shuffler_m171_alto set 00_AudioInput amp -120
// crea_track8 shuffler_m171_cb set 00_AudioInput amp -120

$tracks("shuffler_m171_alto").set("AudioInput", ["amp", -120])
$tracks("shuffler_m171_cb").set("AudioInput", ["amp", -120])

// max_audio svp-play7_record 1
// max_audio svp-play9_record 1

$rec_buf_pvoc7.rec($alto) // record from audio input (if bus = true record from bus)
$rec_buf_pvoc9.rec($cb) // record from audio input (if bus = true record from bus)


// crea_track8 trb_mes164 off 1
$tracks("trb_mes164").free(1)

// 1/4 crea_track8 vla_fft_onsetfreeze_mes165 resume
1/4 $tracks("vla_fft_onsetfreeze_mes165").resume(0.1)

// NOTE C#4 1

// crea_track8 cb_fft_onsetfreeze_mes164 resume
1 $tracks("cb_fft_onsetfreeze_mes164").resume(0.1)

// NOTE D4 1

1 group vla_p7
{
	// max_audio svp-play7_transp 0
	// max_audio svp-play7_speed 2
	// max_audio svp-play7_play 1 
	// ::line_multi_svp("svp-play7_Out-lev", [-70, 0.05, 6])

	obj::crea_track_HOA("svp_play7", "group_hoa1", fade_in = 0.5, amp = -70, doppler = 0, [["TPlayPvocBuf", "buf", $rec_buf_pvoc7.id()]]) 
	$tracks("svp_play7").amp([-70, 0.05, 6])
	$tracks("svp_play7").set("TPlayPvocBuf", ["rate", 2])
	$tracks("svp_play7").rand_lfo("TPlayPvocBuf", "rate", 1, 3, 1, "linear", 60)

	$tracks("svp_play7").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 40, "linear")
	// ::line_multi_svp("svp-play9_speed", [1.5, 2, 0.4])
	// ::line_multi_svp("svp-play9_transp", [300, 2, 0])
	// $tracks("svp_play7").free()
}
group cb_p9
{
	// max_audio svp-play9_transp 0
	// max_audio svp-play9_speed 1.5
	// max_audio svp-play9_play 1 
	// ::line_multi_svp("svp-play9_Out-lev", [-70, 0.05, 6])
	// ::line_multi_svp("svp-play9_speed", [1.5, 2, 0.4])
	// ::line_multi_svp("svp-play9_transp", [300, 2, 0])
	obj::crea_track_HOA("svp_play9", "group_hoa1", fade_in = 0.5, amp = -70, doppler = 0, [["TPlayPvocBuf", "buf", $rec_buf_pvoc9.id()]]) 
	$tracks("svp_play9").amp([-70, 0.05, 6])
	$tracks("svp_play9").set("TPlayPvocBuf", ["rate", 1.5])
	$tracks("svp_play9").rand_lfo("TPlayPvocBuf", "rate", 1, 3, 1, "linear", 60)
	$tracks("svp_play9").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 40, "linear")	
	// $tracks("svp_play9").free()
}

// 7/8 crea_track8 cb_fft_onsetfreeze_mes164 pause 0.1
7/8 $tracks("cb_fft_onsetfreeze_mes164").pause(0.1)

; ----------- mesure 174 --- beat 565 --- time signature 3/4

NOTE C4 1 mesure147 //mesure174

// ::pulse(174, "3/4", 3, 1) //mes, time_sig, temps, dur

group
{
	// max_audio svp-play7_record 0
	// max_audio svp-play9_record 0
	// $rec_buf_pvoc7.stop_rec(1) // 1 = fadeOUt
	// $rec_buf_pvoc9.stop_rec(1) // 1 = fadeOUt
}
 // TShuffler8  estremo-trb-mes66

// crea_track8 gran_onset_mes174_vla 0 1 0 AudioInput input $altoIn #-> TGranBuf_Oneset #preset gran_one_mes173
// crea_track8 gran_onset_mes176_vla set 01_TGranBuf_Oneset buf @buff_gran_onset() thresh 0.1

obj::crea_track_HOA("gran_onset_mes174_vla", "group_hoa1", fade_in = 0.1, amp = -3, in_channels = 8, [["AudioInput", "input", $alto, "amp", -6], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.1]])
$tracks("gran_onset_mes174_vla").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("gran_onset_mes174_vla").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
$tracks("gran_onset_mes174_vla").preset("TGranBuf8_Oneset", "gran_one_mes173")
$tracks("gran_onset_mes174_vla").set("TGranBuf8_Oneset", [trigRate, 0.8, rate, 1, rateDev, 0, panDev, 1, trigRateDev, 30.0])
// $tracks("gran_onset_mes174_vla").free()
$tracks("gran_onset_mes174_vla").amp(-4)
// crea_track8 vla_fft_onsetfreeze_mes165 pause 0.1
$tracks("vla_fft_onsetfreeze_mes165").pause(0.1)

// 1/2 crea_track8 cb_fft_onsetfreeze_mes164 resume
1 $tracks("cb_fft_onsetfreeze_mes164").resume(0.1)

// NOTE C#4 1

// crea_track8 shuffler_m171_alto set 00_AudioInput amp 0
// crea_track8 shuffler_m171_cb set 00_AudioInput amp 0

3 $tracks("shuffler_m171_alto").set("AudioInput", ["amp", 0])
$tracks("shuffler_m171_cb").set("AudioInput", ["amp", 0])

// 3/4 crea_track8 cb_fft_onsetfreeze_mes164 pause 0.1
1.5 $tracks("cb_fft_onsetfreeze_mes164").pause(0.1)

// NOTE D4 1

; ----------- mesure 175 --- beat 568 --- time signature 3/4

NOTE C4 1 mesure149 //mesure175

// ::pulse(175, "3/4", 3, 1) //mes, time_sig, temps, dur

// crea_track8 shuffler_m171_alto set 00_AudioInput amp -120
// crea_track8 shuffler_m171_cb set 00_AudioInput amp -120

$tracks("shuffler_m171_alto").set("AudioInput", ["amp", -120])
$tracks("shuffler_m171_cb").set("AudioInput", ["amp", -120])

// NOTE C#4 1
2 $tracks("play_sample_8ch").play_sample8("mes175-2.aif", -8)
// $tracks("play_sample_8ch").play_sample8("test-8ch8.aif", -8, 1)
// $tracks("play_sample_8ch").play_sample8_stop("test-8ch.aif")

// crea_track8 cb_fft_onsetfreeze_mes164 resume
$tracks("cb_fft_onsetfreeze_mes164").resume(0.1)

// NOTE D4 1

; ----------- mesure 176 --- beat 571 --- time signature 2/4

NOTE C4 1 mesure151 //mesure176

// ::pulse(176, "2/4", 2, 1) //mes, time_sig, temps, dur

// crea_track8 vla_fft_onsetfreeze_mes165 resume

$tracks("vla_fft_onsetfreeze_mes165").resume(0.1)

// crea_track8 gran_onset_mes176_vla 0 1 0 AudioInput input $altoIn #-> TGranBuf_Oneset #preset gran_one_mes173
// crea_track8 gran_onset_mes176_vla set 01_TGranBuf_Oneset buf @buff_gran_onset() thresh 0.1

obj::crea_track_HOA("gran_onset_mes176_vla", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $alto, "amp", -6], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.1]])
$tracks("gran_onset_mes176_vla").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("gran_onset_mes176_vla").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
$tracks("gran_onset_mes176_vla").preset("TGranBuf8_Oneset", "gran_one_mes173")
$tracks("gran_onset_mes176_vla").set("TGranBuf8_Oneset", [trigRate, 0.8, rate, 1, rateDev, 0, panDev, 1, trigRateDev, 30.0])
// $tracks("gran_onset_mes176_vla").free()
$tracks("gran_onset_mes176_vla").amp(-4)

// NOTE C#4 1

; ----------- mesure 177 --- beat 573 --- time signature 2/4

NOTE C4 1 mesure152 //mesure177

// ::pulse(177, "2/4", 2, 1) //mes, time_sig, temps, dur

$tracks("svp_play7").free(2)
$tracks("svp_play9").free(2)


// crea_track8 vla_fft_onsetfreeze_mes165 off 0.2

$tracks("vla_fft_onsetfreeze_mes165").free(0.2)

// NOTE C#4 1

; ----------- mesure 178 --- beat 575 --- time signature 2/4

NOTE C4 1 mesure153 //mesure178

// ::pulse(178, "2/4", 2, 1) //mes, time_sig, temps, dur

// crea_track8 gran_onset_mes178_vla 0 1 0 AudioInput input $altoIn #-> TGranBuf_Oneset #preset gran_one_mes173
// crea_track8 gran_onset_mes178_vla set 01_TGranBuf_Oneset buf @buff_gran_onset()
obj::crea_track_HOA("gran_onset_mes178_vla", "group_hoa1", fade_in = 0.1, amp = -3, in_channels = 8, [["AudioInput", "input", $alto, "amp", 0], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.1]])
$tracks("gran_onset_mes178_vla").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("gran_onset_mes178_vla").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
$tracks("gran_onset_mes178_vla").preset("TGranBuf8_Oneset", "gran_one_mes173")
$tracks("gran_onset_mes178_vla").set("TGranBuf8_Oneset", [trigRate, 0.8, rate, 1, rateDev, 0, panDev, 1, trigRateDev, 30.0])
// $tracks("gran_onset_mes178_vla").free()

// NOTE C#4 1

; ----------- mesure 179 --- beat 577 --- time signature 4/4

NOTE C4 1 mesure154 //mesure179

// ::pulse(179, "4/4", 4, 1) //mes, time_sig, temps, dur

// NOTE C#4 1

// crea_track8 gran_onset_mes179_vla 0 1 0 AudioInput input $altoIn #-> TGranBuf_Oneset #preset gran_one_mes173
// crea_track8 gran_onset_mes179_vla set 01_TGranBuf_Oneset buf @buff_gran_onset()

2 obj::crea_track_HOA("gran_onset_mes179_vla", "group_hoa1", fade_in = 0.1, amp = -3, in_channels = 8, [["AudioInput", "input", $alto, "amp", 0], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.1]])
$tracks("gran_onset_mes179_vla").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("gran_onset_mes179_vla").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
$tracks("gran_onset_mes179_vla").preset("TGranBuf8_Oneset", "gran_one_mes173")
$tracks("gran_onset_mes179_vla").set("TGranBuf8_Oneset", [trigRate, 0.8, rate, 1, rateDev, 0, panDev, 1, trigRateDev, 30.0])
// $tracks("gran_onset_mes179_vla").free()


// NOTE D4 1

// NOTE D#4 1

// crea_track8 cb_fft_onsetfreeze_mes164 off 0.5 // remove synth
2 $tracks("cb_fft_onsetfreeze_mes164").free(0.5)


; ----------- mesure 180 --- beat 581 --- time signature 4/4

NOTE C4 1 mesure156 //mesure180

// ::pulse(180, "4/4", 4, 1) //mes, time_sig, temps, dur

// crea_track8 bajo-mes180 0 10 0 trackpreset bajo-parte3
// crea_track8 bajo-mes180 amp 0
// crea_track8 bajo-mes180 set 00_TPan8 pos 0

obj::crea_track_HOA("bajo_mes180", "group_hoa4", fade_in = 10, amp = -8, [["Bajo", "freq", 43.67, "lfnoisefreq", 0]])
$tracks("bajo_mes180").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 10, "linear")	
// $tracks("bajo_mes180").free()

// $lfo_pan_mes180 := ::rand_lfo_crea_track8("mes180", "00_TPan8", "pos", 0, 2, "linear", 80)


// crea_track8 gran_onset_mes180_cb 0 1 0 AudioInput input $cbIn #-> TGranBuf_Oneset #preset gran_one_mes173
// crea_track8 gran_onset_mes180_cb set 01_TGranBuf_Oneset buf @buff_gran_onset() thresh 0.1

obj::crea_track_HOA("gran_onset_mes180_cb", "group_hoa1", fade_in = 0.1, amp = -3, in_channels = 8, [["AudioInput", "input", $cb, "amp", 0], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.1]])
$tracks("gran_onset_mes180_cb").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("gran_onset_mes180_cb").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 5)
$tracks("gran_onset_mes180_cb").preset("TGranBuf8_Oneset", "gran_one_mes173")
$tracks("gran_onset_mes180_cb").set("TGranBuf8_Oneset", [trigRate, 0.8, rate, 1, rateDev, 0, panDev, 1, trigRateDev, 30.0])
// $tracks("gran_onset_mes180_cb").free()
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

; ----------- mesure 181 --- beat 585 --- time signature 5/4

NOTE C4 1 mesure158 //mesure181

// ::pulse(181, "5/4", 5, 1) //mes, time_sig, temps, dur
// crea_track8 gran_onset_mes181_vla 0 1 0 AudioInput input $altoIn #-> TGranBuf_Oneset #preset gran_one_mes173
// crea_track8 gran_onset_mes181_vla set 01_TGranBuf_Oneset buf @buff_gran_onset()

obj::crea_track_HOA("gran_onset_mes181_vla", "group_hoa1", fade_in = 0.1, amp = -3, in_channels = 8, [["AudioInput", "input", $alto, "amp", -6], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.1]])
$tracks("gran_onset_mes181_vla").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("gran_onset_mes181_vla").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
$tracks("gran_onset_mes181_vla").preset("TGranBuf8_Oneset", "gran_one_mes173")
$tracks("gran_onset_mes181_vla").set("TGranBuf8_Oneset", [trigRate, 0.8, rate, 1, rateDev, 0, panDev, 1, trigRateDev, 30.0])
// $tracks("gran_onset_mes181_vla").free()

// crea_track8 gran_onset_mes181_cb 0 1 0 AudioInput input $cbIn #-> TGranBuf_Oneset #preset gran_one_mes173
// crea_track8 gran_onset_mes181_cb set 01_TGranBuf_Oneset buf @buff_gran_onset() thresh 0.1

obj::crea_track_HOA("gran_onset_mes181_cb", "group_hoa1", fade_in = 0.1, amp = -3, in_channels = 8, [["AudioInput", "input", $cb, "amp", -6], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.1]])
$tracks("gran_onset_mes181_cb").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("gran_onset_mes181_cb").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
$tracks("gran_onset_mes181_cb").preset("TGranBuf8_Oneset", "gran_one_mes173")
$tracks("gran_onset_mes181_cb").set("TGranBuf8_Oneset", [trigRate, 0.8, rate, 1, rateDev, 0, panDev, 1, trigRateDev, 30.0])
// $tracks("gran_onset_mes181_cb").free()

// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

// crea_track8 gran_onset_mes181_4_cb 0 1 0 AudioInput input $cbIn #-> TGranBuf_Oneset #preset gran_one_mes173
// crea_track8 gran_onset_mes181_4_cb set 01_TGranBuf_Oneset buf @buff_gran_onset() thresh 0.1

3 obj::crea_track_HOA("gran_onset_mes181_4_cb", "group_hoa1", fade_in = 0.1, amp = -3, in_channels = 8, [["AudioInput", "input", $cb, "amp", -6], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.1]])
$tracks("gran_onset_mes181_4_cb").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("gran_onset_mes181_4_cb").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
$tracks("gran_onset_mes181_4_cb").preset("TGranBuf8_Oneset", "gran_one_mes173")
$tracks("gran_onset_mes181_4_cb").set("TGranBuf8_Oneset", [trigRate, 0.8, rate, 1, rateDev, 0, panDev, 1, trigRateDev, 30.0])
// $tracks("gran_onset_mes181_4_cb").free()

// NOTE E4 1

; ----------- mesure 182 --- beat 590 --- time signature 4/4

NOTE C4 1 mesure161 //mesure182

// ::pulse(182, "4/4", 4, 1) //mes, time_sig, temps, dur


group reset_onset_vla
{
	// crea_track8 gran_onset_mes174_vla set 01_TGranBuf_Oneset reset 1
	$tracks("gran_onset_mes174_vla").set("TGranBuf8_Oneset", ["reset", 1])
	// 1/10 crea_track8 gran_onset_mes174_vla set 01_TGranBuf_Oneset reset 0
	1/10 $tracks("gran_onset_mes174_vla").set("TGranBuf8_Oneset", ["reset", 0])
}

// group chop_mes182_alto // prepare la prochaine note
// {
// 	1/5 crea_track8 chop_mes182_alto 0 0.1 2 AudioInput input $altoIn #-> TCortaOnsetEnv amp 2 gran_dur @dur2sec(1) trig_time 10 amp 0 #-> TPan8 pos 0

// 	::line_track8_param_multi("chop_mes182_alto", "02_TPan8", "pos", [0, 4, 0.7]) 
// 	::line_track8_param_multi("chop_mes182_alto", "01_TCortaOnset", "trig_time", [10, 2, 15])

// 	// ::line_track8_out_amp("chop_mes182_alto", [0, 2, 0, 2, -50, 2, -120])


// 	// 2/5 crea_track8 chop_mes182_alto set 01_TCortaOnset ingain 0. //linear



// }

// NOTE C#4 1

1 group reset_onset_vla
{
	// crea_track8 gran_onset_mes176_vla set 01_TGranBuf_Oneset reset 1
	// 1/10 crea_track8 gran_onset_mes176_vla set 01_TGranBuf_Oneset reset 0
	$tracks("gran_onset_mes176_vla").set("TGranBuf8_Oneset", ["reset", 1])	
	1/10 $tracks("gran_onset_mes176_vla").set("TGranBuf8_Oneset", ["reset", 0])
}

group reset_onset_cb
{
	// crea_track8 gran_onset_mes180_cb set 01_TGranBuf_Oneset reset 1
	// 1/10 crea_track8 gran_onset_mes180_cb set 01_TGranBuf_Oneset reset 0
	$tracks("gran_onset_mes180_cb").set("TGranBuf8_Oneset", ["reset", 1])	
	1/10 $tracks("gran_onset_mes180_cb").set("TGranBuf8_Oneset", ["reset", 0])	
}

// NOTE D4 1
// NOTE D#4 1

// crea_track8 gran_onset_mes183_cb 0 1 0 AudioInput input $cbIn #-> TGranBuf_Oneset #preset gran_one_mes173
// crea_track8 gran_onset_mes183_cb set 01_TGranBuf_Oneset buf @buff_gran_onset() thresh 0.1
2 obj::crea_track_HOA("gran_onset_mes183_cb", "group_hoa1", fade_in = 0.1, amp = -3, in_channels = 8, [["AudioInput", "input", $cb, "amp", -6], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.1]])
$tracks("gran_onset_mes183_cb").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("gran_onset_mes183_cb").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
$tracks("gran_onset_mes183_cb").preset("TGranBuf8_Oneset", "gran_one_mes173")
$tracks("gran_onset_mes183_cb").set("TGranBuf8_Oneset", [trigRate, 0.8, rate, 1, rateDev, 0, panDev, 1, trigRateDev, 30.0])
// $tracks("gran_onset_mes183_cb").free()


; ----------- mesure 183 --- beat 594 --- time signature 4/4

NOTE C4 1 mesure164 //mesure183

// ::pulse(183, "4/4", 4, 1) //mes, time_sig, temps, dur

group reset_onset_vla
{
	// crea_track8 gran_onset_mes178_vla set 01_TGranBuf_Oneset reset 1
	// 1/10 crea_track8 gran_onset_mes178_vla set 01_TGranBuf_Oneset reset 0
	$tracks("gran_onset_mes178_vla").set("TGranBuf8_Oneset", ["reset", 1])	
	1/10 $tracks("gran_onset_mes178_vla").set("TGranBuf8_Oneset", ["reset", 0])		
}


// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

; ----------- mesure 184 --- beat 598 --- time signature 4/4

NOTE C4 1 mesure165 //mesure184

// ::pulse(184, "4/4", 4, 1) //mes, time_sig, temps, dur

// crea_track8 specCombN_m164_alto off 1
// abort $specCombN_m164_vla_Pan 

$tracks("specCombN_m164_alto").free(1)

	obj::crea_track_HOA("sustrac_mes186", "group_hoa4", fade_in = 10, amp = -12, in_channels = 8, [["TSustract", "preset", "sustrac_mes186"]])
	$tracks("sustrac_mes186").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 10) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	$tracks("sustrac_mes186").preset("TSustract", "sust-mes186")
	$tracks("sustrac_mes186").amp(-9)

// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

; ----------- mesure 185 --- beat 602 --- time signature 4/4

NOTE C4 1 mesure167 //mesure185

// ::pulse(185, "4/4", 4, 1) //mes, time_sig, temps, dur

// crea_track8 shuffler_m171_alto off 1
// crea_track8 shuffler_m171_cb off 1
$tracks("shuffler_m171_alto").free(1)
$tracks("shuffler_m171_vlc").free(1)
$tracks("shuffler_m171_cb").free(1)

// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

; ----------- mesure 186 --- beat 606 --- time signature 4/4



NOTE C4 32 mesure169 //mesure186 ////Counter 32

// ::pulse(186, "4/4", 4, 1) //mes, time_sig, temps, dur
 
// ::counter(186, 32)


group transition_p3
{

	// addSynth_gen track_name preset AddSynth(11, 20...) preset_name fadein, amp
	// 12 addSynth_gen sustrac_mes186 preset TSustract sust-mes186 5 0
	// $rand_add_pos_sustrac_mes186 := ::rand_vect_interpol2("addSynth_gen", "sustrac_mes186", "pos", 20, -1., 1., 10) // spat partials random


	// $tracks("sustrac_mes186").free()
	// ::line_track8_out_amp("gran_onset_mes181_4_cb", [0, 10, -20, 40, -120])
	// ::line_track8_out_amp("gran_onset_mes180_cb", [0, 10, -20, 40, -120])	
	// ::line_track8_out_amp("gran_onset_mes176_vla", [0, 10, -20, 40, -120])	
	// ::line_track8_out_amp("gran_onset_mes179_vla", [0, 10, -20, 40, -120])	
	// ::line_track8_out_amp("gran_onset_mes181_vla", [0, 10, -20, 40, -120])	
	// ::line_track8_out_amp("gran_onset_mes174_vla", [0, 10, -20, 40, -120])	
	// ::line_track8_out_amp("gran_onset_mes178_vla", [0, 10, -20, 40, -120])	
	// ::line_track8_out_amp("gran_onset_mes181_cb", [0, 10, -20, 40, -120])	
	// ::line_track8_out_amp("gran_onset_mes183_cb", [0, 10, -20, 40, -120])

	$tracks("gran_onset_mes181_4_cb").amp([0, 10, -20, 40, -120])	
	$tracks("gran_onset_mes180_cb").amp([0, 10, -20, 40, -120])	
	$tracks("gran_onset_mes176_vla").amp([0, 10, -20, 40, -120])	
	$tracks("gran_onset_mes179_vla").amp([0, 10, -20, 40, -120])	
	$tracks("gran_onset_mes181_vla").amp([0, 10, -20, 40, -120])	
	$tracks("gran_onset_mes174_vla").amp([0, 10, -20, 40, -120])	
	$tracks("gran_onset_mes178_vla").amp([0, 10, -20, 40, -120])	
	$tracks("gran_onset_mes181_cb").amp([0, 10, -20, 40, -120])	
	$tracks("gran_onset_mes183_cb").amp([0, 10, -20, 40, -120])	

	// 6 addSynth_gen SynthInitSec3 preset TAddic_11_8 I-grav+agu 5 -4
	// $rand_add_pos_synth_mes186 := ::rand_vect_interpol2("addSynth_gen", "SynthInitSec3", "pos", 11, -1., 1., 10) // spat partials random
	6 obj::crea_track_HOA("SynthInitSec3", "group_hoa4", fade_in = 5, amp = -25, in_channels = 8, [["TAddic_11_8", "preset", "I-grav+agu"]])
	$tracks("SynthInitSec3").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 10) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	$tracks("SynthInitSec3").set("TAddic_11_8", [d, 5])
	// $tracks("SynthInitSec3").rand_lfo("TAddic_11_8", [d, 5])
	$tracks("SynthInitSec3").rand_lfo("TAddic_11_8", d, 1, 3, 1, "linear", 60)
	$tracks("SynthInitSec3").amp(-25)
	// $tracks("SynthInitSec3").free()
	35 	$tracks("gran_onset_mes181_4_cb").free()
		$tracks("gran_onset_mes180_cb").free()
		$tracks("gran_onset_mes176_vla").free()
		$tracks("gran_onset_mes179_vla").free()
		$tracks("gran_onset_mes181_vla").free()
		$tracks("gran_onset_mes174_vla").free()
		$tracks("gran_onset_mes178_vla").free()
		$tracks("gran_onset_mes181_cb").free()
		$tracks("gran_onset_mes183_cb").free()
 // Hacer otros sonidos que se mueven en el espacio, waveshape, etc...
}

// crea_track8 comb_alto_mes186 0 1 0 AudioInput input $altoIn #-> TPComb #preset estremo-comb-vla #-> TAdCVerb #-> TPan8 pos 0

obj::crea_track_HOA("comb_vln1_mes186", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, [[AudioInput, input, $vln1, amp, -6], [TPComb, "preset", "estremo-comb-vla"], [TAdCVerb]])
$tracks("comb_vln1_mes186").preset(TPComb, "estremo-comb-vla")
$tracks("comb_vln1_mes186").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
$tracks("comb_vln1_mes186").amp(0)
// $tracks("comb_vln1_mes186").free()

obj::crea_track_HOA("comb_vln2_mes186", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, [[AudioInput, input, $vln2, amp, -6], [TPComb, "preset", "estremo-comb-vla"], [TAdCVerb]])
$tracks("comb_vln2_mes186").preset(TPComb, "estremo-comb-vla")
$tracks("comb_vln2_mes186").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
$tracks("comb_vln2_mes186").amp(0)
// $tracks("comb_vln2_mes186").free()

obj::crea_track_HOA("comb_alto_mes186", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, [[AudioInput, input, $alto, amp, -6], [TPComb, "preset", "estremo-comb-vla"], [TAdCVerb]])
$tracks("comb_alto_mes186").preset(TPComb, "estremo-comb-vla")
$tracks("comb_alto_mes186").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
$tracks("comb_alto_mes186").amp(0)
// $tracks("comb_alto_mes186").free()
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

whenever sf_amp ($comb_amp2 == $comb_amp2)
{
	// print $comb_amp2
	$tracks("comb_vln1_mes186").amp($comb_amp2)
	$tracks("comb_vln2_mes186").amp($comb_amp2)
	$tracks("comb_alto_mes186").amp($comb_amp2)
}

group off_bajo
{
	// crea_track8 bajo-mes180 off 20
	// 20 abort $lfo_pan_mes180 
	20 $tracks("bajo_mes180").free(10)
	
}

group off_sustrac
{
	// addSynth_gen sustrac_mes186 off 10
	// 10 abort $rand_add_pos_sustrac_mes186 
	10 $tracks("sustrac_mes186").free(10)
}

bpm 63 

NOTE C4 32 mesure188

// prepare buffers la INICIO !!


// $rec_buf_pvoc_cb_per1 := obj::rec_buf_pvoc("server1", 10) // pvoc buffer "server", duration relatif

// $rec_buf_pvoc_cb_per1.query()

NOTE C4 32 mesure190

$tracks("SynthInitSec3").free(10)

// Raggi 
// Start rec buffers:
$rec_buf_pvoc_vln1_mes190.rec($vln1) // record from audio input (if bus = true record from bus)
$rec_buf_pvoc_vln2_mes190.rec($vln2) // record from audio input (if bus = true record from bus)
$rec_buf_pvoc_alto_mes190.rec($alto) // record from audio input (if bus = true record from bus)
$rec_buf_pvoc_vlc_mes190.rec($vlc) // record from audio input (if bus = true record from bus)
$rec_buf_pvoc_cb_mes190.rec($cb) // record from audio input (if bus = true record from bus)

// Start play buffers: probar TplayBins para cambiar el timbre
0.7 obj::crea_track_HOA("pvoc_scrub_vln1_mes190", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_vln1_mes190.id()]]) 
$tracks("pvoc_scrub_vln1_mes190").rand_lfo("TScrubPvocBuf", "pos", 0.1, 0.9, 0.1, "linear", 30)
// $tracks("pvoc_scrub_vln1_mes190").lfo_abort("TScrubPvocBuf", "pos")
$tracks("pvoc_scrub_vln1_mes190").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 10, "linear")
// $tracks("pvoc_scrub_vln1_mes190").free()

0.5 obj::crea_track_HOA("pvoc_scrub_vln2_mes190", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_vln2_mes190.id()]]) 
$tracks("pvoc_scrub_vln2_mes190").rand_lfo("TScrubPvocBuf", "pos", 0.1, 0.9, 0.1, "linear", 30)
// $tracks("pvoc_scrub_vln2_mes190").lfo_abort("TScrubPvocBuf", "pos")
$tracks("pvoc_scrub_vln2_mes190").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 10, "linear")
// $tracks("pvoc_scrub_vln2_mes190").free()

0.3 obj::crea_track_HOA("pvoc_scrub_alto_mes190", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_alto_mes190.id()]]) 
$tracks("pvoc_scrub_alto_mes190").rand_lfo("TScrubPvocBuf", "pos", 0.1, 0.9, 0.1, "linear", 30)
// $tracks("pvoc_scrub_alto_mes190").lfo_abort("TScrubPvocBuf", "pos")
$tracks("pvoc_scrub_alto_mes190").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 10, "linear")
// $tracks("pvoc_scrub_alto_mes190").free()

0.4 obj::crea_track_HOA("pvoc_scrub_vlc_mes190", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_vlc_mes190.id()]]) 
$tracks("pvoc_scrub_vlc_mes190").rand_lfo("TScrubPvocBuf", "pos", 0.1, 0.9, 0.1, "linear", 30)
// $tracks("pvoc_scrub_vlc_mes190").lfo_abort("TScrubPvocBuf", "pos")
$tracks("pvoc_scrub_vlc_mes190").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 10, "linear")
// $tracks("pvoc_scrub_vlc_mes190").free()

0.2 obj::crea_track_HOA("pvoc_scrub_cb_mes190", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_cb_mes190.id()]]) 
$tracks("pvoc_scrub_cb_mes190").rand_lfo("TScrubPvocBuf", "pos", 0.1, 0.9, 0.1, "linear", 30)
// $tracks("pvoc_scrub_cb_mes190").lfo_abort("TScrubPvocBuf", "pos")
$tracks("pvoc_scrub_cb_mes190").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 10, "linear")
// $tracks("pvoc_scrub_cb_mes190").free()


NOTE C4 32 mesure193

///// cordes
obj::crea_track_HOA("shuffler_bsn_m193", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $bsn, "amp", 0], ["TShuffler8", "preset", "estremo-trb-mes66"]])
$tracks("shuffler_bsn_m193").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("shuffler_bsn_m193").preset("TShuffler8", "estremo-trb-mes66")
$tracks("shuffler_bsn_m193").set("TShuffler8", ["env", $envs("server1")("inv")])
$tracks("shuffler_bsn_m193").set("TShuffler8", [fbk, @rand_vect(8, 0.1, 0.3), @rand_vect(8, 0.2, 0.9)])

// $tracks("shuffler_bsn_m193").free()

obj::crea_track_HOA("Shuffler_cor_m193", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $cor, "amp", 0], ["TShuffler8", "preset", "estremo-trb-mes66"]])
$tracks("Shuffler_cor_m193").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("Shuffler_cor_m193").preset("TShuffler8", "estremo-trb-mes66")
$tracks("Shuffler_cor_m193").set("TShuffler8", ["env", $envs("server1")("inv")])
$tracks("Shuffler_cor_m193").set("TShuffler8", [fbk, @rand_vect(8, 0.1, 0.3), @rand_vect(8, 0.2, 0.9)])

// $tracks("Shuffler_cor_m193").free()

obj::crea_track_HOA("shuffler_trb_m193", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $trb, "amp", 0], ["TShuffler8", "preset", "estremo-trb-mes66"]])
$tracks("shuffler_trb_m193").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("shuffler_trb_m193").preset("TShuffler8", "estremo-trb-mes66")
$tracks("shuffler_trb_m193").set("TShuffler8", ["env", $envs("server1")("inv")])
$tracks("shuffler_trb_m193").set("TShuffler8", [fbk, @rand_vect(8, 0.1, 0.3), @rand_vect(8, 0.2, 0.9)])

// $tracks("shuffler_trb_m193").free()

NOTE C4 32 mesure195
/// padella
// $tracks("play_sample_8ch").play_sample8("kick29.aif", -6)

// record seconda parte
$rec_buf_pvoc_vln1_mes195.rec($vln1) // record from audio input (if bus = true record from bus)
$rec_buf_pvoc_vln2_mes195.rec($vln2) // record from audio input (if bus = true record from bus)
$rec_buf_pvoc_alto_mes195.rec($alto) // record from audio input (if bus = true record from bus)
$rec_buf_pvoc_vlc_mes195.rec($vlc) // record from audio input (if bus = true record from bus)
$rec_buf_pvoc_cb_mes195.rec($cb) // record from audio input (if bus = true record from bus)


group pvocmes195
{
	// Start play buffers: probar TplayBins para cambiar el timbre
	0.1 obj::crea_track_HOA("pvoc_scrub_vln1_mes195", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_vln1_mes195.id()]]) 
	$tracks("pvoc_scrub_vln1_mes195").rand_lfo("TScrubPvocBuf", "pos", 0.6, 0.9, 0.1, "linear", 30)
	// $tracks("pvoc_scrub_vln1_mes195").lfo_abort("TScrubPvocBuf", "pos")
	$tracks("pvoc_scrub_vln1_mes195").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 10, "linear")
	// $tracks("pvoc_scrub_vln1_mes195").free()

	$tracks("pvoc_scrub_vln1_mes190").free(2)

	0.1 obj::crea_track_HOA("pvoc_scrub_vln2_mes195", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_vln2_mes195.id()]]) 
	$tracks("pvoc_scrub_vln2_mes195").rand_lfo("TScrubPvocBuf", "pos", 0.5, 0.8, 0.1, "linear", 30)
	// $tracks("pvoc_scrub_vln2_mes195").lfo_abort("TScrubPvocBuf", "pos")
	$tracks("pvoc_scrub_vln2_mes195").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 10, "linear")
	// $tracks("pvoc_scrub_vln2_mes195").free()

	$tracks("pvoc_scrub_vln2_mes190").free(2)

	0.1 obj::crea_track_HOA("pvoc_scrub_alto_mes195", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_alto_mes195.id()]]) 
	$tracks("pvoc_scrub_alto_mes195").rand_lfo("TScrubPvocBuf", "pos", 0.4, 0.7, 0.1, "linear", 30)
	// $tracks("pvoc_scrub_alto_mes195").lfo_abort("TScrubPvocBuf", "pos")
	$tracks("pvoc_scrub_alto_mes195").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 10, "linear")
	// $tracks("pvoc_scrub_alto_mes195").free()

	$tracks("pvoc_scrub_alto_mes190").free(2)

	0.1 obj::crea_track_HOA("pvoc_scrub_vlc_mes195", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_vlc_mes195.id()]]) 
	$tracks("pvoc_scrub_vlc_mes195").rand_lfo("TScrubPvocBuf", "pos", 0.2, 0.5, 0.1, "linear", 30)
	// $tracks("pvoc_scrub_vlc_mes195").lfo_abort("TScrubPvocBuf", "pos")
	$tracks("pvoc_scrub_vlc_mes195").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 10, "linear")
	// $tracks("pvoc_scrub_vlc_mes195").free()

	$tracks("pvoc_scrub_vlc_mes190").free(2)

	0.1 obj::crea_track_HOA("pvoc_scrub_cb_mes195", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_cb_mes195.id()]]) 
	$tracks("pvoc_scrub_cb_mes195").rand_lfo("TScrubPvocBuf", "pos", 0.3, 0.6, 0.1, "linear", 30)
	// $tracks("pvoc_scrub_cb_mes195").lfo_abort("TScrubPvocBuf", "pos")
	$tracks("pvoc_scrub_cb_mes195").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 10, "linear")
	// $tracks("pvoc_scrub_cb_mes195").free()

	$tracks("pvoc_scrub_cb_mes190").free(2)

	$tracks("comb_vln1_mes186").free(3)
	$tracks("comb_vln2_mes186").free(3)
	$tracks("comb_alto_mes186").free(3)	
}


4 group trb194
{
	$rec_buf_pvoc_trb.rec($trb) 
	0.1 obj::crea_track_HOA("pvoc_scrub_trb_mes194", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_trb.id()]]) 
	// $tracks("pvoc_scrub_trb_mes194").rand_lfo("TScrubPvocBuf", "pos", 0.1, 0.5, 0.1, "linear", 30)
	$tracks("pvoc_scrub_trb_mes194").rand_lfo_dyn("TScrubPvocBuf", "pos", 0, "linear", 30, $rec_buf_pvoc_trb)
	$tracks("pvoc_scrub_trb_mes194").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 80, "linear")
	// $tracks("pvoc_scrub_trb_mes194").free()
	
}
NOTE C4 32 mesure200


$tracks("shuffler_bsn_m193").free(5)
$tracks("Shuffler_cor_m193").free(5)
$tracks("shuffler_trb_m193").free(5)

$tracks("pvoc_scrub_vln1_mes195").free(7)
$tracks("pvoc_scrub_vln2_mes195").free(7)
$tracks("pvoc_scrub_alto_mes195").free(7)
$tracks("pvoc_scrub_vlc_mes195").free(7)
$tracks("pvoc_scrub_cb_mes195").free(7)

obj::crea_track_HOA("vln1fsht_mes200", "group_hoa1", fade_in = 2, amp = 0, doppler = 0, [["AudioInput", "input", $vln1, "amp", 0], ["TMFxShift2"]])
$tracks("vln1fsht_mes200").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
$tracks("vln1fsht_mes200").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 30, "linear")

obj::crea_track_HOA("vln2fsht_mes200", "group_hoa1", fade_in = 2, amp = 0, doppler = 0, [["AudioInput", "input", $vln2, "amp", 0], ["TMFxShift2"]])
$tracks("vln2fsht_mes200").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
$tracks("vln2fsht_mes200").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 30, "linear")

obj::crea_track_HOA("altofsht_mes200", "group_hoa1", fade_in = 2, amp = 0, doppler = 0, [["AudioInput", "input", $alto, "amp", 0], ["TMFxShift2"]])
$tracks("altofsht_mes200").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
$tracks("altofsht_mes200").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 30, "linear")

obj::crea_track_HOA("vlcfsht_mes200", "group_hoa1", fade_in = 2, amp = 0, doppler = 0, [["AudioInput", "input", $vlc, "amp", 0], ["TMFxShift2"]])
$tracks("vlcfsht_mes200").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
$tracks("vlcfsht_mes200").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 30, "linear")



NOTE C4 32 mesure205

$tracks("vln1fsht_mes200").free(1)
$tracks("vln2fsht_mes200").free(1)
$tracks("altofsht_mes200").free(1)
$tracks("vlcfsht_mes200").free(1)

// Reciclage buffers mes190
// Start rec buffers:
$rec_buf_pvoc_vln1_mes190.rec($vln1) // record from audio input (if bus = true record from bus)
$rec_buf_pvoc_vln2_mes190.rec($vln2) // record from audio input (if bus = true record from bus)
$rec_buf_pvoc_alto_mes190.rec($alto) // record from audio input (if bus = true record from bus)
$rec_buf_pvoc_vlc_mes190.rec($vlc) // record from audio input (if bus = true record from bus)
$rec_buf_pvoc_cb_mes190.rec($cb) // record from audio input (if bus = true record from bus)

// Start play buffers: probar TplayBins para cambiar el timbre
0.7 obj::crea_track_HOA("pvoc_scrub_vln1_mes190", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_vln1_mes190.id()]]) 
$tracks("pvoc_scrub_vln1_mes190").rand_lfo("TScrubPvocBuf", "pos", 0.6, 0.9, 0.1, "linear", 30)
// $tracks("pvoc_scrub_vln1_mes190").lfo_abort("TScrubPvocBuf", "pos")
$tracks("pvoc_scrub_vln1_mes190").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
// $tracks("pvoc_scrub_vln1_mes190").free()

0.5 obj::crea_track_HOA("pvoc_scrub_vln2_mes190", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_vln2_mes190.id()]]) 
$tracks("pvoc_scrub_vln2_mes190").rand_lfo("TScrubPvocBuf", "pos", 0.5, 0.8, 0.1, "linear", 30)
// $tracks("pvoc_scrub_vln2_mes190").lfo_abort("TScrubPvocBuf", "pos")
$tracks("pvoc_scrub_vln2_mes190").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
// $tracks("pvoc_scrub_vln2_mes190").free()

0.3 obj::crea_track_HOA("pvoc_scrub_alto_mes190", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_alto_mes190.id()]]) 
$tracks("pvoc_scrub_alto_mes190").rand_lfo("TScrubPvocBuf", "pos", 0.4, 0.7, 0.1, "linear", 30)
// $tracks("pvoc_scrub_alto_mes190").lfo_abort("TScrubPvocBuf", "pos")
$tracks("pvoc_scrub_alto_mes190").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
// $tracks("pvoc_scrub_alto_mes190").free()

0.4 obj::crea_track_HOA("pvoc_scrub_vlc_mes190", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_vlc_mes190.id()]]) 
$tracks("pvoc_scrub_vlc_mes190").rand_lfo("TScrubPvocBuf", "pos", 0.2, 0.5, 0.1, "linear", 30)
// $tracks("pvoc_scrub_vlc_mes190").lfo_abort("TScrubPvocBuf", "pos")
$tracks("pvoc_scrub_vlc_mes190").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
// $tracks("pvoc_scrub_vlc_mes190").free()

0.2 obj::crea_track_HOA("pvoc_scrub_cb_mes190", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_cb_mes190.id()]]) 
$tracks("pvoc_scrub_cb_mes190").rand_lfo("TScrubPvocBuf", "pos", 0.3, 0.6, 0.1, "linear", 30)
// $tracks("pvoc_scrub_cb_mes190").lfo_abort("TScrubPvocBuf", "pos")
$tracks("pvoc_scrub_cb_mes190").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
// $tracks("pvoc_scrub_cb_mes190").free()



NOTE C4 32 mesure211

// Envs HACER!!

4 $tracks("pvoc_scrub_vln1_mes190").free(5)
$tracks("pvoc_scrub_vln2_mes190").free(5)
$tracks("pvoc_scrub_alto_mes190").free(5)
$tracks("pvoc_scrub_vlc_mes190").free(5)
$tracks("pvoc_scrub_cb_mes190").free(5)
$tracks("pvoc_scrub_trb_mes194").free(5) // trombone

NOTE C4 32 mesure215

obj::crea_track_HOA("flfsht_mes215", "group_hoa1", fade_in = 2, amp = 0, doppler = 0, [["AudioInput", "input", $fl, "amp", 0], ["TMFxShift2"]])
$tracks("flfsht_mes215").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
$tracks("flfsht_mes215").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 30, "linear")

obj::crea_track_HOA("clfsht_mes215", "group_hoa1", fade_in = 2, amp = 0, doppler = 0, [["AudioInput", "input", $cl, "amp", 0], ["TMFxShift2"]])
$tracks("clfsht_mes215").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
$tracks("clfsht_mes215").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 30, "linear")

obj::crea_track_HOA("htbfsht_mes215", "group_hoa1", fade_in = 2, amp = 0, doppler = 0, [["AudioInput", "input", $htb, "amp", 0], ["TMFxShift2"]])
$tracks("htbfsht_mes215").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
$tracks("htbfsht_mes215").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 30, "linear")

obj::crea_track_HOA("bsnfsht_mes215", "group_hoa1", fade_in = 2, amp = 0, doppler = 0, [["AudioInput", "input", $bsn, "amp", 0], ["TMFxShift2"]])
$tracks("bsnfsht_mes215").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
$tracks("bsnfsht_mes215").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 30, "linear")



NOTE C4 32 mesure220

$tracks("flfsht_mes215").free(1)
$tracks("clfsht_mes215").free(1)
$tracks("htbfsht_mes215").free(1)
$tracks("bsnfsht_mes215").free(1)


5 group mes222
{
	$rec_buf_pvoc_fl_mes222.rec($fl)
	$rec_buf_pvoc_htb_mes222.rec($htb)
	$rec_buf_pvoc_cl_mes222.rec($cl)
	$rec_buf_pvoc_bsn_mes222.rec($bsn)	

	// Start play buffers: probar TplayBins para cambiar el timbre
	0.7 obj::crea_track_HOA("pvoc_scrub_fl_mes222", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_fl_mes222.id()]]) 
	$tracks("pvoc_scrub_fl_mes222").rand_lfo("TScrubPvocBuf", "pos", 0.6, 0.9, 0.1, "linear", 30)
	// $tracks("pvoc_scrub_fl_mes222").lfo_abort("TScrubPvocBuf", "pos")
	$tracks("pvoc_scrub_fl_mes222").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
	// $tracks("pvoc_scrub_fl_mes222").free()

	0.5 obj::crea_track_HOA("pvoc_scrub_htb_mes222", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_htb_mes222.id()]]) 
	$tracks("pvoc_scrub_htb_mes222").rand_lfo("TScrubPvocBuf", "pos", 0.5, 0.8, 0.1, "linear", 30)
	// $tracks("pvoc_scrub_htb_mes222").lfo_abort("TScrubPvocBuf", "pos")
	$tracks("pvoc_scrub_htb_mes222").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
	// $tracks("pvoc_scrub_htb_mes222").free()

	0.3 obj::crea_track_HOA("pvoc_scrub_cl_mes222", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_cl_mes222.id()]]) 
	$tracks("pvoc_scrub_cl_mes222").rand_lfo("TScrubPvocBuf", "pos", 0.4, 0.7, 0.1, "linear", 30)
	// $tracks("pvoc_scrub_cl_mes222").lfo_abort("TScrubPvocBuf", "pos")
	$tracks("pvoc_scrub_cl_mes222").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
	// $tracks("pvoc_scrub_cl_mes222").free()

	0.4 obj::crea_track_HOA("pvoc_scrub_bsn_mes222", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_bsn_mes222.id()]]) 
	$tracks("pvoc_scrub_bsn_mes222").rand_lfo("TScrubPvocBuf", "pos", 0.2, 0.5, 0.1, "linear", 30)
	// $tracks("pvoc_scrub_bsn_mes222").lfo_abort("TScrubPvocBuf", "pos")
	$tracks("pvoc_scrub_bsn_mes222").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
	// $tracks("pvoc_scrub_bsn_mes222").free()

}


// Resonance??

NOTE C4 32 mesure225

// Resonance??

// $synth_mes27_freqs := [111.85, 146.83, 220, 307.33, 896.15, 1108.73, 1206.39, 1396.91, 1941.12, 1941.12, 4735.509766]*0.5
// $synth_mes27_amps := @normalize([1.33, 1.82, 0.85, 1.09, 1.61, 1.56, 0.13, 1.36, 1.32, 1.6, 1.56])

// obj::crea_track_HOA("addmes_mes225", "group_hoa4", fade_in = 4, amp = -4, in_channels = 8, [["TAddic_11_8", "amp", -40, "d", 0, "transp", 4.112, "shift", 539.96, "distor", -0.816, "freqs", $synth_mes27_amps, "amps", $synth_mes27_amps]])
// $tracks("addmes_mes225").rand_lfo("TAddic_11_8", "d", 2, 10, 2, "exp", 20)
// $tracks("addmes_mes225").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 10) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
// $tracks("addmes_mes225").amp(2)

NOTE C4 32 mesure226

$tracks("pvoc_scrub_fl_mes222").free(0.1)
$tracks("pvoc_scrub_htb_mes222").free(0.1)
$tracks("pvoc_scrub_cl_mes222").free(0.1)
$tracks("pvoc_scrub_bsn_mes222").free(0.1)

/// Son synth bajo

// $tracks("addmes_mes225").free()

obj::crea_track_HOA("bajo_mess226", "group_hoa4", fade_in = 5, amp = 0, doppler = 0, [[Bajo, freq, 34, d, 0.0, lfnoisefreq, 0.0010000000474975, lag, 5.0, amp, -0.2917839884758],[SimpleBass, note, 27, fc, 205.80999755859, rq, 0.25, bal, 0.0, width, 0.0, amp, 0.0]]) 
$tracks("bajo_mess226").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 5, "linear")
$tracks("bajo_mess226").amp(-13)


bpm 60 //mes226

NOTE C4 32 mesure228

// traitement sur superboll
// $tracks("addmes_mes225").free(10)

$rec_buf_pvoc_perc1_mes228.rec($perc1)

group mes228
{
	// Start play buffers: probar TplayBins para cambiar el timbre
	obj::crea_track_HOA("pvoc_scrub_perc1_mes228", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_perc1_mes228.id()]]) 
	// $tracks("pvoc_scrub_perc1_mes228").rand_lfo("TScrubPvocBuf", "pos", 0.1, 0.5, 0.1, "linear", 30)
	$tracks("pvoc_scrub_perc1_mes228").rand_lfo_dyn("TScrubPvocBuf", "pos", 0, "linear", 30, $rec_buf_pvoc_perc1_mes228)
	$tracks("pvoc_scrub_perc1_mes228").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
	// $tracks("pvoc_scrub_perc1_mes228").free()


	10 $tracks("bajo_mess226").free(15)
	10 $tracks("pvoc_scrub_perc1_mes228").free(10)
}


bpm 63 //mes235

NOTE C4 32 mesure240


// $tracks("addmes_mes240").free()

// bpm 60 //mes250



// Freeze Perc
$amp_mes10 := -6
obj::crea_track_HOA("perc1_freeze_mes10", "group_hoa1", fade_in = 0.5, amp = $amp_mes10, doppler = 0, [["AudioInput", "input", $perc1, "amp", 0], ["FftFreezeOneOnset", "thresh", 0.5, "buf", @buff_fft("server1")]])
// $tracks("perc1_freeze_mes10").dae_rand_lfo([0.75, 2.2, 1, 0, -90, -45, 0, 0, 0], 20) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
$tracks("perc1_freeze_mes10").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
// $tracks("perc1_freeze_mes10").free()

obj::crea_track_HOA("perc2_freeze_mes10", "group_hoa1", fade_in = 0.5, amp = $amp_mes10, doppler = 0, [["AudioInput", "input", $perc2, "amp", 0], ["FftFreezeOneOnset", "thresh", 0.5, "buf", @buff_fft("server1")]])
// $tracks("perc2_freeze_mes10").dae_rand_lfo([0.75, 2.2, 1, 0, -90, -45, 0, 0, 0], 20) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
$tracks("perc2_freeze_mes10").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
// $tracks("perc2_freeze_mes10").free()

// Granular cordes

group gran_cordes_mes240
{
	obj::crea_track_HOA("vln1_freeze_mes10", "group_hoa1", fade_in = 0.1, amp = $amp_mes10, in_channels = 8, [["AudioInput", "input", $vln1, "amp", 0], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.5]])
	$tracks("vln1_freeze_mes10").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
	$tracks("vln1_freeze_mes10").preset("TGranBuf8_Oneset", "gran_one_mes173")
	$tracks("vln1_freeze_mes10").set("TGranBuf8_Oneset", [trigRate, 5, rate, 1, rateDev, 0, panDev, 1])
	// $tracks("vln1_freeze_mes10").free()

	obj::crea_track_HOA("vln2_freeze_mes10", "group_hoa1", fade_in = 0.1, amp = $amp_mes10, in_channels = 8, [["AudioInput", "input", $vln2, "amp", 0], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.5]])
	$tracks("vln2_freeze_mes10").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
	$tracks("vln2_freeze_mes10").preset("TGranBuf8_Oneset", "gran_one_mes173")
	$tracks("vln2_freeze_mes10").set("TGranBuf8_Oneset", [trigRate, 3, rate, 1, rateDev, 0, panDev, 1])
	// $tracks("vln2_freeze_mes10").free()


	obj::crea_track_HOA("vlc_freeze_mes10", "group_hoa1", fade_in = 0.1, amp = $amp_mes10, in_channels = 8, [["AudioInput", "input", $vlc, "amp", 0], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.5]])
	$tracks("vlc_freeze_mes10").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
	$tracks("vlc_freeze_mes10").preset("TGranBuf8_Oneset", "gran_one_mes173")
	$tracks("vlc_freeze_mes10").set("TGranBuf8_Oneset", [trigRate, 3, rate, 1, rateDev, 0, panDev, 1])
	// $tracks("vlc_freeze_mes10").free()

	obj::crea_track_HOA("alto_freeze_mes10", "group_hoa1", fade_in = 0.1, amp = $amp_mes10, in_channels = 8, [["AudioInput", "input", $alto, "amp", 0], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.5]])
	$tracks("alto_freeze_mes10").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
	$tracks("alto_freeze_mes10").preset("TGranBuf8_Oneset", "gran_one_mes173")
	$tracks("alto_freeze_mes10").set("TGranBuf8_Oneset", [trigRate, 6, rate, 1, rateDev, 0, panDev, 1])
	// $tracks("alto_freeze_mes10").free()

	obj::crea_track_HOA("cb_freeze_mes10", "group_hoa1", fade_in = 0.1, amp = $amp_mes10, in_channels = 8, [["AudioInput", "input", $cb, "amp", 0], ["TGranBuf8_Oneset", "preset", "gran_one_mes173", "buf", @buff_gran("server1"), "thresh", 0.5]])
	$tracks("cb_freeze_mes10").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0])
	$tracks("cb_freeze_mes10").preset("TGranBuf8_Oneset", "gran_one_mes173")
	$tracks("cb_freeze_mes10").set("TGranBuf8_Oneset", [trigRate, 4, rate, 1, rateDev, 0, panDev, 1])
	// $tracks("cb_freeze_mes10").free()

	// fade_out
	1 $tracks("perc1_freeze_mes10").amp([$amp_mes10, 7, -50])
	$tracks("perc2_freeze_mes10").amp([$amp_mes10, 7, -50])
	$tracks("vln1_freeze_mes10").amp([$amp_mes10, 7, -50])
	$tracks("vln2_freeze_mes10").amp([$amp_mes10, 7, -50])
	$tracks("vlc_freeze_mes10").amp([$amp_mes10, 7, -50])
	$tracks("alto_freeze_mes10").amp([$amp_mes10, 7, -50])
	$tracks("cb_freeze_mes10").amp([$amp_mes10, 7, -50])

	7.5 $tracks("perc1_freeze_mes10").free(2)
	$tracks("perc2_freeze_mes10").free(2)
	$tracks("vln1_freeze_mes10").free(2)
	$tracks("vln2_freeze_mes10").free(2)
	$tracks("vlc_freeze_mes10").free(2)
	$tracks("alto_freeze_mes10").free(2)
	$tracks("cb_freeze_mes10").free(2)
}

3 obj::crea_track_HOA("htbfsht_mes240", "group_hoa1", fade_in = 2, amp = 0, doppler = 0, [["AudioInput", "input", $htb, "amp", 0], ["TMFxShift2", "modfreq", 33]])
// $tracks("htbfsht_mes240").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
$tracks("htbfsht_mes240").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 25, "linear")

obj::crea_track_HOA("clfsht_mes240", "group_hoa1", fade_in = 2, amp = 0, doppler = 0, [["AudioInput", "input", $cl, "amp", 0], ["TMFxShift2", "modfreq", -33]])
// $tracks("clfsht_mes240").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
$tracks("clfsht_mes240").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 25, "linear") 

obj::crea_track_HOA("vln1fsht_mes240", "group_hoa1", fade_in = 4, amp = 0, doppler = 0, [["AudioInput", "input", $vln1, "amp", 0], ["TMFxShift2"]])
$tracks("vln1fsht_mes240").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
$tracks("vln1fsht_mes240").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 25, "linear")

obj::crea_track_HOA("vln2fsht_mes240", "group_hoa1", fade_in = 4, amp = 0, doppler = 0, [["AudioInput", "input", $vln2, "amp", 0], ["TMFxShift2"]])
$tracks("vln2fsht_mes240").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
$tracks("vln2fsht_mes240").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 25, "linear")

obj::crea_track_HOA("altofsht_mes240", "group_hoa1", fade_in = 4, amp = 0, doppler = 0, [["AudioInput", "input", $alto, "amp", 0], ["TMFxShift2"]])
$tracks("altofsht_mes240").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
$tracks("altofsht_mes240").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 25, "linear")

obj::crea_track_HOA("vlcfsht_mes240", "group_hoa1", fade_in = 4, amp = 0, doppler = 0, [["AudioInput", "input", $vlc, "amp", 0], ["TMFxShift2"]])
$tracks("vlcfsht_mes240").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
$tracks("vlcfsht_mes240").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 25, "linear")

obj::crea_track_HOA("cbfsht_mes240", "group_hoa1", fade_in = 4, amp = 0, doppler = 0, [["AudioInput", "input", $cb, "amp", 0], ["TMFxShift2"]])
$tracks("cbfsht_mes240").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
$tracks("cbfsht_mes240").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 25, "linear")

NOTE C4 32 mesure247

$tracks("htbfsht_mes240").free(2)
$tracks("clfsht_mes240").free(2)
$tracks("vln1fsht_mes240").free(2)
$tracks("vln2fsht_mes240").free(2)
$tracks("altofsht_mes240").free(2)
$tracks("vlcfsht_mes240").free(2)
$tracks("cbfsht_mes240").free(2)

bpm 72

NOTE C4 32 mesure256

// $tracks("addmes_mes240").free(10)

// $tracks("play_sample_8ch").play_sample8("kick29.aif", -6)

NOTE C4 32 mesure257

// $tracks("play_sample_8ch").play_sample8("kick29.aif", -6)


NOTE C4 32 mesure261

// Spat HACER
obj::crea_track_HOA("spat_mes261_cb", "group_hoa1", fade_in = 1, amp = 3, doppler = 0, [["AudioInput", "input", $cb, "amp", 0]])
// $tracks("spat_mes261_cb").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("spat_mes261_cb").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 30, "linear")

2 $tracks("spat_mes261_cb").free()

NOTE C4 32 mesure262

// Spat HACER
obj::crea_track_HOA("spat_mes261_vln2", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, [["AudioInput", "input", $vln2, "amp", 0]])
// $tracks("spat_mes261_vln2").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("spat_mes261_vln2").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 30, "linear")

obj::crea_track_HOA("spat_mes261_alto", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, [["AudioInput", "input", $alto, "amp", 0]])
// $tracks("spat_mes261_alto").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("spat_mes261_alto").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 30, "linear")

obj::crea_track_HOA("spat_mes261_vlc", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, [["AudioInput", "input", $vlc, "amp", 0]])
// $tracks("spat_mes261_vlc").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("spat_mes261_vlc").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 30, "linear")


NOTE C4 32 mesure268

$tracks("spat_mes261_vln2").free()
$tracks("spat_mes261_alto").free()
$tracks("spat_mes261_vlc").free()

2 obj::crea_track_HOA("shuffler_alto_m268", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $alto, "amp", 0], ["TShuffler8", "preset", "estremo-trb-mes66"]])
$tracks("shuffler_alto_m268").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("shuffler_alto_m268").preset("TShuffler8", "estremo-trb-mes66")
$tracks("shuffler_alto_m268").set("TShuffler8", ["env", $envs("server1")("rond")])
$tracks("shuffler_alto_m268").set("TShuffler8", [fbk, @rand_vect(8, 0.1, 0.3), @rand_vect(8, 0.2, 0.9)])

// $tracks("shuffler_alto_m268").free()

obj::crea_track_HOA("shuffler_vlc_m268", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $vlc, "amp", 0], ["TShuffler8", "preset", "estremo-trb-mes66"]])
$tracks("shuffler_vlc_m268").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("shuffler_vlc_m268").preset("TShuffler8", "estremo-trb-mes66")
$tracks("shuffler_vlc_m268").set("TShuffler8", ["env", $envs("server1")("rond")])
$tracks("shuffler_vlc_m268").set("TShuffler8", [fbk, @rand_vect(8, 0.1, 0.3), @rand_vect(8, 0.2, 0.9)])


// $tracks("shuffler_vlc_m268").free()

obj::crea_track_HOA("shuffler_cb_m268", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $cb, "amp", 0], ["TShuffler8", "preset", "estremo-trb-mes66"]])
$tracks("shuffler_cb_m268").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("shuffler_cb_m268").preset("TShuffler8", "estremo-trb-mes66")
$tracks("shuffler_cb_m268").set("TShuffler8", ["env", $envs("server1")("rond")])
$tracks("shuffler_cb_m268").set("TShuffler8", [fbk, @rand_vect(8, 0.1, 0.3), @rand_vect(8, 0.2, 0.9)])



// $tracks("shuffler_cb_m268").free()

NOTE C4 32 mesure269

group mes269
{
	1.5 $tracks("shuffler_alto_m268").set("AudioInput", ["amp", -120])
	$tracks("shuffler_vlc_m268").set("AudioInput", ["amp", -120])
	$tracks("shuffler_cb_m268").set("AudioInput", ["amp", -120])
	10 $tracks("shuffler_alto_m268").free()
	$tracks("shuffler_vlc_m268").free()
	$tracks("shuffler_cb_m268").free()
}



NOTE C4 32 mesure272

// $tracks("spat_mes261_vln2").mod_add(["TMFxShift2", "modfreq", 100], fade_in = 1)
// $tracks("spat_mes261_vln2").mod_add(["TMFxShift2", "modfreq", 133], fade_in = 1)
// $tracks("spat_mes261_vlc").mod_add(["TMFxShift2", "modfreq", 200], fade_in = 1)

NOTE C4 32 mesure279

$tracks("play_sample_8ch").play_sample8("mes279.aif", -6)


// NOTE C4 32 mesure280

// cargar los buffer al incio !!


// //wait for sync load/analyse file
// $dur_mes280 := $pvoc_anal_mes280.dur()
// obj::crea_track_HOA("pvoc_mes280", "group_hoa3", fade_in = 0.001, amp = 0, in_channels = 8, ["VBPVocPlay8", "buf", $pvoc_anal_mes280.VBPVoc_buf()]) 
// $tracks("pvoc_mes280").bpf_param("VBPVocPlay8", "pos", [0, $dur_mes280, 0.999])
// $tracks("pvoc_mes280").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])

// ($dur_mes280)+0.1 $tracks("pvoc_mes280").free(0.1)

NOTE C4 32 mesure281

$tracks("play_sample_8ch").play_sample8("mes281.aif", -6)

//// ENVS + TIME STRETCH DE TUTTI

NOTE C4 32 mesure284

$tracks("play_sample_8ch").play_sample8("mes284.aif", -8)
// 3 $tracks("play_sample_8ch").play_sample8_stop("mes284.aif", 0.1)
// // cargar los buffer al incio !!

NOTE C4 32 mesure285

$tracks("play_sample_8ch").play_sample8_stop("mes284.aif", 0.1)
// //wait for sync load/analyse file
// $dur_mes280 := 3
// 0.5 obj::crea_track_HOA("pvoc_mes280", "group_hoa1", fade_in = 0.001, amp = 0, in_channels = 8, ["VBPVocPlay8", "buf", $pvoc_anal_mes280.VBPVoc_buf()]) 
// $tracks("pvoc_mes280").bpf_param("VBPVocPlay8", "pos", [1, $dur_mes280, 0])
// $tracks("pvoc_mes280").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])

// ($dur_mes280)+0.1 $tracks("pvoc_mes280").free(0.1)

NOTE C4 32 mesure288

$tracks("play_sample_8ch").play_sample8("mes288.aif", -6)

//// ENVS 

$onset_fl_mes288 := obj::onset_detect("server1", $fl, thresh = 0.1, antirebond = 1, id = $fl, amp = 0) // del in ms
$onset_htb_mes288 := obj::onset_detect("server1", $htb, thresh = 0.1, antirebond = 1, id = $htb, amp = 0) // del in ms
$onset_cl_mes288 := obj::onset_detect("server1", $cl, thresh = 0.1, antirebond = 1, id = $cl, amp = 0) // del in ms
$onset_bsn_mes288 := obj::onset_detect("server1", $bsn, thresh = 0.1, antirebond = 1, id = $bsn, amp = 0) // del in ms

$onset_cor_mes288 := obj::onset_detect("server1", $cor, thresh = 0.1, antirebond = 0.3, id = $cor, amp = 0) // del in ms
$onset_trb_mes288 := obj::onset_detect("server1", $trb, thresh = 0.1, antirebond = 0.3, id = $trb, amp = 0) // del in ms

$onset_vln1_mes288 := obj::onset_detect("server1", $vln1, thresh = 0.1, antirebond = 1, id = $vln1, amp = 0) // del in ms
$onset_vln2_mes288 := obj::onset_detect("server1", $vln2, thresh = 0.1, antirebond = 1, id = $vln2, amp = 0) // del in ms
$onset_alto_mes288 := obj::onset_detect("server1", $alto, thresh = 0.1, antirebond = 1, id = $alto, amp = 0) // del in ms
$onset_vlc_mes288 := obj::onset_detect("server1", $vlc, thresh = 0.1, antirebond = 1, id = $vlc, amp = 0) // del in ms
$onset_cb_mes288 := obj::onset_detect("server1", $cb, thresh = 0.1, antirebond = 1, id = $cb, amp = 0) // del in ms

/// Send data from server to client
$Servers("server1").notify(1)

obj::crea_track_HOA("env_test", "group_hoa1", fade_in = 0.01, amp = 0, doppler = 0, encoder = false)
$track_bus_mes288 := $tracks("env_test").$bus
// print $track_bus_mes288
// $onset_test2.thresh(0.001)
// $onset_test2.free()

// $onset_fl_mes288.thresh(0.1)
// $onset_htb_mes288.thresh(0.1)
// $onset_cl_mes288.thresh(0.1)
// $onset_bsn_mes288.thresh(0.1)
// $onset_cor_mes288.thresh(0.1)
// $onset_trb_mes288.thresh(0.1)
// $onset_vln1_mes288.thresh(0.1)
// $onset_vln2_mes288.thresh(0.1)
// $onset_alto_mes288.thresh(0.1)
// $onset_vlc_mes288.thresh(0.1)
// $onset_cb_mes288.thresh(0.1)

// $onset_fl_mes288.free()
// $onset_htb_mes288.free()
// $onset_cl_mes288.free()
// $onset_bsn_mes288.free()
// $onset_cor_mes288.free()
// $onset_trb_mes288.free()
// $onset_vln1_mes288.free()
// $onset_vln2_mes288.free()
// $onset_alto_mes288.free()
// $onset_vlc_mes288.free()
// $onset_cb_mes288.free()



whenever fl_onset_mes288 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $fl))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $fl, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
// abort fl_onset_mes288
whenever htb_onset_mes288 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $htb))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $htb, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever cl_onset_mes288 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $cl))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $cl, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever bsn_onset_mes288 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $bsn))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $bsn, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever vln1_onset_mes288 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $vln1))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $vln1, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}

whenever vln2_onset_mes288 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $vln2))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $vln2, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever alto_onset_mes288 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $alto))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $alto, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever vlc_onset_mes288 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $vlc))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $vlc, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever cb_onset_mes288 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $cb))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $cb, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
// abort fl_onset_mes288
// abort htb_onset_mes288
// abort cl_onset_mes288
// abort bsn_onset_mes288


NOTE C4 32 mesure290

// cargar los buffer al incio !!


//wait for sync load/analyse file
$dur_mes290 := $pvoc_anal_mes290.dur()
0.5 obj::crea_track_HOA("pvoc_mes290", "group_hoa3", fade_in = 0.001, amp = -6, in_channels = 8, ["VBPVocPlay8", "buf", $pvoc_anal_mes290.VBPVoc_buf()]) 
$tracks("pvoc_mes290").bpf_param("VBPVocPlay8", "pos", [0, $dur_mes290, 0.99999])
$tracks("pvoc_mes290").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])

($dur_mes290)+0.1 $tracks("pvoc_mes290").free(0.1)

// $tracks("play_sample_8ch").play_sample8("mes290-cresc.aif")

NOTE C4 32 mesure292

abort fl_onset_mes288
abort htb_onset_mes288
abort cl_onset_mes288
abort bsn_onset_mes288
abort vln1_onset_mes288
abort vln2_onset_mes288
abort alto_onset_mes288
abort vlc_onset_mes288
abort cb_onset_mes288




//// ENVS + TRATEMENTI - pizz Bartock

// whenever fl_onset_mes292 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $fl))
// {
// 	// print onsetdetect___TOTO $onsetdetect
// 	$tracks(env_test).group_add([[AudioInput, input, $fl, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

// }

// whenever htb_onset_mes292 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $htb))
// {
// 	// print onsetdetect___TOTO $onsetdetect
// 	$tracks(env_test).group_add([[AudioInput, input, $htb, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

// }
// whenever cl_onset_mes292 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $cl))
// {
// 	// print onsetdetect___TOTO $onsetdetect
// 	$tracks(env_test).group_add([[AudioInput, input, $cl, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

// }
$Servers("server1").notify(1)

$onset_bsn_mes288.antirebond(0.3)
$onset_cor_mes288.antirebond(0.3)
$onset_trb_mes288.antirebond(0.3)
$onset_alto_mes288.antirebond(0.3)
$onset_vlc_mes288.antirebond(0.3)
$onset_cb_mes288.antirebond(0.3)


whenever bsn_onset_mes292 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $bsn))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $bsn, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever cor_onset_mes292 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $cor))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $cor, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever trb_onset_mes292 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $trb))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $trb, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever alto_onset_mes292 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $alto))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $alto, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever vlc_onset_mes292 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $vlc))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $vlc, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever cb_onset_mes292 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $cb))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $cb, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}

1 $tracks("play_sample_8ch").play_sample8("mes292-b2.aif", -6)


NOTE C4 32 mesure293

2 $tracks("play_sample_8ch").play_sample8("mes293-b3.aif", -6)

2 abort bsn_onset_mes292
abort cor_onset_mes292
abort trb_onset_mes292
abort alto_onset_mes292
abort vlc_onset_mes292
abort cb_onset_mes292

$onset_bsn_mes288.antirebond(1)
$onset_cor_mes288.antirebond(1)
$onset_trb_mes288.antirebond(1)
$onset_alto_mes288.antirebond(1)
$onset_vlc_mes288.antirebond(1)
$onset_cb_mes288.antirebond(1)

// NOTE C4 32 mesure294

// // cargar los buffer al incio !!


// //wait for sync load/analyse file
// $dur_mes280 := 3
// 0.5 obj::crea_track_HOA("pvoc_mes280", "group_hoa1", fade_in = 0.001, amp = 0, in_channels = 8, ["VBPVocPlay8", "buf", $pvoc_anal_mes280.VBPVoc_buf()]) 
// $tracks("pvoc_mes280").bpf_param("VBPVocPlay8", "pos", [1, $dur_mes280, 0])
// $tracks("pvoc_mes280").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])

// ($dur_mes280)+0.1 $tracks("pvoc_mes280").free(0.1)

NOTE C4 32 mesure295

$tracks("play_sample_8ch").play_sample8("mes295.aif", -6)

//// ENVS 

whenever fl_onset_mes295 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $fl))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $fl, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}

whenever htb_onset_mes295 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $htb))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $htb, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever cl_onset_mes295 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $cl))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $cl, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever bsn_onset_mes295 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $bsn))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $bsn, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever vln1_onset_mes295 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $vln1))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $vln1, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}

whenever vln2_onset_mes295 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $vln2))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $vln2, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever alto_onset_mes295 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $alto))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $alto, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever vlc_onset_mes295 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $vlc))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $vlc, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever cb_onset_mes295 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $cb))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $cb, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}

// NOTE C4 32 mesure296

// cargar los buffer al incio !!


// //wait for sync load/analyse file
// $dur_mes296 := $pvoc_anal_mes296.dur()
// 3 obj::crea_track_HOA("pvoc_mes296", "group_hoa3", fade_in = 0.001, amp = 0, in_channels = 8, ["VBPVocPlay8", "buf", $pvoc_anal_mes296.VBPVoc_buf()]) 
// $tracks("pvoc_mes296").bpf_param("VBPVocPlay8", "pos", [0, $dur_mes296, 1])
// $tracks("pvoc_mes296").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])

// ($dur_mes296)+0.1 $tracks("pvoc_mes296").free(0.1)


// $tracks("play_sample_8ch").play_sample8("mes296-b4-cresc.aif")


NOTE C4 32 mesure297

//// Ritmos

$tracks("play_sample_8ch").play_sample8("mes297.aif", -6)

NOTE C4 32 mesure298

abort fl_onset_mes295
abort htb_onset_mes295
abort cl_onset_mes295
abort bsn_onset_mes295
abort vln1_onset_mes295
abort vln2_onset_mes295
abort alto_onset_mes295
abort vlc_onset_mes295
abort cb_onset_mes295
// cargar los buffer al incio !!

obj::crea_track_HOA("corfsht_mes298", "group_hoa1", fade_in = 4, amp = 0, doppler = 0, [["AudioInput", "input", $cor, "amp", 0], ["TMFxShift2"]])
$tracks("corfsht_mes298").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
$tracks("corfsht_mes298").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 30, "linear")

obj::crea_track_HOA("tprfsht_mes298", "group_hoa1", fade_in = 4, amp = 0, doppler = 0, [["AudioInput", "input", $trp, "amp", 0], ["TMFxShift2"]])
$tracks("tprfsht_mes298").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
$tracks("tprfsht_mes298").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 30, "linear")

obj::crea_track_HOA("trbfsht_mes298", "group_hoa1", fade_in = 4, amp = 0, doppler = 0, [["AudioInput", "input", $trb, "amp", 0], ["TMFxShift2"]])
$tracks("trbfsht_mes298").rand_lfo("TMFxShift2", "modfreq", -40, 40, 0, "exp", 60)
$tracks("trbfsht_mes298").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 30, "linear")


//wait for sync load/analyse file
$dur_me298 := $pvoc_anal_me298.dur()+0.5
print ($pvoc_anal_me298.dur())
obj::crea_track_HOA("pvoc_me298", "group_hoa3", fade_in = 0.001, amp = -20, in_channels = 8, ["VBPVocPlay8", "buf", $pvoc_anal_me298.VBPVoc_buf()]) 
$tracks("pvoc_me298").bpf_param("VBPVocPlay8", "pos", [0, $dur_me298, 0.999])
$tracks("pvoc_me298").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])

($dur_me298)+0.1 $tracks("pvoc_me298").free(0.1)

NOTE C4 32 mesure300

$tracks("play_sample_8ch").play_sample8("mes300.aif", -6)

$tracks("corfsht_mes298").free(1)
$tracks("tprfsht_mes298").free(1)
$tracks("trbfsht_mes298").free(1)

//// ENVS 

whenever fl_onset_mes300 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $fl))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $fl, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}

whenever htb_onset_mes300 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $htb))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $htb, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever cl_onset_mes300 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $cl))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $cl, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever bsn_onset_mes300 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $bsn))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $bsn, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever vln1_onset_mes300 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $vln1))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $vln1, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}

whenever vln2_onset_mes300 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $vln2))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $vln2, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever alto_onset_mes300 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $alto))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $alto, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever vlc_onset_mes300 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $vlc))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $vlc, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever cb_onset_mes300 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $cb))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $cb, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}


NOTE C4 32 mesure302

group
{
	1 $tracks("play_sample_8ch").play_sample8("mes302-b2.aif", -6)

	0.5 obj::crea_track_HOA("freeze_fl_mes302", "group_hoa1", fade_in = 0.1, amp = -3, in_channels = 8, [["AudioInput", "input", $fl, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_fl_mes302").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("freeze_fl_mes302").free()

	obj::crea_track_HOA("freeze_htb_mes302", "group_hoa1", fade_in = 0.1, amp = -3, in_channels = 8, [["AudioInput", "input", $htb, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_htb_mes302").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("freeze_htb_mes302").free()

	obj::crea_track_HOA("freeze_cl_mes302", "group_hoa1", fade_in = 0.1, amp = -3, in_channels = 8, [["AudioInput", "input", $cl, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_cl_mes302").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("freeze_cl_mes302").free()

	obj::crea_track_HOA("freeze_bsn_mes302", "group_hoa1", fade_in = 0.1, amp = -3, in_channels = 8, [["AudioInput", "input", $bsn, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_bsn_mes302").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("freeze_bsn_mes302").free()

	obj::crea_track_HOA("freeze_cor_mes302", "group_hoa1", fade_in = 0.1, amp = -3, in_channels = 8, [["AudioInput", "input", $cor, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_cor_mes302").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("freeze_cor_mes302").free()

	obj::crea_track_HOA("freeze_tpr_mes302", "group_hoa1", fade_in = 0.1, amp = -3, in_channels = 8, [["AudioInput", "input", $trp, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_tpr_mes302").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("freeze_tpr_mes302").free()
 
	obj::crea_track_HOA("freeze_tbr_mes302", "group_hoa1", fade_in = 0.1, amp = -3, in_channels = 8, [["AudioInput", "input", $trb, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_tbr_mes302").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("freeze_tbr_mes302").free()

	obj::crea_track_HOA("freeze_perc1_mes302", "group_hoa1", fade_in = 0.1, amp = -3, in_channels = 8, [["AudioInput", "input", $perc1, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_perc1_mes302").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("freeze_perc1_mes302").free()

	obj::crea_track_HOA("freeze_perc2_mes302", "group_hoa1", fade_in = 0.1, amp = -3, in_channels = 8, [["AudioInput", "input", $perc2, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_perc2_mes302").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("freeze_perc2_mes302").free()

	obj::crea_track_HOA("freeze_piano_mes302", "group_hoa1", fade_in = 0.1, amp = -3, in_channels = 8, [["AudioInput", "input", $piano, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_piano_mes302").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("freeze_piano_mes302").free()

	obj::crea_track_HOA("freeze_vln1_mes302", "group_hoa1", fade_in = 0.1, amp = -3, in_channels = 8, [["AudioInput", "input", $vln1, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_vln1_mes302").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("freeze_vln1_mes302").free()

	obj::crea_track_HOA("freeze_vln2_mes302", "group_hoa1", fade_in = 0.1, amp = -3, in_channels = 8, [["AudioInput", "input", $vln2, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_vln2_mes302").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("freeze_vln2_mes302").free()

	obj::crea_track_HOA("freeze_alto_mes302", "group_hoa1", fade_in = 0.1, amp = -3, in_channels = 8, [["AudioInput", "input", $alto, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_alto_mes302").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("freeze_alto_mes302").free()

	obj::crea_track_HOA("freeze_vlc_mes302", "group_hoa1", fade_in = 0.1, amp = -3, in_channels = 8, [["AudioInput", "input", $vlc, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_vlc_mes302").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("freeze_vlc_mes302").free()

	obj::crea_track_HOA("freeze_cb_mes302", "group_hoa1", fade_in = 0.1, amp = -3, in_channels = 8, [["AudioInput", "input", $cb, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_cb_mes302").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("freeze_cb_mes302").free()

}

NOTE C4 32 mesure303

abort fl_onset_mes300
abort htb_onset_mes300
abort cl_onset_mes300
abort bsn_onset_mes300
abort vln1_onset_mes300
abort vln2_onset_mes300
abort alto_onset_mes300
abort vlc_onset_mes300
abort cb_onset_mes300

$tracks("play_sample_8ch").play_sample8("mes303.aif", -4)

NOTE C4 32 mesure304

// $tracks("play_sample_8ch").play_sample8("kick29.aif", -6)

$tracks("freeze_fl_mes302").amp([-3, 3, -15, 4, -120])
$tracks("freeze_htb_mes302").amp([-3, 3, -15, 4, -120])
$tracks("freeze_cl_mes302").amp([-3, 3, -15, 4, -120])
$tracks("freeze_bsn_mes302").amp([-3, 3, -15, 4, -120])
$tracks("freeze_cor_mes302").amp([-3, 3, -15, 4, -120])
$tracks("freeze_tpr_mes302").amp([-3, 3, -15, 4, -120])
$tracks("freeze_tbr_mes302").amp([-3, 3, -15, 4, -120])
$tracks("freeze_perc1_mes302").amp([-3, 3, -15, 4, -120])
$tracks("freeze_perc2_mes302").amp([-3, 3, -15, 4, -120])
// decaler??
3 $tracks("freeze_piano_mes302").amp([-3, 3, -15, 4, -120])
$tracks("freeze_vln1_mes302").amp([-3, 3, -15, 4, -120])
$tracks("freeze_vln2_mes302").amp([-3, 3, -15, 4, -120])
$tracks("freeze_alto_mes302").amp([-3, 3, -15, 4, -120])
$tracks("freeze_vlc_mes302").amp([-3, 3, -15, 4, -120])
$tracks("freeze_cb_mes302").amp([-3, 3, -15, 4, -120])

8 $tracks("freeze_fl_mes302").free(1)
$tracks("freeze_htb_mes302").free(1)
$tracks("freeze_cl_mes302").free(1)
$tracks("freeze_bsn_mes302").free(1)
$tracks("freeze_cor_mes302").free(1)
$tracks("freeze_tpr_mes302").free(1)
$tracks("freeze_tbr_mes302").free(1)
$tracks("freeze_perc1_mes302").free(1)
$tracks("freeze_perc2_mes302").free(1)
3 $tracks("freeze_piano_mes302").free(1)
$tracks("freeze_vln1_mes302").free(1)
$tracks("freeze_vln2_mes302").free(1)
$tracks("freeze_alto_mes302").free(1)
$tracks("freeze_vlc_mes302").free(1)
$tracks("freeze_cb_mes302").free(1)

NOTE C4 32 mesure305

$tracks("play_sample_8ch").play_sample8("mes305.aif", -6)

NOTE C4 32 mesure306

// // cargar los buffer al incio !!


// //wait for sync load/analyse file
// $dur_mes306 := $pvoc_anal_mes306.dur()
// 0.5 obj::crea_track_HOA("pvoc_mes306", "group_hoa1", fade_in = 0.001, amp = 0, in_channels = 8, ["VBPVocPlay8", "buf", $pvoc_anal_mes306.VBPVoc_buf()]) 
// $tracks("pvoc_mes306").bpf_param("VBPVocPlay8", "pos", [1, $dur_mes306, 0])
// $tracks("pvoc_mes306").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])

// ($dur_mes306)+0.1 $tracks("pvoc_mes306").free(0.1)



	// obj::crea_track_HOA("freeze_fl_mes306", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $fl, "amp", 0], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	// $tracks("freeze_fl_mes306").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// // $tracks("freeze_fl_mes306").free()
	// obj::crea_track_HOA("freeze_htb_mes306", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $htb, "amp", 0], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	// $tracks("freeze_htb_mes306").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// // $tracks("freeze_htb_mes306").free()
	// obj::crea_track_HOA("freeze_cl_mes306", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $cl, "amp", 0], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	// $tracks("freeze_cl_mes306").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// // $tracks("freeze_cl_mes306").free()
	// obj::crea_track_HOA("freeze_bsn_mes306", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $bsn, "amp", 0], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	// $tracks("freeze_bsn_mes306").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// // $tracks("freeze_bsn_mes306").free()
	// obj::crea_track_HOA("freeze_cor_mes306", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $cor, "amp", 0], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	// $tracks("freeze_cor_mes306").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// // $tracks("freeze_cor_mes306").free()
	obj::crea_track_HOA("freeze_tpr_mes306", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $trp, "amp", 0], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_tpr_mes306").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("freeze_tpr_mes306").free()
	// obj::crea_track_HOA("freeze_tbr_mes306", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $trb, "amp", 0], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	// $tracks("freeze_tbr_mes306").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// // $tracks("freeze_tbr_mes306").free()
	obj::crea_track_HOA("freeze_perc1_mes306", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $perc1, "amp", 0], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_perc1_mes306").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("freeze_perc1_mes306").free()
	obj::crea_track_HOA("freeze_perc2_mes306", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $perc2, "amp", 0], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_perc2_mes306").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("freeze_perc1_mes306").free()
	obj::crea_track_HOA("freeze_vln1_mes306", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $vln1, "amp", 0], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_vln1_mes306").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("freeze_vln1_mes306").free()
	obj::crea_track_HOA("freeze_vln2_mes306", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $vln2, "amp", 0], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_vln2_mes306").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("freeze_vln2_mes306").free()
	// obj::crea_track_HOA("freeze_alto_mes306", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $alto, "amp", 0], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 1, trigRateDev, 20.0, rate, 1, rateDev, 0, panDev, 1]])
	// $tracks("freeze_alto_mes306").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// // $tracks("freeze_alto_mes306").free()

// NOTE C4 32 mesure307


// $tracks("play_sample_8ch").play_sample8("kick29.aif", -6)

// 2 $tracks("freeze_fl_mes306").amp([-3, 1, -15, 4, -120])
// $tracks("freeze_htb_mes306").amp([-3, 1, -15, 4, -120])
// $tracks("freeze_cl_mes306").amp([-3, 1, -15, 4, -120])
// $tracks("freeze_bsn_mes306").amp([-3, 1, -15, 4, -120])

2 $tracks("freeze_vln1_mes306").amp([-3, 1, -15, 4, -120])
$tracks("freeze_vln2_mes306").amp([-3, 1, -15, 4, -120])
// $tracks("freeze_alto_mes306").amp([-3, 1, -15, 4, -120])
// $tracks("freeze_vlc_mes306").amp([-3, 1, -15, 4, -120])
// $tracks("freeze_cb_mes306").amp([-3, 1, -15, 4, -120])

// 3 $tracks("freeze_cor_mes306").amp([-3, 1, -15, 4, -120])
3 $tracks("freeze_tpr_mes306").amp([-3, 1, -15, 4, -120])
// $tracks("freeze_tbr_mes306").amp([-3, 1, -15, 4, -120])
$tracks("freeze_perc1_mes306").amp([-3, 1, -15, 4, -120])
$tracks("freeze_perc2_mes306").amp([-3, 1, -15, 4, -120])
// $tracks("freeze_piano_mes306").amp([-3, 1, -15, 4, -120])


// 6.1 $tracks("freeze_fl_mes306").free(1)
// $tracks("freeze_htb_mes306").free(1)
// $tracks("freeze_cl_mes306").free(1)
// $tracks("freeze_bsn_mes306").free(1)
6.1 $tracks("freeze_vln1_mes306").free(1)
$tracks("freeze_vln2_mes306").free(1)
// $tracks("freeze_alto_mes306").free(1)
// $tracks("freeze_vlc_mes306").free(1)
// $tracks("freeze_cb_mes306").free(1)

// 3 $tracks("freeze_cor_mes306").free(1)
3 $tracks("freeze_tpr_mes306").free(1)
// $tracks("freeze_tbr_mes306").free(1)
$tracks("freeze_perc1_mes306").free(1)
$tracks("freeze_perc2_mes306").free(1)
// $tracks("freeze_piano_mes306").free(1)



NOTE C4 32 mesure309

$tracks("play_sample_8ch").play_sample8("mes309.aif", -5)


NOTE C4 32 mesure310

//// Ritmos

// group ritmo
// {
// 	$tracks("play_sample_8ch").play_sample8("kick29.aif", -6)
// 	1/4 $tracks("play_sample_8ch").play_sample8("kick29.aif", -6)
// }

/// ENVS TUTTI

//// ENVS 

whenever fl_onset_mes310 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $fl))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $fl, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}

whenever htb_onset_mes310 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $htb))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $htb, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever cl_onset_mes310 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $cl))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $cl, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever bsn_onset_mes310 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $bsn))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $bsn, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever vln1_onset_mes310 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $vln1))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $vln1, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}

whenever vln2_onset_mes310 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $vln2))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $vln2, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever alto_onset_mes310 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $alto))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $alto, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever vlc_onset_mes310 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $vlc))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $vlc, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}
whenever cb_onset_mes310 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $cb))
{
	// print onsetdetect___TOTO $onsetdetect
	$tracks(env_test).group_add([[AudioInput, input, $cb, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, @rand_range(0.5, 2), coords, [@rand_range(0.5, 6), @rand_range(-180, 180), 0], amp, 0, globTBus, $track_bus_mes288]])

}



NOTE C4 32 mesure311

//// Ritmos

// group ritmo
// {
// 	$tracks("play_sample_8ch").play_sample8("kick29.aif", -6)
// 	1/4 $tracks("play_sample_8ch").play_sample8("kick29.aif", -6)
// }

NOTE C4 32 mesure312

//// Ritmos

// group ritmo
// {
// 	$tracks("play_sample_8ch").play_sample8("kick29.aif", -6)
// 	1/4 $tracks("play_sample_8ch").play_sample8("kick29.aif", -6)
// }

NOTE C4 32 mesure313

// FX sur Spring coll perc1

// group ritmo
// {
// 	$tracks("play_sample_8ch").play_sample8("kick29.aif", -6)
// 	1/4 $tracks("play_sample_8ch").play_sample8("kick29.aif", -6)
// }

NOTE C4 32 mesure314

// FX sur Gong perc2

// group ritmo
// {
// 	$tracks("play_sample_8ch").play_sample8("kick29.aif", -6)
// 	1/4 $tracks("play_sample_8ch").play_sample8("kick29.aif", -6)
// }

NOTE C4 32 mesure315
	
// FX sur Cymbale perc1

// group ritmo
// {
// 	$tracks("play_sample_8ch").play_sample8("kick29.aif", -6)
// 	1/4 $tracks("play_sample_8ch").play_sample8("kick29.aif", -6)
// 	1/4 $tracks("play_sample_8ch").play_sample8("kick29.aif", -6)
// }


NOTE C4 32 mesure316

// FX sur Cymbale perc1

$tracks("play_sample_8ch").play_sample8("mes316.aif", -6)

NOTE C4 32 mesure317


$tracks("play_sample_8ch").play_sample8("mes317.aif", -6)

NOTE C4 32 mesure318

$tracks("play_sample_8ch").play_sample8("mes318.aif", -6)

abort fl_onset_mes310
abort htb_onset_mes310
abort cl_onset_mes310
abort bsn_onset_mes310
abort vln1_onset_mes310
abort vln2_onset_mes310
abort alto_onset_mes310
abort vlc_onset_mes310
abort cb_onset_mes310

/// Son synth bajo
$synth_mes318_freqs := [111.85, 146.83, 220, 307.33, 896.15, 1108.73, 1206.39, 1396.91, 1941.12, 1941.12, 4735.509766]*0.67
$synth_mes318_amps := @normalize([1.33, 1.82, 0.85, 1.09, 1.61, 1.56, 0.13, 1.36, 1.32, 1.6, 1.56])

obj::crea_track_HOA("addmes_mes318", "group_hoa4", fade_in = 5, amp = -4, in_channels = 8, [["TAddic_11_8", "amp", -40, "d", 0, "transp", 4.112, "shift", 539.96, "distor", -0.816, "freqs", $synth_mes318_amps, "amps", $synth_mes318_amps]])
$tracks("addmes_mes318").rand_lfo("TAddic_11_8", "d", 2, 10, 2, "exp", 20)
$tracks("addmes_mes318").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 10) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
$tracks("addmes_mes318").amp(10)
// $tracks("addmes_mes318").free()

obj::crea_track_HOA("bajo_mes318", "group_hoa4", fade_in = 10, amp = 0, [["Bajo", "freq", 43.67, "lfnoisefreq", 0]])
$tracks("bajo_mes318").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 40, "linear")	
$tracks("bajo_mes318").amp(3)
// $tracks("bajo_mes318").free()

NOTE C4 32 mesure322

// Fx sur piano?

obj::crea_track_HOA("shuffler_fl_m322", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $fl, "amp", -6], ["TShuffler8", "preset", "estremo-trb-mes66"]])
$tracks("shuffler_fl_m322").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("shuffler_fl_m322").preset("TShuffler8", "estremo-trb-mes66")
$tracks("shuffler_fl_m322").set("TShuffler8", ["env", $envs("server1")("rond")])
$tracks("shuffler_fl_m322").set("TShuffler8", [fbk, @rand_vect(8, 0.1, 0.3), @rand_vect(8, 0.2, 0.9)])

// $tracks("shuffler_fl_m322").free()

// obj::crea_track_HOA("shuffler_cl_m322", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $cl, "amp", -6], ["TShuffler8", "preset", "estremo-trb-mes66"]])
// $tracks("shuffler_cl_m322").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
// $tracks("shuffler_cl_m322").preset("TShuffler8", "estremo-trb-mes66")
// $tracks("shuffler_cl_m322").set("TShuffler8", ["env", $envs("server1")("rond")])
// // $tracks("shuffler_cl_m322").free()

obj::crea_track_HOA("shuffler_bsn_m322", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $bsn, "amp", -6], ["TShuffler8", "preset", "estremo-trb-mes66"]])
$tracks("shuffler_bsn_m322").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("shuffler_bsn_m322").preset("TShuffler8", "estremo-trb-mes66")
$tracks("shuffler_bsn_m322").set("TShuffler8", ["env", $envs("server1")("rond")])
$tracks("shuffler_bsn_m322").set("TShuffler8", [fbk, @rand_vect(8, 0.1, 0.3), @rand_vect(8, 0.2, 0.9)])

// $tracks("shuffler_bsn_m322").free()

obj::crea_track_HOA("shuffler_alto_m322", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $alto, "amp", -6], ["TShuffler8", "preset", "estremo-trb-mes66"]])
$tracks("shuffler_alto_m322").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("shuffler_alto_m322").preset("TShuffler8", "estremo-trb-mes66")
$tracks("shuffler_alto_m322").set("TShuffler8", ["env", $envs("server1")("rond")])
$tracks("shuffler_alto_m322").set("TShuffler8", [fbk, @rand_vect(8, 0.1, 0.3), @rand_vect(8, 0.2, 0.9)])

// $tracks("shuffler_alto_m322").free()

2 obj::crea_track_HOA("shuffler_trb_m322", "group_hoa1", fade_in = 0.1, amp = 0, in_channels = 8, [["AudioInput", "input", $trb, "amp", -6], ["TShuffler8", "preset", "estremo-trb-mes66"]])
$tracks("shuffler_trb_m322").dae([1., -22.5, 0, 1, -67.5, 0, 1, -112.5, 0, 1, -157.5, 0, 1, 157.5, 0, 1, 112.5, 0, 1, 67.5, 0, 1, 22.5, 0])
$tracks("shuffler_trb_m322").preset("TShuffler8", "estremo-trb-mes66")
$tracks("shuffler_trb_m322").set("TShuffler8", ["env", $envs("server1")("rond")])
$tracks("shuffler_trb_m322").set("TShuffler8", [fbk, @rand_vect(8, 0.1, 0.3), @rand_vect(8, 0.2, 0.9)])

// $tracks("shuffler_alto_m322").free()


// NOTE C4 32 mesure323

// group ritmo
// {
// 	$tracks("play_sample_8ch").play_sample8("kick29.aif", -6)
// 	1/4 $tracks("play_sample_8ch").play_sample8("kick29.aif", -6)
// 	1/4 $tracks("play_sample_8ch").play_sample8("kick29.aif", -6)
// }

// NOTE C4 32 mesure324

// group ritmo
// {
// 	$tracks("play_sample_8ch").play_sample8("kick29.aif", -6)
// 	1/4 $tracks("play_sample_8ch").play_sample8("kick29.aif", -6)
// 	1/4 $tracks("play_sample_8ch").play_sample8("kick29.aif", -6)
// }

NOTE C4 32 mesure329

$tracks("play_sample_8ch").play_sample8("mes329??.aif", -6)
$tracks("shuffler_fl_m322").free(3)
$tracks("shuffler_trb_m322").free(3)
$tracks("shuffler_bsn_m322").free(3)
$tracks("shuffler_alto_m322").free(3)
// FX Superball

NOTE C4 32 mesure331

// FX Superball


NOTE C4 32 mesure334

$tracks("play_sample_8ch").play_sample8("mes334.aif", -6)

NOTE C4 32 mesure336

$tracks("bajo_mes318").free(5)
$tracks("addmes_mes318").free(5)

$tracks("play_sample_8ch").play_sample8("mes337??.aif", -6)


// FX Cymbale

NOTE C4 32 mesure339

// FX TAM

NOTE C4 32 mesure340

// FX Cymbale perc1
// FX SuperBall perc2

NOTE C4 32 mesure341

// FX Cymbale perc1
// FX SuperBall perc2

NOTE C4 32 mesure343

// FX Cymbale perc1
// FX SuperBall perc2


// Raggi 
// Start rec buffers:


$rec_buf_pvoc_alto_mes342.rec($alto) // record from audio input (if bus = true record from bus)
$rec_buf_pvoc_vlc_mes342.rec($vlc) // record from audio input (if bus = true record from bus)
// $rec_buf_pvoc_cb_mes342.rec($cb) // record from audio input (if bus = true record from bus)


0.3 obj::crea_track_HOA("pvoc_scrub_alto_mes342", "group_hoa1", fade_in = 4, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_alto_mes342.id()]]) 
$tracks("pvoc_scrub_alto_mes342").rand_lfo("TScrubPvocBuf", "pos", 0.1, 0.5, 0.1, "linear", 30)
// $tracks("pvoc_scrub_alto_mes342").lfo_abort("TScrubPvocBuf", "pos")
$tracks("pvoc_scrub_alto_mes342").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 80, "linear")
// $tracks("pvoc_scrub_alto_mes342").free()

0.4 obj::crea_track_HOA("pvoc_scrub_vlc_mes342", "group_hoa1", fade_in = 4, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_vlc_mes342.id()]]) 
$tracks("pvoc_scrub_vlc_mes342").rand_lfo("TScrubPvocBuf", "pos", 0.2, 0.6, 0.1, "linear", 30)
// $tracks("pvoc_scrub_vlc_mes342").lfo_abort("TScrubPvocBuf", "pos")
$tracks("pvoc_scrub_vlc_mes342").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 80, "linear")
// $tracks("pvoc_scrub_vlc_mes342").free()

// 0.2 obj::crea_track_HOA("pvoc_scrub_cb_mes342", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_cb_mes342.id()]]) 
// $tracks("pvoc_scrub_cb_mes342").rand_lfo("TScrubPvocBuf", "pos", 0.3, 0.7, 0.1, "linear", 30)
// // $tracks("pvoc_scrub_cb_mes342").lfo_abort("TScrubPvocBuf", "pos")
// $tracks("pvoc_scrub_cb_mes342").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 80, "linear")
// // $tracks("pvoc_scrub_cb_mes342").free()



NOTE C4 32 mesure345


// $rec_buf_pvoc_vln1_mes345.rec($vln1) // record from audio input (if bus = true record from bus)
// $rec_buf_pvoc_vln2_mes345.rec($vln2) // record from audio input (if bus = true record from bus)

// // Start play buffers: probar TplayBins para cambiar el timbre
// 0.7 obj::crea_track_HOA("pvoc_scrub_vln1_mes345", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_vln1_mes345.id()]]) 
// // $tracks("pvoc_scrub_vln1_mes345").rand_lfo("TScrubPvocBuf", "pos", 0.1, 0.5, 0.1, "linear", 30)
// $tracks("pvoc_scrub_vln1_mes345").rand_lfo_dyn("TScrubPvocBuf", "pos", 0, "linear", 30, $rec_buf_pvoc_vln1_mes345)
// $tracks("pvoc_scrub_vln1_mes345").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 80, "linear")
// // $tracks("pvoc_scrub_vln1_mes345").free()

// 0.5 obj::crea_track_HOA("pvoc_scrub_vln2_mes345", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_vln2_mes345.id()]]) 
// // $tracks("pvoc_scrub_vln2_mes345").rand_lfo("TScrubPvocBuf", "pos", 0.2, 0.69, 0.1, "linear", 30)
// $tracks("pvoc_scrub_vln2_mes345").rand_lfo_dyn("TScrubPvocBuf", "pos", 0, "linear", 30, $rec_buf_pvoc_vln2_mes345)
// // $tracks("pvoc_scrub_vln2_mes345").lfo_abort("TScrubPvocBuf", "pos")
// $tracks("pvoc_scrub_vln2_mes345").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 80, "linear")
// // $tracks("pvoc_scrub_vln2_mes345").free()


; ----------- mesure 187 --- beat 610 --- time signature 4/4

NOTE C4 32 mesure347

$tracks("play_sample_8ch").play_sample8("mes347.aif", -6)


NOTE C4 32 mesure349

group
{
	$tracks("pvoc_scrub_alto_mes342").free(10)
	$tracks("pvoc_scrub_vlc_mes342").free(10)
	// $tracks("pvoc_scrub_cb_mes342").free(10)
	// 4 $tracks("pvoc_scrub_vln1_mes345").free(10)
	// $tracks("pvoc_scrub_vln2_mes345").free(10)
}



bpm 72

NOTE C4 1 mesure356 //mesure187

// ::pulse(187, "4/4", 4, 1) //mes, time_sig, temps, dur





// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1



///////////////////////////////////////////////////////////////// DOPO /////////////////////////////////////////////


; ----------- mesure 188 --- beat 614 --- time signature 4/4

NOTE C4 1 mesure357 //mesure188

// ::pulse(188, "4/4", 4, 1) //mes, time_sig, temps, dur

// $rand_SynthInitSec3_pos := ::rand_vect_interpol2("addSynth_gen", "SynthInitSec3", "pos", 20, 0., 2., 10) // spat partials random

/*
loop 1 @label mesures
{
crea_trackEnv 1 42 0.25 -3 TMFxSin2 freq 600
//click bang
}
*/

// crea_track track, ch, fadeIn, amp, args...


//TGranFreeze8
group init  
{

	
	// crea_track8 freeze_fl1 0 8 -3 AudioInput input $flIn #-> TGranFreeze8 rate 1 buf 1 pan 0 //crea_track8 para espacializar
	// crea_track8 freeze_sax1 0 8 -3 AudioInput input $saxIn #-> TGranFreeze8 rate 1 buf 2 pan 0.25//crea_track8 para espacializar
	// crea_track8 freeze_vla1 0 8 -3 AudioInput input $altoIn #-> TGranFreeze8 rate 1 buf 3 pan 0.5 //crea_track8 para espacializar

	// $freeze_fl1_m188 := ::rand_lfo_crea_track8("freeze_fl1", "01_TGranFreeze8", "pan", 0, 2, 60, "exp")
	// $freeze_sax1_m188 := ::rand_lfo_crea_track8("freeze_sax1", "01_TGranFreeze8", "pan", 0, 2, 60, "exp")
	// $freeze_vla1_m188 := ::rand_lfo_crea_track8("freeze_vla1", "01_TGranFreeze8", "pan", 0, 2, 60, "exp")

	obj::crea_track_HOA("freeze_fl1", "group_hoa1", fade_in = 8, amp = -3, in_channels = 8, [["AudioInput", "input", $fl, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 60, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_fl1").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol

	obj::crea_track_HOA("freeze_sax1", "group_hoa1", fade_in = 8, amp = -3, in_channels = 8, [["AudioInput", "input", $htb, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 60, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_sax1").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol

	obj::crea_track_HOA("freeze_vla1", "group_hoa1", fade_in = 8, amp = -3, in_channels = 8, [["AudioInput", "input", $alto, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 60, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_vla1").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol



//crea_track8 freeze_fl1 set 01_TGranFreeze 

//$freeze_on_off := ::on_off_freeze("crea_track8", "freeze_fl1", 0.125, 1, 0.7, 1.3, [1,1,0.5, 0.3, 0.2, 0.2, 0.3, 0.5], 120)

//abort $freeze_on_off


/*
/// AddSynth

	addSynth11 addmes23 TAddic_11_8 8 @concat($synth_mes25_freqs2, $synth_mes25_amps2)
	addSynth11 addmes23 set amp -40
	addSynth11 addmes23 set d 13
	addSynth11 addmes23 setn pos $synth_mes25_pos
	addSynth11 addmes23 set lag_spat @dur2sec(10)
	//$proc1_trate_tck8 := ::rand_lfo("track8", "01_TGranFreeze", "trate", 1, 40, 30, "exp")
*/
	$synth_mes25_freqs2 := [ 659.26, 951.05, 1280.29, 1441.95, 1479.98, 1941.12, 2186.23, 2943.06, 2959.96, 4462.17, 5919.910156 ]
	$synth_mes25_amps2 := @normalize([ 0.39, 0.35, 0.5, 0.77, 1.78, 0.83, 0.4, 0.44, 0.6, 0.1, 1.06 ])

	obj::crea_track_HOA("addmes23", "group_hoa4", fade_in = 5, amp = -4, in_channels = 8, [["TAddic_11_8", "amp", -40, "d", 13, "freqs", $synth_mes25_freqs2, "amps", $synth_mes25_amps2]])
	$tracks("addmes23").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 10) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("addmes23").free(2)

/// AddSynth


// loop rand_pos 10
// {
// 	addSynth11 addmes23 setn pos @rand_pos(11)
// }


/*
/// AddSynth

	2 addSynth11 addmes25 TAddic_11_8 8 @concat($synth_mes27_freqs, $synth_mes27_amps)
	addSynth11 addmes25 set amp -40
	addSynth11 addmes25 set d 0
	addSynth11 addmes25 set transp 4.112

	addSynth11 addmes25 set shift 539.96563720703 
	addSynth11 addmes25 set distor -0.816

	addSynth11 addmes25 setn pos @rand_pos(11)
	addSynth11 addmes25 set lag_spat @dur2sec(1)
	//$proc1_trate_tck8 := ::rand_lfo("track8", "01_TGranFreeze", "trate", 1, 40, 30, "exp")

	$randlfom25 := ::rand_lfo_gen("addSynth11", "addmes25", "d", 0, 40, 50, "exp")
	// abort ::rand_lfo_gen

	//addSynth11 addmes25 off 1

/// AddSynth
*/

	$synth_mes27_freqs := [111.85, 146.83, 220, 307.33, 896.15, 1108.73, 1206.39, 1396.91, 1941.12, 1941.12, 4735.509766]
	$synth_mes27_amps := [1.33, 1.82, 0.85, 1.09, 1.61, 1.56, 0.13, 1.36, 1.32, 1.6, 1.56]

	obj::crea_track_HOA("addmes25", "group_hoa4", fade_in = 5, amp = -4, in_channels = 8, [["TAddic_11_8", "amp", -40, "d", 0, "transp", 4.112, "shift", 539.96, "distor", -0.816, "freqs", $synth_mes27_amps, "amps", $synth_mes27_amps]])
	$tracks("addmes25").rand_lfo("TAddic_11_8", "d", 2, 10, 2, "exp", 20)
	$tracks("addmes25").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 10) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol

// $tracks("addmes25").free(2)

} 


// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

; ----------- mesure 189 --- beat 618 --- time signature 4/4

NOTE C4 1 mesure358 //mesure189



print (""+$del_buf.id())
print (""+$fb_buf.id())

// attendre buf
0.1 $del_buf.b_setn(@rand_vect($size, 0, $maxdel))
$del_buf.query()
$del_buf.b_getn()

$fb_buf.b_setn(@rand_vect($size, 0, 0.95))
$fb_buf.query()
$fb_buf.b_getn()


obj::crea_track_HOA("specdel_trb_mes360", "group_hoa1", fade_in = 2, amp = 4, doppler = 0, [["AudioInput", "input", $trb, "amp", 4], ["SpecDel", "fftsize", $fftSize, "maxdel", $maxdel, "dels_buf", $del_buf.id(), "fb_buf", $fb_buf.id()]]) 
// $tracks("specdel_trb_mes360").set("AudioInput", ["amp", -6, "input", $bsn]) // pos from 0->1
$tracks("specdel_trb_mes360").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 80, "linear")
$tracks("specdel_trb_mes360").amp(4)
// $tracks("specdel_trb_mes360").free()
// $tracks("specdel_trb_mes360").doppler(0)
// $tracks("specdel_trb_mes360").free(0)

// ::pulse(189, "4/4", 4, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

; ----------- mesure 190 --- beat 622 --- time signature 4/4

NOTE C4 1 mesure359 //mesure190

// ::pulse(190, "4/4", 4, 1) //mes, time_sig, temps, dur

// addSynth_gen addsynthF preset TAddic_11_8 F 5 -4
// $rand_add_pos_synth_mes190 := ::rand_vect_interpol2("addSynth_gen", "addsynthF", "pos", 11, -1., 1., 10) // spat partials random

obj::crea_track_HOA("synth_mes190", "group_hoa4", fade_in = 5, amp = -12, in_channels = 8, ["TAddic_11_8", "preset", "F"])
$tracks("synth_mes190").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 60) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
$tracks("synth_mes190").rand_lfo("TAddic_11_8", "d", 0, 6, 0, "exp", 50)
$tracks("synth_mes190").preset("TAddic_11_8", "F")
$tracks("synth_mes190").amp(-3)
//$tracks("synth_mes190").free(2)


 // 	crea_track8 freeze_tbr1 0 20 0 AudioInput input $trbIn #-> TGranFreeze8 rate 1 buf 4 //crea_track8 para espacializar
	// crea_track8 freeze_cb1 0 20 0 AudioInput input $cbIn #-> TGranFreeze8 rate 1 buf 5 //crea_track8 para espacializar

	obj::crea_track_HOA("freeze_tbr1", "group_hoa1", fade_in = 8, amp = -3, in_channels = 8, [["AudioInput", "input", $trb, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 60, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_tbr1").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol

	obj::crea_track_HOA("freeze_cb1", "group_hoa1", fade_in = 8, amp = -3, in_channels = 8, [["AudioInput", "input", $cb, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trigRate, 60, rate, 1, rateDev, 0, panDev, 1]])
	$tracks("freeze_cb1").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol



	// $freeze_tbr1_m190 := ::rand_lfo_crea_track8("freeze_tbr1", "01_TGranFreeze8", "pan", 0, 2, 60, "exp")
	// $freeze_cb1_m190 := ::rand_lfo_crea_track8("freeze_cb1", "01_TGranFreeze8", "pan", 0, 2, 60, "exp")

	// ::line_track8_param_multi("freeze_fl1", "01_TGranFreeze8", "rateDev", [0, 10, 0, 15, 0.05, "exp"]) 
	// ::line_track8_param_multi("freeze_sax1", "01_TGranFreeze8", "rateDev", [0, 10, 0, 15, 0.04, "exp"])

	$tracks("freeze_fl1").bpf_param("TGranFreeze8", "rateDev", [0, 10, 0, 15, 0.05, "exp"]) 
	$tracks("freeze_sax1").bpf_param("TGranFreeze8", "rateDev", [0, 10, 0, 15, 0.04, "exp"]) 


	// ::line_track8_param_multi("freeze_tbr1", "01_TGranFreeze8", "rateDev",, [0, 20, 0, 15, 0.01, "exp"]) 
	// ::line_track8_param_multi("freeze_cb1", "01_TGranFreeze8", "rateDev",, [0, 20, 0, 15, 0.01, "exp"])

	$tracks("freeze_tbr1").bpf_param("TGranFreeze8", "rateDev", [0, 20, 0, 15, 0.01, "exp"]) 
	$tracks("freeze_cb1").bpf_param("TGranFreeze8", "rateDev", [0, 20, 0, 15, 0.01, "exp"]) 	

// addSynth_gen addsynthF off 1

// $addsynthF := ::rand_lfo_gen("addSynth_gen", "addsynthF", "d", 0, 10, 40, "exp")
//abort $addsynthF


// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

; ----------- mesure 191 --- beat 626 --- time signature 4/4

// NOTE C4 1 mesure360 //mesure191



// ::pulse(191, "4/4", 4, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

; ----------- mesure 192 --- beat 630 --- time signature 4/4

// NOTE C4 1 mesure361 //mesure192

// ::pulse(192, "4/4", 4, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

; ----------- mesure 193 --- beat 634 --- time signature 4/4

// NOTE C4 1 mesure362 //mesure193

// // ::pulse(193, "4/4", 4, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

// ; ----------- mesure 194 --- beat 638 --- time signature 4/4

// NOTE C4 1 mesure363 //mesure194

// // ::pulse(194, "4/4", 4, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

// ; ----------- mesure 195 --- beat 642 --- time signature 4/4

// NOTE C4 1 mesure364 //mesure195

// // ::pulse(195, "4/4", 4, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

// ; ----------- mesure 196 --- beat 646 --- time signature 4/4

// NOTE C4 1 mesure365 //mesure196

// // ::pulse(196, "4/4", 4, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

; ----------- mesure 197 --- beat 650 --- time signature 4/4

NOTE C4 1 mesure366 //mesure197

// ::pulse(197, "4/4", 4, 1) //mes, time_sig, temps, dur

	// crea_track8 freeze_tbr1 set 01_TGranFreeze8 dur 0.04 durDev 0.13 panDev 0.7
	// crea_track8 freeze_cb1 set 01_TGranFreeze8 dur 0.04 durDev 0.13 panDev 0.7


	$tracks("freeze_tbr1").set("TGranFreeze8", ["dur", 0.04, "durDev", 0.13, "panDev", 0.7]) 
	$tracks("freeze_cb1").set("TGranFreeze8", ["dur", 0.04, "durDev", 0.13, "panDev", 0.7]) 	

	// addSynth11 addmes25 off 10
	$tracks("addmes25").free(10)

/// AddSynth
	// addSynth11 addmes23 off 10
	$tracks("addmes23").free(10)

	// addSynth11 addmes29 TAddic_11_8 8 @concat($synth_mes29_freqs2, $synth_mes29_amps2)
	// addSynth11 addmes29 set amp -40
	// addSynth11 addmes29 set transp 3.4960000514984
	// addSynth11 addmes29 set d 6.9
	// addSynth11 addmes29 setn pos $synth_mes29_pos2
	// addSynth11 addmes29 set lag_spat @dur2sec(1)

	$synth_mes29_freqs2 := [185, 207.65, 220, 289.59, 369.99, 494.51, 1206.39, 1567.98, 2093, 2217.46, 6374.870117]
	$synth_mes29_amps2 := [0.47, 1.92, 1.78, 0.33, 1.59, 1.97, 0.21, 0.1, 1.17, 0.93, 1.82]
	
	obj::crea_track_HOA("addmes29", "group_hoa4", fade_in = 5, amp = -4, in_channels = 8, [["TAddic_11_8", "amp", -40, "d", 6.9, "transp", 3.4960000514984, "shift", 539.96, "distor", -0.816, "freqs", $synth_mes29_freqs2, "amps", $synth_mes29_amps2]])
	$tracks("addmes29").rand_lfo("TAddic_11_8", "d", 2, 10, 2, "exp", 20)
	$tracks("addmes29").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 10) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	$tracks("addmes29").amp(0)

	//addSynth11 addmes29 setn pos @rand_pos(11)

	//addSynth11 addmes29 off 10

/// AddSynth


	// ::line_track8_param_multi("freeze_fl1", "01_TGranFreeze8", "rateDev", [0.05, 6, 0]) 
	// ::line_track8_param_multi("freeze_sax1", "01_TGranFreeze8", "rateDev",  [0.04, 7, 0])
	// ::line_track8_param_multi("freeze_tbr1", "01_TGranFreeze8", "rateDev",  [0.01, 8, 0]) 
	// ::line_track8_param_multi("freeze_cb1", "01_TGranFreeze8", "rateDev", [0.01, 8, 0])
	
	$tracks("freeze_fl1").bpf_param("TGranFreeze8", "rateDev", [0.05, 6, 0]) 
	$tracks("freeze_sax1").bpf_param("TGranFreeze8", "rateDev", [0.04, 7, 0]) 	
	$tracks("freeze_tbr1").bpf_param("TGranFreeze8", "rateDev", [0.01, 8, 0]) 
	$tracks("freeze_cb1").bpf_param("TGranFreeze8", "rateDev", [0.01, 8, 0]) 	

// abort ::pitch_seq

;addSynth11 addmes25 off 10

// abort rand_pos //stop changement de position de AddSynth


// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

; ----------- mesure 198 --- beat 654 --- time signature 4/4

// NOTE C4 1 mesure367 //mesure198

// // ::pulse(198, "4/4", 4, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

; ----------- mesure 199 --- beat 658 --- time signature 4/4

NOTE C4 1 mesure368 //mesure199

// ::pulse(199, "4/4", 4, 1) //mes, time_sig, temps, dur

$tracks("specdel_trb_mes360").free(10)
// addSynth_gen SynthInitSec3 off 10

// crea_track8 bajo-sec3 off 5

// crea_track8 bajo_mes13 0 1 3 trackpreset bajo-sec3

obj::crea_track_HOA("bajo_mes13", "group_hoa4", fade_in = 1, amp = -6, doppler = 0, [["Bajo", "freq", 67.65, "lfnoisefreq", 0, "lag", 5]])
$tracks("bajo_mes13").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")	
// $tracks("bajo_mes13").amp(-6)
// $tracks("bajo_mes13").free(1)

// crea_track8 bajo_mes13 amp 2
// crea_track8 bajo_mes13 set 00_TPan8 pos 0.1



// crea_track8 bajo_mes13_1 0 1 3 trackpreset bajo-p3
// crea_track8 bajo_mes13_1 amp 0
// crea_track8 bajo_mes13_1 set 00_TPan8 pos 1


;4 crea_track track11 6 3 -4 AudioInput input $saxIn #-> TGranFreeze rate 2 buf 11
group freeze_mes13
{
// 1.5 $pitch1 := ::pitch_seq_in($flIn, $seq_dur, $multi1_frac, 60, $speakers_front2, 0.2)
// $pitch1.$pitch_seq_amp := 8
// $pitch1.$fact_dur := 3

	// crea_track8 freeze_fl13 0 4 0 AudioInput input $flIn #-> TGranFreeze8 rate 1 buf 6 trate 17.5 dur 0.06 durDev 0.06 panDev 0.7 amp 4.8
	// crea_track8 freeze_sax13 0 4 0 AudioInput input $saxIn #-> TGranFreeze8 rate 1 buf 7 trate 11.5 tratedev 123.51 dur 0.04 durDev 0.25 panDev 1 amp 4.5
	// crea_track8 freeze_vla13 0 4 0 AudioInput input $altoIn #-> TGranFreeze8 rate 1 buf 8 trate 9 tratedev 220.74 dur 0.17 durDev 0.09 panDev 0.7 amp 3.73

	// crea_track8 freeze_tbr13 0 4 0 AudioInput input $trbIn #-> TGranFreeze8 rate 1 buf 9 trate 9.6 tratedev 187 dur 0.05 durDev 0.21 panDev 0.7 amp -9
	// crea_track8 freeze_cb13 0 4 0 AudioInput input $cbIn #-> TGranFreeze8 rate 1 buf 10 trate 19.9 tratedev 119 dur 0.15 durDev 0.09 panDev 0.7 amp 3

	obj::crea_track_HOA("freeze_fl13", "group_hoa1", fade_in = 4, amp = -3, in_channels = 8, [["AudioInput", "input", $fl, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), "trate", 17.5, "dur", 0.06, "durDev", 0.06, "panDev", 0.7, "amp", 4.8]])
	$tracks("freeze_fl13").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	obj::crea_track_HOA("freeze_sax13", "group_hoa1", fade_in = 4, amp = -3, in_channels = 8, [["AudioInput", "input", $htb, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), "trate", 11.5, "tratedev", 123.51, "dur", 0.04, "durDev", 0.25, "panDev", 1, "amp", 4.5]])
	$tracks("freeze_sax13").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	obj::crea_track_HOA("freeze_vla13", "group_hoa1", fade_in = 4, amp = -3, in_channels = 8, [["AudioInput", "input", $alto, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), "trate", 9, "tratedev", 220.74, "dur", 0.17, "durDev", 0.09, "panDev", 0.7, "amp", 3.73]])
	$tracks("freeze_vla13").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol

	obj::crea_track_HOA("freeze_tbr13", "group_hoa1", fade_in = 4, amp = -3, in_channels = 8, [["AudioInput", "input", $trb, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), "trate", 9.6, "tratedev", 187, "dur", 0.05, "durDev", 0.21, "panDev", 0.7, "amp", -9]])
	$tracks("freeze_tbr13").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	obj::crea_track_HOA("freeze_cb13", "group_hoa1", fade_in = 4, amp = -3, in_channels = 8, [["AudioInput", "input", $cb, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), "trate", 19.9, "tratedev", 119, "dur", 0.15, "durDev", 0.09, "panDev", 0.7, "amp", 3]])
	$tracks("freeze_cb13").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol


// 10 ::line_multi_out("crea_track8", "freeze_fl1", "amp", [0, 2, 0, 5, -5, 10, -20]) 
// ::line_multi_out("crea_track8", "freeze_sax1", "amp", [0, 2, 0, 5, -5, 10, -20]) 
// ::line_multi_out("crea_track8", "freeze_vla1", "amp", [0, 2, 0, 5, -5, 10, -20]) 
// ::line_multi_out("crea_track8", "freeze_tbr1", "amp", [0, 2, 0, 5, -5, 10, -20]) 
// ::line_multi_out("crea_track8", "freeze_cb1", "amp", [0, 2, 0, 5, -5, 10, -20]) 

	10 $tracks("freeze_fl13").amp([0, 2, 0, 5, -5, 10, -20])
	$tracks("freeze_sax13").amp([0, 2, 0, 5, -5, 10, -20])
	$tracks("freeze_vla13").amp([0, 2, 0, 5, -5, 10, -20])
	$tracks("freeze_tbr13").amp([0, 2, 0, 5, -5, 10, -20])
	$tracks("freeze_cb13").amp([0, 2, 0, 5, -5, 10, -20])
}

	10 $tracks("freeze_fl1").amp([0, 2, 0, 5, -5, 10, -20])
	$tracks("freeze_sax1").amp([0, 2, 0, 5, -5, 10, -20])
	$tracks("freeze_vla1").amp([0, 2, 0, 5, -5, 10, -20])
	$tracks("freeze_tbr1").amp([0, 2, 0, 5, -5, 10, -20])
	$tracks("freeze_cb1").amp([0, 2, 0, 5, -5, 10, -20])




// 2 group pitch_seq
// {
// 1.5 $pitch1 := ::pitch_seq($seq_dur, $multi1_frac, 60, $speakers_front2, 0.2)
// $pitch1.$pitch_seq_amp := 8
// $pitch1.$fact_dur := 3

// 5 abort ::pitch_seq
// }


// 1 group pitch_seq
// {
// 1.5 $pitch1 := ::pitch_seq($seq_dur, $multi1_frac, 60, $speakers_front2, 0.2)
// $pitch1.$pitch_seq_amp := 8
// $pitch1.$fact_dur := 2
// 2 $pitch2 := ::pitch_seq($seq_dur, $multi1_frac, 100, $speakers_front2, 0.2)
// 1.5 abort ::pitch_seq
// }

// bpm 84

// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

// ; ----------- mesure 200 --- beat 662 --- time signature 4/4

// NOTE C4 1 mesure369 //mesure200

// // ::pulse(200, "4/4", 4, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

// ; ----------- mesure 201 --- beat 666 --- time signature 4/4

// NOTE C4 1 mesure370 //mesure201

// // ::pulse(201, "4/4", 4, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

// ; ----------- mesure 202 --- beat 670 --- time signature 4/4

// NOTE C4 1 mesure371 //mesure202

// // ::pulse(202, "4/4", 4, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

// ; ----------- mesure 203 --- beat 674 --- time signature 4/4

// NOTE C4 1 mesure372 //mesure203

// // ::pulse(203, "4/4", 4, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

; ----------- mesure 204 --- beat 678 --- time signature 4/4

NOTE C4 1 mesure373 //mesure204

$tracks("synth_mes190").free(10)

// $tracks("freeze_fl13").free(3)
// $tracks("freeze_sax13").free(3)
// $tracks("freeze_vla13").free(3)
// $tracks("freeze_tbr13").free(3)
// $tracks("freeze_cb13").free(3)
// ::pulse(204, "4/4", 4, 1) //mes, time_sig, temps, dur

// crea_trackEnv @rand_int(8) ($envs("carre3")) @dur2sec(10) 0 Bajo #preset m_25

	// crea_track8 bajo_me26_4 0 4 0 Bajo #preset m_25

	// crea_track8 bajo_me26_4 0 3 0 Bajo #preset bajo-p3
	// addSynth_gen addsynth_m28 preset TAddic_20_8 m25_3 5 -15

	obj::crea_track_HOA("addsynth_m28", "group_hoa4", fade_in = 5, amp = -15, in_channels = 8, ["TAddic_20_8", "preset", "m25_3"])
	$tracks("addsynth_m28").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 10) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("addsynth_m28").free()
	$tracks("addsynth_m28").rand_lfo("TAddic_20_8", "d", 2, 10, 2, "exp", 20)


2 $tracks("bajo_mes13").free(5)


NOTE C4 1 mesure374

$rec_buf_pvoc_alto_mes375.rec($alto) // record from audio input (if bus = true record from bus)
$rec_buf_pvoc_cb_mes375.rec($cb)

// Start play buffers: probar TplayBins para cambiar el timbre
0.1 obj::crea_track_HOA("pvoc_scrub_alto_mes375", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_alto_mes375.id()]]) 
// $tracks("pvoc_scrub_alto_mes375").rand_lfo("TScrubPvocBuf", "pos", 0.1, 0.5, 0.1, "linear", 30)
$tracks("pvoc_scrub_alto_mes375").rand_lfo_dyn("TScrubPvocBuf", "pos", 0, "linear", 30, $rec_buf_pvoc_alto_mes375)
$tracks("pvoc_scrub_alto_mes375").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")


// Start play buffers: probar TplayBins para cambiar el timbre
obj::crea_track_HOA("pvoc_scrub_cb_mes375", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_cb_mes375.id()]]) 
// $tracks("pvoc_scrub_cb_mes375").rand_lfo("TScrubPvocBuf", "pos", 0.1, 0.5, 0.1, "linear", 30)
$tracks("pvoc_scrub_cb_mes375").rand_lfo_dyn("TScrubPvocBuf", "pos", 0, "linear", 30, $rec_buf_pvoc_cb_mes375)
$tracks("pvoc_scrub_cb_mes375").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")





// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

// ; ----------- mesure 205 --- beat 682 --- time signature 4/4

// NOTE C4 1 mesure374 //mesure205

// // ::pulse(205, "4/4", 4, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

// ; ----------- mesure 206 --- beat 686 --- time signature 4/4

// NOTE C4 1 mesure375 //mesure206

// // ::pulse(206, "4/4", 4, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

// ; ----------- mesure 207 --- beat 690 --- time signature 4/4

// NOTE C4 1 mesure376 //mesure207

// // ::pulse(207, "4/4", 4, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

// ; ----------- mesure 208 --- beat 694 --- time signature 4/4

// NOTE C4 1 mesure377 //mesure208

// // ::pulse(208, "4/4", 4, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

// ; ----------- mesure 209 --- beat 698 --- time signature 4/4

// NOTE C4 1 mesure378 //mesure209

// // ::pulse(209, "4/4", 4, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

// ; ----------- mesure 210 --- beat 702 --- time signature 4/4

// NOTE C4 1 mesure379 //mesure210

// // ::pulse(210, "4/4", 4, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

; ----------- mesure 211 --- beat 706 --- time signature 4/4

NOTE C4 1 mesure380 //mesure211

$tracks("freeze_fl1").free(20)
$tracks("freeze_sax1").free(20)
$tracks("freeze_vla1").free(20)
$tracks("freeze_tbr1").free(20)
$tracks("freeze_cb1").free(20)

// ::pulse(211, "4/4", 4, 1) //mes, time_sig, temps, dur

// addSynth_gen track_name preset AddSynth(11, 20...) preset_name fadein, amp
// addSynth_gen addsynth_m28 preset TAddic_20_8 m25_3 10 0

group freeze_mes28
{
// 1.5 $pitch1 := ::pitch_seq_in($flIn, $seq_dur, $multi1_frac, 60, $speakers_front2, 0.2)
// $pitch1.$pitch_seq_amp := 8
// $pitch1.$fact_dur := 3

	// crea_track8 freeze_mes28_fl 0 4 0 AudioInput input $flIn #-> TGranFreeze8 rate 1 buf 14 trate 17.5 dur 0.06 durDev 0.06 panDev 0.7 amp 0
	// crea_track8 freeze_mes28_sax 0 4 0 AudioInput input $saxIn #-> TGranFreeze8 rate 1 buf 15 trate 20.5 tratedev 123.51 dur 0.04 durDev 0.25 panDev 1 amp 0
	// crea_track8 freeze_mes28_vla 0 4 0 AudioInput input $altoIn #-> TGranFreeze8 rate 1 buf 16 trate 19 tratedev 220.74 dur 0.17 durDev 0.09 panDev 0.7 amp 0

	// crea_track8 freeze_mes28_tbr 0 4 0 AudioInput input $trbIn #-> TGranFreeze8 rate 1 buf 17 trate 17.6 tratedev 187 dur 0.05 durDev 0.21 panDev 0.7 amp 0
	// crea_track8 freeze_mes28_cb 0 4 0 AudioInput input $cbIn #-> TGranFreeze8 rate 1 buf 18 trate 25.9 tratedev 119 dur 0.15 durDev 0.09 panDev 0.7 amp 0

// 10 ::line_multi_out("crea_track8", "freeze_mes28_fl", "amp", [0, 2, 0, 5, -5, 10, -20]) 
// ::line_multi_out("crea_track8", "freeze_mes28_sax", "amp", [0, 2, 0, 5, -5, 10, -20]) 
// ::line_multi_out("crea_track8", "freeze_mes28_vla", "amp", [0, 2, 0, 5, -5, 10, -20]) 
// ::line_multi_out("crea_track8", "freeze_mes28_tbr", "amp", [0, 2, 0, 5, -5, 10, -20]) 
// ::line_multi_out("crea_track8", "freeze_mes28_cb", "amp", [0, 2, 0, 5, -5, 10, -20])

	obj::crea_track_HOA("freeze_mes28_fl", "group_hoa1", fade_in = 4, amp = -3, in_channels = 8, [["AudioInput", "input", $fl, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), "trate", 17.5, "dur", 0.06, "durDev", 0.06, "panDev", 0.7, "amp", 4.8]])
	$tracks("freeze_mes28_fl").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	obj::crea_track_HOA("freeze_mes28_sax", "group_hoa1", fade_in = 4, amp = -3, in_channels = 8, [["AudioInput", "input", $htb, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), "trate", 11.5, "tratedev", 123.51, "dur", 0.04, "durDev", 0.25, "panDev", 1, "amp", 4.5]])
	$tracks("freeze_mes28_sax").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	obj::crea_track_HOA("freeze_mes28_vla", "group_hoa1", fade_in = 4, amp = -3, in_channels = 8, [["AudioInput", "input", $alto, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), "trate", 9, "tratedev", 220.74, "dur", 0.17, "durDev", 0.09, "panDev", 0.7, "amp", 3.73]])
	$tracks("freeze_mes28_vla").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol

	obj::crea_track_HOA("freeze_mes28_tbr", "group_hoa1", fade_in = 4, amp = -3, in_channels = 8, [["AudioInput", "input", $trb, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), "trate", 9.6, "tratedev", 187, "dur", 0.05, "durDev", 0.21, "panDev", 0.7, "amp", -9]])
	$tracks("freeze_mes28_tbr").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	obj::crea_track_HOA("freeze_mes28_cb", "group_hoa1", fade_in = 4, amp = -3, in_channels = 8, [["AudioInput", "input", $cb, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), "trate", 19.9, "tratedev", 119, "dur", 0.15, "durDev", 0.09, "panDev", 0.7, "amp", 3]])
	$tracks("freeze_mes28_cb").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol


// 10 ::line_multi_out("crea_track8", "freeze_fl1", "amp", [0, 2, 0, 5, -5, 10, -20]) 
// ::line_multi_out("crea_track8", "freeze_sax1", "amp", [0, 2, 0, 5, -5, 10, -20]) 
// ::line_multi_out("crea_track8", "freeze_vla1", "amp", [0, 2, 0, 5, -5, 10, -20]) 
// ::line_multi_out("crea_track8", "freeze_tbr1", "amp", [0, 2, 0, 5, -5, 10, -20]) 
// ::line_multi_out("crea_track8", "freeze_cb1", "amp", [0, 2, 0, 5, -5, 10, -20]) 



}

8 	$tracks("pvoc_scrub_alto_mes375").free(4)
$tracks("pvoc_scrub_cb_mes375").free(4)

// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

// ; ----------- mesure 212 --- beat 710 --- time signature 4/4

// NOTE C4 1 mesure381 //mesure212

// // ::pulse(212, "4/4", 4, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

// ; ----------- mesure 213 --- beat 714 --- time signature 4/4

// NOTE C4 1 mesure382 //mesure213

// // ::pulse(213, "4/4", 4, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

// ; ----------- mesure 214 --- beat 718 --- time signature 4/4

// NOTE C4 1 mesure383 //mesure214

// // ::pulse(214, "4/4", 4, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

; ----------- mesure 215 --- beat 722 --- time signature 4/4

NOTE C4 1 mesure384 //mesure215

// ::pulse(215, "4/4", 4, 1) //mes, time_sig, temps, dur

//addSynth11 addmes25 off 10
// addSynth11 addmes29 off 10

$tracks("addmes29").free(10)
// crea_track8 freeze_fl1 off 20
// crea_track8 freeze_sax1 off 20
// crea_track8 freeze_vla1 off 20
// crea_track8 freeze_tbr1 off 20
// crea_track8 freeze_cb1 off 20

// $tracks("freeze_fl1").free(20)
// $tracks("freeze_sax1").free(20)
// $tracks("freeze_vla1").free(20)
// $tracks("freeze_tbr1").free(20)
// $tracks("freeze_cb1").free(20)

	// abort $freeze_fl1_m188 
	// abort $freeze_sax1_m188
	// abort $freeze_vla1_m188
	// abort $freeze_tbr1_m190
	// abort $freeze_cb1_m190 

// $pitch1.$pitch_seq_amp := -6
;::pitch_seq($seq_dur, $multi1_re5, 70, $speakers_front4)

obj::crea_track_HOA("pitch_seq_mes384", "group_hoa1", fade_in = 2, amp = -4, doppler = 0, encoder = false)
$track_bus_pitch_seq_mes384 := $tracks("pitch_seq_mes384").$bus

$seq_dur := [1/3, 1/2, 1/7, 1/4, 1/5, 1/6, 1/7, 1/8]
$multi1_frac := [0.816958, 1., 1.189207, 1.373954, 1.834008, 2.]

$pitch_seq_fl_mes383 := ::pitch_seq_in("pitch_seq_mes384", $fl, $seq_dur, $multi1_frac, 0.2, 60, $track_bus_pitch_seq_mes384, 0)
$pitch_seq_fl_mes383.$amp := 0

$pitch_seq_htb_mes383 := ::pitch_seq_in("pitch_seq_mes384", $htb, $seq_dur, $multi1_frac, 0.2, 60, $track_bus_pitch_seq_mes384, 0)
$pitch_seq_htb_mes383.$amp := 0

$pitch_seq_cl_mes383 := ::pitch_seq_in("pitch_seq_mes384", $cl, $seq_dur, $multi1_frac, 0.2, 60, $track_bus_pitch_seq_mes384, 0)
$pitch_seq_cl_mes383.$amp := 0


// ::line_multi_out("crea_track8", "freeze_mes28_fl", "amp", [-20, 12, -50]) 
// ::line_multi_out("crea_track8", "freeze_mes28_sax", "amp", [-20, 12, -50]) 
// ::line_multi_out("crea_track8", "freeze_mes28_vla", "amp", [-20, 12, -50]) 
// ::line_multi_out("crea_track8", "freeze_mes28_tbr", "amp", [-20, 12, -50]) 
// ::line_multi_out("crea_track8", "freeze_mes28_cb", "amp", [-20, 12, -50]) 

	$tracks("freeze_mes28_fl").amp([-20, 12, -50])
	$tracks("freeze_mes28_sax").amp([-20, 12, -50])
	$tracks("freeze_mes28_vla").amp([-20, 12, -50])
	$tracks("freeze_mes28_tbr").amp([-20, 12, -50])
	$tracks("freeze_mes28_cb").amp([-20, 12, -50])

;$saxIn := 8
// crea_track8 flfsht1 0 2 3 AudioInput input $flIn #-> TMFxShift2 #-> TPan8 
// $flIn_shift := ::rand_lfo_crea_track8("flfsht1", "01_TMFxShift2", "modfreq", -20, 20, 60, "exp")
// $flIn_shift_pan := ::rand_lfo_crea_track8("flfsht1", "02_TPan8", "pos", 0, 1, 60, "exp")
// //crea_track8 bajo-sec3 set 00_TPan8 pos 0

obj::crea_track_HOA("flfsht1", "group_hoa1", fade_in = 4, amp = -3, doppler = 0, [["AudioInput", "input", $fl, "amp", -6], ["TMFxShift2"]])
$tracks("flfsht1").rand_lfo("TMFxShift2", "modfreq", -20, 20, 0, "exp", 60)
$tracks("flfsht1").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 80, "linear")
// $tracks("flfsht1").free()
// crea_track8 saxsht1 0 3 3 AudioInput input $saxIn #-> TMFxShift2 #-> TPan8 
// $sax_shift := ::rand_lfo_crea_track8("saxsht1", "01_TMFxShift2", "modfreq", -10, 10, 200, "exp")
// $sax_shift_pan := ::rand_lfo_crea_track8("saxsht1", "02_TPan8", "pos", 0, 1, 60, "exp")

obj::crea_track_HOA("sax_cl_sht1", "group_hoa1", fade_in = 4, amp = -3, doppler = 0, [["AudioInput", "input", $cl, "amp", -6], ["TMFxShift2"]])
$tracks("sax_cl_sht1").rand_lfo("TMFxShift2", "modfreq", -10, 10, 0, "exp", 200)
$tracks("sax_cl_sht1").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 80, "linear")
// $tracks("sax_cl_sht1").free()

// crea_track8 vlasht1 0 3 3 AudioInput input $altoIn #-> TMFxShift2 #-> TPan8 
// $vla_shift := ::rand_lfo_crea_track8("vlasht1", "01_TMFxShift2", "modfreq", -10, 10, 200, "exp")
// $vla_shift_pan := ::rand_lfo_crea_track8("vlasht1", "02_TPan8", "pos", 0, 1, 60, "exp")

obj::crea_track_HOA("vlasht1", "group_hoa1", fade_in = 4, amp = -3, doppler = 0, [["AudioInput", "input", $alto, "amp", -6], ["TMFxShift2"]])
$tracks("vlasht1").rand_lfo("TMFxShift2", "modfreq", -10, 10, 0, "exp", 200)
$tracks("vlasht1").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 80, "linear")
// $tracks("vlasht1").free()

// 1.5 $pitch1 := ::pitch_seq_in($flIn, $seq_dur, $multi1_frac, 60, $speakers_front2, 0.2)
// $pitch1.$pitch_seq_amp := 8
// $pitch1.$fact_dur := 3


// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

// ; ----------- mesure 216 --- beat 726 --- time signature 4/4

// NOTE C4 1 mesure385 //mesure216

// // ::pulse(216, "4/4", 4, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

; ----------- mesure 217 --- beat 730 --- time signature 4/4

NOTE C4 1 mesure386 //mesure217

// ::pulse(217, "4/4", 4, 1) //mes, time_sig, temps, dur

	// crea_track8 freeze_fl21 0 4 0 AudioInput input $flIn #-> TGranFreeze8 rate 1 buf 11 trate 60 dur 0.06 durDev 0.06 panDev 0.7 amp 4.8
	// crea_track8 freeze_sax21 0 4 0 AudioInput input $saxIn #-> TGranFreeze8 rate 1 buf 12 trate 60 tratedev 123.51 dur 0.04 durDev 0.25 panDev 1 amp 4.5
	// crea_track8 freeze_vla21 0 4 0 AudioInput input $altoIn #-> TGranFreeze8 rate 1 buf 13 trate 60 tratedev 220.74 dur 0.17 durDev 0.09 panDev 0.7 amp 3.73
	
	obj::crea_track_HOA("freeze_fl21", "group_hoa1", fade_in = 4, amp = 0, in_channels = 8, [["AudioInput", "input", $fl, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trate, 60, dur, 0.06, durDev, 0.06, panDev, 0.7, amp, 4.8]])
	$tracks("freeze_fl21").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("freeze_fl21").free()
	obj::crea_track_HOA("freeze_sax21", "group_hoa1", fade_in = 4, amp = 0, in_channels = 8, [["AudioInput", "input", $htb, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trate, 60, tratedev, 123.51, dur, 0.04, durDev, 0.25, panDev, 1, amp, 4.5]])
	$tracks("freeze_sax21").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("freeze_sax21").free()
	obj::crea_track_HOA("freeze_vla21", "group_hoa1", fade_in = 4, amp = 0, in_channels = 8, [["AudioInput", "input", $alto, "amp", -6], ["TGranFreeze8", "rate", 1, "buf", @buff_gran("server1"), trate, 60, tratedev, 220.74, dur, 0.17, durDev, 0.09, panDev, 0.7, amp, 3.73]])
	$tracks("freeze_vla21").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 30, "exp") // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	// $tracks("freeze_vla21").free()

	// crea_track8 freeze_fl13 off 10
	// crea_track8 freeze_sax13 off 10
	// crea_track8 freeze_vla13 off 10
	$tracks("freeze_fl13").free(10)
	$tracks("freeze_sax13").free(10)
	$tracks("freeze_vla13").free(10)
	$tracks("freeze_tbr13").free(10)
	$tracks("freeze_cb13").free(10)

// 1/2 group proc_trate_Dev_amp_tck12
// {
// 	$proc1_trate_tck12 := ::rand_lfo("track12", "01_TGranFreeze", "trate", 1, 20, 60, "exp")
// 	$proc1_rateDev_tck12 := ::rand_lfo("track12", "01_TGranFreeze", "rateDev", 0, 0.05, 60, "exp")
// 	$proc1_amp_tck12 := ::rand_lfo("track12", "01_TGranFreeze", "amp", -6, 8, 30, "linear")
// }

/*
group pitch_seq
{
	// Hacer
0.5 $pitch2 := ::pitch_seq_in($saxIn, $seq_dur, $multi1_re5_agu, 90, $speakers_front2, 0.2)
$pitch2.$pitch_seq_amp := -10
$pitch2.$fact_dur := 2
5 $pitch3 := ::pitch_seq_in($altoIn, $seq_dur, $multi1_re5_agu, 100, $speakers_front2, 0.2)
$pitch3.$pitch_seq_amp := -6

}
*/
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

; ----------- mesure 218 --- beat 734 --- time signature 4/4

NOTE C4 1 mesure387 //mesure218

// ::pulse(218, "4/4", 4, 1) //mes, time_sig, temps, dur

5 group mes22
{
	// ::line_track8_param_multi("freeze_fl21", "01_TGranFreeze8", "amp", [4.8, 8, -4, "exp_out"]) 
	// ::line_track8_param_multi("freeze_sax21", "01_TGranFreeze8", "amp", [14.5, 8, -4, "exp_out"]) 
	// ::line_track8_param_multi("freeze_vla21", "01_TGranFreeze8", "amp", [3.73, 8, -4, "exp_out"]) 

	$tracks("freeze_fl21").amp([4.8, 8, -4, "exp_out"])
	$tracks("freeze_sax21").amp([14.5, 8, -4, "exp_out"])
	$tracks("freeze_vla21").amp([3.73, 8, -4, "exp_out"])
}


// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

; ----------- mesure 219 --- beat 738 --- time signature 4/4

// NOTE C4 1 mesure388 //mesure219

// // ::pulse(219, "4/4", 4, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

// ; ----------- mesure 220 --- beat 742 --- time signature 4/4

// NOTE C4 1 mesure389 // mesure220

// // ::pulse(220, "4/4", 4, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

// ; ----------- mesure 221 --- beat 746 --- time signature 5/4

// NOTE C4 1 mesure390 //mesure221

// // ::pulse(221, "5/4", 5, 1) //mes, time_sig, temps, dur
// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1
// NOTE E4 1

; ----------- mesure 222 --- beat 751 --- time signature 4/4

NOTE C4 1 mesure390

$tracks("play_sample_8ch").play_sample8("mes390-dopo??.aif", -6)

$tracks("flfsht1").free(3)
$tracks("sax_cl_sht1").free(3)
$tracks("vlasht1").free(3)

abort $pitch_seq_fl_mes383
abort $pitch_seq_htb_mes383
abort $pitch_seq_cl_mes383

$tracks("pitch_seq_mes384").free(1)

NOTE C4 1 mesure391 //mesure222

// ::pulse(222, "4/4", 4, 1) //mes, time_sig, temps, dur


// abort $pitch1
// abort $pitch2
// abort $pitch3

// crea_track8 freeze_mes28_fl off 15
// crea_track8 freeze_mes28_sax off 15
// crea_track8 freeze_mes28_vla off 15
// crea_track8 freeze_mes28_tbr off 15
// crea_track8 freeze_mes28_cb off 15

$tracks("freeze_mes28_fl").free(15)
$tracks("freeze_mes28_sax").free(15)
$tracks("freeze_mes28_vla").free(15)
$tracks("freeze_mes28_tbr").free(15)
$tracks("freeze_mes28_cb").free(15)

// addSynth_gen addsynth_m28 off 15
$tracks("addsynth_m28").free(15)

// NOTE C#4 1
// NOTE D4 1
// NOTE D#4 1

NOTE C4 1 mesure393

$tracks("play_sample_8ch").play_sample8("Mes393-b3?.aif", -6)

$tracks("freeze_fl21").free(3)
$tracks("freeze_sax21").free(3)
$tracks("freeze_vla21").free(3)

///////////////////////////////////////////////////////////////// NUOVA

NOTE C4 1 mesure395


// $rec_buf_pvoc_vln1_mes395.free()
// $rec_buf_pvoc_vln2_mes395.free()
// $rec_buf_pvoc_alto_mes395.free()
// $rec_buf_pvoc_vlc_mes395.free()
// $rec_buf_pvoc_cb_mes395.free()

// Start rec buffers:
1 $rec_buf_pvoc_vln1_mes395.rec($vln1) // record from audio input (if bus = true record from bus)
$rec_buf_pvoc_vln2_mes395.rec($vln2) // record from audio input (if bus = true record from bus)
$rec_buf_pvoc_alto_mes395.rec($alto) // record from audio input (if bus = true record from bus)
$rec_buf_pvoc_vlc_mes395.rec($vlc) // record from audio input (if bus = true record from bus)
$rec_buf_pvoc_cb_mes395.rec($cb) // record from audio input (if bus = true record from bus)

// Start play buffers: probar TplayBins para cambiar el timbre

	4 obj::crea_track_HOA("pvoc_scrub_vln1_mes395", "group_hoa1", fade_in = 2, amp = 0, doppler = 0, [["TPlayPvocBuf", "buf", $rec_buf_pvoc_vln1_mes395.id()]]) 
	// $tracks("pvoc_scrub_vln1_mes395").amp([-70, 0.05, 6])
	$tracks("pvoc_scrub_vln1_mes395").set("TPlayPvocBuf", ["rate", 1.5])
	$tracks("pvoc_scrub_vln1_mes395").rand_lfo("TPlayPvocBuf", "rate", 1, 3, 1, "linear", 60)
	$tracks("pvoc_scrub_vln1_mes395").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 40, "linear")	
	// $tracks("pvoc_scrub_vln1_mes395").free()

	obj::crea_track_HOA("pvoc_scrub_vln2_mes395", "group_hoa1", fade_in = 2, amp = 0, doppler = 0, [["TPlayPvocBuf", "buf", $rec_buf_pvoc_vln2_mes395.id()]]) 
	// $tracks("pvoc_scrub_vln2_mes395").amp([-70, 0.05, 6])
	$tracks("pvoc_scrub_vln2_mes395").set("TPlayPvocBuf", ["rate", 1.5])
	$tracks("pvoc_scrub_vln2_mes395").rand_lfo("TPlayPvocBuf", "rate", 1, 3, 1, "linear", 60)
	$tracks("pvoc_scrub_vln2_mes395").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 40, "linear")	
	// $tracks("pvoc_scrub_vln2_mes395").free()

	obj::crea_track_HOA("pvoc_scrub_alto_mes395", "group_hoa1", fade_in = 2, amp = 0, doppler = 0, [["TPlayPvocBuf", "buf", $rec_buf_pvoc_alto_mes395.id()]]) 
	// $tracks("pvoc_scrub_alto_mes395").amp([-70, 0.05, 6])
	$tracks("pvoc_scrub_alto_mes395").set("TPlayPvocBuf", ["rate", 1.5])
	$tracks("pvoc_scrub_alto_mes395").rand_lfo("TPlayPvocBuf", "rate", 1, 3, 1, "linear", 60)
	$tracks("pvoc_scrub_alto_mes395").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 40, "linear")	
	// $tracks("pvoc_scrub_alto_mes395").free()

	obj::crea_track_HOA("pvoc_scrub_vlc_mes395", "group_hoa1", fade_in = 2, amp = 0, doppler = 0, [["TPlayPvocBuf", "buf", $rec_buf_pvoc_vlc_mes395.id()]]) 
	// $tracks("pvoc_scrub_vlc_mes395").amp([-70, 0.05, 6])
	$tracks("pvoc_scrub_vlc_mes395").set("TPlayPvocBuf", ["rate", 1.5])
	$tracks("pvoc_scrub_vlc_mes395").rand_lfo("TPlayPvocBuf", "rate", 1, 3, 1, "linear", 60)
	$tracks("pvoc_scrub_vlc_mes395").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 40, "linear")	
	// $tracks("pvoc_scrub_vlc_mes395").free()

	obj::crea_track_HOA("pvoc_scrub_cb_mes395", "group_hoa1", fade_in = 2, amp = 0, doppler = 0, [["TPlayPvocBuf", "buf", $rec_buf_pvoc_cb_mes395.id()]]) 
	// $tracks("pvoc_scrub_cb_mes395").amp([-70, 0.05, 6])
	$tracks("pvoc_scrub_cb_mes395").set("TPlayPvocBuf", ["rate", 1.5])
	$tracks("pvoc_scrub_cb_mes395").rand_lfo("TPlayPvocBuf", "rate", 1, 3, 1, "linear", 60)
	$tracks("pvoc_scrub_cb_mes395").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 40, "linear")	
	// $tracks("pvoc_scrub_cb_mes395").free()

	7 $tracks("pvoc_scrub_vln1_mes395").free(5)
$tracks("pvoc_scrub_vln2_mes395").free(5)
$tracks("pvoc_scrub_alto_mes395").free(5)
$tracks("pvoc_scrub_vlc_mes395").free(5)
$tracks("pvoc_scrub_cb_mes395").free(5)


NOTE C4 1 mesure400


// Start rec buffers:
3 $rec_buf_pvoc_vln1_mes400.rec($vln1) // record from audio input (if bus = true record from bus)
$rec_buf_pvoc_vln2_mes400.rec($vln2) // record from audio input (if bus = true record from bus)
$rec_buf_pvoc_alto_mes400.rec($alto) // record from audio input (if bus = true record from bus)
$rec_buf_pvoc_vlc_mes400.rec($vlc) // record from audio input (if bus = true record from bus)
$rec_buf_pvoc_cb_mes400.rec($cb) // record from audio input (if bus = true record from bus)

$tracks("play_sample_8ch").play_sample8("Mes400-b2.5?.aif", -6)

// Start play buffers: probar TplayBins para cambiar el timbre
obj::crea_track_HOA("pvoc_scrub_vln1_mes400", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_vln1_mes400.id()]]) 
// $tracks("pvoc_scrub_vln1_mes400").rand_lfo("TScrubPvocBuf", "pos", 0.1, 0.5, 0.1, "linear", 30)
$tracks("pvoc_scrub_vln1_mes400").rand_lfo_dyn("TScrubPvocBuf", "pos", 0, "linear", 30, $rec_buf_pvoc_vln1_mes400)
$tracks("pvoc_scrub_vln1_mes400").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
// $tracks("pvoc_scrub_vln1_mes400").free()

obj::crea_track_HOA("pvoc_scrub_vln2_mes400", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_vln2_mes400.id()]]) 
$tracks("pvoc_scrub_vln2_mes400").rand_lfo_dyn("TScrubPvocBuf", "pos", 0, "linear", 30, $rec_buf_pvoc_vln2_mes400)
// $tracks("pvoc_scrub_vln2_mes400").lfo_abort("TScrubPvocBuf", "pos")
$tracks("pvoc_scrub_vln2_mes400").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
// $tracks("pvoc_scrub_vln2_mes400").free()

obj::crea_track_HOA("pvoc_scrub_alto_mes400", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_alto_mes400.id()]]) 
$tracks("pvoc_scrub_alto_mes400").rand_lfo_dyn("TScrubPvocBuf", "pos", 0, "linear", 30, $rec_buf_pvoc_alto_mes400)
// $tracks("pvoc_scrub_alto_mes400").lfo_abort("TScrubPvocBuf", "pos")
$tracks("pvoc_scrub_alto_mes400").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
// $tracks("pvoc_scrub_alto_mes400").free()

obj::crea_track_HOA("pvoc_scrub_vlc_mes400", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_vlc_mes400.id()]]) 
$tracks("pvoc_scrub_vlc_mes400").rand_lfo_dyn("TScrubPvocBuf", "pos", 0, "linear", 30, $rec_buf_pvoc_vlc_mes400)
// $tracks("pvoc_scrub_vlc_mes400").lfo_abort("TScrubPvocBuf", "pos")
$tracks("pvoc_scrub_vlc_mes400").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
// $tracks("pvoc_scrub_vlc_mes400").free()

obj::crea_track_HOA("pvoc_scrub_cb_mes400", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_cb_mes400.id()]]) 
$tracks("pvoc_scrub_cb_mes400").rand_lfo_dyn("TScrubPvocBuf", "pos", 0, "linear", 30, $rec_buf_pvoc_cb_mes400)
// $tracks("pvoc_scrub_cb_mes400").lfo_abort("TScrubPvocBuf", "pos")
$tracks("pvoc_scrub_cb_mes400").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
// $tracks("pvoc_scrub_cb_mes400").free()

//////////////////////////////Filtre par bande spectral 


NOTE C4 1 mesure404

// FX GOng perc1 
// iana

	$synth_mes404_freqs2 := [145.267975, 269.295471, 513.329651, 633.818298, 799.37384, 891.260803, 1028.651855, 1155.460327, 1350.07251, 1452.86, 1542.035522, 1649.781494, 1770.804199, 2006.568481, 2121.13501, 2268.276855, 2408.170654, 2485.421143, 2684.288574, 2925.669434]
	$synth_mes404_amps2 := @normalize([0.01632, 0.005616, 0.001193, 0.000721, 0.000974, 0.000965, 0.000984, 0.000711, 0.000599, 0.000327, 0.000319, 0.000262, 0.000303, 0.000114, 0.000083, 0.000304, 0.000191, 0.000154, 0.000234, 0.000096])

	obj::crea_track_HOA("addsynth_m404", "group_hoa4", fade_in = 5, amp = -4, in_channels = 8, [["TAddic_20_8", "amp", -20, "d", 2, "freqs", $synth_mes404_freqs2, "amps", $synth_mes404_amps2]])
	$tracks("addsynth_m404").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 10) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	$tracks("addsynth_m404").rand_lfo("TAddic_20_8", "d", 0, 10, 1, "linear", 20)

	$dur_mes404 := $pvoc_anal_mes404.dur()
	print ($pvoc_anal_mes404.dur())
	obj::crea_track_HOA("pvoc_mes404", "group_hoa4", fade_in = 5, amp = -20, doppler = 0, ["VBPVocPlay1", "buf", $pvoc_anal_mes404.VBPVoc_buf()]) 
	// $tracks("pvoc_mes404").bpf_param("VBPVocPlay8", "pos", [0, $dur_mes404, 1])
	$tracks("pvoc_mes404").rand_lfo("VBPVocPlay1", "pos", 0.5, 0.99, 0.7, "linear", 30)
	$tracks("pvoc_mes404").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 10, "linear")
	$tracks("pvoc_mes404").amp(0)
	// $tracks("pvoc_mes404").free()


NOTE C4 1 mesure406

$tracks("pvoc_scrub_vln1_mes400").free(4)
$tracks("pvoc_scrub_vln2_mes400").free(4)
$tracks("pvoc_scrub_alto_mes400").free(4)
$tracks("pvoc_scrub_vlc_mes400").free(4)
$tracks("pvoc_scrub_cb_mes400").free(4)
// FX Tam perc2
// iana

NOTE C4 1 mesure407

$tracks("play_sample_8ch").play_sample8("Mes407?.aif", -3)

//synth
/// Instr FX??


NOTE C4 1 mesure411

// $tracks("play_sample_8ch").play_sample8_stop("Mes407?.aif", 15)
// Del Scrub

obj::crea_track_HOA("bajo_fin", "group_hoa4", fade_in = 3, amp = 0, doppler = 0, [[Bajo, freq, 38.939998626709, d, 0.0, lfnoisefreq, 0.0010000000474975, lag, 5.0, amp, -0.2917839884758],[SimpleBass, note, 24.0, fc, 205.80999755859, rq, 0.25, bal, 0.0, width, 0.0, amp, 0.0]]) 
$tracks("bajo_fin").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 10, "linear")
$tracks("bajo_fin").amp(-20)
$tracks("pvoc_mes404").amp([-20, 6, -30])
$tracks("addsynth_m404").amp([-4, 6, -20])
3 $tracks("bajo_fin").rand_lfo("SimpleBass", "fc", 205, 300, 205.80, "linear", 30)

NOTE C4 1 mesure412

$tracks("bajo_fin").free(5)
// $tracks("pvoc_mes404").free(6)
// $tracks("addsynth_m404").free(10)

obj::crea_track_HOA("bajo_fin2", "group_hoa4", fade_in = 4, amp = 0, doppler = 0, [[Bajo, freq, 38.939998626709, d, 0.0, lfnoisefreq, 0.0010000000474975, lag, 5.0, amp, -0.2917839884758]]) 
$tracks("bajo_fin2").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 1, "linear")
$tracks("bajo_fin2").amp(-10)
$tracks("pvoc_mes404").amp([-30, 6, -50])
$tracks("addsynth_m404").amp([-20, 6, -40])

// $tracks("bajo_fin2").set(Bajo, [freq, 39.5])
// $tracks("addsynth_m404").free(10)

NOTE C4 1 mesure419_FIN

// $tracks("addsynth_m407").free(0.1)

// $tracks("bajo_fin").free(0.1)
$tracks("pvoc_mes404").free(0.1)
$tracks("addsynth_m404").free(0.1)
$tracks("bajo_fin2").free(0.1)
$tracks("play_sample_8ch").play_sample8_stop("Mes407?.aif")



// print: rec_pos 0.0565


// $rand_test.$max := 10

// $min := 0
// print @rand_range($min, 0.0565)

// print @rand_range(0., 0.0001)

// $rec_buf_pvoc_vln1_mes190.rec($bsn)

// $rand_test := ::rand_lfo_test(0, "linear", 60, $rec_buf_pvoc_vln1_mes190)
// abort $rand_test

// print  ($rec_buf_pvoc_vln1_mes190.id())

// $rec_buf_pvoc_vln1_mes190.free()

// $rec_buf_pvoc_vln2 := obj::rec_buf_pvoc("server1", 1) // pvoc buffer "server", duration relatif

// $rec_buf_pvoc_vln2.rec($vln1)

// $rec_buf_pvoc_vln2.free()

// $rec_buf_pvoc_vln3 := obj::rec_buf_pvoc("server1", 5) // pvoc buffer "server", duration relatif

// $rec_buf_pvoc_vln3.rec($vln1)
// $rec_buf_pvoc_vln3.free()

// $rec_buf_pvoc_vln1_mes190.id()

// $rec_buf_pvoc_vln1_mes190 := obj::rec_buf_pvoc("server1", 4) // pvoc buffer "server", duration relatif
// $rec_buf_pvoc_vln1_mes190.rec($vln1)
// 0.02 obj::crea_track_HOA("pvoc_scrub", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_pvoc_vln1_mes190.id()]]) 
// $tracks("pvoc_scrub").rand_lfo_dyn("TScrubPvocBuf", "pos", 0, "linear", 60, $rec_buf_pvoc_vln1_mes190)

// $tracks("pvoc_scrub").lfo_abort("TScrubPvocBuf", "pos")
// $tracks("pvoc_scrub").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 80, "linear")
// $tracks("pvoc_scrub").free()

// $tracks("pvoc_scrub").set("TScrubPvocBuf", ["pos", 0.1]) // pos from 0->1
// 									//$module, $param, $init_val, $type, $tpo, $ref_obj

// obj::crea_track_HOA("pvoc_play", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TPlayPvocBuf", "buf", $rec_buf_pvoc_vln1_mes190.id()]]) 
// $tracks("pvoc_play").set("TPlayPvocBuf", ["rate", 0.1])
// $tracks("pvoc_play").free()


// NOTE C4 1 Onset_trig_Envs

// $Servers("server1").g_dumpTree(0, 1)

// obj::crea_track_HOA("env_test", "group_hoa1", fade_in = 0.01, amp = 0, doppler = 0, encoder = false)
// @rand_range(-90, 90)
// $tracks(env_test).group_add([[AudioInput, input, $fl, amp, -6], [TRingMod, modfreq, 100, ampmod, 10], [OutEnv1_HOA7, env, $envs(server1)(rond), dur, 5, coords, [1, -90, 0], amp, 0]])
// $tracks("env_test").free()
// $tracks(env_test).group_add([[AudioInput, input, $fl, amp, -6], [OutEnv1_HOA7, env, $envs(server1)(perc), dur, 5, radius, 0.1, az, 90, ele, 0, amp, 0]])




// $onset_test2 := obj::onset_detect("server1", $fl, thresh = 0.1, antirebond = 1, id = $fl, amp = 0) // del in ms

// $onset_test2.thresh(0.001)
// $onset_test2.free()

// whenever mes100 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == $fl))
// {
// 	print onsetdetect___TOTO $onsetdetect
// 	$tracks(env_test).group_add([[AudioInput, input, $fl, amp, 3], [TMFxShift2, modfreq, @rand_range(20, 400)], [OutEnv1_HOA7, env, $envs(server1)(rond), dur, @rand_range(0.5, 2), radius, 1, az, @rand_range(-180, 180), ele, 0, amp, 0]])

// }

// abort mes100

NOTE C4 1 DeL_scrub

$onset_del_scrub := obj::onset_detect("server1", $bsn, thresh = 0.1, antirebond = 1, id = $bsn, amp = 0) // del in ms
print ($onset_del_scrub.id())

$Servers("server1").notify(1) /// Send data from server to client

$rec_buf_del_scrub := obj::rec_buf_pvoc("server1", 5) // pvoc buffer "server", duration relatif

print ($rec_buf_del_scrub.dur())

obj::crea_track_HOA("pvoc_del_scrub", "group_hoa1", fade_in = 0.1, amp = 0, doppler = 0, encoder = false)


$del_scrub_ob :=  obj::del_scrub("pvoc_del_scrub", $rec_buf_del_scrub, $bsn, [0.2, 1], 1, 50) // del in ms

abort $del_scrub_ob

$onset_del_scrub.thresh(0.2)
$onset_del_scrub.antirebond(0.1)

$onset_del_scrub.inst($bsn) // change instr input

$onset_del_scrub.free()

$onset_del_scrub := obj::onset_detect("server1", 0, thresh = 0.1, antirebond = 1, id = 100, amp = 0) // del in ms




$incr := 0
$last_date := 0
whenever mes100 (($onsetdetect[0] == "server1") && ($onsetdetect[1] == 100))
{
	@local $timer := 0
	print start_rec
	if($incr == 0)
	{
		// $rec_buf_del_scrub.rec($bsn)
		$rec_buf_del_scrub.rec(0)
		$last_date := $NOW
	}
	else
	{
		if($incr == 1)
		{
			$rec_buf_del_scrub.stop_record(0.1)
			$last_date := $NOW - $last_date
			print dur $last_date
		}
	}
	$incr += 1
}

0.02 obj::crea_track_HOA("pvoc_scrub", "group_hoa1", fade_in = 1, amp = 0, doppler = 0, [["TScrubPvocBuf", "buf", $rec_buf_del_scrub.id()]]) 
$tracks("pvoc_scrub").rand_lfo_dyn("TScrubPvocBuf", "pos", 0, "linear", 60, $rec_buf_del_scrub)
$tracks("pvoc_scrub").lfo_abort("TScrubPvocBuf", "pos")
$tracks("pvoc_scrub").bpf_param("TScrubPvocBuf", "pos", [0, 30, 1])
$tracks("pvoc_scrub").free()

// print: dur 2761.703098
// print: dur 5.908811



// abort mes100

//   curve
//       // @tempo := $tpo
//       @Grain := 5 ms //0.01s 
//       @action :=  { 
//             // $res[$index] := $val
//             print val $val
//          }

//                   { $val {
//                  		{0} @type := $type
//                  1 {0.0001} 
//                }
//             }





NOTE 60 1 orbit2

// source * sqrt(r ou distance) r pow(1.2)

$of_gui := ::gui_oF_trajs() // send o OpenFramaworks visual
$HOA_global_z := 0
obj::crea_track_HOA("track_hoa1", "group_hoa1", doppler = 1, in_channels = 1, [["Impulse_Pluck", "freq", 548.83099365234, "freq_imp", 10.770000457764, "del", 0.0060000000521541, "amp", -3], ["TestSynth3", "freq",200, "amp", -6]])
$tracks("track_hoa1").orbit_traj2(0, 0.005)			
$tracks("track_hoa1").doppler(1)

obj::crea_track_HOA("track_traj_2D_3", "group_hoa1", doppler = 1, in_channels = 1, [["TSine", "freq",442, "amp", -6]])
$tracks("track_traj_2D_3").traj_lib_lissajou(loop_num = 20)
$tracks("track_traj_2D_3").traj_lib_lissajou(loop_num = 20, b=2)
$tracks("track_traj_2D_3").traj_lib_lissajou(loop_num = 20, m=5, speed = 5)
$tracks("track_traj_2D_3").xyz_rand_lfo([-10, 10, 0, -10, 10, 0, 0, 1, 0], 200)
$tracks("track_traj_2D_3").amp(-10)
$tracks("track_traj_2D_3").doppler(1)
$tracks("track_traj_2D_3").free()
obj::crea_track_HOA("track_traj_2D_4", "group_hoa1", [["TestSynth3", "freq", @rand_range(150, 444), "amp", -8]])
$tracks("track_traj_2D_4").traj_lib_lissajou_bis(k=7, loop_num = 20, elev=0.05)
$tracks("track_traj_2D_4").doppler(0)
$tracks("track_traj_2D_4").free()

obj::crea_track_HOA("track_traj_2D_4", "group_hoa1", doppler = 1, in_channels = 1, [["TestSynth3", "freq", @rand_range(400, 444), "amp", -8]])
$tracks("track_traj_2D_4").traj_lib_lissajou_bis(k=7, loop_num = 20, elev=0.05, speed = 10)
$tracks("track_traj_2D_4").doppler(1)
$tracks("track_traj_2D_4").free()


obj::crea_track_HOA("test_doppler", "group_hoa1", in_channels = 1, [["TestSynth3", "freq", @rand_range(333, 444), "amp", -8]])
$tracks("test_doppler").dae_rand_lfo([0., 1.2, 1, -180, 180, 0, 0, 0, 20, 0., 1.2, 1, -180, 180, 0, 0, 20, 0], 220) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
$tracks("test_doppler").set_out(["doppler", 1])
$tracks("test_doppler").dae_rand_lfo_abort()
$tracks("test_doppler").free()

obj::crea_track_HOA("track_hoa2", "group_hoa1", in_channels = 1, [["Impulse_Pluck", "freq", 600, "freq_imp", 20, "del", 0.000500000521541, "amp", -3], ["TestSynth3", "freq", 500, "amp", -3]])
$tracks("track_hoa2").orbit_traj2(0, 0.002)
$tracks("track_hoa2").free()
$tracks("track_hoa2").doppler(1)

obj::crea_track_HOA("track_hoa3", "group_hoa1", in_channels = 1, [["Impulse_Pluck", "freq", 300, "freq_imp", 20, "del", 0.000500000521541, "amp", -3]])
$tracks("track_hoa3").orbit_traj(0, 0.033)

obj::crea_track_HOA("track_hoa4", "group_hoa1", in_channels = 1, [["Impulse_Pluck", "freq", 400, "freq_imp", 30, "del", 0.000200000521541, "amp", 0]])
$tracks("track_hoa4").orbit_traj2(0, 0.01)
$tracks("track_hoa4").free()
 // create 13 new trajs
$freqs := [234, 345, 456, 567, 678, 789, 890, 901, 1024, 1156, 1234, 1356, 1356]
forall $x in $freqs.size()
{
	obj::crea_track_HOA("track_hoa"+($x+5), "group_hoa2", ["TestSynth3", "freq", $freqs[$x], "amp", -8])
	$tracks("track_hoa"+($x+5)).orbit_traj(@rand_range(90, 180), @rand_range(0.008, 0.067))
}

$tracks("track_hoa1").free()
$tracks("track_traj_2D_3").free()

NOTE 60 1 test_xyz

print (""+$SC_Servers("server1"))
print (""+$SF_map)
print (""+$envs)
print (""+$gran_buf)
print (""+$fft_buf)
print (""+@buff_gran("server1"))
print (""+$gran_buf("server1")[1])
print (""+$gran_buf("server1")[0])
print (""+$Servers)
print (""+$SC_Groups)
print (""+$sc_struct)
print (""+$synths_map)
print (""+$tracks)
print (""+$groups)
print (""+$sc_struct("server1")(100)[2])
print (""+$sc_struct("server1")(100)[0].occurs(106))
$sc_struct($server_name)($main_group_id).occurs($group_id)
$sc_struct($server_name)($group_id[0])
@sc_build_map2($sc_struct)

@savevalue($home + "/sc_struct.asco.txt", $sc_struct)

$struct_load1 := @loadvalue($home + "/sc_struct.asco.txt")

@sc_build_map2($struct_load1)

@sc_build_map_from_id($struct_load1)
print (""+$struct_load1)
$Servers("server1").g_dumpTree(0, 1)
$Servers("server1").dumpOSC(1)
@sc_build_map_from_id($sc_struct)

print (""+@member(map{ ("zero", 0), ("null", 0), ("void", 0) }, 0))
// HACER MAP en track_id [nodes], map{params}
print (""+@is_numeric(false))
print toto
obj::crea_track_HOA("track_hoa1", "group_hoa1", amp = 0, doppler = 0, in_channels = 1, [["TDust", "freq", 10, "amp", -5]])
obj::crea_track_HOA("track_hoa2", "group_hoa1", amp = 0, doppler = 0, in_channels = 1)
obj::crea_track_HOA("track_hoa3", "group_hoa2", amp = 0, doppler = 0, in_channels = 1)
// $tracks("track_hoa1").free()
$tracks("track_hoa1").amp(-120)
// SynthDef
$tracks("track_hoa1").mod_add(["TDust", "freq", 10, "amp", -5])
$tracks("track_hoa1").xyz([1.0, 1.5, 0.0])
$tracks("track_hoa1").xyz([1.0,0, .0])
$tracks("track_hoa1").xyz([1.0, -1.5, 0.0])
$tracks("track_hoa1").dae([0.82853, -90.3794,0.4077])
$tracks("track_hoa1").dae([2, 90, 0])
$tracks("track_hoa1").free()
print: dae "TAB[1.0, 25.6267, 0.0]"

print @cartopol3D_ambi_tab($pos_xyz)
print (""+@poltocar3D_ambi_tab([1.0, 25.6267, 40.0]))
print (""+@cartopol3D_ambi_tab([0.331319, 0.901631, 0.278009]))

print (""+@succession(@-, [10, 15, 20, 33]))

// /sources/aed -56.3099 0.0 1.80278 0.0 0.0 1.0 56.3099 0.0 1.80278 90.0 0.0 1.5 123.69 0.0 1.80278 -180.0 0.0 1.0 -123.69 0.0 1.80278 -90.0 0.0 1.5 -55.3794 50.4077 0.82853 55.3794 50.4077 0.82853 124.621 50.4077 0.82853 -124.621 50.4077 0.82853

$tracks("track_hoa1").traj_automation("test1") 

$of_gui := ::gui_oF_trajs() // send to OpenFramaworks visual
print (""+@poltocar3D_ambi_tab([2.80409, -68.5347, 90]))	
$tracks("track_hoa1").traj_circ(1, 5, 0.1, 1, -180, 180, 0, 0, 60, "linear", 5) 
$tracks("track_hoa1").traj_circ_interp2([1, -90, 80],[1., -140, 80], 5, 1) 
$tracks("track_hoa1").traj_linear_interp([1, -90., 0],[1, 0., 0], 5) 
$tracks("track_hoa1").traj_linear_ele_interp([2.80409, -68.5347, 0],[2.79847, 107.011, 0], 5) 
$tracks("track_hoa1").traj_rand_circ(1, 1, 1, -90, 90, 0, 0, 80, 0)
$tracks("track_hoa1").dae_rand_lfo([0.1, 2.2, 1, 200, -200, 0.0, 0, 90, 0.0], 60) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
$tracks("track_hoa1").xyz_rand_lfo([-3, 3, 0, -3, 3, 0, 0, 2, 0.0], 60) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
$tracks("track_hoa1").HOA_global_track_xyz([10, 0, 0])
$tracks("track_hoa1").doppler(1)
	// @fun_def traj_rand_circ($radio_min, $radio_max, $radio_init, $az_min, $az_max, $az_init, $elev_min, $elev_max, $elev_init, $tpo = 60, $type = "linear") // coords in polar

	// @fun_def traj_circ($dir, $duree, $start_radio, $end_radio, $start_angle, $end_angle, $start_elev, $end_elev, $period, $type, $loop = 1) // Ambitools

print (""+$tracks)
$tracks("track_hoa1").dae_rand_lfo_abort()
$tracks("track_hoa1").xyz_rand_lfo_abort()

$tracks("track_hoa1").mod_add(["TestSynth3", "freq",20, "amp", -6], "after", "TDust", fade_in = 1)
$tracks("track_hoa1").mod_add(["TestSynth3", "freq",200, "amp", -6], fade_in = 1)

$tracks("play_sample_8ch").play_sample8("mes19.aif", -6)

$treter := @loadvalue("/Users/josephfernandez/test2.txt")

$treter := @loadvalue("/Users/josephfernandez/toto.txt")

loop 0.5
{
	$Servers("server1").notify(1)

}

@savevalue("/Users/josephfernandez/toto.txt", 100.1234567)

print (""+$treter(0.5))

// set parameter
$tracks("track_hoa1").set("TestSynth3", ["freq", 20])
$tracks("track_hoa1").set("TestSynth3", ["freq", 120])
$tracks("track_hoa1").set("TestSynth3", ["amp", 3])
$tracks("track_hoa1").set("TestSynth3", ["fc", 2000])
$tracks("track_hoa1").ambi_x(0)
$tracks("track_hoa1").ambi_y(0)
$tracks("track_hoa1").ambi_z(0)
$tracks("track_hoa1").amp(-120)
$tracks("track_hoa1").free()
// set modulation
$tracks("track_hoa1").bpf_param("TestSynth3", "fc", [2000, 5, "exp", 20, 3, 3000, 10, "exp_out", 100]) // change pour toutes les instances de "TestSynth3"
$tracks("track_hoa1").rand_lfo("TestSynth3", "fc", 200, 3000, 200, "linear", 120)
$tracks("track_hoa1").rand_lfo("TestSynth3", "rq", 0.1, 0.3, 0.2, "linear", 60)

// VST module
$tracks("track_hoa1").mod_add("MultiEQ")
$tracks("track_hoa1").gui("MultiEQ")

$tracks("track_hoa1").mod_add("FabFilter Pro-R")
$tracks("track_hoa1").gui("FabFilter Pro-R")


$tracks("track_hoa1").mod_add("a7Panner")

$tracks("track_hoa1").master_vst("a7Delay")
$tracks("track_hoa1").gui("a7Delay") // open vst editor
$tracks("track_hoa1").master_vst("MultiEQ")
$tracks("track_hoa1").gui("MultiEQ")
$tracks("track_hoa1").master_vst("FabFilter Pro-R")

$tracks("track_hoa1").mod_remove("a7Delay") // open vst editor	
$tracks("track_hoa1").gui("a7Panner")
$tracks("track_hoa1").mod_remove("a7Panner") // open vst editor	

$tracks("track_hoa1").mod_add("FabFilter Pro-Q 3")
// SynthDef
$tracks("track_hoa1").mod_add(["TDust", "freq", 10, "amp", -1], "before", "MultiEQ")
$tracks("track_hoa1").rand_lfo("TDust", "freq", 1, 50, 10, "linear", 60)

$tracks("track_hoa2").mod_add(["TDust", "freq", 10, "amp", -5])
$tracks("track_hoa2").mod_add(["TestSynth3", "freq",100, "amp", 0])
$tracks("track_hoa2").set(["TestSynth3", "amp", -12])
$tracks("track_hoa2").rand_lfo("TestSynth3", "freq", 50, 100, 200, "linear", 60)
$tracks("track_hoa2").xyz([1.5, 1.3, 0])
$tracks("track_hoa2").dae([2, -120, 0])
$tracks("track_hoa2").dae_rand_lfo([0.75, 2.2, 1, 180, -180, 0.0, 0, 0, 0], 60) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
$tracks("track_hoa2").dae_rand_lfo_abort()
$tracks("track_hoa2").master_vst("a7Delay")
$tracks("track_hoa2").gui("a7Delay")
$tracks("track_hoa2").amp(-120)
$tracks("track_hoa2").free()
// // print (@buff_gran("server1"))

$tracks("track_hoa3").mod_add(["TestSynth3", "freq",100, "amp", 0])
$tracks("track_hoa3").set(["TestSynth3", "amp", -12])
$tracks("track_hoa3").rand_lfo("TestSynth3", "freq", 100, 150, 200, "linear", 60)
$tracks("track_hoa3").xyz([1.5, 1.3, 0])
$tracks("track_hoa3").dae([2, -120, 0])
$tracks("track_hoa3").dae_rand_lfo([0.75, 2.2, 1, 180, -180, 0.0, 0, 0, 0], 60) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
$tracks("track_hoa3").dae_rand_lfo_abort()
$tracks("track_hoa3").master_vst("a7Delay")
$tracks("track_hoa3").gui("a7Delay")
$tracks("track_hoa3").free()

$groups("group_hoa1").mod_add(["FdnReverb"])
$groups("group_hoa1").mod_add(["MultiEQ"])
$groups("group_hoa1").mod_remove("FdnReverb")

$groups("group_hoa1").gui("FdnReverb")
$groups("group_hoa1").gui("MultiEQ")
$groups("group_hoa1").mod_add("FabFilter Pro-R")

$groups("group_hoa1").free()

obj::crea_track_HOA("gran_fl", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["AudioInput", "input", $fl], ["TGranFreeze", "rate", 1.825146, "buf", @buff_gran("server1")]]) 

$tracks("gran_fl").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 80, "linear")
//rand_lfo($module, $param, $min, $max, $init_val, $type, $tpo) 
$tracks("gran_fl").rand_lfo("TGranFreeze", "rate", 0.98, 1.02, 1, "linear", 120)
1 $tracks("gran_fl").free()
$Servers("server1").g_dumpTree(0, 1)
$Servers("server2").g_dumpTree(0, 1)
$Servers("server1").dumpOSC(0)
print toto

NOTE 60 1 FluidBufOnsetSlice


$test_buf := obj::buffer("server1", "audio")
$test_buf.allocRead("/Users/josephfernandez/sounds/concat/Raggi-p3-concat-mono.aif")
$test_buf.allocRead("/Users/josephfernandez/Documents/Max\ 8/Packages/FluidCorpusManipulation/media/Nicol-LoopE-M.wav")
print (""+$test_buf.id())
$test_buf.b_getn(0, 288)


$idx_buf := obj::buffer("server1", "index")
$idx_buf.alloc()
print (""+$idx_buf.id())


// @proc_def FluidBufOnsetSlice($server_name, $ana_name, $source_buf, $startFrame = 0, $numFrames = -1, $startChan = 0, $numChans = -1, $indices_buf = 0, $metric = 9, $threshold = 0.5, $minSliceLength = 2, $filterSize = 5, $frameDelta = 0, $windowSize = 1024, $hopSize = -1, $fftSize = -1)

::FluidBufOnsetSlice("server1", "ana_onset1", $test_buf, indices_buf = $idx_buf, threshold = 0.05)

$idx_buf.b_getn(0, 288)
$idx_buf.b_get(100)
$idx_buf.query()

/*print replay (""+$idx_buf.b_getlist())

print (""+$idx_buf.$frame_list)

print ($idx_buf.num_frames())

forall $x in $idx_buf.num_frames()
{
	$idx_buf.b_get($x)
}

print (""+$flu_onset("ana_onset1"))
*/


print (""+$flu_onset("ana_onset1").size())

$spec := obj::buffer("server1", "spec")
$spec.alloc()
print (""+$spec.id())

$stats := obj::buffer("server1", "stats")
$stats.alloc()
print (""+$stats.id())
$stats.b_getn(0, 1)

$meancentroids := obj::buffer("server1", "meancentroids")
$meancentroids.alloc()
print (""+$meancentroids.id())
$meancentroids.b_getn(0, 1)


$index := 0
forall $x in $flu_onset("ana_onset1").size()-1
{
	@local $start := $flu_onset("ana_onset1")[$index]
	@local $end := $flu_onset("ana_onset1")[$index+1]
	@local $num := $end - $start

	print start $start 
	print end $end 
	print num $num 
	::FluidBufSpectralShape("server1", "ana_centroid", $test_buf, $start, $num, features_buf = $spec, select = ["centroid"])
	::FluidBufStats("server1", "stats", $spec, stats_buf = $stats, select = 1) // 1 = mean
	::FluidBufCompose("server1", "meancentroids", $stats, destination_buf = $meancentroids, destStartFrame = $index) // 1 = mean

	// print $start $end
	$index += 1
}

obj::crea_track_HOA("onset_seq", "group_hoa1", amp = 0, doppler = 0, in_channels = 1)

loop toto 0.05
{
	$tracks("onset_seq").mod_add(["Sample_play_seg2", "buf_idx", $idx_buf.id(), "buf_src", $test_buf.id(), "index", @rand_int($flu_onset("ana_onset1").size())], "top")
}

abort toto

print (""+@order([200, 600, 100, 300, 400]))

$order_centroid := [ 144, 131, 129, 146, 142, 143, 132, 145, 136, 141, 243, 130, 80, 228, 82, 133, 223, 224, 150, 151, 84, 148, 134, 222, 89, 219, 232, 81, 220, 83, 149, 225, 107, 218, 233, 221, 235, 227, 111, 78, 33, 236, 302, 242, 283, 106, 211, 104, 103, 108, 303, 328, 152, 183, 88, 238, 121, 105, 109, 217, 234, 135, 305, 85, 154, 79, 86, 301, 137, 87, 237, 226, 98, 13, 241, 282, 216, 175, 304, 184, 291, 300, 102, 122, 281, 327, 94, 177, 18, 202, 100, 112, 124, 186, 297, 123, 229, 206, 140, 197, 247, 93, 249, 306, 199, 324, 294, 90, 155, 250, 101, 99, 239, 203, 296, 147, 76, 299, 97, 326, 120, 200, 270, 248, 205, 182, 95, 251, 292, 153, 293, 125, 204, 212, 139, 185, 295, 246, 77, 320, 110, 298, 240, 201, 268, 207, 117, 75, 307, 96, 210, 208, 322, 259, 91, 92, 230, 9, 325, 271, 209, 252, 181, 323, 290, 266, 138, 159, 280, 321, 253, 289, 54, 264, 180, 288, 28, 269, 56, 187, 191, 115, 319, 192, 314, 190, 198, 273, 254, 193, 265, 195, 267, 196, 114, 231, 179, 171, 12, 7, 308, 126, 161, 157, 16, 116, 257, 255, 10, 272, 31, 258, 188, 213, 156, 55, 172, 194, 245, 158, 15, 67, 66, 173, 174, 317, 256, 189, 262, 32, 162, 287, 63, 65, 318, 68, 316, 160, 113, 8, 315, 313, 64, 215, 261, 14, 34, 73, 178, 279, 51, 69, 263, 58, 57, 118, 119, 36, 274, 6, 60, 17, 27, 310, 176, 260, 70, 74, 62, 5, 244, 163, 309, 285, 284, 168, 59, 61, 169, 278, 275, 71, 2, 286, 3, 0, 276, 35, 53, 4, 312, 170, 37, 11, 72, 1, 164, 311, 24, 49, 167, 26, 214, 25, 30, 50, 277, 46, 48, 41, 23, 19, 165, 52, 128, 20, 127, 38, 21, 47, 166, 45, 29, 43, 22, 39, 40, 44, 42 ]
$order_index := 0

loop toto 0.05
{
	$tracks("onset_seq").mod_add(["Sample_play_seg2", "buf_idx", $idx_buf.id(), "buf_src", $test_buf.id(), "index", $order_centroid[$order_index]], "top")
	$order_index += 1
} during [$order_centroid.size() #]

abort toto

$meancentroids.b_getn(0, 330)



//////// 2d KNN search

$test_buf := obj::buffer("server1", "audio")
$test_buf.allocRead("/Users/josephfernandez/sounds/concat/Raggi-p3-concat-mono.aif")
$test_buf.allocRead("/Users/josephfernandez/sounds/SC-Synth/Laco15_ruido+Silo_extremophile.aif")
// $test_buf.allocRead("/Users/josephfernandez/Documents/Max\ 8/Packages/FluidCorpusManipulation/media/Nicol-LoopE-M.wav")
$test_buf.allocRead("/Users/josephfernandez/sounds/concat-grelots/L-grelot-bois-grand.aif")
print (""+$test_buf.id())
$test_buf.b_getn(0, 288)


$idx_buf := obj::buffer("server1", "index")
$idx_buf.alloc()
print (""+$idx_buf.id())
$idx_buf.b_getn(0, 10)
$idx_buf.query()
print ($idx_buf.num_frames())
// slice audio

::FluidBufOnsetSlice("server1", "ana_onset1", $test_buf, indices_buf = $idx_buf, threshold = 0.01)

print (""+$flu_onset("ana_onset1"))

$stats := obj::buffer("server1", "stats")
$stats.alloc()

$stats2 := obj::buffer("server1", "stats2")
$stats2.alloc()

$spec := obj::buffer("server1", "spec")
$spec.alloc()

$loudness := obj::buffer("server1", "loudness")
$loudness.alloc()
$loudness.id()

$point := obj::buffer("server1", "point")
$point.alloc(2)

// fluid dataset
$FluidDataSet := obj::FluidDataSet("server1")


// centroid/loudness analyse
forall $index in $flu_onset("ana_onset1").size()-1
{
	@local $start := $flu_onset("ana_onset1")[$index]
	@local $end := $flu_onset("ana_onset1")[$index+1]
	@local $num := $end - $start

	print start $start 
	print end $end 
	print num $num 

	::FluidBufSpectralShape("server1", "ana_centroid", $test_buf, $start, $num, features_buf = $spec, select = ["centroid"])
	::FluidBufStats("server1", "stats", $spec, stats_buf = $stats, select = 1) // 1 = mean

	::FluidBufLoudness("server1", "ana_loudness", $test_buf, $start, $num, features_buf = $loudness, select = 1)
	::FluidBufStats("server1", "stats2", $loudness, stats_buf = $stats2, select = 1) // 1 = mean

	::FluidBufCompose("server1", "meancentroids", $stats, destination_buf = $point, destStartFrame = 0) // 1 = mean
	::FluidBufCompose("server1", "meanloudness", $stats2, destination_buf = $point, destStartFrame = 1) // 1 = mean
	
	$FluidDataSet.addPoint(""+$index, $point) // id must be string
} 
//until ($index >= $flu_onset("ana_onset1").size())
$FluidDataSet.print() 
$FluidDataSet_norm := obj::FluidDataSet("server1")

$data_norm := obj::FluidNormalize("server1")

$data_norm.fitTransform($FluidDataSet, $FluidDataSet_norm)

$FluidDataSet_norm.print()

$FluidDataSet_norm.write("rag.json")

/// PLAY

/// SOund
$test_buf := obj::buffer("server1", "audio")
$test_buf.allocRead("/Users/josephfernandez/sounds-off/concat/Raggi-p3-concat-mono.aif")
$test_buf.allocRead("/Users/josephfernandez/sounds/concat-grelots/L-grelot-bois-grand.aif")

// Slices
// load slices buffer
$idx_buf := obj::buffer("server1", "index")
$idx_buf.allocRead($path_fluid+"idx_buf.aif")
print (""+$idx_buf.id())
$idx_buf.b_getn(0, 288)	

$json_fluid1 := @json_read($path_tmp+"rag.json")
print (""+$json_fluid1("data")("33"))
print (""+@size($json_fluid1("data")))


$ana_tab := @map2tab_index($json_fluid1("data"))

print (""+$ana_tab)
print ($ana_tab.size())
/// create knn tree
$ana_tab.knn_create()

// print (""+$ana_tab.knn_search([0.5, 0.1], 1)[0])

obj::crea_track_HOA("onset_seq", "group_hoa1", amp = 0, doppler = 0, in_channels = 1)
// $tracks("onset_seq").free()
// 2D search
// $tracks("onset_seq").amp(-120)

whenever search ($search)
{
	@local $res_idx
	$res_idx := $ana_tab.knn_search([$search[0], $search[1]], 2)[0] // 2 neighbords 
	print (""+$res_idx)
	forall $x in $res_idx
	{
			$tracks("onset_seq").mod_add(["Sample_play_seg2", "buf_idx", $idx_buf.id(), "buf_src", $test_buf.id(), "index", $x], "top")
	}
}

abort search

whenever mov ($mov==$mov)
{
	if($mov==1)
	{
		$tracks("onset_seq").amp(0)
	}
	else
	{
		$tracks("onset_seq").amp(-120)
	}
}

abort mov

$tracks("onset_seq").free()
// spat1

whenever toto ($of_traj_cart)
{
	of_traj $of_traj_cart // to ofx

	print distance3D (""+@distance3D([0,0,0], $of_traj_cart))

	$tracks("onset_seq").dae(@cartopol3D_tab($of_traj_cart))
	// to_max_xy (@distance3D([0,0,0], $of_traj_cart)) ($of_traj_cart[1])
	to_max_xy ($of_traj_cart[0]) ($of_traj_cart[1])
	// print (""+@scale(@distance3D([0,0,0], $of_traj_cart), 0, 5, 150, 1, 1))
	// $tracks("track_hoa1").set("TDust", ["freq", @scale(@distance3D([0,0,0], $of_traj_cart), 0, 5, 500, 0, 1.2)])
}

abort toto
///// UMAP MFCC


/// ANALYSE
$test_buf := obj::buffer("server1", "audio")
$test_buf.allocRead("/Users/josephfernandez/sounds-off/concat/Raggi-p3-concat-mono.aif")
// $test_buf.allocRead("/Users/josephfernandez/Documents/Max\ 8/Packages/FluidCorpusManipulation/media/Nicol-LoopE-M.wav")
print (""+$test_buf.id())
$test_buf.b_getn(0, 288)


$idx_buf := obj::buffer("server1", "index")
$idx_buf.alloc()
print (""+$idx_buf.id())
$idx_buf.b_getn(0, 288)	
// slice audio

::FluidBufOnsetSlice("server1", "ana_onset1", $test_buf, indices_buf = $idx_buf, threshold = 0.05)


$idx_buf.write($path_fluid+"idx_buf.aif", sampleFormat = "float") // float for slices numbers
$bufslices1 := obj::buffer("server1", "bufslices1")

/*$slices1 := obj::FluidDataSet("server1")

$slices1.fromBuffer($idx_buf)
$slices1.print()
$slices1.write("rag_slices.json")
$json_slices1 := @json_read($path_tmp+"rag_slices.json")
$slices1_tab := @map2tab_index($json_slices1("data")).flatten()
print (""+$slices1_tab)

//// read json and convert to buffer index
/*$slices1_read := obj::FluidDataSet("server1")
$slices1_read.read("rag_slices.json")
$slices1_read.print()
$slices1_read.toBuffer($idx_buf, 1)*/
// $buf_slices1 := obj::buffer("server1", "buf_slices1")
// $buf_slices1.alloc()*/

$stats := obj::buffer("server1", "stats")
$stats.alloc()
$stats.query()

$mfccs := obj::buffer("server1", "mfccs")
$mfccs.alloc()
$mfccs.query()

$flat := obj::buffer("server1", "flat")
$flat.alloc()
$flat.id()
$flat.query()
// fluid dataset
$analyses := obj::FluidDataSet("server1")


// centroid/loudness analyse
forall $index in $flu_onset("ana_onset1").size()-1
{
	@local $start := $flu_onset("ana_onset1")[$index]
	@local $end := $flu_onset("ana_onset1")[$index+1]
	@local $num := $end - $start

	print start $start 
	print end $end 
	print num $num 

	::FluidBufMFCC("server1", "ana_centroid", $test_buf, $start, $num, features_buf = $mfccs, numCoeffs = 13, startCoeff = 1)
	::FluidBufStats("server1", "stats", $mfccs, stats_buf = $stats, select = 1) // 1 = mean
	::FluidBufFlatten("server1", "flat", $stats, destination_buf = $flat)

	$analyses.addPoint(""+$index, $flat) // id must be string
} 

$umapped := obj::FluidDataSet("server1")

$Fluidumap := obj::FluidUMAP("server1", numNeighbours = 5, minDist = 0.3)
$Fluidumap.fitTransform($analyses, $umapped)

$umapped.print()

$normed := obj::FluidDataSet("server1")

$data_norm := obj::FluidNormalize("server1")

$data_norm.fitTransform($umapped, $normed)

$normed.print()

$normed.write("rag_mfcc.json")


/// PLAY

/// SOund
$test_buf := obj::buffer("server1", "audio")
$test_buf.allocRead("/Users/josephfernandez/sounds-off/concat/Raggi-p3-concat-mono.aif")

// Slices
$idx_buf := obj::buffer("server1", "index")
// load slices buffer
$idx_buf.allocRead($path_fluid+"idx_buf.aif")
print (""+$idx_buf.id())
$idx_buf.b_getn(0, 288)	

// load analyse json
$json_fluid2 := @json_read($path_tmp+"rag_mfcc.json")
print (""+$json_fluid2("data")("0"))
print (""+@size($json_fluid2("data")))

// map to tab for KNN index
$ana_tab := @map2tab_index($json_fluid2("data"))

print (""+$ana_tab)

/// create knn tree
$ana_tab.knn_create()

// print (""+$ana_tab.knn_search([0.5, 0.1], 1)[0])

obj::crea_track_HOA("onset_seq", "group_hoa1", amp = 0, doppler = 0, in_channels = 1)

// 2D search

whenever search ($search)
{
	@local $res_idx
	$res_idx := $ana_tab.knn_search([$search[0], $search[1]], 2)[0] // 2 neighbords 
	print (""+$res_idx)
	forall $x in $res_idx
	{
			$tracks("onset_seq").mod_add(["Sample_play_seg2", "buf_idx", $idx_buf.id(), "buf_src", $test_buf.id(), "index", $x], "top")
	}
}

abort search

NOTE 60 1 3D_multi_concat

//////// 3d KNN search

$test_buf := obj::buffer("server2", "audio")
$test_buf.allocRead("/Users/josephfernandez/sounds/concat/Raggi-p3-concat-mono.aif")
$test_buf.allocRead("/Users/josephfernandez/sounds/Laconicism/Laconicism-v-1.aif")

// $test_buf.allocRead("/Users/josephfernandez/Documents/Max\ 8/Packages/FluidCorpusManipulation/media/Nicol-LoopE-M.wav")

print (""+$test_buf.id())
$test_buf.b_getn(0, 288)


$idx_buf := obj::buffer("server2", "index")
$idx_buf.alloc()
print (""+$idx_buf.id())
$idx_buf.b_getn(0, 10)
// slice audio

::FluidBufOnsetSlice("server2", "ana_onset1", $test_buf, indices_buf = $idx_buf, threshold = 0.05)
$idx_buf.write($path_fluid+"idx_buf.aif", sampleFormat = "float") // float for slices numbers

$stats := obj::buffer("server2", "stats")
$stats.alloc()

$stats2 := obj::buffer("server2", "stats2")
$stats2.alloc()

$stats3 := obj::buffer("server2", "stats3")
$stats3.alloc()
$stats3.b_getn(0, 2)

$spec := obj::buffer("server2", "spec")
$spec.alloc()

$spec_flat := obj::buffer("server2", "spec_flat")
$spec_flat.alloc()

$loudness := obj::buffer("server2", "loudness")
$loudness.alloc()
$loudness.id()

$pitch := obj::buffer("server2", "pitch")
$pitch.alloc()
$pitch.id()
$pitch.b_getn(0, 2)

$pitch_flat := obj::buffer("server2", "pitch_flat")
$pitch_flat.alloc()


$point := obj::buffer("server2", "point")
$point.alloc(4)
$point.b_getn(0, 4)

$master_buf := obj::buffer("server2", "master_buf")
$master_buf.alloc()
$master_buf.b_getn(0, 4)

// fluid dataset
$FluidDataSet := obj::FluidDataSet("server2")
$FluidDataSet.clear()

// centroid/loudness/pitch/pitch_confidence analyse
forall $index in $flu_onset("ana_onset1").size()-1
{
	@local $start := $flu_onset("ana_onset1")[$index]
	@local $end := $flu_onset("ana_onset1")[$index+1]
	@local $num := $end - $start

	// print start $start 
	// print end $end 
	// print num $num 

	::FluidBufSpectralShape("server2", "ana_centroid", $test_buf, $start, $num, features_buf = $spec, select = ["centroid", "spread"])
	::FluidBufStats("server2", "stats", $spec, stats_buf = $stats, select = 1) // 1 = mean
	::FluidBufFlatten("server2", "spec_flat", $stats, destination_buf = $spec_flat) // flat 2 channels for concat in FluidBufCompose

	::FluidBufLoudness("server2", "ana_loudness", $test_buf, $start, $num, features_buf = $loudness, select = 1)
	::FluidBufStats("server2", "stats2", $loudness, stats_buf = $stats2, select = 1) // 1 = mean

	::FluidBufPitch("server2", "ana_pitch", $test_buf, $start, $num, features_buf = $pitch)
	::FluidBufStats("server2", "stats3", $pitch, stats_buf = $stats3, select = 1) // 1 = mean
	::FluidBufFlatten("server2", "flat", $stats3, destination_buf = $pitch_flat) // flat 2 channels for concat in FluidBufCompose


	::FluidBufCompose("server2", "meancentroids", $spec_flat, destination_buf = $point, destStartFrame = 0) // 1 = mean
	::FluidBufCompose("server2", "meanloudness", $stats2, destination_buf = $point, destStartFrame = 2) // 1 = mean
	::FluidBufCompose("server2", "meanpitch", $pitch_flat, destination_buf = $point, destStartFrame = 3) // 1 = mean


	$FluidDataSet.addPoint(""+$index, $point) // id must be string
} 

$FluidDataSet.print() 
$FluidDataSet_norm := obj::FluidDataSet("server2")
$data_norm := obj::FluidNormalize("server2")
$data_norm.fitTransform($FluidDataSet, $FluidDataSet_norm)
$FluidDataSet_norm.print()
$FluidDataSet_norm.write("5descriptors.json")

/// PLAY

/// SOund
$test_buf := obj::buffer("server2", "audio")
$test_buf.allocRead("/Users/josephfernandez/sounds-off/concat/Raggi-p3-concat-mono.aif")
$test_buf.allocRead("/Users/josephfernandez/sounds/Laconicism/Laconicism-v-1.aif")
// Slices
// load slices buffer
$idx_buf := obj::buffer("server2", "index")
$idx_buf.allocRead($path_fluid+"idx_buf.aif")
print (""+$idx_buf.id())
$idx_buf.b_getn(0, 90)	

$json_fluid1 := @json_read($path_tmp+"rag.json")
$json_fluid1 := @json_read($path_tmp+"4descriptors.json")
$json_fluid1 := @json_read($path_tmp+"5descriptors.json")
print (""+$json_fluid1("data")("100"))
print (""+@size($json_fluid1("data")))

print toto
$ana_tab := @map2tab_index($json_fluid1("data"))
print (""+@size($ana_tab))

print (""+$ana_tab)

$of_tab_size := @size($ana_tab)*5
$max_tab_size := 1000
$slice_size := $of_tab_size/$max_tab_size // $max_tab_size == 1000 max elements  
$slice_size := @floor($slice_size) // convert to int segments
print $slice_size
// of_concat_list_num $slice_size // send to of num segments
of_concat_list_num $of_tab_size ($slice_size+1) // send to of tab_size + num segments

/*of_concat_list_num (@size($ana_tab)*5) 1 // send to of tab_size + num segments
of_concat_list_num 1000 1 // send to of tab_size + num segments
of_concat_list_num 10 1 // send to of tab_size + num segments
*/

// 0 - "centroid", 1 -"spread", 2 - $loudness, 3 - $pitch, 4 - $pitch_quality
$out_pos_to_knn := []
forall $t in $ana_tab
{
	of_concat3D ([$t[0].linlin(0,1,-1,1)*300, $t[1].linlin(0,1,-1,1)*300, $t[4].linlin(0,1,0,0.5)*300, $t[2].linlin(0,1,1,5), $t[2].linlin(0,1,42,255)])
	$out_pos_to_knn.push_back([$t[0].linlin(0,1,-1,1)*300, $t[1].linlin(0,1,-1,1)*300, $t[4].linlin(0,1,0,0.5)*300])

}

// 0 - "centroid", 1 -"spread", 2 - $loudness, 3 - $pitch, 4 - $pitch_quality
// 3 2 0 2 0
$out_pos_to_knn := []
forall $t in $ana_tab
{
	of_concat3D ([$t[3].linlin(0,1,-1,1)*300, $t[2].linlin(0,1,-1,1)*300, $t[0].linlin(0,1,0,0.5)*300, $t[0].linlin(0,1,1,5), $t[3].linlin(0,1,42,255)])
	$out_pos_to_knn.push_back([$t[3].linlin(0,1,-1,1)*300, $t[2].linlin(0,1,-1,1)*300, $t[0].linlin(0,1,0,0.5)*300])

}

/// create knn tree
@knn_create($out_pos_to_knn)

obj::crea_track_HOA("onset_seq2", "group_hoa2", amp = -6, encoder = false) // track for receive encoded HOA (granulation, etc)
$tracks("onset_seq2").master_vst("FdnReverb")
$tracks("onset_seq2").gui("FdnReverb")

// play knn
$knn_matches := map{}
$hoa_bus := $tracks("onset_seq2").$bus
$index_concat_tab := [ 0 | (@size($ana_tab)) ] // to avoid repetitions
print $index_concat_tab
whenever update ($update == $update)
{
  @local $tab_ind_val, $i1 := 0, $i2 := 0, $idx, $val, $r, $normalized_dist

	// print firefly_coord (""+$firefly_coord) // from oFx
	$r := @zip(@knn_rsearch($out_pos_to_knn, $firefly_coord, $firefly_radius*$firefly_radius)) //@knn_rsearch($out_pos_to_knn, $coords*$fact, 50*$fact))

	// print zip (""+$r)
	forall $knn_pair in $r
	{
	   $idx := $knn_pair[0]
	   $val := $knn_pair[1]
	   $normalized_dist := @scale($val, $firefly_radius*$firefly_radius, 0, 0, 1, 1)
	   // print idx_knn $idx $val $normalized_dist

	   if($index_concat_tab[$idx] == 0 && $normalized_dist > 0.4)
	   {
	   	@local $coords
		// $knn_matches.add_pair($idx, $normalized_dist)
		$index_concat_tab[$idx] := 1
		print knn_find $idx
		// 3 2 0 2 0
		$coords := @cartopol3D_compiled($ana_tab[$idx][3].linlin(0,1,-1,1), $ana_tab[$idx][2].linlin(0,1,-1,1), $ana_tab[$idx][0].linlin(0,1,0,0.5)) //$ana_tab[$idx][4].linlin(0,1,0,1)

		$tracks("onset_seq2").mod_add(["HOAmbi_Sample_play_seg2", "buf_idx", $idx_buf.id(), "buf_src", $test_buf.id(), "index", $idx, "coords", $coords, "globTBus", $hoa_bus], "top")
		
		// higthlith segment
		knn_search_list ($ana_tab[$idx][3].linlin(0,1,-1,1)*300) ($ana_tab[$idx][2].linlin(0,1,-1,1)*300) ($ana_tab[$idx][0].linlin(0,1,0,0.5)*300) $normalized_dist
	   }
	   else
	   {
			if($index_concat_tab[$idx] == 1 && $normalized_dist <= 0.4)
			{

			$index_concat_tab[$idx] := 0
			}
	   }
	}
}

abort update

loop spat1 0.005
{
	$idx := 32
	$coords := @cartopol3D_compiled($ana_tab[$idx][0].linlin(0,1,-1,1), $ana_tab[$idx][1].linlin(0,1,-1,1), $ana_tab[$idx][4].linlin(0,1,0,0.5)) //$ana_tab[$idx][4].linlin(0,1,0,1)
	$tracks("onset_seq2").mod_add(["HOAmbi_Sample_play_seg2", "buf_idx", $idx_buf.id(), "buf_src", $test_buf.id(), "index", $idx, "coords", $coords, "globTBus", $hoa_bus], "top")

	0.05 $idx := 43
	$coords := @cartopol3D_compiled($ana_tab[$idx][0].linlin(0,1,-1,1), $ana_tab[$idx][1].linlin(0,1,-1,1), $ana_tab[$idx][4].linlin(0,1,0,0.5)) //$ana_tab[$idx][4].linlin(0,1,0,1)
	$tracks("onset_seq2").mod_add(["HOAmbi_Sample_play_seg2", "buf_idx", $idx_buf.id(), "buf_src", $test_buf.id(), "index", $idx, "coords", $coords, "globTBus", $hoa_bus], "top")
}

abort spat1

of_concat_list_num 20 1 // send to of tab_size + num segments

// of_concat3D ([-1*300, 0.573035*300, 0.0152915*300, 10, 189], [1*300, -0.573035*300, 0.0152915*300, 10, 200]])

/// create knn tree
$ana_tab.knn_create()

// print (""+$ana_tab.knn_search([0.5, 0.1], 1)[0])

obj::crea_track_HOA("onset_seq", "group_hoa1", amp = 0, doppler = 0, in_channels = 1)
// $tracks("onset_seq").free()
// 2D search

whenever search ($search)
{
	@local $res_idx
	$res_idx := $ana_tab.knn_search($search, 1)[0] // 1 neighbords 
	// print (""+$res_idx)
	forall $x in $res_idx
	{
			$tracks("onset_seq").mod_add(["Sample_play_seg2", "buf_idx", $idx_buf.id(), "buf_src", $test_buf.id(), "index", $x], "top")
	}
}

NOTE 60 1 merge_mono_files

/*/// create multichannel merge audio
$buf_slices_map := map {}
$idx_chnl := 0
forall $sf, $idx_buff in $SF_map("server1")
{
	print $idx_buff
	// ::FluidBufCompose("server1", "merge", $idx_buff, destination_buf = $destination_buf, destStartChan = $idx_chnl) // 1 = mean
	$idx_chnl += 1
}*/


NOTE 60 1 3D_multichannel_concat

// $SF_map	// sf, sc_server_buffer_index
// $SF_path // sf, path

// ::load_samples_folder() // load folder content into $SF_folder MAP
::load_samples("server1") // load all samples from the "/Users/fernandez/Library/Application\ Support/SuperCollider/sounds/" folder

print (""+$SF_map("server1"))
$folder_SF_concat := $SF_map("server1").domain()
print $folder_SF_concat
print ($folder_SF_concat.size())
/// slice analyse multi
$buf_slices_map := map {}

// slices analyse
$idx_chnl := 0
forall $sf, $idx_buff in $SF_map("server1")
{
	$buf_slices_map.add_pair($sf+"_slice", obj::buffer("server1", $sf+"_slice"))
	// $multi_chnl_slice := obj::buffer("server1", "multi_chnl_slice"+$x)
	$buf_slices_map($sf+"_slice").alloc()
	// print $idx_buff
	::FluidBufOnsetSlice("server1", "ana_onset", $idx_buff, indices_buf = $buf_slices_map($sf+"_slice"), threshold = 0.05)
	$idx_chnl += 1
}

$domain_idx := 0
$domain_tab := $buf_slices_map.domain()

loop dom 0.5
{
	print (""+$domain_tab[$domain_idx])
	$buf_slices_map($domain_tab[$domain_idx]).query()
	// $buf_slices_map($v).query()
	$domain_idx += 1
} until ($domain_idx >= $domain_tab.size())

abort dom

print $domain_tab
print ($domain_tab.size())
// print: 00001alto-mes372.aif_slice 00002alto-mes374.aif_slice 00003alto-mes376-fin.aif_slice 00004alto-mes376.aif_slice 00005cb-mes376.aif_slice 00006fl-mes364.aif_slice 00007trb-mes371.aif_slice 00008trb-mes375.aif_slice 00009trb-mes376.aif_slice 00010val-mes370.aif_slice 00011fl-mes366.aif_slice 00012fl-mes367.aif_slice 00013fl-mes372-2.aif_slice 00014fl-mes372.aif_slice 00015fl-mes374.aif_slice 00016fl-mes376.aif_slice 00017sax-mes365_1.aif_slice 00018sax-mes371.aif_slice 00019sax-mes372.aif_slice 00020sax-mes374.aif_slice 00021sax-mes376.aif_slice

print (""+$buf_slices_map("00001alto-mes372.aif_slice").id())
// print: "MAP{ ("00001alto-mes372.aif", 10), ("00002alto-mes374.aif", 11), ("00003alto-mes376-fin.aif", 12), ("00004alto-mes376.aif", 13), ("00005cb-mes376.aif", 14), ("00006fl-mes364.aif", 15), ("00007trb-mes371.aif", 16), ("00008trb-mes375.aif", 17), ("00009trb-mes376.aif", 18), ("00010val-mes370.aif", 19), ("00011fl-mes366.aif", 20), ("00012fl-mes367.aif", 21), ("00013fl-mes372-2.aif", 22), ("00014fl-mes372.aif", 23), ("00015fl-mes374.aif", 24), ("00016fl-mes376.aif", 25), ("00017sax-mes365_1.aif", 26), ("00018sax-mes371.aif", 27), ("00019sax-mes372.aif", 28), ("00020sax-mes374.aif", 29), ("00021sax-mes376.aif", 30) }"

print (""+$SF_map("server1")("00001alto-mes372.aif"))

	$buf_slices_map("00002alto-mes374.aif_slice").query()

	print ($buf_slices_map("00002alto-mes374.aif_slice").num_frames())


obj::crea_track_HOA("onset_seq", "group_hoa1", amp = 0, doppler = 0, in_channels = 1)


$seg_end := 0
$samples_amp := 0
$index_search := @iota($folder_SF_concat.size())

whenever prob_vect ($seg_end)
{
	@local $choose_index := @vprob($index_search, $samples_prob), $choose_concat := $folder_SF_concat[$choose_index]
	print $choose_concat
	print ($samples_amp[$choose_index])
	$tracks("onset_seq").mod_add(["Sample_play_seg2", "buf_idx", ($buf_slices_map($choose_concat+"_slice").id()), "buf_src", $SF_map("server1")($choose_concat), "index", @rand_int($buf_slices_map($choose_concat+"_slice").num_frames()-1), "amp", $samples_amp[$choose_index], "seg_dur", $samples_dur[$choose_index]], "top")
}
abort prob_vect

loop lprob 0.1
{
	@local $choose_concat
	$choose_concat := @vprob($folder_SF_concat, $samples_prob)
	print $choose_concat
	$tracks("onset_seq").mod_add(["Sample_play_seg2", "buf_idx", ($buf_slices_map($choose_concat+"_slice").id()), "buf_src", $SF_map("server1")($choose_concat), "index", @rand_int($buf_slices_map($choose_concat+"_slice").num_frames()-1)], "top")
}

abort lprob

	$tracks("onset_seq").mod_add(["Sample_play_seg2", "buf_idx", ($buf_slices_map("00001alto-mes372.aif_slice").id()), "buf_src", $SF_map("server1")("00001alto-mes372.aif"), "index", 1], "top")
	$tracks("onset_seq").mod_add(["Sample_play_seg2", "buf_idx", ($buf_slices_map("00002alto-mes374.aif_slice").id()), "buf_src", $SF_map("server1")("00002alto-mes374.aif"), "index", 0], "top")
	$tracks("onset_seq").mod_add(["Sample_play_seg2", "buf_idx", ($buf_slices_map("00020sax-mes374.aif_slice").id()), "buf_src", $SF_map("server1")("00020sax-mes374.aif"), "index", 0], "top")
	$tracks("onset_seq").mod_add(["Sample_play_seg2", "buf_idx", ($buf_slices_map("00005cb-mes376.aif_slice").id()), "buf_src", $SF_map("server1")("00005cb-mes376.aif"), "index", 0], "top")


$Servers("server1").notify(1)

$stats := obj::buffer("server1", "stats")
$stats.alloc()

$stats2 := obj::buffer("server1", "stats2")
$stats2.alloc()

$spec := obj::buffer("server1", "spec")
$spec.alloc()

$loudness := obj::buffer("server1", "loudness")
$loudness.alloc()
$loudness.id()

$point := obj::buffer("server1", "point")
$point.alloc(2)

// fluid dataset
$FluidDataSet := obj::FluidDataSet("server1")


// centroid/loudness analyse
forall $index in $flu_onset("ana_onset1").size()-1
{
	@local $start := $flu_onset("ana_onset1")[$index]
	@local $end := $flu_onset("ana_onset1")[$index+1]
	@local $num := $end - $start

	print start $start 
	print end $end 
	print num $num 

	::FluidBufSpectralShape("server1", "ana_centroid", $test_buf, $start, $num, features_buf = $spec, select = ["centroid"])
	::FluidBufStats("server1", "stats", $spec, stats_buf = $stats, select = 1) // 1 = mean

	::FluidBufLoudness("server1", "ana_loudness", $test_buf, $start, $num, features_buf = $loudness, select = 1)
	::FluidBufStats("server1", "stats2", $loudness, stats_buf = $stats2, select = 1) // 1 = mean

	::FluidBufCompose("server1", "meancentroids", $stats, destination_buf = $point, destStartFrame = 0) // 1 = mean
	::FluidBufCompose("server1", "meanloudness", $stats2, destination_buf = $point, destStartFrame = 1) // 1 = mean
	
	$FluidDataSet.addPoint(""+$index, $point) // id must be string
} 




NOTE 60 1 gran1

$rec_buf0 := obj::rec_buf("server1", duree = 5)
$rec_buf0.rec_loop(0)
$rec_buf0.rec(0, loop = 0)
$Servers("server1").g_dumpTree(0, 1)
print ($rec_buf0.id())
print ($rec_buf0.dur())
// $rec_buf0.free()

obj::crea_track_HOA("onset_seq", "group_hoa1", amp = 0, doppler = 0)
//playsegments($buf_id, $segment_tab, $ryth_loop, $dur_secs, $ampli = 0, $loop = 0) // hacer map con samplers tocados para stop
$tracks("onset_seq").playsegments($rec_buf0.id(), $flu_onset(onset_1), 1, 0)
// [ "/cmd", "FluidBufOnsetSlice", "FluidBufOnsetSlice/processNew", 9207, 43, 0, -1, 0, -1, 44, 9, 0.13, 2, 5, 0, 1024, -1, -1, 1024, 1, DATA[40] ]
 						  	// [ "/cmd",  "FluidBufOnsetSlice/processNew", 2128, 845, 0, -1, 0, -1, 0, 9, 0.1, 2, 5, 0, 1024, -1, -1, 1 ]
// $Servers("server1").cmd(["FluidBufOnsetSlice/processNew", 4822, 25, 0, -1, 0, -1, 26, 9, 0.1, 2, 5, 0, 1024, -1, -1, 1024, 1 ])

//onsetSlice($server_name, $source_buf, $startFrame = 0, $numFrames = -1, $startChan = 0, $numChans = -1, $indices_buf = 0, $metric = 9, $threshold = 0.5, $minSliceLength = 2, $filterSize = 5, $frameDelta = 0, $windowSize = 1024, $hopSize = -1, $fftSize = -1, $freeWhenDone = "true")
::onsetSlice("server1", onset_1, $rec_buf0, 0, -1, 0, -1, @buff_gran("server1"), 5, 0.55, 300, 5, 0, 2048, -1, -1)

print (""+$flu_onset(onset_1))

$Servers("server1").b_getn(11, 0, 4)

$Servers("server1").b_query(9)

$Servers("server1").b_write($rec_buf0.id(), "/Users/josephfernandez/Documents/projet-Ircam/buffers/b0.aif")

obj::crea_track_HOA("lfo_rot12_rev", "group_hoa1", amp = -3, encoder = false) // track for receive encoded HOA (granulation, etc)
//@obj_def HOA_grain_polar_vol_rand_pos2($buf, $envbuf, $rate_min, $rate_max, $ryth_min, $ryth_max, $env_dur_min, $env_dur_max, $radio_min, $radio_max, $theta_min, $theta_max, $phi_min, $phi_max, $pos_min, $pos_max, $amp, $track_HOA_NE, $grain_group, $spk_radius = 1.07) 
$gran_rand_pos3 := obj::HOA_grain_polar_vol_rand_pos2($rec_buf0.id(), "perc", 0.9, 1.1, 0.001, 0.05, 0.01, 0.1, 0.01, 0.6, -100, -80, 0, 360, 0., 1., -10, "lfo_rot12_rev", 3)
// $groups("group_hoa3").group_ambi_translation_z_rand_lfo(-2, 2, 0, 120, "linear")
$tracks("lfo_rot12_rev").rand_lfo_basic_track_pos_z(-2, 2, 0, 120, "linear") 
$gran_rand_pos3.envbuf(m)
$gran_rand_pos3.env_dur_min(0.1)
$gran_rand_pos3.env_dur_max(0.2)
$gran_rand_pos3.ryth_min(0.001)
$gran_rand_pos3.ryth_max(0.005)
$gran_rand_pos3.rate_min(1)
$gran_rand_pos3.rate_max(1)
$gran_rand_pos3.amp(-10)
$tracks("lfo_rot12_rev").amp(-3)

$tracks("lfo_rot12_rev").free()
abort $gran_rand_pos3

$tracks("lfo_rot12_rev").master_vst("FdnReverb")
$tracks("lfo_rot12_rev").vst_gui("FdnReverb", 1) // open vst editor
$tracks("lfo_rot12_rev").mod_remove("FdnReverb", 5) 

NOTE 60 1 gran2

// $buff_gran_t2 := @buff_gran("server1") // utilise un buffer dj cre

// prepare record buffer objet
$rec_buf1 := obj::rec_buf("server1", duree = 1)

$rec_buf1.rec($alto, loop = 1)

$rec_buf1.rec_loop(1)
$rec_buf1.stop_record()

$rec_buf1.free()
print ($rec_buf1.id())
// obj::crea_track("gran_htb", "group_hoa1", fade_in = 0.001, amp = 0, [["AudioInput", "input", $htb], ["TRecBuffOnset", "rec_dur", 0.7, "buf", $buff_gran_t2]]) 

obj::crea_track_HOA("gran_buffer", "group_hoa1", amp = -70, encoder = false) // track without encoder 

$tracks("gran_buffer").mod_add(["Gran_3e_7", "soundBuf", $rec_buf1.id(), "posLo", 0.2, "posHi", 0.5, "posRateE", -1, "posRateM", 0.8, "overlap", 10, "trigRate", 45, "rate", 0.7, "bpRQ", 0.15, "bpLo", 900, "bpHi", 5000])
$tracks("gran_buffer").set("Gran_3e_7", ["x", [-0.099807, 0.274596, -0.666343, -0.317539, 0.931805, 0.969184, 0.130535, -0.155927, -0.91281, 0.369354]])
$tracks("gran_buffer").set("Gran_3e_7", ["y", [-0.876938, 0.41847, -0.180007, 0.900403, 0.395949, -0.081855, -0.400696, 0.62292, 0.932034, -0.597324]])
$tracks("gran_buffer").set("Gran_3e_7", ["z", [0.59037, -0.990099, 0.347693, -0.062238, 0.170005, 0.697988, 0.354898, -0.612149, 0.978246, -0.989027]])
$tracks("gran_buffer").rand_lfo("Gran_3e_7", "pos", 0.01, 0.99, 0.6, "linear", 200)
$tracks("gran_buffer").amp([-70, 1, "cubic_out", -3])
$tracks("gran_buffer").set("Gran_3e_7", [rate, 1, trigRate, 3, tratedev, 5, overlap, 10])
$tracks("gran_buffer").free()

NOTE 60 1 Warp1 // granular time stretch

$rec_buf1 := obj::rec_buf("server1", duree = 2)
$rec_buf1.rec($fl)

obj::crea_track_HOA("warp1_play", "group_hoa1", fade_in = 0.5, amp = 0, doppler = -6, [["Warp1Play", buf, $rec_buf1.id(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
$tracks("warp1_play").set("Warp1Play", ["pos", 0.6])
$tracks("warp1_play").set("Warp1Play", ["envbuf", -1])
$tracks("warp1_play").set("Warp1Play", ["envbuf", $envs("server1")("rond")])
$tracks("warp1_play").rand_lfo("Warp1Play", "pos", 0.01, 1, 0.6, "linear", 30)
$tracks("warp1_play").free()
$tracks("warp1_play").amp(-10)
$tracks("warp1_play").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 20, "linear")
$tracks("warp1_play").master_vst("FdnReverb")
$tracks("warp1_play").vst_gui("FdnReverb", 1) // open vst editor
$tracks("warp1_play").mod_remove("FdnReverb", 5) 
$tracks("warp1_play").mod_add(["TJPverb_mono"])
$tracks("warp1_play").set("TJPverb_mono", [t60, 2])
$tracks("warp1_play").set("TJPverb_mono", [modDepth, 0.1])
$tracks("warp1_play").set("TJPverb_mono", [modFreq, 5])


NOTE 60 1 hybrid_warp_pvoc

$rec_hybrid1 := obj::rec_buf_hybrid("server1", 2) //create objet/buffer with parameters
$rec_hybrid1.rec($fl)  
print toto
// $rec_hybrid1.free() 

print ($rec_hybrid1.b_getn(0, 1000))
print ($rec_hybrid1.b_getn_fft())
obj::crea_track_HOA("hybrid_play", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, in_channels = 1, [["PlayHybrid", buf, $rec_hybrid1.id(), fftRecordBuffer, $rec_hybrid1.id_fft(), envbuf, $envs("server1")("pointe")], ["TJPverb_mono", t60, 2]]) // track without encoder 
$tracks("hybrid_play").rand_lfo("PlayHybrid", "pos", 0.0, 1, 0.6, "linear", 60)
$tracks("hybrid_play").set("PlayHybrid", [warp_amp, 0])
$tracks("hybrid_play").set("PlayHybrid", [fftStretch_amp, -6])

$tracks("hybrid_play").free()

NOTE 60 1 pvco_play

$rec_buf_pvoc10 := obj::rec_buf_pvoc("server1", 1) // pvoc buffer "server", duration (absolute, can be relatif)
$rec_buf_pvoc10.rec($fl)

print (""+$rec_buf_pvoc10.id())
obj::crea_track_HOA("pvoc_play", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, [["TPlayPvocBuf", "buf", $rec_buf_pvoc10.id()]]) 
$tracks("pvoc_play").set("TPlayPvocBuf", ["rate", 15])
$tracks("pvoc_play").line_param("TPlayPvocBuf", "rate", 1, 10, 5)
$tracks("pvoc_play").rand_lfo("TPlayPvocBuf", "rate", -2, 2, 1, "linear", 200)
$tracks("pvoc_play").rand_lfo_track_pos_xyz(-1, 1, 0.5, -1, 1, -0.5, -0.5, 0.5, 0.1, 80, "linear")
$tracks("pvoc_play").lfo_abort("TPlayPvocBuf", "rate")

// $tracks("pvoc_play").free()
print toto

NOTE 60 1 pvco_play_env

$rec_buf_pvoc10 := obj::rec_buf_pvoc("server1", 1) // pvoc buffer "server", duration (absolute, can be relatif)
$rec_buf_pvoc10.rec($fl)

print (""+$rec_buf_pvoc10.id())
obj::crea_track_HOA("pvoc_play", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, in_channels = 1, [["TPlayPvocBufEnv", "buf", $rec_buf_pvoc10.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf_pvoc10.abs_dur()]]) 
$tracks("pvoc_play").set("TPlayPvocBufEnv", ["rate", 40])
$tracks("pvoc_play").set("TPlayPvocBufEnv", ["envbuf", $envs("server1")("perc")])
$tracks("pvoc_play").line_param("TPlayPvocBufEnv", "rate", 1, 20, 5)
$tracks("pvoc_play").rand_lfo("TPlayPvocBufEnv", "rate", -2, 2, 1, "linear", 200)
$tracks("pvoc_play").lfo_abort("TPlayPvocBufEnv", "rate")

// $tracks("pvoc_play").free()
print toto

NOTE 60 1 play_env

$rec_buf1 := obj::rec_buf("server1", duree = 1)
$rec_buf1.rec($fl)

print (""+$rec_buf1.id())
obj::crea_track_HOA("play_env", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnv", "buf", $rec_buf1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf1.abs_dur()]]) 
$tracks("play_env").set("TPlayBufEnv", ["rate", 1])
$tracks("play_env").set("TPlayBufEnv", ["envbuf", $envs("server1")("carre")])
$tracks("play_env").line_param("TPlayBufEnv", "rate", 1, 100, 15, "exp")
$tracks("play_env").rand_lfo("TPlayBufEnv", "rate", -2, 2, 1, "linear", 200)
$tracks("play_env").lfo_abort("TPlayBufEnv", "rate")

// $tracks("play_env").free()
print toto

NOTE 60 1 play_env_trig

$rec_buf1 := obj::rec_buf("server1", duree = 1)
$rec_buf1.rec($fl)

print (""+$rec_buf1.id())
print ($envs("server1")("rond"))
obj::crea_track_HOA("play_env_trig", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf1.abs_dur()], ["Norm", lev, 0.03]]) 
$tracks("play_env_trig").set("TPlayBufEnvTrigF", ["rate", 1])
$tracks("play_env_trig").set("TPlayBufEnvTrigF", ["impulse_rate", 1])
$tracks("play_env_trig").set("TPlayBufEnvTrigF", [envbuf, $envs("server1")("rond")])
$tracks("play_env_trig").line_param("TPlayBufEnvTrigF", "rate", 1, 100, 15, "exp")
$tracks("play_env_trig").line_param("TPlayBufEnvTrigF", "impulse_rate", 1, 70, 15, "exp")
$tracks("play_env_trig").rand_lfo("TPlayBufEnvTrigF", "rate", -2, 2, 1, "linear", 200)
$tracks("play_env_trig").lfo_abort("TPlayBufEnvTrigF", "rate")
$tracks("play_env_trig").amp(0)
// $tracks("play_env_trig").free()
print toto
$Servers("server1").g_dumpTree(0, 1)
$tracks("play_env_trig").set("Norm", ["lev", 0.02])
$tracks("play_env_trig").pause(1)
$tracks("play_env_trig").resume(1) 

obj::crea_track_HOA("play_env_trig2", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf1.abs_dur()]]) 
$tracks("play_env_trig2").free()


NOTE 60 1 play_env_trig_amplitude 

$rec_buf1 := obj::rec_buf("server1", duree = 1)
$Servers("server1").notify(1)
$rec_buf1.rec($fl)
0.1 $Servers("server1").g_dumpTree(0, 1)

print (""+$rec_buf1.id())
obj::crea_track_HOA("play_env_trig", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf1.abs_dur()], ["Amplitude_Replay"]]) 
$tracks("play_env_trig").set("TPlayBufEnvTrigF", ["rate", 1])
$tracks("play_env_trig").set("TPlayBufEnvTrigF", ["impulse_rate", 1])
$tracks("play_env_trig").set("TPlayBufEnvTrigF", ["envbuf", $envs("server1")("rond")])
$tracks("play_env_trig").line_param("TPlayBufEnvTrigF", "rate", 1, 100, 15, "exp")
$tracks("play_env_trig").line_param("TPlayBufEnvTrigF", "impulse_rate", 1, 400, 15, "exp")
$tracks("play_env_trig").rand_lfo("TPlayBufEnvTrigF", "rate", -2, 2, 1, "linear", 200)
$tracks("play_env_trig").lfo_abort("TPlayBufEnvTrigF", "rate")
$tracks("play_env_trig").amp(0)
// $tracks("play_env_trig").free()
$tracks("play_env_trig").mod_add([Norm, lev, 0.03])

print toto
$Servers("server1").g_dumpTree(0, 1)
$tracks("play_env_trig").set("Norm", ["lev", 0.03])
$tracks("play_env_trig").pause(1)
$tracks("play_env_trig").resume(1)

obj::crea_track_HOA("play_env_trig2", "group_hoa1", fade_in = 0.5, amp = 0, doppler = 0, in_channels = 1, [["TPlayBufEnvTrigF", "buf", $rec_buf1.id(), envbuf, $envs("server1")("carre"), env_dur, $rec_buf1.abs_dur()]]) 
$tracks("play_env_trig2").free()



NOTE 60 1 test_peaks_50_partials

// $rec_buf1 := obj::rec_buf("server1", duree = 1)
$Servers("server1").notify(1)
$peak_ana := obj::rt_analyse("server1", "TopNFreq_Replay") //create objet/buffer with parameters

$peak_ana.analyse($fl)
$peak_ana.trig_ana()
$peak_ana.stop_analyse()
      
	obj::crea_track_HOA("addsynth_m6", "group_hoa1", fade_in = 5, amp = -120, in_channels = 8, [["TAddic_50_8", "amp", 0, "d", 2]])
	$tracks("addsynth_m6").dae_rand_lfo([0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0, 0., 1.2, 1, 0, -90, -45, 0, 0, 0, 0., 1.2, 1, 0, 90, 45, 0, 0, 0], 10) // [min0,max0,init_val0, min1,max1,init_val1, min_n,max_n,init_val_n], tempo, type_interpol
	$tracks("addsynth_m6").rand_lfo("TAddic_50_8", "d", 0, 10, 1, "linear", 20)
	$tracks("addsynth_m6").amp(20)
	// $tracks("addsynth_m6").free()

whenever test ($rt_analyse == $rt_analyse)
{
	@local $t_freq_amps
	$t_freq_amps := @delace($rt_analyse[2]) // separe freqs/amps
	print rt_analyse2 (""+$t_freq_amps)
	$tracks("addsynth_m6").set("TAddic_50_8", ["freqs", $t_freq_amps[0], "amps", $t_freq_amps[1]])
}

// abort test
// bpm 52

$tab := [351.562, 0.00576281, 703.125, 0.00311201, 328.125, 0.00221227, 375.0, 0.00164332, 679.688, 0.00142945, 1054.69, 0.00118269, 1757.81, 0.000780798, 726.562, 0.00071746, 1031.25, 0.000632088, 1734.38, 0.000511653, 304.688, 0.000409064, 1406.25, 0.000392555, 398.438, 0.00036074, 1078.12, 0.000248147, 656.25, 0.000241194, 1382.81, 0.000238406, 281.25, 0.000173839, 750.0, 0.000170237, 421.875, 0.000163406, 632.812, 0.000105853, 445.312, 9.60574e-05, 257.812, 9.22245e-05, 1781.25, 8.94238e-05, 1007.81, 8.89579e-05, 773.438, 8.58891e-05, 1710.94, 6.50479e-05, 468.75, 6.46921e-05, 609.375, 6.26918e-05, 234.375, 6.20525e-05, 2812.5, 5.98902e-05, 2789.06, 5.78687e-05, 1101.56, 5.38854e-05, 1453.12, 5.02137e-05, 2109.38, 4.66088e-05, 492.188, 4.64178e-05, 796.875, 4.52454e-05, 585.938, 4.46421e-05, 515.625, 4.26657e-05, 210.938, 4.15771e-05, 5250.0, 3.97441e-05, 2437.5, 3.9646e-05, 562.5, 3.91288e-05, 3843.75, 3.84819e-05, 3492.19, 3.65248e-05, 539.062, 3.62597e-05, 820.312, 3.61781e-05, 1359.38, 3.52502e-05, 2460.94, 3.48151e-05, 984.375, 3.38531e-05, 3140.62, 3.33095e-05]
print (""+@delace($tab))

$t1 := [ $tab[$i] | $i in @size($tab) : 2] 
$t2 := [ $tab[$i+1] | $i in @size($tab) : 2] 

print (""+[$t1, $t2])

$m_coords := [ [[$i, $j] | $i in $tab ] | $j in $tab]

$m_coords := [ [[$j, $i] | $j in @size($tab), 1] | $i in @size($tab), 2]

print (""+$m_coords)


// NOTE 60 1 mes_2

// print mes_2

	// obj::crea_track_HOA("sine_test", "group_hoa1", fade_in = 1, amp = -8, doppler = 0, in_channels = 1, [["TSine", freq, 20]])  //, [Norm, lev, 0.03]
	
	// loop test 8
	// {
	// 	$tracks("sine_test").bpf_param("TSine", freq, [20, 4, 1000, 4, 100])
	// }
	

// // // $beat := 52.0

// // // $old := $NOW
// // // $delta := 0
 

// $beat := 60.0/52. //* 0.5

// $old := $NOW
// $delta := 0
// $tpm_inc := 0

// loop 1
// {
//     $delta := $NOW - $old
//     print tempo_inc $tpm_inc
//     print $RT_TEMPO $NOW  ($delta  - $beat)
//     $old := $NOW
//     $tracks("play_sample_8ch").play_sample8("Clave00.aif", 0)

// 	$tpm_inc += 1
// }



// $tpm_inc := 0
// loop temp 1 
// {
// 	$tracks("play_sample_8ch").play_sample8("Clave00.aif", 0)
//     $delta := $NOW - $old
//     print RT_tempo $RT_TEMPO
//     // print tempo_delta $RT_TEMPO $NOW  ($delta  - $beat)
//     // $old := $NOW
// 	print tempo_inc $tpm_inc
// 	$tpm_inc += 1
// }
// abort temp

